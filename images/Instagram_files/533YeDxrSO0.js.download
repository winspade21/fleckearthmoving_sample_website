;/*FB_PKG_DELIM*/

__d("AudioContextSingleton",["FBLogger"],(function(t,n,r,o,a,i,l){var e=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,s=new Map,u={get:function(n){var t=n==null?void 0:n.sampleRate,o=s.get(t);if(o==null){var a=new e({sampleRate:t});return s.set(t,a),a}if(o.state==="closed"){r("FBLogger")("project").warn("AudioContext Singleton has been closed");var i=new e({sampleRate:t});return s.set(t,i),i}return o}},c=u;l.default=c}),98);
__d("CometContextualLayer.react",["BaseContextualLayer.react","react","useCometVisualChangeTracker","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=r("useCometVisualChangeTracker")(),i=r("useMergeRefs")(n,a);return u.jsx(r("BaseContextualLayer.react"),babelHelpers.extends({},o,{ref:i}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometInternalTypeaheadFetchContext",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({fetch:r("emptyFunction"),isLoading:!1,refetch:r("emptyFunction"),source:"all"});l.default=u}),98);
__d("CometInternalTypeaheadStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({activeEntries:[],highlightedEntry:null,highlightedEntrySource:null,secondaryActionHighlighted:null});l.default=u}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=o("Lexical").createCommand();l.COMET_LEXICAL_ARIA_COMMAND=e}),98);
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(){return s._(/*BTDS*/"No people found")}l.default=e}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){return s.jsx("div",{className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k",children:s.jsx(r("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:r("getPeopleTypeaheadNullStateText")()})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("cometTypeaheadKeyboardNavigationUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){var o,a;if(e.length===0){n(null,null);return}var i=t!=null?e.findIndex(function(e){return e.key===t})+1:0;i===e.length&&(i=0);var l=(o=(a=e[i])==null?void 0:a.hasSecondaryAction)!=null?o:!1;n(e[i],l?r:null)}function l(e,t,n,r){var o,a;if(e.length===0){n(null,null);return}var i=t!=null?e.findIndex(function(e){return e.key===t})-1:e.length-1;i===-1&&(i=e.length-1);var l=(o=(a=e[i])==null?void 0:a.hasSecondaryAction)!=null?o:!1;n(e[i],l?r:null)}function s(e,t,n,r){if(e.length===0){n(null,!1);return}if(r===!0){var o=e.findIndex(function(e){return e.key===t});n(e[o],!1)}else l(e,t,n,!0)}function u(t,n,r,o){if(t.length===0){r(null,!1);return}if(o===!0)e(t,n,r,!1);else{var a=t.findIndex(function(e){return e.key===n});r(t[a],!0)}}i.moveDown=e,i.moveUp=l,i.moveLeft=s,i.moveRight=u}),66);
__d("cometTypeaheadODSLogFetchCacheEvent",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchCacheEvent");function s(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=1),n&&e.onReady(function(e){e.bumpEntityKey(354,t,"fetched-cache",r)})}l.default=s}),98);
__d("cometTypeaheadODSLogFetchNetworkEvent",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("ODS").__setRef("cometTypeaheadODSLogFetchNetworkEvent");function s(t,n,r){n===void 0&&(n=!0),r===void 0&&(r=1),n&&e.onReady(function(e){e.bumpEntityKey(354,t,"fetched-network",r)})}l.default=s}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useImperativeHandle,_=c.useRef,f=c.useState;function g(t){var n=t.ref,a=t.context,i=t.dataSource,l=t.inputElement,s=t.layoutStrategyRenderer,c=t.loggingProvider,g=t.onAriaChange,y=t.onEntriesUpdated,C=t.onHighlightEntry,b=t.onSelectedEntry,v=t.onVisibilityChange,S=t.position,R=S===void 0?"above":S,L=t.queryString,E=t.viewStrategyRenderer,k=babelHelpers.objectWithoutPropertiesLoose(t,e),I=_(null),T=f(null),D=T[0],x=T[1],$=_([]),P=f($.current),N=P[0],M=P[1],w=f(!0),A=w[0],F=w[1],O=_(null),B=_(L);m(function(){B.current=L},[L]);var W=d(function(e){C&&C(e),x(e),I.current=e},[C]),q=r("useBaseTypeaheadDataSourceFetch")({dataSource:i,onResolvePayload:d(function(e){var t,n=e.entries;$.current=n,M(n);var o=r("baseTypeaheadFlattenEntries")(n),a=o[0],i=I==null||(t=I.current)==null?void 0:t.key;a!=null&&!o.map(function(e){return e.key}).includes(i)&&W(a),y&&y(n.length>0)},[W,y])}),U=q[0].isLoading,V=q[1],H=A&&(N.length>0||U);m(function(){return H?c.startSession(B.current):c.isSessionActive()&&c.maybeEndSession(B.current,r("baseTypeaheadFlattenEntries")($.current)),v(H),function(){c.isSessionActive()&&c.maybeEndSession(B.current,r("baseTypeaheadFlattenEntries")($.current))}},[v,c,H]),m(function(){F(!0),V({query:L})},[V,L,i]),p(n,function(){return{getViewRef:function(){return O},hasSelection:function(){return h(r("baseTypeaheadFlattenEntries")($.current),D)},moveDown:function(){o("cometTypeaheadKeyboardNavigationUtils").moveDown(r("baseTypeaheadFlattenEntries")($.current),D!=null?D.key:null,W,!1)},moveUp:function(){o("cometTypeaheadKeyboardNavigationUtils").moveUp(r("baseTypeaheadFlattenEntries")($.current),D!=null?D.key:null,W,!1)},select:function(){var e=r("baseTypeaheadFlattenEntries")($.current);b&&D!=null&&h(e,D)&&(c.isSessionActive()&&c.maybeEndSession(L,e,D),b(D))}}},[D,W,b,c,L]);var G=d(function(e){var t=r("baseTypeaheadFlattenEntries")($.current);b&&h(t,e)&&(c.isSessionActive()&&c.maybeEndSession(L,t,e),b(e))},[b,c,L]);return m(function(){if(H===!1)return;function e(e,t){for(var n=e.parentElement;n!=null&&n!==t;)n=n.parentElement;return n===t}var t=function(n){var t=n.target;if(t instanceof HTMLElement){var r=O.current,o=r!==null&&(t===r||e(t,r)),a=l!==null&&(t===l||e(t,l));F(o||a)}};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}},[l,H]),H?u.jsx(s,{ariaProps:{role:"listbox"},context:a,entries:N,highlightedEntry:D,isLoading:U,onAriaChange:g,onBlur:k.onBlur,onHighlightEntry:W,onPressEntry:G,onPressEntryIn:G,position:R,queryString:L,viewRef:O,viewStrategyRenderer:E}):null}g.displayName=g.name+" [from "+i.id+"]";function h(e,t){if(t==null)return!1;var n=t.key;return e.find(function(e){return e.key===n})!=null}l.default=g}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.anchor;if(n.type!=="text")return null;var r=n.getNode();if(t!=null&&!t()||t==null&&!r.isSimpleText())return null;var o=n.offset;return r.getTextContent().slice(0,o)}function s(t,n){return t.getEditorState().read(function(){var t=o("Lexical").$getSelection();return o("Lexical").$isRangeSelection(t)?e(t,n):null})}l.default=s}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e,t){var n=c(!1);u(function(){if(!n.current){var r=e.getRootElement()===document.activeElement;if(r){t(),n.current=!0;return}var a=e.registerCommand(o("Lexical").FOCUS_COMMAND,function(){return t(),n.current=!0,a(),!1},o("Lexical").COMMAND_PRIORITY_LOW);return a}},[t,e,n])}l.default=d}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("445"),s=o("FalcoLoggerInternal").create("mentions_session_end_without_click",e),u=s;l.default=u}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("446"),s=o("FalcoLoggerInternal").create("mentions_session_start",e),u=s;l.default=u}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("447"),s=o("FalcoLoggerInternal").create("mentions_suggestion_clicked",e),u=s;l.default=u}),98);
__d("WithTagSuggestionContinueClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3701"),s=o("FalcoLoggerInternal").create("with_tag_suggestion_continue_clicked",e),u=s;l.default=u}),98);
__d("CometMentionsLoggingProvider",["FBLogger","MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","WithTagSuggestionContinueClickedFalcoEvent","guid"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$2=!1,this.$3=null,this.$1=e}var t=e.prototype;return t.getSessionID=function(){return this.$3==null&&r("FBLogger")("search").mustfix("Mentions logging sessionID does not exist."),this.$3},t.isSessionActive=function(){return this.$2},t.startSession=function(t){var e=this;if(t!=null){var n=r("guid")();this.$3=n,this.$2=!0,r("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers.extends({},e.$1,{session_id:n,typed_query:t})})}},t.maybeEndSession=function(t,n,o,a){if(t!=null){var e=n!=null?JSON.stringify(n.map(function(e){return{id:e.key}})):null,i=babelHelpers.extends({},this.$1,{serialized_candidate_suggestions:e,session_id:this.getSessionID(),typed_query:t});if(o!=null){var l,s=o.key,u=(l=n==null?void 0:n.findIndex(function(e){return e.key===s}))!=null?l:null,c=isNaN(parseInt(o.key,10))?"0":o.key;if(a===!0){r("WithTagSuggestionContinueClickedFalcoEvent").log(function(){return babelHelpers.extends({},i,{selected_position:String(u),selected_result_display_text:o.label,selected_result_id:c,selected_result_id_string:o.key})});return}else r("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers.extends({},i,{selected_position:String(u),selected_result_display_text:o.label,selected_result_id:c,selected_result_id_string:o.key})})}else r("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return i});this.$3=null,this.$2=!1}},e})();l.default=e}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function c(e){return e===void 0&&(e=u),s(function(){return new(r("CometMentionsLoggingProvider"))(e)},[e])}l.default=c}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.startTransition,c=s.useEffect,d=s.useState;function m(e,t){var n=window.getSelection();if(n===null||!n.isCollapsed||e===null)return!1;var r=n.anchorNode,o=e.leadOffset,a=n.anchorOffset;try{t.setStart(r,o),t.setEnd(r,a)}catch(e){return!1}return!0}function p(e,t,n){var o=d(null),a=o[0],i=o[1];return c(function(){var o=document.createRange(),a=null,l=null,s=null,c=function(){var c=o,d=r("getCometComposerMentionsSearchForLexical")(e,n);if(!(d===a||c===null)){a=d;var p=t(d),_=p.dataSource,f=p.searchResult;if(!(_===l&&f===s)){var g=m(f,c);l=_,s=f,u(!g||_===null||f===null?function(){return i(null)}:function(){i({dataSource:_,range:c,searchResult:f})})}}},d=e.registerUpdateListener(c);return c(),function(){o=null,d()}},[n,t,e]),a}l.default=p}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useMemo,p=u.useRef,_=u.useState;function f(e){var t=e.$isValidSelection,n=e.createNodeStrategy,a=e.dataSourceResolverConfig,i=a.bootstrap,l=a.resolver,u=e.editor,m=e.layoutStrategyRenderer,_=e.mentionsHandlerForSelectedEntry,f=e.mentionsLoggerContext,h=e.onMentionsEntrySelected,b=e.position,v=b===void 0?"below":b,S=e.viewStrategyRenderer,R=r("useCometMentionsResolutionForLexical")(u,l,t),L=p(!1),E=g(u),k=E[0],I=E[1],T=p(null),D=C(u);r("useCometMentionsBootstrapForLexical")(u,i),d(function(){return u.registerCommand(o("Lexical").BLUR_COMMAND,function(){return D(),!1},o("Lexical").COMMAND_PRIORITY_LOW)},[u,D]);var x=c(function(){D()},[D]);d(function(){var e,t=[{handler:function(t){return t.hasSelection()?(t.select(),!0):!1},type:(e=o("Lexical")).KEY_ENTER_COMMAND},{handler:function(t){return t.hasSelection()?(t.select(),!0):!1},type:e.KEY_TAB_COMMAND},{handler:function(t){return t.moveUp(),!0},type:e.KEY_ARROW_UP_COMMAND},{handler:function(t){return t.moveDown(),!0},type:e.KEY_ARROW_DOWN_COMMAND},{handler:function(){return D(),I(),!0},type:e.KEY_ESCAPE_COMMAND}];return o("LexicalUtils").mergeRegister.apply(void 0,t.map(function(e){var t=e.handler,n=e.type;return u.registerCommand(n,function(e){var n=T.current,r=L.current;if(n===null||!r||k)return!1;if(t(n)){var o=e;return o.preventDefault(),o.stopPropagation(),!0}return!1},o("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[I,u,D,k]);var $=c(function(e){L.current=e},[]),P=c(function(e){e||D()},[D]),N=c(function(e){var o=r("getCometComposerMentionsSearchForLexical")(u,t);if(o==null){r("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var a=l(o),i=a.searchResult;if(i==null){r("FBLogger")("CometComposer").mustfix("onPressEntry was called and no search result was found for the query %s",o);return}D();var s=_==null?void 0:_(e);s!=null&&!s.shouldMentionSelectedEntry||(y(u,n,e,i,t),h==null||h(e),I())},[u,t,l,D,_,n,h,I]),M=r("useCometMentionsLoggingProvider")(f);return R===null||k?(D(),L.current=!1,null):s.jsx(r("CometMentions.react"),{context:R.range,dataSource:R.dataSource,inputElement:u.getRootElement(),layoutStrategyRenderer:m,loggingProvider:M,onAriaChange:D,onBlur:x,onEntriesUpdated:P,onFocus:r("emptyFunction"),onSelectedEntry:N,onVisibilityChange:$,position:v,queryString:R.searchResult.matchingString,ref:T,viewStrategyRenderer:S})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=_(!1),n=t[0],r=t[1];return d(function(){if(n){var t=e.getEditorState().read(o("LexicalText").$rootTextContent);return e.registerTextContentListener(function(e){t!==null&&e!==t&&r(!1),t=e})}},[e,n]),m(function(){return[n,function(){return r(!0)}]},[n])}function h(e,t,n){for(var r=n,o=r;o<=t.length;o++)e.substr(-o)===t.substr(0,o)&&(r=o);return r}function y(e,t,n,r,a){e.update(function(){var e=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(e)||!e.isCollapsed())){var i=e.anchor;if(i.type==="text"){var l=i.getNode();if(!(a!=null&&!a()||a==null&&!l.isSimpleText())){var s=i.offset,u=l.getTextContent().slice(0,s),c=n.label,d=r.replaceableString.length,m=h(u,c,d),p=s-m;p<0||t({anchorNode:l,endOffset:s,selectedEntry:n,startOffset:p})}}}})}function C(e){var t=p(void 0),n=p(void 0);return c(function(r,a){var i=t.current,l=n.current;(i!==r||l!==a)&&(t.current=r,n.current=a,e.dispatchCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:r,controlsID:a}))},[e])}l.default=f}),98);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","FDSText.react","getItemRoleFromCompositeRole","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var n=t.ariaProps,o=t.entries,a=t.extraViewProps,i=t.highlightedEntry,l=t.isLoading,s=t.onAbandonTypeahead_DO_NOT_USE,d=t.viewItemStrategyRenderer,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p=n.role,_=c(function(){return p!=null?{role:p}:{}},[p]),f=r("getItemRoleFromCompositeRole")(p);return u.jsx("ul",babelHelpers.extends({},n,{className:"x78zum5 xdt5ytf x1iyjqo2","data-testid":void 0,children:u.jsx(r("CometCompositeStructureContext").Provider,{value:_,children:o.map(function(e,t){if(e.type==="section"){var n=e.entries,a=e.key,l=e.label;return n.length===0?null:u.jsxs("li",{"aria-selected":"false",role:"option",children:[u.jsx("div",{className:"x889kno x2vl965 x1a8lsjc xe2zdcy",children:u.jsx("label",{htmlFor:a,children:u.jsx(r("FDSText.react"),{color:"primary",type:"entityHeaderMeta2",children:l})})}),u.jsx("ul",{id:a,role:"listbox",children:n.map(function(e){return u.createElement(d,babelHelpers.extends({},m,{entry:e,isActive:e.key===(i==null?void 0:i.key),key:e.key,role:f}))})})]},"section-"+a)}else return u.createElement(d,babelHelpers.extends({},m,{entry:e,isActive:e.key===(i==null?void 0:i.key),isFirstItem:t===0,isLastItem:t===o.length-1,key:e.key,role:f}))})})}))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("cometMessengerFileUploadComposerPluginSupportedTypes",[],(function(t,n,r,o,a,i){"use strict";var e=["photo","video","file"],l=e;i.default=l}),66);
__d("useCometLexicalDragAndDrop",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=t.onDragEnter,r=t.onDragLeave,o=t.onDragOver,a=t.onDrop,i=t.onPaste;s(function(){if(e!=null)return e.registerRootListener(function(e,t){t!=null&&(n&&t.removeEventListener("dragenter",n),r&&t.removeEventListener("dragleave",r),o&&t.removeEventListener("dragover",o),a&&t.removeEventListener("drop",a,!0),i&&t.removeEventListener("paste",i,!0)),e!==null&&(n&&e.addEventListener("dragenter",n),r&&e.addEventListener("dragleave",r),o&&e.addEventListener("dragover",o),a&&e.addEventListener("drop",a,!0),i&&e.addEventListener("paste",i,!0))})},[e,n,r,o,a,i])}l.default=u}),98);
__d("useCometLexicalFileDragAndDrop",["react","useCometLexicalDragAndDrop"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e){var t=e.editor,n=e.isMimeTypeAcceptable,o=e.onHover,a=o===void 0?function(){}:o,i=e.onSubmit,l=i===void 0?function(){}:i,s=c(0),d=u(function(e){return Array.from(e).filter(n)},[n]),m=u(function(e){s.current++;var t=e.dataTransfer;if(t==null)return a([],!0);var n=d(t.items);return n.length>0&&e.preventDefault(),a(n,!0)},[d,a]),p=u(function(e){if(s.current--,s.current===0)return a([],!1)},[a]),_=u(function(e){var t=e.dataTransfer;if(t==null)return a([],!0);var n=d(t.items);return n.length>0&&e.preventDefault(),a(n,!0)},[d,a]),f=u(function(e,t){var n=d(t.items),r=n.map(function(e){return e.getAsFile()}).filter(Boolean);return r.length>0?(e.stopPropagation(),e.preventDefault(),l(r)):l([])},[d,l]),g=u(function(e){var t=e.dataTransfer;return s.current=0,a([],!1),t!=null?f(e,t):l([])},[f,a,l]),h=u(function(e){var t=e.clipboardData;if(t==null)return l([]);var n=t.types,r=n.includes("text/plain")&&n.includes("text/html")||n.includes("text/rtf");return r?l([]):f(e,t)},[f,l]);r("useCometLexicalDragAndDrop")(t,{onDragEnter:m,onDragLeave:p,onDragOver:_,onDrop:g,onPaste:h})}l.default=d}),98);
__d("useCometMessengerFileUploadPaste",["react","useCometLexicalFileDragAndDrop"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=e.editor,n=e.handlePastedFiles,o=e.isMimeTypeAcceptable,a=s(function(e){e.length>0&&n(e)},[n]);r("useCometLexicalFileDragAndDrop")({editor:t,isMimeTypeAcceptable:o,onSubmit:a})}l.default=u}),98);
__d("CometMessengerHandlePastedFileComposerPlugin",["cometIsMimeTypeForMedia","cometMessengerFileUploadComposerPluginSupportedTypes","useCometMessengerFileUploadPaste"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e.kind!=="file")return!1;for(var t of r("cometMessengerFileUploadComposerPluginSupportedTypes"))switch(t){case"photo":if(o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(e.type))return!0;break;case"video":if(o("cometIsMimeTypeForMedia").isMimeTypeForVideo(e.type))return!0;break;case"file":if(o("cometIsMimeTypeForMedia").isMimeTypeForFile(e.type))return!0;break;default:}return!1}function s(t){var n=t.editor,o=t.handlePastedFiles;return r("useCometMessengerFileUploadPaste")({editor:n,handlePastedFiles:o,isMimeTypeAcceptable:e}),null}l.default=s}),98);
__d("CometPressableChildrenWithOverlay_DEPRECATED.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.overlay;return s.jsxs("div",{className:"x4k7w5x x1h91t0o x1fmog5m xu25z0z x140muxe xo1y3bh x1jfb8zj x1beo9mf x3igimt xarpa2k x1n2onr6 x1qrby5j",children:[t,n]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react",["CometPlaceholder.react","CometSSRSuspendOnServer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.useSuspenseDirectlyForSVG,o=n===!0?s.Suspense:r("CometPlaceholder.react");return s.jsx(o,{fallback:t,children:s.jsx(r("CometSSRSuspendOnServer.react"),{children:t})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("useCometInternalTypeaheadState",["CometInternalTypeaheadStateContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadStateContext"))}l.default=u}),98);
__d("CometTypeaheadViewItem.react",["CometPressable.react","CometRow.react","CometRowItem.react","emptyFunction","react","react-strict-dom","useCometInternalTypeaheadState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={root:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",marginBottom:"xat24cr",marginTop:"xdj266r",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},d={contentRoot:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},contentRootDisabled:{bottom:"x1ey2m1c",cursor:"x1h6gzvc",left:"xu96u03",position:"x10l6tqk",right:"x3m8u43",insetInlineStart:null,insetInlineEnd:null,top:"x13vifvy",$$css:!0},contentRootEmphasized:{backgroundColor:"xlhe6ec",$$css:!0},contentRootFocused:{boxShadow:"xpud6h4",outline:"x1a2a7pz xvetz19",$$css:!0},contentRootHighlighted:{backgroundColor:"x1wpzbip xugaqoy",$$css:!0},itemIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",$$css:!0},pressable:{flexDirection:"x1q0g3np",width:"xh8yej3",$$css:!0},pressableWithAdditionalEndContent:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},root:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(e){var t=e.additionalEndContentOutsideOfPressable,n=e.children,a=e.cursorDisabled_SEARCH_ONLY,i=a===void 0?!1:a,l=e.entry,m=e.isActive,p=e.isEmphasized,_=p===void 0?!1:p,f=e.isDisabled,g=f===void 0?!1:f,h=e.itemEndContent,y=e.itemStartContent,C=e.linkProps,b=e.onHighlightEntry,v=e.onPressEntry,S=e.onPressEntryIn,R=e.overlayDisabled_SEARCH_ONLY,L=R===void 0?!1:R,E=e.role,k=e.testid,I=e.xstyle,T=I===void 0?c.root:I,D=e.debugElement,x=e.focusable,$=x===void 0?!1:x,P=e.itemEndContentKeyboardFocusable,N=P===void 0?!1:P,M=r("useCometInternalTypeaheadState")(),w=M.secondaryActionHighlighted,A=u(function(e){v&&v(l,e)},[l,v]),F=u(function(e){S&&S(l,e)},[l,S]),O=E==="row"?"gridcell":"none";return s.jsxs(o("react-strict-dom").html.li,{"aria-selected":m,"data-testid":void 0,id:N===!0&&O==="gridcell"?void 0:l.key,role:E,style:d.root,children:[D,s.jsxs(r("CometPressable.react"),{"aria-describedby":l.key,cursorDisabled:i,disabled:g,display:"block",expanding:!0,focusable:$,label:l.label,linkProps:C,onPress:g?r("emptyFunction"):A,onPressIn:g?r("emptyFunction"):F,overlayDisabled:L,overlayFocusRingPosition:"inset",role:N!==!0?O:"none",xstyle:[d.contentRoot,m&&d.contentRootHighlighted,m&&w!==!0&&d.contentRootFocused,_&&d.contentRootEmphasized,T,t==null?d.pressable:d.pressableWithAdditionalEndContent],children:[s.jsxs(r("CometRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[y!=null?s.jsx(r("CometRowItem.react"),{children:s.jsx(o("react-strict-dom").html.div,{style:d.itemIcon,children:y})}):null,s.jsx(r("CometRowItem.react"),{expanding:!0,children:N===!0&&O==="gridcell"?s.jsx(o("react-strict-dom").html.div,{id:l.key,role:O,children:n}):n}),h!=null?s.jsx(r("CometRowItem.react"),{children:N===!0&&O==="gridcell"?s.jsx(o("react-strict-dom").html.div,{id:l.key+"-secondary-action",role:O,children:h}):h}):null]}),t,s.jsx(o("react-strict-dom").html.div,{style:g&&d.contentRootDisabled})]})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["onPressEntryIn","queryString"],s,u=s||(s=o("react"));function c(t){var n=t.onPressEntryIn,o=t.queryString,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=function(t,r){r.preventDefault(),n&&n(t,r)};return u.jsx(r("CometTypeaheadViewItem.react"),babelHelpers.extends({},a,{onPressEntryIn:i}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("useCometInternalTypeaheadFetch",["CometInternalTypeaheadFetchContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometInternalTypeaheadFetchContext"))}l.default=u}),98);
__d("useCometTypeaheadViewLabel",["fbt","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useMemo;function c(e){var t=e.activeEntries;return u(function(){var e=t.length;return e===0?s._(/*BTDS*/"No suggested searches."):s._(/*BTDS*/"_j{\"*\":\"{number} suggested searches\",\"_1\":\"1 suggested search\"}",[s._plural(e,"number")])},[t])}l.default=c}),226);
__d("useCometTypeaheadLayoutContextualStrategyARIAProps",["react","useCometInternalTypeaheadFetch","useCometTypeaheadViewLabel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useId,c=s.useMemo;function d(e){var t=e.activeEntries,n=e.helperText,o=e.highlightedEntry,a=e.inputLabel,i=a===void 0?"":a,l=e.isOpened,s=e.secondaryActionHighlighted,d=e.viewRole,m=u(),p=r("useCometInternalTypeaheadFetch")(),_=p.isLoading,f=u(),g=r("useCometTypeaheadViewLabel")({activeEntries:t});return c(function(){var e=o!=null?{"aria-activedescendant":s===!0?o.key+"-secondary-action":o.key}:{},r=l&&t.length>0?{"aria-controls":m}:null,a=n!=null&&String(n).length>0?{"aria-describedby":f}:null,u={"aria-busy":_,"aria-label":g,id:m,role:d};return{ariaDescribedByProps:{id:f},ariaInputProps:babelHelpers.extends({},e,r,a,{"aria-autocomplete":"list","aria-expanded":t.length>0&&l,"aria-label":i,role:"combobox"}),ariaViewProps:u}},[t.length,f,n,o,i,_,l,m,s,g,d])}l.default=d}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=e.entries,n=e.highlightedEntry,o=e.onAriaChange,a=r("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:r("baseTypeaheadFlattenEntries")(t),helperText:"",highlightedEntry:n,inputLabel:"",isOpened:!0,viewRole:"listbox"}),i=a.ariaInputProps,l=a.ariaViewProps;return s(function(){return o(i["aria-activedescendant"],i["aria-controls"])},[i,o]),l}l.default=u}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","useBaseMentionsLayoutStrategyARIAProps.react"],(function(t,n,r,o,a,i,l){"use strict";var e=["isLoading","isLoadingIndicatorEnabled","onAriaChange","viewStrategyRenderer"],s,u=s||(s=o("react"));function c(t){var n=t.isLoading,o=t.isLoadingIndicatorEnabled,a=o===void 0?!1:o,i=t.onAriaChange,l=t.viewStrategyRenderer,s=babelHelpers.objectWithoutPropertiesLoose(t,e),c=r("useBaseMentionsLayoutStrategyARIAProps.react")({entries:s.entries,highlightedEntry:s.highlightedEntry,onAriaChange:i});return u.jsxs("div",{children:[u.jsx(l,babelHelpers.extends({},s,{ariaProps:c,isLoading:a?n:!1})),!n&&s.entries.length===0?u.jsx(r("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometTypeaheadProgressGlimmer.react",["FDSProgressRingIndeterminate.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",height:"xdd8jsf",justifyContent:"xl56j7k",$$css:!0}};function c(){return s.jsx(o("react-strict-dom").html.div,{style:u.root,children:s.jsx(r("FDSProgressRingIndeterminate.react"),{color:"dark",size:24})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("DocumentMentionsRegex",[],(function(t,n,r,o,a,i){"use strict";var e="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",l="\\b[A-Z][^\\s"+e+"]",s={PUNCTUATION:e,NAME:l},u=s;i.default=u}),66);
__d("FDSProfilePhotoActivityBadge.react",["CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.backgroundColor,n=t===void 0?"white":t,o=e.icon,a=e.isDecorative,i=a===void 0?!0:a,l=e.overflow,u=e.pressed,c=e.size;return s.jsx(r("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:s.jsx(r("CometPressableOverlay.react"),{offset:0,pressed:u,radius:"50%"}),children:s.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x18d9i69 xyri2b x1c1uobl xexx8yu x1n2onr6 x1ja2u2z"},4:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x18d9i69 xyri2b x1c1uobl xexx8yu x1n2onr6 x1ja2u2z x1v9usgg x6jxa94"},2:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z x17rw0jw x123j3cw x1gabggj xs9asl8 xaso8d8 x17z2i9w"},6:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z x17rw0jw x123j3cw x1gabggj xs9asl8 xaso8d8 x17z2i9w"},1:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},5:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},3:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"},7:{className:"x6s0dn4 x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xl56j7k xat24cr x14z9mp x1lziwak xdj266r x2lwn1j xeuugli x6ikm8r x10wlt62 x1n2onr6 x1ja2u2z xd7y6wv x123j3cw x1gabggj xs9asl8 xaso8d8 x23j0i4"}}[(c===8)<<2|(c===10)<<1|(c===16)<<0],{"aria-hidden":i?"true":void 0,style:{backgroundColor:n,overflow:l},children:o}))})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("FDSProfilePhotoAvailabilityBadge.react",["fbt","BaseView.react","CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","CometScreenReaderText.react","FDSBadge.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={availabilityBadge:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},d=s._(/*BTDS*/"Active");function m(e){var t=e.isDecorative,n=t===void 0?!1:t,o=e.pressed,a=e.size;return u.jsxs(r("BaseView.react"),{"aria-hidden":n,xstyle:c.availabilityBadge,children:[u.jsx(r("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:u.jsx(r("CometPressableOverlay.react"),{pressed:o,radius:"50%"}),children:u.jsx(r("FDSBadge.react"),{accessibilityText:s._(/*BTDS*/"Online status indicator"),color:"green",isProfileBadge:!0,size:a})}),u.jsx(r("CometScreenReaderText.react"),{text:d})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("FDSProfilePhotoActivePill.react",["CometPressableChildrenWithOverlay_DEPRECATED.react","CometPressableOverlay.react","gkx","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={badge:{borderStartStartRadius:"x12l2aii",borderStartEndRadius:"x1mbk4o",borderEndEndRadius:"x14vvt0a",borderEndStartRadius:"x1w3ol1v",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",boxSizing:"x9f619",display:"x78zum5",fontWeight:"x117nqv4",justifyContent:"xl56j7k",marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",$$css:!0},badgeBackground:{backgroundColor:"x4cor85",$$css:!0},badgeBackground_DEPRECATED:{backgroundColor:"xbb192p",$$css:!0}},d={"card-background":{borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",$$css:!0},"secondary-button-background-floating":{borderTopColor:"x1bmsi4x",borderInlineEndColor:"x146t3o",borderBottomColor:"x17j0sh5",borderInlineStartColor:"x18r8ynu",$$css:!0},"web-wash":{borderTopColor:"x1516sgx",borderInlineEndColor:"x1xachar",borderBottomColor:"x1khxuxv",borderInlineStartColor:"x1lkg39s",$$css:!0}};function m(t){var n=t["aria-label"],o=t.border,a=o===void 0?"card-background":o,i=t.children,l=t.pressed;return u.jsx("div",{className:"x78zum5 xl56j7k x193iq5w","aria-label":n,children:u.jsx(r("CometPressableChildrenWithOverlay_DEPRECATED.react"),{overlay:u.jsx(r("CometPressableOverlay.react"),{pressed:l,radius:7}),children:u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.badge,d[a],r("gkx")("6275")||r("gkx")("23219")?c.badgeBackground:c.badgeBackground_DEPRECATED),{children:u.jsx("span",babelHelpers.extends({},{0:{className:"x190qgfh x132q4wb xuxw1ft x6u5lvz"},1:{className:"x190qgfh x132q4wb xuxw1ft x31nisg"}}[!!(r("gkx")("6275")||r("gkx")("23219"))<<0],{children:i}))}))})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("FDSProfilePhotoLastActiveTimeBadge.react",["fbt","FDSProfilePhotoActivePill.react","FDSRelativeTimestamp.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.border,n=t===void 0?"card-background":t,o=e.pressed,a=e.time,i=s._(/*BTDS*/"Last active time:");return u.jsx(r("FDSProfilePhotoActivePill.react"),{"aria-label":i,border:n,pressed:o,children:u.jsx(r("FDSRelativeTimestamp.react"),{date:new Date(a*1e3),format:"minimized"})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("profilePhotoUtils",["MetaConfig","memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoizeWithArgs")(function(e,t){if(t==="none")return 0;var n=t==="seen"&&r("MetaConfig")._("73");switch(e){case 24:case 32:case 36:case 40:return n?1:2;case 48:case 56:case 60:return n?1.5:3;case 132:default:return n?2:4}},function(e,t){return""+(t!=null?t:"")+String(e)}),s=r("memoizeWithArgs")(function(e,t){if(t==="availabilityBadge")switch(e){case 10:case 16:case 20:case 24:return[6,1.5];case 28:return[7,2];case 32:case 36:return[8,2];case 40:case 44:case 48:return[9,2];case 52:case 56:case 60:return[10,2];case 72:return[12,2];case 80:case 88:return[14,2];case 96:case 100:case 112:return[15,2];case 120:case 132:case 168:return[20,4];default:return[8,2]}switch(e){case 10:case 16:case 20:case 24:return[6,1.5];case 28:return[7,1.5];case 32:return[8,2];case 36:return[9,2];case 40:return[10,2];case 44:case 48:return[12,2];case 52:case 56:return[14,2];case 60:return[15,2];case 72:return[18,2];case 80:return[20,4];case 88:return[22,4];case 96:case 100:case 112:return[24,4];case 120:case 132:return[32,4];case 168:return[41,4];default:return[8,2]}},function(e,t){return String(e)+t});l.getStoryRingSize=e,l.getBadgeSizeAndStrokeWidth=s}),98);
__d("FDSProfilePhotoAddOn.react",["FDSProfilePhotoActivityBadge.react","FDSProfilePhotoAvailabilityBadge.react","FDSProfilePhotoLastActiveTimeBadge.react","profilePhotoUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.addOn,n=e.pressed,a=e.size;switch(t.type){case"availabilityBadge":{var i=o("profilePhotoUtils").getBadgeSizeAndStrokeWidth(a,t==null?void 0:t.type),l=i[0];return s.jsx(r("FDSProfilePhotoAvailabilityBadge.react"),{isDecorative:t.isDecorative,pressed:n,size:l})}case"lastActiveTimeBadge":return s.jsx(r("FDSProfilePhotoLastActiveTimeBadge.react"),{border:t.border,pressed:n,time:t.time});case"activityBadge":return s.jsx(r("FDSProfilePhotoActivityBadge.react"),{backgroundColor:t.backgroundColor,icon:t.icon,isDecorative:t.isDecorative,overflow:t.overflow,pressed:n,size:t.size});case"trigger":return t.icon;case"multipleVoicesForAction":return t.badge;default:return null}}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("FDSProfilePhotoNotificationBadge.react",["fbt","FDSBadge.react","FDSText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.number,n=t>9?"9+":t;return u.jsx(r("FDSBadge.react"),{accessibilityText:s._(/*BTDS*/"_j{\"*\":\"{number} notifications\",\"_1\":\"{number} notification\"}",[s._plural(t),s._param("number",n)]),color:"red",isProfileBadge:!0,size:18,wide:t>9?"wide":"normal",children:u.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xl56j7k xuxw1ft xh8yej3",children:u.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:t>9?"9+":t})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("getBadgePosition",["Locale","memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoizeWithArgs")(function(e,t){t===void 0&&(t=!1);var n=Math.sqrt(2*e*e)-e,r=Math.round(Math.sqrt(n*n/2));return t?o("Locale").isRTL()?{left:r,top:r,transform:"translate(-50%, -50%)"}:{right:r,top:r,transform:"translate(50%, -50%)"}:o("Locale").isRTL()?{bottom:r,left:r,transform:"translate(-50%, 50%)"}:{bottom:r,right:r,transform:"translate(50%, 50%)"}},function(e,t){return String(t)+String(e)});l.getBadgePosition=e}),98);
__d("FDSProfilePhotoContent.react",["BaseSvgImage.react","CometImage.react","CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","CometVisualCompletionAttributes","FDSLoadingAnimation.react","FDSProfilePhotoAddOn.react","FDSProfilePhotoNotificationBadge.react","getBadgePosition","gkx","profilePhotoUtils","react","stylex","useSetAttributeRef"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useId,d={photo:{verticalAlign:"x3ajldb",$$css:!0},photoCircle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},photoRoundedRect:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},photoRoundedRectLarge:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",$$css:!0},storyRingBlue:{stroke:"xauuydb",$$css:!0},storyRingBlueLegacy:{stroke:"x1p5r69i",$$css:!0},storyRingGray:{stroke:"xgzcv5c",$$css:!0},storyRingGrayLegacy:{stroke:"x1tbtn3x",$$css:!0},storyRingGreen:{stroke:"x1bqms5s",$$css:!0},storyRingRed:{stroke:"x1t6d43z",$$css:!0},storyRingSize2:{strokeWidth:"xvlca1e",$$css:!0},storyRingSize3:{strokeWidth:"xqjr0vm",$$css:!0},storyRingSize4:{strokeWidth:"x17ld789",$$css:!0}},m=function(t){return t==="circle"?"50%":t==="roundedRect"?8:t==="roundedRectLarge"?16:0};function p(t){var n,a,i,l,s,p,_=t.addOn,f=t.addOnTopEnd,g=t.alt,h=t.children,y=t.cursorDisabled,C=t.forwardRef,b=t.hovered,v=t.isOverlapped,S=t.overlay,R=t.pressed,L=t.profileVideo,E=t.shape,k=t.shouldShowCloseFriendsBadge,I=t.size,T=t.source,D=t.storyStatus,x=t.testid,$=c(),P=r("useSetAttributeRef")("id",$),N="url(#"+$+")",M=r("useSetAttributeRef")("mask",N),w=o("profilePhotoUtils").getStoryRingSize(I,D),A=o("getBadgePosition").getBadgePosition(I/2,!0),F=o("profilePhotoUtils").getBadgeSizeAndStrokeWidth(I,_==null?void 0:_.type),O=F[0],B=F[1],W=(_==null?void 0:_.type)==="lastActiveTimeBadge"&&I>28,q=W?{}:o("getBadgePosition").getBadgePosition(I/2,!1),U=_!=null?u.jsx("div",babelHelpers.extends({className:{0:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo",4:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl",2:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x14ihvte",6:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x14ihvte",1:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",5:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",3:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x14ihvte x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu",7:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo x1ey2m1c x78zum5 xtijo5x x1o0tod x13a6bvl x14ihvte x1aoij9j x5eh17s x2e7n7m xk1cdbz x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu"}[!!W<<2|(I===60&&_.type==="activityBadge")<<1|(_.type==="activityBadge"&&(L!=null||_.withBorder===!0))<<0]},r("CometVisualCompletionAttributes").IGNORE,{style:babelHelpers.extends({},q,{borderWidth:L!=null?B:void 0}),children:u.jsx(r("FDSProfilePhotoAddOn.react"),{addOn:_,pressed:R,size:I})})):null,V=f!=null?u.jsx("div",{className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p x10l6tqk xhtitgo","data-testid":void 0,style:babelHelpers.extends({},A),children:u.jsx(r("FDSProfilePhotoNotificationBadge.react"),{number:f.number})}):null,H=typeof T.uri=="string"?u.jsx(r("BaseSvgImage.react"),{src:T.uri,style:{height:I-w*4,width:I-w*4},x:2*w,y:2*w}):u.jsx(r("CometImage.react"),{alt:g,height:I-4*w,src:T.uri,testid:void 0,width:I-4*w,xstyle:[d.photo,E==="circle"&&d.photoCircle,E==="roundedRect"&&d.photoRoundedRect,E==="roundedRectLarge"&&d.photoRoundedRectLarge]}),G=m(E),z;if(L!=null){var j=L.ProfileVideoSection,K=L.profileVideoFragment;z=u.jsx(j,{hovered:b!=null?b:!1,image:H,profileVideo:K,ringSize:w,shape:E,size:I,thumbnailUri:T.uri})}var Q=typeof T.uri=="string"?u.jsxs("svg",babelHelpers.extends({"aria-hidden":g==null?!0:void 0,"aria-label":g,className:"x3ajldb"},r("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{"data-testid":void 0,role:g!=null?"img":"none",style:{height:I,width:I},children:[u.jsxs("mask",{id:$,ref:P,suppressHydrationWarning:!0,children:[E==="circle"?u.jsx("circle",{cx:I/2,cy:I/2,fill:"white",r:I/2}):u.jsx("rect",{cy:I/2,fill:"white",height:I,rx:G,ry:G,width:I,x:0,y:0}),u.jsx(r("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{useSuspenseDirectlyForSVG:!0,children:U!=null&&(_==null?void 0:_.type)!=="trigger"&&(_==null?void 0:_.type)!=="lastActiveTimeBadge"&&(_==null?void 0:_.backgroundColor)!=="none"&&u.jsx("circle",babelHelpers.extends({cx:(n=q.left)!=null?n:I-((a=q.right)!=null?a:0),cy:(i=q.top)!=null?i:I-((l=q.bottom)!=null?l:0)},r("CometVisualCompletionAttributes").IGNORE,{fill:"black",r:Math.max((_==null?void 0:_.type)==="activityBadge"?8:0,O/2+B)}))}),V!=null&&f!=null&&f.type==="notificationBadge"&&u.jsx("rect",{height:22,rx:11,ry:11,width:f.number<=9?22:f.number<=99?33:44,x:A.left!=null?A.left-(f.number<=9?11:f.number<=99?22:33):I-((s=A.right)!=null?s:0)-11,y:A.top!=null?A.top-11:I-((p=A.bottom)!=null?p:0)-11}),D==="uploading"&&(I===36||I===40||I===60)?u.jsx("circle",{cx:I/2,cy:I/2,fill:"transparent",r:I/2-1*w,stroke:"black",strokeWidth:w*2}):D!=="none"&&w>0&&u.jsx("circle",{cx:I/2,cy:I/2,fill:"transparent",r:I/2-1.5*w,stroke:"black",strokeWidth:w}),v===!0&&u.jsx("circle",{cx:-I/2+4,cy:I/2,fill:"black",r:I/2+2})]}),u.jsxs("g",{mask:N,ref:M,suppressHydrationWarning:!0,children:[z!=null?z:H,E==="circle"?u.jsx("circle",babelHelpers.extends({},{0:{className:"xbh8q5q x1pwv2dq xvlca1e"},1:{className:"x1pwv2dq xvlca1e x1tgjyoi"}}[!!R<<0],{cx:I/2,cy:I/2,r:I/2})):u.jsx("rect",babelHelpers.extends({},{0:{className:"xbh8q5q x1pwv2dq xvlca1e"},1:{className:"x1pwv2dq xvlca1e x1tgjyoi"}}[!!R<<0],{cy:I/2,fill:"white",height:I,rx:G,ry:G,width:I,x:0,y:0})),D==="uploading"&&(I===36||I===40||I===60)?null:D!=="none"&&w>0&&u.jsx("circle",babelHelpers.extends({},(e||(e=r("stylex"))).props(D==="unseen"&&(k===!0?d.storyRingGreen:r("gkx")("6275")?d.storyRingBlue:d.storyRingBlueLegacy),D==="seen"&&(r("gkx")("6275")?d.storyRingGray:d.storyRingGrayLegacy),D==="live"&&d.storyRingRed,w===4&&d.storyRingSize4,w===3&&d.storyRingSize3,w===2&&d.storyRingSize2),{cx:I/2,cy:I/2,fill:"transparent",r:I/2-w/2,strokeWidth:w}))]}),D==="uploading"&&(I===36||I===40||I===60)&&u.jsx("g",{style:{transform:"scale("+(I-Math.floor(I/30))/I+")"},children:u.jsx(r("FDSLoadingAnimation.react"),{size:I})})]})):H;return u.jsxs("div",{className:"x1rg5ohu x1n2onr6 x3ajldb x1ja2u2z",ref:C,children:[Q,h,S,u.jsx(r("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:U}),V]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("FDSProfilePhoto.react",["fbt","CometPressable.react","CometTrackingNodeProvider.react","FDSProfilePhotoContent.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["addOn","addOnTopEnd","alt","aria-hidden","aria-pressed","children","cursorDisabled","disabled","isOverlapped","onHoverIn","onHoverOut","overlayDisabled","preview","profileVideo","ref","role","shape","shouldResizeImageOnNative","shouldShowCloseFriendsBadge","size","source","storyStatus","testid"],u=["linkProps","onPress","onPressIn","testOnly_pressed"],c,d=c||(c=o("react")),m={pressable:{color:"xzsf02u",display:"x1rg5ohu",$$css:!0},pressed:{transform:"x1n5d1j9",$$css:!0}},p=function(t){return t==="circle"?"50%":t==="roundedRect"?8:t==="roundedRectLarge"?16:0};function _(t){var n=t.addOn,o=t.addOnTopEnd,a=t.alt,i=t["aria-hidden"],l=t["aria-pressed"],c=t.children,_=t.cursorDisabled,f=t.disabled,g=t.isOverlapped,h=g===void 0?!1:g,y=t.onHoverIn,C=t.onHoverOut,b=t.overlayDisabled,v=b===void 0?!1:b,S=t.preview,R=t.profileVideo,L=t.ref,E=t.role,k=t.shape,I=k===void 0?"circle":k,T=t.shouldResizeImageOnNative,D=t.shouldShowCloseFriendsBadge,x=D===void 0?!1:D,$=t.size,P=t.source,N=t.storyStatus,M=N===void 0?"none":N,w=t.testid,A=babelHelpers.objectWithoutPropertiesLoose(t,e),F=A.linkProps,O=A.onPress,B=A.onPressIn,W=A.testOnly_pressed,q=babelHelpers.objectWithoutPropertiesLoose(A,u),U={addOn:n,addOnTopEnd:o,alt:a,"aria-hidden":i,"aria-pressed":l,isOverlapped:h,onHoverIn:y,onHoverOut:C,preview:S,profileVideo:R,role:E,shape:I,shouldShowCloseFriendsBadge:x,size:$,source:P,storyStatus:M,testid:w};if(!O&&!F&&W!==!0)return d.jsx(r("FDSProfilePhotoContent.react"),babelHelpers.extends({},U,{forwardRef:L,isOverlapped:h,pressed:!1,shape:I,shouldShowCloseFriendsBadge:x,storyStatus:M,children:c}));var V=p(I);return d.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:3,children:d.jsx(r("CometPressable.react"),babelHelpers.extends({},q,{cursorDisabled:_,disabled:f,linkProps:F,onHoverIn:y,onHoverOut:C,onPress:O,onPressIn:B,overlayDisabled:v,overlayRadius:V,ref:L,testOnly_pressed:W,testid:void 0,xstyle:function(t){var e=t.pressed;return[m.pressable,e&&m.pressed]},children:function(t){var e=t.hovered,n=t.overlay,o=t.pressed;return d.jsx(r("FDSProfilePhotoContent.react"),babelHelpers.extends({},U,{"aria-label":s._(/*BTDS*/"Profile photo\/video"),forwardRef:void 0,hovered:e,isOverlapped:h,overlay:n,pressed:o,shape:I,shouldShowCloseFriendsBadge:x,storyStatus:M,children:c}))}}))})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWPAudioHighlightStylesHooks",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function c(e){return s(function(){return[u.root,e?u.outgoing:u.incoming]},[e])}l.useHighlightStyles=c}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useContext,p={threadKey:(s||(s=o("I64"))).zero},_=d(p);function f(){return m(_).threadKey}function g(e){var t=e.children,n=e.threadKey,r=o("Int64Hooks").useMemoInt64(function(){return{threadKey:n}},[n]);return u.jsx(_.Provider,{value:r,children:t})}g.displayName=g.name+" [from "+i.id+"]",l.useMWPAudioPlaybackThreadKey=f,l.MWPAudioPlaybackThreadContextProvider=g}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","FBLogger","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","WAMaybeTranscodeOggOpusToWavForPlayback","bx","emptyFunction","gkx","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=d||(d=o("react")),_=d,f=_.createContext,g=_.useCallback,h=_.useContext,y=_.useEffect,C=_.useMemo,b=_.useRef,v=_.useState,S=n("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2}),R=function(){return r("FBLogger")("wmi").tags(["audio"])};function L(t){var n=new Audio;return n.addEventListener("error",function(){var t,r,o,a;R().MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["audioElement error code: ",". message: ",""])),(t=(r=n.error)==null?void 0:r.code)!=null?t:"null",(o=(a=n.error)==null?void 0:a.message)!=null?o:"null")}),n.preload="auto",!o("WAMaybeTranscodeOggOpusToWavForPlayback").isOggPlaybackSupported&&r("gkx")("3053")?window.fetch(t).then(function(e){return e.blob()}).then(function(e){return o("WAMaybeTranscodeOggOpusToWavForPlayback").maybeTranscodeOggOpusToWavForPlayback(e)}).then(function(e){var t=URL.createObjectURL(e);n.src=t,n.load()}).catch(function(e){R().catching(e).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Failed to transcode Ogg to wav"])))}):(n.src=t,n.load()),n}function E(){return L(r("bx").getURL(r("bx")("577")))}function k(e){var t=Array.from(S.members()),n=t.findIndex(function(t){return t===e}),r=n+1;return t[r%t.length]}function I(e){return s._(/*BTDS*/"_j{\"*\":\"{playback rate}x\"}",[s._param("playback rate",e,[0])])}I.displayName=I.name+" [from "+i.id+"]";var T={activeAudio:null,activeMessageId:null,activeThreadKey:(m||(m=o("I64"))).zero,addMessageId:r("emptyFunction"),addNextPlayableUrl:r("emptyFunction"),clearActiveAudio:r("emptyFunction"),clearNextPlayableUrl:r("emptyFunction"),getMessageId:r("emptyFunction"),getNewOrExistingAudio:L,getNextPlayableUrl:r("emptyFunction"),maybeGetExistingAudio:r("emptyFunction"),onChangePlaybackRate:r("emptyFunction"),playbackRateLabel:I(S.NORMAL),setUseOutOfChatPlayback:r("emptyFunction")},D=f(T);function x(e,t,n,r,a){var i=h(D),l=i.activeAudio,s=i.activeThreadKey,u=i.addMessageId,c=i.addNextPlayableUrl,d=i.clearNextPlayableUrl,p=i.getNewOrExistingAudio,_=i.setUseOutOfChatPlayback,f=o("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey();return o("Int64Hooks").useEffectInt64(function(){if(!(!a||(m||(m=o("I64"))).is_zero(s)||(m||(m=o("I64"))).is_zero(f)))return _(!(m||(m=o("I64"))).equal(s,f)),function(){_((m||(m=o("I64"))).equal(s,f))}},[l,s,_,a,f]),o("Int64Hooks").useMemoInt64(function(){if(e!=null&&e!==""){var o=e.concat(n!=null?n:"");if(n!=null&&u(o,n),!a)return L(e);if(t!=null&&t!==""){var i=t.concat(r!=null?r:"");c(o,i),r!=null&&u(i,r)}else d(o);return p(e,f,n)}},[u,c,d,p,n,r,t,e,a,f])}function $(){var e=h(D),t=e.onChangePlaybackRate,n=e.playbackRateLabel;return[n,t]}function P(){var e=h(D),t=e.clearActiveAudio;return t}function N(){var e=h(D),t=e.activeMessageId,n=e.clearActiveAudio;return g(function(e){t===e&&n()},[t,n])}function M(){var e=h(D),t=e.activeAudio,n=e.activeMessageId,a=e.activeThreadKey,l=e.clearActiveAudio,s=e.clearNextPlayableUrl,u=e.getMessageId,d=e.getNextPlayableUrl,m=(c||(c=r("useReStore")))(),p=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(m.tables.threads).getKeyRange(a)},[m,a],i.id+":260"),_=t==null?void 0:t.src,f=_==null?void 0:_.concat(n!=null?n:""),g=f==null?null:d(f),y=o("ReQLSuspense").useFirst(function(){var e=g==null?null:u(g);return e==null?o("ReQL").empty():o("ReQL").fromTableAscending(m.tables.messages.index("messageId"),["isUnsent"]).getKeyRange(e).filter(function(e){return!e.isUnsent})},[m,u,g],i.id+":270");return f!=null&&g!=null&&y==null&&s(f),[t,l,p]}function w(e){var t=e.children,n=b(new Map),r=b(new Map),a=b([]),i=b(new Map);y(function(){var e=a.current;return function(){for(;e.length>0;){var t=e.pop(),n=t[0],r=t[1],o=t[2];n.removeEventListener(r,o),n.pause()}}},[]);var l=v(S.NORMAL),s=l[0],u=l[1],c=C(function(){return I(s)},[s]),d=v((m||(m=o("I64"))).zero),_=d[0],f=d[1],h=v(null),R=h[0],T=h[1],x=v(null),$=x[0],P=x[1],N=v(!1),M=N[0],w=N[1],A=($==null?void 0:$.paused)===!1,F=C(function(){return M&&A?$:null},[$,A,M]),O=g(function(e,t){i.current.set(e,t)},[]),B=g(function(e){return i.current.get(e)},[]),W=g(function(){P(function(e){return e!=null&&e.pause(),null}),T(null)},[]),q=g(function(e){r.current.delete(e)},[]),U=g(function(e,t,o){var l,u=e.concat(o!=null?o:""),c=(l=n.current.get(u))!=null?l:L(e);c.playbackRate=s;var d=function(t,n){c.addEventListener(t,n),a.current.push([c,t,n])},m=function(){var e=r.current.get(u);if(e!=null){var t=n.current.get(e),o=i.current.get(e);if(t!=null&&t.paused)return void E().play().then(function(){return P(t),T(o),t.play().catch(function(){P(null),T(null)})})}P(null),T(null)};d("ended",m);var p=function(){for(var e of n.current.values())e!==c&&e.pause();P(c),T(o),f(t)};return d("playing",p),n.current.set(u,c),c},[s]),V=g(function(e){return r.current.get(e)},[]),H=g(function(){u(function(e){var t=k(e);for(var r of n.current.values())r.playbackRate=t;return t})},[]),G=g(function(e,t){r.current.set(e,t)},[]),z=g(function(e,t){if(e!=null){var r=e.concat(t!=null?t:"");return n.current.get(r)}},[]),j=o("Int64Hooks").useMemoInt64(function(){return{activeAudio:F,activeMessageId:R,activeThreadKey:_,addMessageId:O,addNextPlayableUrl:G,clearActiveAudio:W,clearNextPlayableUrl:q,getMessageId:B,getNewOrExistingAudio:U,getNextPlayableUrl:V,maybeGetExistingAudio:z,onChangePlaybackRate:H,playbackRateLabel:c,setUseOutOfChatPlayback:w}},[F,R,O,_,G,W,q,B,U,V,H,c,z]);return p.jsx(D.Provider,{value:j,children:t})}w.displayName=w.name+" [from "+i.id+"]",l.useMWPAudioPlaybackElement=x,l.useMWPAudioPlaybackRate=$,l.useMWPClearActiveAudio=P,l.useMWPClearActiveAudioForMessage=N,l.useMWPAudioOutOfChatPlayback=M,l.MWPAudioPlaybackContextProvider=w}),226);
__d("MWPAudioPlayerSharedStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e=44,s={bar:{backgroundColor:"x14hiurz",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",backgroundAttachment:"x1nr1p0w",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",outline:"x1k4qllp",$$css:!0},commonIncoming:{backgroundColor:"x1xr0vuk",$$css:!0},commonOutgoing:{backgroundColor:"x11jlvup",$$css:!0},commonOutgoingReply:{backgroundImage:"xl54vp5",$$css:!0},commonReply:{outline:"x1ucz5p",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderStartStartRadius:"x7deyu6",borderStartEndRadius:"x16vui2w",borderEndEndRadius:"x91akzj",borderEndStartRadius:"x7lp3xy",$$css:!0},rightSideImprove:{marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderInlineEndColor":"x1sx9lnh","::after_borderBottomColor":"xv84cap","::after_borderInlineStartColor":"x1bbqc8r","::after_borderStartStartRadius":"x1mt5d6h","::after_borderStartEndRadius":"xrbx7q7","::after_borderEndEndRadius":"x1e5em4g","::after_borderEndStartRadius":"x1e0i30a","::after_borderTopStyle":"xynf4tj","::after_borderInlineEndStyle":"xdjs2zz","::after_borderBottomStyle":"x1r9ni5o","::after_borderInlineStartStyle":"xvsnedh","::after_borderTopWidth":"x1gnji40","::after_borderInlineEndWidth":"x1k81zwm","::after_borderBottomWidth":"x1ekxc0f","::after_borderInlineStartWidth":"x1tjn1g5","::after_bottom":"x14apmda","::after_content":"x100rkj9","::after_display":"xhkezso","::after_insetInlineEnd":"x1qngrn4","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_insetInlineStart":"x1nalm37","::after_left":null,"::after_right":null,"::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};l.styles=s}),98);
__d("MWAudioInteractionQpl",["QPLUserFlow","Random","performanceAbsoluteNow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("qpl")._(25310391,"3335");function u(e,t){var n,a,i=Date.now()+(Math.round(o("Random").random()*1e4)+1e4),l=t==null?void 0:t.attachmentId;return r("QPLUserFlow").start(s,{annotations:{bool:{has_waveform:(n=t==null?void 0:t.hasWaveform)!=null?n:!1,is_secure:(a=t==null?void 0:t.isSecure)!=null?a:!1},string:babelHelpers.extends({interaction_type:e},l!=null?{attachment_id:l}:null)},instanceKey:i}),i}function c(t){r("QPLUserFlow").endSuccess(s,{instanceKey:t,timestamp:(e||(e=r("performanceAbsoluteNow")))()})}function d(t,n){r("QPLUserFlow").endFailure(s,t,{instanceKey:n,timestamp:(e||(e=r("performanceAbsoluteNow")))()})}l.AUDIO_INTERACTION_EVENT=s,l.startAudioInteraction=u,l.endAudioInteractionSuccess=c,l.endAudioInteractionFailure=d}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2}),l=[e.MESSAGE_LIST_PANEL,e.INFO_PANEL],s=375,u=320,c=e.THREAD_LIST_PANEL,d=e.MESSAGE_LIST_PANEL,m=3;i.MWLayoutPanel=e,i.MWInboxMainContentPanels=l,i.DENSE_LAYOUT_BREAKPOINT_WIDTH=s,i.DENSE_LAYOUT_BREAKPOINT_HEIGHT=u,i.DEFAULT_ONE_CARD_INDEX=c,i.DEFAULT_TWO_CARDS_INDEX=d,i.DEFAULT_MAX_CARDS_VISIBLE=m}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({_mountCard:r("emptyFunction"),_unmountCard:r("emptyFunction"),cardsVisible:o("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:o("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:r("emptyFunction"),primaryCardIndex:o("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:r("emptyFunction"),secondaryCardIndex:null}),c=u;l.default=c}),98);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWAudioInteractionQpl","MWLSThreadDisplayContext","MWMediaRenderQplUtils","MWPAudioPlaybackContext.react","MWResponsiveLayoutContext.react","cancelAnimationFrame","getErrorNameFromMediaErrorCode","gkx","promiseDone","react","requestAnimationFrameAcrossTransitions","useMatchViewport","useStable"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useCallback,p=c.useContext,_=c.useEffect,f=c.useRef,g=c.useState,h=n("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),y=d(h.PLAYER),C=r("gkx")("24145");function b(){var e=p(y);return C&&e===h.PLAYER}function v(e,t){if(t==null)return 0;var n=t.getBoundingClientRect(),r=n.left,o=n.width,a=e.clientX-r,i=o>0&&a>0?a/o:0;return S(i,0,1)}function S(e,t,n){return Math.min(Math.max(t,e),n)}function R(e){var t=e.currentTime,n=e.duration,r=e.tabIndex,o=r===void 0?0:r;return u.jsx("div",{"aria-label":s._(/*BTDS*/"Audio scrubber"),"aria-valuemax":n,"aria-valuemin":0,"aria-valuenow":Math.floor(t!=null?t:0),role:"slider",style:{position:"absolute"},tabIndex:o!=null?o:0})}R.displayName=R.name+" [from "+i.id+"]";function L(){var e=b();return e?{marginLeft:12,marginRight:12}:{marginLeft:6,marginRight:6}}function E(e){return m(function(t){var n=e.current;if(n!=null)return t.stopPropagation(),n.updateHighlight(0)},[e])}function k(e,t,n,o,a,i){a===void 0&&(a=!1);var l=f();return _(function(){var n=function(t){var e=l.current;if(e!=null)return e.updateHighlight(t)};if(i){n(a?100:0);return}if(o){var s={contents:void 0},u,c=function(a){var o;if(t.current!=null)o=t.current.currentTime/t.current.duration;else{var i=s.contents,l=0;i!=null?l=a-i:s.contents=a,o=l/(e*1e3)}var d=Math.min(o*100,100);if(n(d),d<100){u=r("requestAnimationFrameAcrossTransitions")(c);return}};return u=r("requestAnimationFrameAcrossTransitions")(c),function(){u!=null&&r("cancelAnimationFrame")(u)}}if(t.current!=null){var d=t.current.currentTime/t.current.duration;n(d*100)}},[e,o,i,l,t,a,n]),l}var I=n("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function T(e,t,n,r,a,i,l,s,u,c,d){var m=b(),p=o("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(e,t,n,r,m);return D(p,m,a,i,l,s,u,c,d)}function D(e,t,n,a,i,l,s,u,c){var d=r("useStable")(function(){return n}),p=f(e),h=g(I.NONE),y=h[0],C=h[1],b=g(function(){var t;return(t=e==null?void 0:e.currentTime)!=null?t:0}),v=b[0],S=b[1];_(function(){if(e==null){C(I.NONE),l==null||l.addAnnotations({string:{audio_initial_state:"none"}});return}e.ended?(C(I.ENDED),l==null||l.addAnnotations({string:{audio_initial_state:"ended"}})):C(function(){return e.paused?(l==null||l.addAnnotations({string:{audio_initial_state:"paused"}}),I.PAUSED):(l==null||l.addAnnotations({string:{audio_initial_state:"playing"}}),I.PLAYING)}),S(e.currentTime),p.current=e},[e,l]),_(function(){var e=p.current;if(l==null||l.addPoint("render-audio-player-controller",{bool:{has_audio:e!=null},int:{audio_ready_state:e==null?void 0:e.readyState},string:{audio_duration_bucket:e!=null?o("MWMediaRenderQplUtils").convertDurationToStringBucket(e.duration):null}}),e!=null){var n=function(t){var e=t.currentTarget,n=e.error,o=r("getErrorNameFromMediaErrorCode")(n==null?void 0:n.code);l==null||l.endFailAfterDelay("load-audio-error",{string:{audio_error_message:n==null?void 0:n.message,audio_error_name:o}})},a=function(){l==null||l.endSuccessAfterDelay()},i=function(){C(I.PAUSED),l==null||l.addPoint("audio-paused",{int:{audio_ready_state:e.readyState}})},s=function(){C(I.PLAYING),l==null||l.addPoint("audio-played",{int:{audio_ready_state:e.readyState}})},u=function(){C(I.LOADING),l==null||l.addPoint("load-start",{int:{audio_ready_state:e.readyState}})},c=function(){p.current!=null&&S(p.current.currentTime)},d=function(){p.current!=null&&(p.current.currentTime=0,S(0)),C(I.ENDED)},m=function(){l==null||l.addPoint("audio-duration-change",{int:{audio_ready_state:e.readyState}})},_=function(){l==null||l.addPoint("loaded-metadata",{int:{audio_ready_state:e.readyState}})},f=function(){l==null||l.addPoint("loaded-data",{int:{audio_ready_state:e.readyState}})},g=function(){p.current=e,i(),l==null||l.addPoint("can-play",{int:{audio_ready_state:e.readyState}}),a()},h=function(){l==null||l.addPoint("can-play-through",{int:{audio_ready_state:e.readyState}})},y=function(){l==null||l.addPoint("audio-aborted",{int:{audio_ready_state:e.readyState}})},b=function(){l==null||l.addPoint("audio-stalled",{int:{audio_ready_state:e.readyState}})},v=function(){l==null||l.addPoint("audio-suspended",{int:{audio_ready_state:e.readyState}})},R=function(){l==null||l.addPoint("audio-emptied",{int:{audio_ready_state:e.readyState}})};return e!=null&&e.readyState>=2&&a(),e.addEventListener("loadstart",u),e.addEventListener("timeupdate",c),e.addEventListener("playing",s),e.addEventListener("pause",i),e.addEventListener("ended",d),e.addEventListener("error",n),e.addEventListener("durationchange",m),e.addEventListener("loadedmetadata",_),e.addEventListener("loadeddata",f),e.addEventListener("canplay",g),e.addEventListener("canplaythrough",h),e.addEventListener("stalled",b),e.addEventListener("suspend",v),e.addEventListener("abort",y),e.addEventListener("emptied",R),function(){e.removeEventListener("loadstart",u),e.removeEventListener("timeupdate",c),e.removeEventListener("playing",s),e.removeEventListener("pause",i),e.removeEventListener("ended",d),e.removeEventListener("error",n),e.removeEventListener("durationchange",m),e.removeEventListener("loadedmetadata",_),e.removeEventListener("loadeddata",f),e.removeEventListener("canplay",g),e.removeEventListener("canplaythrough",h),e.removeEventListener("stalled",b),e.removeEventListener("suspend",v),e.removeEventListener("abort",y),e.removeEventListener("emptied",R),!t&&e.pause()}}},[e,l,t]);var R=m(function(){var e=p.current;if(e!=null){var t={attachmentId:c,hasWaveform:s!=null,isSecure:u};switch(y){case I.NONE:case I.LOADING:return;case I.ENDED:case I.PAUSED:{var n=o("MWAudioInteractionQpl").startAudioInteraction("play",t);r("promiseDone")(e.play(),function(){C(I.PLAYING),o("MWAudioInteractionQpl").endAudioInteractionSuccess(n)},function(e){d(),o("MWAudioInteractionQpl").endAudioInteractionFailure(e.name,n),l==null||l.addAnnotations({string:{"play-error":e.name}})}),l==null||l.addPoint("audio-play-clicked",{int:{audio_ready_state:e.readyState}});return}case I.PLAYING:{var a=o("MWAudioInteractionQpl").startAudioInteraction("pause",t);e.pause(),C(I.PAUSED),o("MWAudioInteractionQpl").endAudioInteractionSuccess(a),l==null||l.addPoint("audio-pause-clicked",{int:{audio_ready_state:e.readyState}});return}}}},[c,u,l,d,y,s]),L=m(function(e){var t=p.current;t!=null&&(t.currentTime=e,S(e))},[]);return[y,v,p,R,k(i,p,v,y===I.PLAYING,a,y===I.ENDED),L]}function x(){var e=o("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),t=e[0],n=e[1],a=e[2],i=g(function(){return t==null?I.NONE:t.ended?I.ENDED:t.paused?I.PAUSED:I.PLAYING}),l=i[0],s=i[1],u=g(function(){return t!=null?t.duration-t.currentTime:0}),c=u[0],d=u[1];_(function(){if(t!=null){var e=function(){return d(t.duration-t.currentTime)},n=function(){return s(I.LOADING)},o=function(){return s(I.ENDED)};return t.addEventListener("timeupdate",e),t.addEventListener("loadstart",n),t.addEventListener("ended",o),r("promiseDone")(t.play(),function(){return s(I.PLAYING)}),function(){t.removeEventListener("timeupdate",e),t.removeEventListener("loadstart",n),t.removeEventListener("ended",o)}}},[t]);var p=m(function(){if(t!=null)switch(l){case I.NONE:case I.LOADING:return;case I.ENDED:case I.PAUSED:{r("promiseDone")(t.play(),function(){return s(I.PLAYING)});return}case I.PLAYING:{t.pause(),s(I.PAUSED);return}}},[t,l]);return[a,l===I.PLAYING,t!=null&&a!=null&&C,c,p,n]}function $(e,t){var n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=p(r("MWResponsiveLayoutContext.react")),i=a.cardsVisible,l=r("useMatchViewport")("max","width",750),s=r("useMatchViewport")("max","width",1060),u=!1;return(l&&i===2||s&&i===3)&&(u=!0),(e!=null?e:n==="Inbox")?u?180:218:n==="ChatTab"&&t===!0?148:180}function P(e){var t=b();return t&&e===h.PLAYER?70:36}l.UseCase=h,l.UseCaseContext=y,l.isEnabled=C,l.useShowNewUX=b,l.getMousePos=v,l.ScreenReaderLabel=R,l.usePlaybackButtonContainerStyle=L,l.useResetHighlightProgress=E,l.useProgressLiveUpdate=k,l.State=I,l.useControlCenter=T,l.useOutOfChatControlCenter=x,l.useCalculatePlayerWidth=$,l.useCalculatePlayerHeight=P}),226);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=t.outgoing,a=o("MWPAudioPlayerUtils").useShowNewUX(),i=o("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),l=i[0],s=i[1];if(!a)return null;var c=n?"var(--always-white)":"var(--progress-ring-neutral-foreground)";return u.jsx(r("MWXPressable.react"),{onPress:s,overlayDisabled:!0,children:u.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.rightSideTop,o("MWPAudioPlayerSharedStyles").styles.rightSideMargin,o("MWPAudioPlayerSharedStyles").styles.rightSideBottom,o("MWPAudioPlayerSharedStyles").styles.rightSideImprove),style:{backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:c},children:l})})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.disabled,n=e.icon,a=e.label,i=e.onHoverMove,l=e.onPress,s=o("MWPAudioPlayerUtils").useShowNewUX(),c=s?{backgroundColor:"transparent"}:{};return u.jsx(r("MWXPressable.react"),{"aria-label":a,disabled:t,onPress:l,overlayDisabled:s,overlayRadius:"50%",style:c,testid:void 0,xstyle:o("MWPAudioPlayerSharedStyles").styles.pressable,children:n})}d.displayName=d.name+" [from "+i.id+"]",l.PlaybackRateButton=c,l.AudioPlayerPlaybackButton=d}),98);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef;function p(t){var n=t.audioEl,a=t.children,i=t.hasScrubber,l=t.mediaRenderQpl,s=t.scrubberRef,c=t.style,p=t.testid,_=t.useCase,f=o("MWPAudioPlayerUtils").useShowNewUX(),g=m(),h=function(t){var e=n.current,r=g.current;e!=null&&r!=null&&Number.isFinite(e.duration)&&(e.currentTime=o("MWPAudioPlayerUtils").getMousePos(t,r)*e.duration)},y=function(t){if(g.current!=null&&s.current!=null)return s.current.updateHighlight(o("MWPAudioPlayerUtils").getMousePos(t,g.current)*100)},C=function(){if(s.current!=null)return s.current.updateHighlight(0)},b=o("MWPAudioPlayerUtils").useCalculatePlayerHeight(_),v=babelHelpers.extends({cursor:i?"pointer":"default",height:b},c),S=i&&!f;return d(function(){l==null||l.addPoint("render-audio-player-container",{bool:{show_new_ux:f},string:{use_case:_===o("MWPAudioPlayerUtils").UseCase.PLAYER?"Player":"Recorder"}})},[l,f,_]),u.jsx(o("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:_,children:u.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:S?h:void 0,onMouseLeave:i?C:void 0,onMouseMove:S?y:void 0,ref:g,style:v,children:a})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=m;function m(t){var n=t.ref,a=t.xPosition,i=t.currentTime,l=t.duration;return c.jsx("div",{"aria-label":s._(/*BTDS*/"Audio scrubber"),"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":i,className:(e||(e=r("stylex")))(i===0?o("MWPAudioPlayerSharedStyles").styles.transparentBar:o("MWPAudioPlayerSharedStyles").styles.bar),ref:n,role:"slider",style:{left:a.toFixed(2)+"%"}})}m.displayName=m.name+" [from "+i.id+"]";var p=d;l.default=p}),226);
__d("MWChatRecorderUtils",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.reduce(function(e,t){return e+t.length},0)}function s(t){var n=e(t),r=new Float32Array(n);return t.reduce(function(e,t){return r.set(t,e),e+t.length},0),r}function u(t,n){var r=e([t,n]);return new Float32Array(r).map(function(e,r){var o=Math.floor(r/2);return r%2===0?t[o]:n[o]})}function c(e,t,n){n.forEach(function(n,r){var o=Math.max(-1,Math.min(1,n)),a=t+(r<<1),i=o<0?Math.abs(o)*-32768:Math.abs(o)*32767;e.setInt16(a,i,!0)})}function d(e,t,n){Array.from(n).forEach(function(r,o){var a=n.charCodeAt(o);e.setUint8(t+o,a)})}function m(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,o=r.length,a=o<<1,i=new ArrayBuffer(44+a),l=new DataView(i);return d(l,0,"RIFF"),l.setUint32(4,36+a,!0),d(l,8,"WAVE"),d(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,t,!0),l.setUint32(24,n,!0),l.setUint32(28,n*t*2,!0),l.setUint16(32,t*2,!0),l.setUint16(34,16,!0),d(l,36,"data"),l.setUint32(40,a,!0),c(l,44,r),l}function p(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,o=m({numberOfChannels:t,sampleRate:n,samples:r}),a=new Date().getTime(),i=Math.round(_({numberOfChannels:t,sampleRate:n,samples:r})*1e3);return new File([o],"audioclip-"+a+"-"+i+".wav",{type:"audio/wav"})}function _(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,a=Float32Array.BYTES_PER_ELEMENT,i=r.byteLength/a/t;return i/n%o("DateConsts").SEC_PER_MIN}function f(e,t,n){return e+(t-e)*n}function g(e,t){var n=new Array(Math.ceil(t));if(t===0||e.length===0)return n;if(t===e.length)return Array.from(e);if(e.length===1)return n.fill(e[0]);n[0]=e[0];for(var r=(e.length-1)/(t-1),o=1;o<t;o++){var a=o*r,i=Math.floor(a),l=Math.ceil(a),s=a-i;n[o]=f(e[i],e[l],s)}return t>=2&&(n[n.length-1]=e[e.length-1]),n}function h(e,t,n){var r=Math.min.apply(Math,e),o=Math.max.apply(Math,e),a=o-r,i=n-t;return e.map(function(e){return(e-r)/a*i+t})}l.getTotalBuffersLen=e,l.flattenBuffer=s,l.interleave=u,l.exportWAV=p,l.getAudioDuration=_,l.computeWaveformAmplitudes=g,l.linearConversion=h}),98);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","stylex","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e=["disabled","hasEnded","isPlaying","outgoing","scrubberLeft"],s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useLayoutEffect,_=d.useMemo,f=d.useRef,g=d.useState,h=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),y=3,C=3,b=44,v=4;function S(e,t){var n=_(function(){return e==null||e===""||e==="0,0"?h:Float32Array.from(e.split(",").map(Number))},[e]);return _(function(){if(t<=0||n.length===0)return[];var e=Math.floor(t/(C*2)),r=o("MWChatRecorderUtils").linearConversion(o("MWChatRecorderUtils").computeWaveformAmplitudes(n,e),v,b);return r.map(function(e,t){var n=Math.ceil(e),r=y,o=C,a=t*C*2,i="calc(50% - "+n/2+"px)";return{height:n,rx:r,width:o,x:a,y:i}})},[t,n])}function R(t){var n=t.disabled,a=n===void 0?!1:n,i=t.hasEnded,l=i===void 0?!1:i,u=t.isPlaying,d=u===void 0?!1:u,m=t.outgoing,_=t.scrubberLeft,h=babelHelpers.objectWithoutPropertiesLoose(t,e),y=f(null),C=g("auto"),b=C[0],v=C[1];p(function(){var e=y.current;v(function(){if(a)return"var(--disabled-button-text)";var t="auto";if((l||d)&&(t=m===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)"),e==null)return t;var n=e.getBoundingClientRect(),r=n.left;return _>r?m===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":t})},[a,l,d,m,_]);var S=(s||(s=r("stylex")))(m===!0?o("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle:o("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle);return c.jsx("rect",babelHelpers.extends({},h,{className:S,ref:y,style:{fill:b}}))}R.displayName=R.name+" [from "+i.id+"]";function L(e){var t=e.disabled,n=e.hasEnded,a=e.isListened,i=e.isPlaying,l=e.outgoing,u=e.scrubberLeft,d=e.waveformData,p=n===!0||a===!0,_=g(0),f=_[0],h=_[1],y=m(function(e){h(e.width)},[]),C=r("useResizeObserver")(y),b=S(d,f);return b.length===0?c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.waveform),{ref:C})):c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.waveform),{ref:C,children:c.jsx("svg",babelHelpers.extends({"aria-hidden":!0},s.props(o("MWPAudioPlayerSharedStyles").styles.mask),{children:b.map(function(e,n){return c.createElement(R,babelHelpers.extends({},e,{disabled:t,hasEnded:p,isPlaying:i,key:n,outgoing:l,scrubberLeft:u}))})}))}))}L.displayName=L.name+" [from "+i.id+"]",l.default=L}),98);
__d("MWPAudioPlayerHighlight.react",["fbt","MWAudioInteractionQpl","MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useImperativeHandle,p=d.useLayoutEffect,_=d.useRef,f=d.useState;function g(t){var n,a,i,l,u=t.attachmentId,d=t.audioEl,g=t.children,y=t.disabled,C=t.duration,b=t.hasEnded,v=t.isListened,S=t.isPlaying,R=S===void 0?!0:S,L=t.isSecure,E=t.onUpdateScrubber,k=t.outgoing,I=t.ref,T=t.waveformData,D=t.xstyle,x=o("MWPAudioPlayerUtils").useShowNewUX(),$=_(),P=_(),N=f(0),M=N[0],w=N[1],A=f(0),F=A[0],O=A[1];p(function(){if((d==null?void 0:d.current)!=null&&P.current!=null&&C!=null&&C>0){var e=d.current.currentTime,t=P.current;O(h(t,e/C*100))}},[d,C]),m(I,function(){return{updateHighlight:function(t){var e=$.current,n=P.current;if(e!=null)if(x){if(n!=null){var r=h(n,t);O(r)}}else e.style.transform="translateX("+(t-100).toFixed(1)+"%)"}}},[x]);var B=function(t){if($.current!=null){var e,n,r,a,i=o("MWAudioInteractionQpl").startAudioInteraction("scrub",{attachmentId:u,hasWaveform:T!=null,isSecure:L}),l=(e=$.current)==null?void 0:e.getBoundingClientRect(),s=(n=l==null?void 0:l.left)!=null?n:0,c=t.clientX-s,d=(r=(a=$.current)==null?void 0:a.offsetWidth)!=null?r:0;if(w(c/d*100),C!=null&&C>0){var m=o("MWPAudioPlayerUtils").getMousePos(t,$.current)*C;if(E!=null&&P.current!=null){var p=P.current;E(m),O(h(p,m/C*100))}}o("MWAudioInteractionQpl").endAudioInteractionSuccess(i)}},W=Math.floor((n=d==null||(a=d.current)==null?void 0:a.currentTime)!=null?n:0);if(x){var q,U;return c.jsxs(c.Fragment,{children:[g,c.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.highlight,o("MWPAudioPlayerSharedStyles").styles.scrubber),{onMouseDownCapture:B,ref:$,children:[c.jsx(r("MWPAudioPlayerScrubberBar.react"),{currentTime:W,duration:(q=d==null||(U=d.current)==null?void 0:U.duration)!=null?q:0,ref:P,xPosition:M}),c.jsx(r("MWPAudioPlayerWaveform.react"),{disabled:y,hasEnded:b,isListened:v,isPlaying:R,outgoing:k,scrubberLeft:F,waveformData:T})]}))]})}return c.jsx("div",babelHelpers.extends({"aria-label":s._(/*BTDS*/"Audio scrubber"),"aria-valuemax":(i=d==null||(l=d.current)==null?void 0:l.duration)!=null?i:0,"aria-valuemin":0,"aria-valuenow":W},(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.highlight,D),{ref:$,role:"slider"}))}g.displayName=g.name+" [from "+i.id+"]";function h(e,t){e.style.left=t.toFixed(2)+"%",e.style.transition="transform 1s ease-out";var n=e.getBoundingClientRect(),r=n.left;return r}function y(e){var t=e.disabled,n=e.hasScrubber,r=e.progressHighlightRef,a=e.scrubberRef,i=e.attachmentId,l=e.audioEl,s=e.children,u=e.currentTime,d=e.duration,m=e.hasEnded,p=e.isListened,_=e.isPlaying,f=_===void 0?!0:_,h=e.isSecure,y=e.onUpdateScrubber,C=e.outgoing,b=e.waveformData,v=e.xstyle,S=o("MWPAudioPlayerUtils").useShowNewUX();return S?c.jsx(g,{attachmentId:i,audioEl:l,disabled:t,duration:d,hasEnded:m,isListened:p,isPlaying:f,isSecure:h,onUpdateScrubber:y,outgoing:C,ref:r,waveformData:b,xstyle:v,children:s}):c.jsxs(c.Fragment,{children:[c.jsx(g,{ref:r,xstyle:v}),n?c.jsx(o("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:u,duration:d}):null,c.jsx(g,{ref:a,xstyle:v}),s]})}y.displayName=y.name+" [from "+i.id+"]",l.MWPAudioPlayerHighlightV1=g,l.MWPAudioPlayerHighlightV2=y}),226);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(e){return e>30?5:e>10?3:e>5?2:e>2?1:.5}function _(e){var t=e.audioEl,n=e.children,o=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime-=p(e)}},[t]),a=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime+=p(e)}},[t]),i=d(function(){t.current!=null&&(t.current.currentTime=0)},[t]),l=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime=e}},[t]),c=m(function(){var e;return[{command:{key:(e=r("CometKeys")).UP},description:s._(/*BTDS*/"Increases slider value one step."),handler:a},{command:{key:e.DOWN},description:s._(/*BTDS*/"Decreases slider value one step."),handler:o},{command:{key:e.LEFT},description:s._(/*BTDS*/"Decreases slider value one step."),handler:o},{command:{key:e.RIGHT},description:s._(/*BTDS*/"Increases slider value one step."),handler:a},{command:{key:e.HOME},description:s._(/*BTDS*/"Sets slider to its minimum value."),handler:i},{command:{key:e.END},description:s._(/*BTDS*/"Sets slider to its maximum value."),handler:l}]},[o,a,i,l]);return u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:c,children:n})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","formatDurationSeconds","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=t.disabled,a=n===void 0?!1:n,i=t.outgoing,l=i===void 0?!0:i,s=t.time,c=o("MWPAudioPlayerUtils").useShowNewUX(),d=c?{color:l?a?"var(--disabled-button-text)":"var(--always-white)":a?"var(--disabled-button-text)":"var(--progress-ring-neutral-foreground)"}:{color:l?"var(--chat-composer-button-color)":"var(--always-black)",cursor:"pointer"};return u.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.rightSideTop,!c&&o("MWPAudioPlayerSharedStyles").styles.rightSideBottom,c&&o("MWPAudioPlayerSharedStyles").styles.rightSideImprove),"data-testid":void 0,role:"timer",style:d,children:r("formatDurationSeconds")(s)})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWPAudioPlayerIcons.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.color;return s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:t})})}u.displayName=u.name+" [from "+i.id+"]";function c(e){var t=e.color;return s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("rect",{fill:t,height:"18",rx:"2",width:"18",x:"9",y:"9"})})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.color;return s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:t})})}d.displayName=d.name+" [from "+i.id+"]",l.PlayIcon=u,l.StopIcon=c,l.PauseIcon=d}),98);
__d("MWPAudioPlayerLabels",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Play"),u=s._(/*BTDS*/"Stop recording"),c=s._(/*BTDS*/"Pause");l.playLabel=e,l.stopLabel=u,l.pauseLabel=c}),226);
__d("IGDAudioRecorder.react",["MWPAudioHighlightStylesHooks","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPUseVoiceRecorder","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useRef;function d(t){var n=o("react-compiler-runtime").c(50),a=t.voiceRecorder,i=c(void 0),l=a,s=l.audioEl,d=l.state,m=o("MWPAudioPlayerUtils").useResetHighlightProgress(i),p;n[0]!==d?(p=o("MWPUseVoiceRecorder").hasScrubber(d),n[0]=d,n[1]=p):p=n[1];var _=p,f=_?"pointer":"default",g;n[2]!==f?(g={backgroundColor:"var(--chat-composer-button-color)",borderRadius:"18px",cursor:f,height:"36px"},n[2]=f,n[3]=g):g=n[3];var h=o("MWPAudioHighlightStylesHooks").useHighlightStyles(!0),y;n[4]!==g||n[5]!==h?(y={containerStyle:g,highlightStyles:h},n[4]=g,n[5]=h,n[6]=y):y=n[6];var C=y,b;n[7]!==d?(b=o("MWPUseVoiceRecorder").getDuration(d),n[7]=d,n[8]=b):b=n[8];var v;n[9]!==d?(v=o("MWPUseVoiceRecorder").getCurrentTime(d),n[9]=d,n[10]=v):v=n[10];var S;n[11]!==d?(S=o("MWPUseVoiceRecorder").isProgressing(d),n[11]=d,n[12]=S):S=n[12];var R;n[13]!==d?(R=o("MWPUseVoiceRecorder").isCompleted(d),n[13]=d,n[14]=R):R=n[14];var L=o("MWPAudioPlayerUtils").useProgressLiveUpdate(b,s,v,S,!1,R),E=C.containerStyle,k;n[15]!==C.highlightStyles||n[16]!==L?(k=u.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:L,xstyle:C.highlightStyles}),n[15]=C.highlightStyles,n[16]=L,n[17]=k):k=n[17];var I;n[18]!==d?(I=o("MWPUseVoiceRecorder").showScreenReaderLabel(d)&&u.jsx(o("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:o("MWPUseVoiceRecorder").getCurrentTime(d)||0,duration:o("MWPUseVoiceRecorder").getDuration(d)}),n[18]=d,n[19]=I):I=n[19];var T;n[20]!==C.highlightStyles?(T=u.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:i,xstyle:C.highlightStyles}),n[20]=C.highlightStyles,n[21]=T):T=n[21];var D;n[22]===Symbol.for("react.memo_cache_sentinel")?(D=(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),n[22]=D):D=n[22];var x=_?m:null,$;n[23]!==d?($=o("MWPUseVoiceRecorder").getPlaybackIcon(d,"rgb(var(--ig-outgoing-message-bubble))"),n[23]=d,n[24]=$):$=n[24];var P;n[25]!==d?(P=o("MWPUseVoiceRecorder").getPlaybackLabel(d),n[25]=d,n[26]=P):P=n[26];var N;n[27]!==$||n[28]!==P||n[29]!==l.toggle?(N=u.jsx(o("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:$,label:P,onPress:l.toggle}),n[27]=$,n[28]=P,n[29]=l.toggle,n[30]=N):N=n[30];var M;n[31]!==x||n[32]!==N?(M=u.jsx("div",babelHelpers.extends({},D,{onMouseMove:x,children:N})),n[31]=x,n[32]=N,n[33]=M):M=n[33];var w;n[34]!==d?(w=o("MWPUseVoiceRecorder").getTimerTime(d),n[34]=d,n[35]=w):w=n[35];var A;n[36]!==w?(A=u.jsx(r("MWPAudioPlayerTimer.react"),{time:w}),n[36]=w,n[37]=A):A=n[37];var F;n[38]!==s||n[39]!==k||n[40]!==I||n[41]!==T||n[42]!==M||n[43]!==A?(F=u.jsxs(r("MWPAudioPlayerKeyCommands.react"),{audioEl:s,children:[k,I,T,M,A]}),n[38]=s,n[39]=k,n[40]=I,n[41]=T,n[42]=M,n[43]=A,n[44]=F):F=n[44];var O;return n[45]!==C.containerStyle||n[46]!==s||n[47]!==_||n[48]!==F?(O=u.jsx(r("MWPAudioPlayerContainer.react"),{audioEl:s,hasScrubber:_,mediaRenderQpl:null,scrubberRef:i,style:E,testid:void 0,useCase:o("MWPAudioPlayerUtils").UseCase.RECORDER,children:F}),n[45]=C.containerStyle,n[46]=s,n[47]=_,n[48]=F,n[49]=O):O=n[49],O}l.default=d}),98);
__d("IGDMentionsLayoutStrategy.react",["CometContextualLayer.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","IGDSPopover.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","context","entries","isLoading","onBlur","position","viewRef"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(19),a,i,l,s,c;if(n[0]!==t){var d=t.ariaProps,m=t.context,p=t.entries,_=t.isLoading,f=t.onBlur,g=t.position,h=t.viewRef,y=babelHelpers.objectWithoutPropertiesLoose(t,e);a=d,i=m,l=p,s=g,c=y,n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c}else a=n[1],i=n[2],l=n[3],s=n[4],c=n[5];var C=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),b;n[6]!==C?(b={eventName:"mentions_popover_rendered",flowInstanceId:C},n[6]=C,n[7]=b):b=n[7];var v=r("MessengerWebUXLogger").useImpressionLoggerRef(b);if(l.length===0)return null;var S;n[8]!==a||n[9]!==l||n[10]!==c?(S=u.jsx(r("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers.extends({ariaProps:a,entries:l,isLoading:!1},c)),n[8]=a,n[9]=l,n[10]=c,n[11]=S):S=n[11];var R;n[12]!==v||n[13]!==S?(R=u.jsx(r("IGDSPopover.react"),{popoverContent:S,ref:v}),n[12]=v,n[13]=S,n[14]=R):R=n[14];var L;return n[15]!==i||n[16]!==s||n[17]!==R?(L=u.jsx(r("CometContextualLayer.react"),{align:"start",context_DEPRECATED:i,position:s,children:R}),n[15]=i,n[16]=s,n[17]=R,n[18]=L):L=n[18],L}l.default=c}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(t.length===0)return!0;var n=r("remove-accents")(t).toLowerCase(),o=r("remove-accents")(e).toLowerCase();return o.split(" ").some(function(e){return e.startsWith(n)})||o.startsWith(n)}l.doesParticipantNameMatch=e}),98);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:22360","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22360")),r("gkx")("23219"));l.default=e}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWChatComposerMentionsUtils","MWXIconGroup","gkx"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=s._(/*BTDS*/"Meta AI").toString(),m=s._(/*BTDS*/"Ask questions").toString(),p=s._(/*BTDS*/"everyone").toString(),_=r("gkx")("20836"),f={decorType:"regular",handle:d,key:"0",label:d,rawData:{image:u("405460"),subtitle:m},type:"entry"};function g(t,n,a,i,l,u,m,g){var h=t.query,y=g!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&o("LSMessagingThreadTypeUtil").isGroup(g),C=g!=null&&!o("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&o("LSMessagingThreadTypeUtil").isGroup(g),b=C&&r("gkx")("20028"),v=[],S=[];if(l===!0&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(d,h)&&v.push(f),l!==!0||u){if(n.forEach(function(t){var n=t.actualName,a=t.blockedByViewerStatus,i=t.contactId,l=t.nickname,s=t.profilePictureUrl,u=t.secondaryName;if(!(a!=null&&!(e||(e=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)))){var d=null;if(u!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(u,h)?d="secondaryName":o("MWChatComposerMentionsUtils").doesParticipantNameMatch(n,h)?d="name":l!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(l,h)&&(d="nickname"),d!=null&&s!=null){var m=u;y?m=l!=null?l:n:m==null&&(m=u!=null?u:d==="nickname"&&l!=null?l:n),v.push({decorType:"regular",handle:m,key:i+" "+d,label:n,rawData:{photoURI:s,source:d,subtitle:u!=null?u:l},type:"entry"})}}}),o("MWChatComposerMentionsUtils").doesParticipantNameMatch(p,h)&&(_||y||b)){var R=s._(/*BTDS*/"Mention everyone in this chat").toString();S.push({decorType:"regular",handle:p,key:""+a,label:p,rawData:{icon:r("MWXIconGroup"),source:"all",subtitle:R},type:"entry"})}if(_){var L=s._(/*BTDS*/"here").toString();if(o("MWChatComposerMentionsUtils").doesParticipantNameMatch(L,h)){var E=s._(/*BTDS*/"Mention everyone in this chat who is active").toString();S.push({decorType:"regular",handle:L,key:a+"-active",label:L,rawData:{icon:r("MWXIconGroup"),source:"all",subtitle:E},type:"entry"})}}}var k=y||b?[].concat(v.slice(0,m),S):[].concat(v,S).slice(0,m);return k.length<m&&i&&i(h,m-k.length),{entries:k,params:t}}function h(e){switch(e){case d:return"ai";case p:return"t";default:return"p"}}l.aiBotMentionsEntry=f,l.fetchCacheComposerMentionsTypeahead=g,l.commandToRangeType=h}),226);
__d("MessengerLexicalEntityTextNode",["FBLogger","Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getEntity=function(){throw r("FBLogger")("messenger_comet").mustfixThrow("CometMessengerLexicalEntityTextNode does not implement getEntity")},t})(o("Lexical").TextNode);function s(t){return t instanceof e}l.MessengerLexicalEntityTextNode=e,l.isMessengerLexicalEntityTextNode=s}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.replace(" name","");return t=t.replace(" nickname",""),t=t.replace(" secondaryName",""),t}var s=(function(t){function n(n,r){var o,a=n.id,i=n.prefix,l=i===void 0?"@":i,s=n.text;return o=t.call(this,d(s,l),r)||this,o.__contactID=e(a),o.__prefix=l,o}babelHelpers.inheritsLoose(n,t),n.getType=function(){return"actor"},n.clone=function(t){return new n({id:t.__contactID,prefix:t.__prefix,text:m(t.__text,t.__prefix)},t.__key)},n.importJSON=function(t){return u({id:t.id,prefix:t.prefix,text:t.text})};var r=n.prototype;return r.exportJSON=function(){return babelHelpers.extends({},t.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:m(this.__text,this.__prefix),type:"actor"})},r.createDOM=function(n){var e=t.prototype.createDOM.call(this,n);return e.className="xv78j7m xt0e3qv x3jgonx",e.spellcheck=!1,e},r.getEntity=function(){return{id:this.__contactID,isWeak:!1}},r.getRangeType=function(){return o("MWChatComposerTypeaheadUtil").commandToRangeType(m(this.__text,this.__prefix))},n})(o("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function u(e,t){return t===void 0&&(t="segmented"),new s(e).setMode(t).toggleDirectionless()}function c(e){return e instanceof s}function d(e,t){return e.startsWith(t)?e:""+t+e}function m(e,t){return e.startsWith(t)?e.slice(t.length):e}l.MessengerLexicalActorNode=s,l.$createMessengerLexicalActorNode=u,l.$isMessengerLexicalActorNode=c}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t){var n=t.anchorNode,o=t.endOffset,a=t.selectedEntry,i=t.startOffset,l;if(i===0){var s=n.splitText(o);l=s[0]}else{var u=n.splitText(i,o);l=u[1]}if(l==null){r("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+i+", "+o+".");return}var c=e(a);c.setStyle(l.getStyle()),l.replace(c),c.selectNext(0,0)}}l.default=e}),98);
__d("cometMentionsDataEntryText",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t;return(t=e.handle)!=null?t:e.label}i.default=e}),66);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(t,n,r,o,a,i,l){"use strict";var e="(?:\\.[ |$]| |["+r("DocumentMentionsRegex").PUNCTUATION+"]|)",s=75;function u(e,t,n){var r="[^"+e+t+"\\s]",o=new RegExp("(^|\\s|\\()(["+e+"]((?:"+r+n+"){0,"+s+"}))$"),a=50,i=new RegExp("(^|\\s|\\()(["+e+"]((?:"+r+"){0,"+a+"}))$");return{regex:o,regexAlias:i}}function c(t){var n=t.minMatchLength,o=t.name,a=t.triggers,i=t.disallowedChars,l=i===void 0?r("DocumentMentionsRegex").PUNCTUATION:i,s=t.disallowedTerms,c=t.validJoins,d=c===void 0?e:c,m=u(a,l,d),p=m.regex,_=m.regexAlias;return{findMentionableString:function(t){var e=p.exec(t);if(e===null&&(e=_.exec(t)),e!==null){var r=e[1],o=e[3];if(s!=null&&s.includes(o.toLowerCase()))return null;if(o.length>=n)return{leadOffset:e.index+r.length,matchingString:o,replaceableString:e[2]}}return null},name:o}}l.default=c}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(t,n,r,o,a,i,l){"use strict";var e=["@","\\uff20"].join(""),s=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;",u="(?:\\.[ |$]|[ ]['\"]|['\"][ |$]| |["+s+"]|)";function c(t){var n=t.disallowedTerms,o=t.minMatchLength;return r("createCometMentionMatchStrategy")({disallowedChars:s,disallowedTerms:n,minMatchLength:o,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+o.toString()+")",triggers:e,validJoins:u})}l.default=c}),98);
__d("useCometMentionsDataSourceResolverConfig",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useLayoutEffect,d=s.useMemo;function m(e,t){var n=u(function(){e.forEach(function(e){var t=e.dataSource;t.bootstrap()})},[e]);return c(function(){t&&n()},[t,n]),d(function(){var t=new Map;return{bootstrap:n,resolver:function(r){var n={dataSource:null,searchResult:null};if(r==null)return n;var o=t.get(r);if(o!=null)return o;for(var a=0;a<e.length;a++){var i=e[a],l=i.dataSource,s=i.matchStrategy,u=s.findMentionableString(r);if(u!=null){var c={dataSource:l,searchResult:u};return t.set(r,c),c}}return t.set(r,n),n}}},[e,n])}l.default=m}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["isLoading"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){var n=t.viewItemStrategyRenderer;return c(function(t){var o=t.isLoading,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsxs(u.Fragment,{children:[u.jsx(r("CometMentionsViewListStrategy.react"),babelHelpers.extends({},a,{isLoading:!1,viewItemStrategyRenderer:n})),o&&u.jsx(r("CometTypeaheadProgressGlimmer.react"),{})]})},[n])}l.default=d}),98);