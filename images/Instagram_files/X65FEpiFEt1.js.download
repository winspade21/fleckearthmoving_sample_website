;/*FB_PKG_DELIM*/

__d("BaseTimestamp.react",["TimestampUtils","react","react-strict-dom","useServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.date,n=r("useServerTime")(),a=o("TimestampUtils").getTimestamp(n,t);return s.jsx(o("react-strict-dom").html.span,{suppressHydrationWarning:!0,children:a})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("FDSAppleFilled16Icon",["cr:21371"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21371")}),98);
__d("FDSAtSignFilled16Icon",["cr:21372"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21372")}),98);
__d("FDSBeachFilled16Icon",["cr:21373"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21373")}),98);
__d("FDSBulbFilled16Icon",["cr:13959"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13959")}),98);
__d("FDSEmojiFilled16Icon",["cr:14879"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14879")}),98);
__d("FDSEmojiOutline16Icon",["cr:14882"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14882")}),98);
__d("FDSFlagFilled16Icon",["cr:14938"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14938")}),98);
__d("FDSFlagOutline16Icon",["cr:21375"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21375")}),98);
__d("FDSPawFilled16Icon",["cr:15370"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15370")}),98);
__d("FDSRecentsFilled16Icon",["cr:21377"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21377")}),98);
__d("FDSSoccerFilled16Icon",["cr:15682"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15682")}),98);
__d("CometEmojiCategories",["ix","FDSAppleFilled16Icon","FDSAtSignFilled16Icon","FDSBeachFilled16Icon","FDSBulbFilled16Icon","FDSEmojiFilled16Icon","FDSEmojiOutline16Icon","FDSFlagFilled16Icon","FDSFlagOutline16Icon","FDSPawFilled16Icon","FDSRecentsFilled16Icon","FDSSoccerFilled16Icon","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u="recent",c=[{icon:(e=o("fbicon"))._(s("577853"),16),iconFilled:r("FDSRecentsFilled16Icon"),id:u},{icon:r("FDSEmojiOutline16Icon"),iconFilled:r("FDSEmojiFilled16Icon"),id:"1795127124089732"},{icon:e._(s("727145"),16),iconFilled:r("FDSPawFilled16Icon"),id:"1117693864983467"},{icon:e._(s("607950"),16),iconFilled:r("FDSAppleFilled16Icon"),id:"337864463246293"},{icon:e._(s("585295"),16),iconFilled:r("FDSSoccerFilled16Icon"),id:"1251900681534964"},{icon:e._(s("1210827"),16),iconFilled:r("FDSBeachFilled16Icon"),id:"189719128099581"},{icon:e._(s("492706"),16),iconFilled:r("FDSBulbFilled16Icon"),id:"629625430553130"},{icon:e._(s("478990"),16),iconFilled:r("FDSAtSignFilled16Icon"),id:"1642676819358192"},{icon:r("FDSFlagOutline16Icon"),iconFilled:r("FDSFlagFilled16Icon"),id:"1068040353319407"}];l.RECENTS_CATEGORY_ID=u,l.ORDERED_CATEGORIES=c}),98);
__d("FocusTableUtils",["FocusManager","filterNulls","focusKeyboardEventPropagation","focusScopeQueries","setElementCanTab"],(function(t,n,r,o,a,i,l){function e(e){return e.length===1}function s(e){return e instanceof HTMLElement||e instanceof SVGElement}function u(e,t){for(var n,o,a,i=t instanceof HTMLElement&&t.id!==""?t.id:null,l=new Set(t instanceof HTMLElement?r("filterNulls")([].concat(((n=t.getAttribute("aria-labelledby"))!=null?n:"").split(" "),((o=t.getAttribute("aria-describedby"))!=null?o:"").split(" "),((a=t.getAttribute("aria-owns"))!=null?a:"").split(" "),[t.getAttribute("aria-errormessage")])).filter(function(e){return e!==""}):[]),u=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,{acceptNode:function(n){return n===t||n.nodeType===Node.TEXT_NODE&&n.textContent.trim()===""||s(n)&&l.has(n.id)||s(n)&&n.getAttribute("aria-hidden")==="true"||n instanceof HTMLLabelElement&&(n.htmlFor===i||n.contains(t))?NodeFilter.FILTER_REJECT:n.hasChildNodes()?NodeFilter.FILTER_SKIP:s(n)&&n.getAttribute("aria-label")==null&&n.getAttribute("aria-labelledby")==null&&n.getAttribute("aria-describedby")==null&&n.getAttribute("alt")==null&&n.getAttribute("title")==null?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}}),c=u.currentNode;c===e;)c=u.nextNode();return c!=null}var c=new Set(["button","checkbox","radio","reset","submit"]),d=new Set(["checkbox","link","switch","radio","button"]),m=new Set(["a","button"]);function p(e){var t=e.getAttribute("role"),n=e.tagName.toLowerCase(),r=e instanceof HTMLInputElement?e.type:null;return!!(e instanceof HTMLInputElement&&c.has(r)||d.has(t)||m.has(n))}function _(e){for(var t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(t){return t instanceof HTMLElement&&p(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),r=n.nextNode();r;)t.push(r),r=n.nextNode();return t}function f(e,t){if(!t)return null;var n=e.DO_NOT_USE_queryFirstNode(o("focusScopeQueries").tableCellScopeQuery);if(n==null)return null;var r=_(n),a=r!=null?r:[],i=a[0],l=babelHelpers.arrayLikeToArray(a).slice(1);if(i!=null&&l.length===0&&!u(n,i))return i}function g(e,t,n){if(t){var r=t.scopeRef.current;if(r!==null){var a,i,l=f(r,(a=t.allowWithinCellNavigation)!=null?a:!1),s=(i=l!=null?l:r.DO_NOT_USE_queryFirstNode(e))!=null?i:t.focusStaticCells===!0?r.DO_NOT_USE_queryFirstNode(o("focusScopeQueries").tableCellScopeQuery):null;s!==null&&(document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!1,t.focusStaticCells),o("setElementCanTab").setElementCanTab(s,!0,t.focusStaticCells),o("FocusManager").focusElement(s),n!=null&&(n.preventDefault(),o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n)))}}}function h(e,t,n){if(t!=null){var r=t.DO_NOT_USE_queryFirstNode(e);r!==null&&(o("setElementCanTab").setElementCanTab(r,!0),o("FocusManager").focusElement(r),n.preventDefault(),o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n))}}function y(e,t,n,r,o){var a=r[n],i=S(a,o),l=0,s,u,c;do{if(s=t-l,s>=0&&(c=b(a,s,o,e),c)||(u=t+l,u<=i&&(c=b(a,u,o,e),c)))return c;l++}while(s>=0&&u<=i);return null}function C(e,t,n,r,o,a,i,l){var s=t.onNavigate;if(s){var u=!1,c=I(o,r,l),d=c[1],m=D(t,r,i),p=m[0],_=m[1];if(p===null)return!1;var f={currentCellIndex:d,currentRowIndex:_,event:n,focusCell:function(t,r){g(r||a,t,n)},getCell:function(t,n){var e=p[t];return e!=null?b(e,n,l):null},getCellByTag:function(t){var e=y(t,d,_,p,l);if(e)return e;for(var n=p.length,r=_+1;;){if(r===_)return null;if(r>n-1){r=0;continue}if(e=y(t,d,r,p,l),e)return e;r++}return null},preventDefault:function(){u=!0},type:e};if(s(f),u)return!0}return!1}function b(e,t,n,r){for(var o=e.getChildContextValues(n).filter(function(e){return e!=null&&(r===void 0||e.tag===r)}),a=0,i=0;i<o.length;i++){var l=o[i];if(l){var s;if(a+=(s=l.colSpan)!=null?s:1,a>t)return l}}return null}function v(e,t,n,r,o){var a=b(t,n,r);if(a!==null){g(e,a,o);return}var i=t.getChildContextValues(r).filter(Boolean);i.length>0&&g(e,i[i.length-1],o)}function S(e,t){for(var n,r=(n=e.getChildContextValues(t).filter(Boolean))!=null?n:[],o=0,a=0;a<r.length;a++){var i,l=r[a],s=l&&((i=l.colSpan)!=null?i:1);o+=s}return o}function R(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r],a=b(o,e,n);if(a!==null)return r+1}return 0}function L(e,t,n){for(var r=0;r<e.length;r++){var o=e[r],a=b(o,t,n);if(a!==null)return r}return-1}function E(e,t){for(var n=0,r=0;r<e.length;r++){var o=e[r];if(o!==null){if(o.scopeRef.current===t)return[r,r+n];var a=o.colSpan;typeof a=="number"&&(n+=a-1)}}return[-1,-1]}function k(e,t){return e.getChildContextValues(t).filter(Boolean)}function I(e,t,n){var r=k(t,n);if(r.length>0){var o=E(r,e),a=o[0],i=o[1];return[r,a,i]}return[null,-1,-1]}function T(e,t,n){if(e){var r=e.scopeRef.current;if(r!==null){for(var o=r.getChildContextValues(t),a=[],i=0;i<o.length;i++){var l=o[i];if(l){var s,u,c=(s=l.scopeRef)==null?void 0:s.current,d=(u=n==null?void 0:n(l))!=null?u:!0;c&&d&&a.push(c)}}return a}}return null}function D(e,t,n,r){var o=T(e,n,r);if(t&&o&&o.length>0){var a=o.indexOf(t);return[o,a]}return[null,-1]}function x(e){var t=e.altKey,n=e.ctrlKey,r=e.metaKey,o=e.shiftKey;return t===!0||n===!0||r===!0||o===!0}l.isPrintableCharacter=e,l.hasUnassociatedLeafNodes=u,l.isArrowKeyLessOperationElement=p,l.getCellSingleInteractiveContentNode=f,l.focusCell=g,l.focusRow=h,l.checkRowForMatch=y,l.handleOnNavigateBehavior=C,l.getCellByColumnIndex=b,l.focusCellByColumnIndex=v,l.getTotalSpan=S,l.getLastRowNumInColumn=R,l.getFirstRowIndexInColumn=L,l.getCellIndexes=E,l.getRowCells=k,l.getRowCellsWithIndexes=I,l.getRows=T,l.getRowsWithIndex=D,l.hasModifierKey=x}),98);
__d("FocusTable.react",["FocusManager","FocusTableUtils","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useRef,p=5;function _(e){var t=s.unstable_Scope,n=s.createContext(null),r=s.createContext(null),a=s.createContext(null);function l(r){var a=r.children,i=r.wrapX,l=r.wrapY,u=r.wrapXToNextLine,c=r.wrapYToNextColumn,f=c===void 0?!1:c,g=r.tabScopeQuery,h=r.allowModifiers,y=r.pageJumpSize,C=y===void 0?p:y,b=r.onNavigate,v=r.disabled,S=r.withinCellTabScopeQuery,R=r.focusStaticCells,L=R===void 0?!1:R,E=m(null),k=d(function(){return{scopeRef:E,wrapXToNextLine:u,wrapYToNextColumn:f,wrapX:i,wrapY:l,tabScopeQuery:g,allowModifiers:h,pageJumpSize:C,onNavigate:b,disabled:v,withinCellTabScopeQuery:S,focusStaticCells:L}},[u,f,i,l,g,h,C,b,v,S,L]),I=m(!1),T=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(E,d(function(){return{onFocusWithin:function(n){I.current||(I.current=!0,E.current&&e&&(_(E.current,e,!1),o("setElementCanTab").setElementCanTab(n.target,!0,L)))}}},[I,L]));return s.jsx(n.Provider,{value:k,children:s.jsx(t,{ref:T,children:a})})}l.displayName=l.name+" [from "+i.id+"]";function u(e){var n=e.children,o=m(null),a=d(function(){return{scopeRef:o}},[]);return s.jsx(r.Provider,{value:a,children:s.jsx(t,{ref:o,children:n})})}u.displayName=u.name+" [from "+i.id+"]";function _(e,t,n){var r=e.DO_NOT_USE_queryAllNodes(t);if(r!=null)for(var a=0;a<r.length;a++){var i=r[a];o("setElementCanTab").setElementCanTab(i,n)}}function g(i){var l,u=i.children,p=i.colSpan,g=i.tag,h=c(n),y=(l=c(r))==null?void 0:l.scopeRef,C=m(null),b=m(!1),v=(h==null?void 0:h.withinCellTabScopeQuery)!=null,S=h==null?void 0:h.focusStaticCells;o("ReactKeyboardEvent.react").useKeyboard(C,d(function(){return{onKeyDown:function(n){if(!(h&&h.disabled===!0)&&!o("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(n)){var t=C.current;if(!(t===null||h===null)&&y!=null){var i=y.current;if(i!==null){var l=n.key,s=v&&o("FocusTableUtils").getCellSingleInteractiveContentNode(t,v)==null,u=b.current;if(l==="Tab"&&h){var c=h.tabScopeQuery,d=h.scopeRef.current;if(c&&d){if(o("FocusTableUtils").handleOnNavigateBehavior("TAB",h,n,i,t,c,r,a))return;var m=h.withinCellTabScopeQuery;u&&m!=null?n.shiftKey?o("FocusManager").focusPreviousContained(m,t,n,!0):o("FocusManager").focusNextContained(m,t,n,!0):(_(d,c,!1),document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!0,S))}return}var p=n.ctrlKey||n.metaKey,g=l;switch(o("Locale").isRTL()&&(l==="ArrowRight"?g="ArrowLeft":l==="ArrowLeft"&&(g="ArrowRight")),g){case"Home":{if(o("FocusTableUtils").handleOnNavigateBehavior("HOME",h,n,i,t,e,r,a)||u)return;var R=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),L=R[0],E=R[1],k=o("FocusTableUtils").getRowsWithIndex(h,i,r),I=k[0],T=k[1];if(L!==null&&I!==null){if(p){if(T!==0||E!==0){var D=I[0];o("FocusTableUtils").focusCellByColumnIndex(e,D,0,a,n)}}else if(E!==0){var x=I[T];o("FocusTableUtils").focusCellByColumnIndex(e,x,0,a,n)}}return}case"End":{if(o("FocusTableUtils").handleOnNavigateBehavior("END",h,n,i,t,e,r,a)||u)return;var $=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),P=$[0],N=$[1],M=o("FocusTableUtils").getRowsWithIndex(h,i,r),w=M[0],A=M[1];if(P!==null&&w!==null)if(p){if(A!==w.length-1||N!==P.length-1){var F=w[w.length-1],O=F.getChildContextValues(a).filter(Boolean);O.length>0&&o("FocusTableUtils").focusCell(e,O[O.length-1],n)}}else N!==P[P.length-1]&&o("FocusTableUtils").focusCell(e,P[P.length-1],n);return}case"ArrowUp":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("PREV_ROW",h,n,i,t,e,r,a)||u)return;var B=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),W=B[0],q=B[1],U=B[2];if(W!==null&&h){var V=o("FocusTableUtils").getRowsWithIndex(h,i,r),H=V[0],G=V[1];if(H!==null)if(G===0){var z=h.wrapY,j=h.wrapYToNextColumn;if(z===!0&&!p){var K=H[H.length-1];o("FocusTableUtils").focusCellByColumnIndex(e,K,U,a,n)}else if(j===!0&&!p&&q>0){var Q=U-1,X=o("FocusTableUtils").getLastRowNumInColumn(Q,H,a),Y=H[X-1];o("FocusTableUtils").focusCellByColumnIndex(e,Y,Q,a,n)}}else if(p){var J=H[0];o("FocusTableUtils").focusCellByColumnIndex(e,J,U,a,n)}else{var Z=H[G-1];o("FocusTableUtils").focusCellByColumnIndex(e,Z,U,a,n)}}return}case"PageUp":{if(o("FocusTableUtils").handleOnNavigateBehavior("PAGE_UP",h,n,i,t,e,r,a)||u)return;var ee=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),te=ee[0],ne=ee[2],re=o("FocusTableUtils").getRowsWithIndex(h,i,r),oe=re[0],ae=re[1];if(te!==null&&oe!==null&&h&&ae!==0){var ie=h.pageJumpSize,le=oe[Math.max(0,ae-ie)];o("FocusTableUtils").focusCellByColumnIndex(e,le,ne,a,n)}return}case"ArrowDown":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("NEXT_ROW",h,n,i,t,e,r,a)||u)return;var se=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),ue=se[0],ce=se[2],de=o("FocusTableUtils").getRowsWithIndex(h,i,r),me=de[0],pe=de[1];if(ue!==null&&me!==null&&h&&pe!==-1)if(pe===me.length-1){var _e=h.wrapY,fe=h.wrapYToNextColumn;if(_e===!0&&!p){var ge=me[0];o("FocusTableUtils").focusCellByColumnIndex(e,ge,ce,a,n)}else if(fe===!0&&!p){var he=ce+1,ye=o("FocusTableUtils").getFirstRowIndexInColumn(me,he,a);if(ye!==-1){var Ce=me[ye];o("FocusTableUtils").focusCellByColumnIndex(e,Ce,he,a,n)}}}else if(p){var be=me[me.length-1];o("FocusTableUtils").focusCellByColumnIndex(e,be,ce,a,n)}else{var ve=me[pe+1];o("FocusTableUtils").focusCellByColumnIndex(e,ve,ce,a,n)}return}case"PageDown":{if(o("FocusTableUtils").handleOnNavigateBehavior("PAGE_DOWN",h,n,i,t,e,r,a)||u)return;var Se=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),Re=Se[0],Le=Se[2],Ee=o("FocusTableUtils").getRowsWithIndex(h,i,r),ke=Ee[0],Ie=Ee[1];if(Re!==null&&ke!==null&&h&&Ie!==ke.length-1){var Te=h.pageJumpSize,De=ke[Math.min(ke.length-1,Ie+Te)];o("FocusTableUtils").focusCellByColumnIndex(e,De,Le,a,n)}return}case"ArrowLeft":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("PREV_CELL",h,n,i,t,e,r,a)||u)return;var xe=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),$e=xe[0],Pe=xe[1],Ne=o("FocusTableUtils").getRowsWithIndex(h,i,r),Me=Ne[0],we=Ne[1];if($e!==null&&Me!==null&&h){if(Pe>0)o("FocusTableUtils").focusCell(e,$e[Pe-1],n);else if(Pe===0){var Ae=h.wrapX,Fe=h.wrapXToNextLine;Ae===!0?o("FocusTableUtils").focusCell(e,$e[$e.length-1],n):Fe===!0&&Me[we-1]&&o("FocusTableUtils").focusCellByColumnIndex(e,Me[we-1],o("FocusTableUtils").getTotalSpan(Me[we-1],a),a,n)}}return}case"ArrowRight":{if(f(n,h)||o("FocusTableUtils").handleOnNavigateBehavior("NEXT_CELL",h,n,i,t,e,r,a)||u)return;var Oe=o("FocusTableUtils").getRowCellsWithIndexes(t,i,a),Be=Oe[0],We=Oe[1],qe=o("FocusTableUtils").getRowsWithIndex(h,i,r),Ue=qe[0],Ve=qe[1];if(Be!==null&&Ue!==null&&h&&We!==-1)if(We===Be.length-1){var He=h.wrapX,Ge=h.wrapXToNextLine;He===!0?o("FocusTableUtils").focusCell(e,Be[0],n):Ge===!0&&Ue[Ve+1]&&o("FocusTableUtils").focusCellByColumnIndex(e,Ue[Ve+1],0,a,n)}else o("FocusTableUtils").focusCell(e,Be[We+1],n);return}case"Enter":{if(!s||u||o("FocusTableUtils").handleOnNavigateBehavior("ENTER",h,n,i,t,e,r,a))return;var ze=h==null?void 0:h.withinCellTabScopeQuery;if(ze){var je=t.DO_NOT_USE_queryFirstNode(ze);je!=null&&(b.current=!0,_(t,ze,!0),o("FocusManager").focusElement(je))}return}case"Escape":{if(!s||!u||o("FocusTableUtils").handleOnNavigateBehavior("ESC",h,n,i,t,e,r,a))return;var Ke=h==null?void 0:h.tabScopeQuery;if(Ke){b.current=!1;var Qe=t.DO_NOT_USE_queryAllNodes(Ke);if(Qe!==null)for(var Xe=0;Xe<Qe.length;Xe++){var Ye=Qe[Xe];o("setElementCanTab").setElementCanTab(Ye,!1,S)}o("FocusTableUtils").focusCell(Ke,{scopeRef:C},n)}return}default:o("FocusTableUtils").isPrintableCharacter(l)&&o("FocusTableUtils").handleOnNavigateBehavior("PRINT_CHAR",h,n,i,t,e,r,a)}}}}}}},[y,h,v]));var R=d(function(){return{scopeRef:C,colSpan:p,tag:g,allowWithinCellNavigation:v,focusStaticCells:S}},[p,v,g,S]),L=h==null?void 0:h.tabScopeQuery,E=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(C,d(function(){return{onFocusWithin:function(n){if(e!=null){var t,r=(t=C.current)==null?void 0:t.DO_NOT_USE_queryFirstNode(e),a=n.target===r;if(a&&r&&!o("setElementCanTab").canElementTab(r)){var i=h==null?void 0:h.scopeRef.current;i&&_(i,e,!1),o("setElementCanTab").setElementCanTab(r,!0,S)}}if(L!=null){var l,s=(l=C.current)==null?void 0:l.DO_NOT_USE_queryFirstNode(L),u=n.target===s,c=R.allowWithinCellNavigation===!0;u&&c&&o("FocusTableUtils").focusCell(L,R),s!=null&&!u&&c&&n.target instanceof HTMLElement&&!o("FocusTableUtils").isArrowKeyLessOperationElement(n.target)&&(b.current=!0)}},onBlurWithin:function(){b.current=!1}}},[L,R,h==null?void 0:h.scopeRef]));return s.jsx(a.Provider,{value:R,children:s.jsx(t,{ref:E,children:u})})}return g.displayName=g.name+" [from "+i.id+"]",[l,u,g]}function f(e,t){if(o("FocusTableUtils").hasModifierKey(e)&&t){var n=t.allowModifiers;if(n!==!0)return!0}}l.createFocusTable=_}),98);
__d("IGDBroadcastChannelLoggerDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("IGDBroadcastChannelLogger").__setRef("IGDBroadcastChannelLoggerDeferred");function s(t){e.onReady(function(e){return e.log(t)})}l.log=s}),98);
__d("IGDBroadcastChannelLoggingShapes",[],(function(t,n,r,o,a,i){"use strict";var e={action:"tap",event:"message_options_rendered",parent_surface:"broadcast",source:"message_options_dot_menu",surface:"thread_view"},l={action:"tap",event:"end_chat_dialog_rendered",parent_surface:"broadcast",source:"end_chat_cta_button",surface:"thread_details"},s={action:"tap",event:"thread_end_successful",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"},u={action:"tap",event:"thread_end_attempt",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"},c={action:"tap",event:"thread_end_error",parent_surface:"broadcast",source:"end_chat",surface:"thread_details"},d={action:"tap",event:"thread_end_cancel",parent_surface:"broadcast",source:"end_chat_dialog",surface:"thread_details"},m={action:"view",event:"retrieve_polls_responses_details",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},p={action:"view",event:"poll_responses_render_error",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},_={action:"view",event:"poll_responses_render_successful",parent_surface:"instagram",source:"poll_responses",surface:"thread_view"},f={action:"tap",event:"retrieve_message_reactions_details",parent_surface:"instagram",source:"view_reactions_button",surface:"thread_view"},g={action:"view",event:"message_reactions_render_error",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},h={action:"view",event:"message_reactions_render_successful",parent_surface:"instagram",source:"message_reactions",surface:"thread_view"},y={action:"view",event:"fetch_seen_active_count_error",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},C={action:"view",event:"fetch_seen_active_count_successful",parent_surface:"instagram",source:"view_seen_active_count",surface:"thread_view"},b={action:"tap",event:"thread_create_attempt",parent_surface:"broadcast",source:"create_broadcast_chat_button",surface:"chat_setup"},v={action:"view",event:"thread_create_successful",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"thread_view"},S={action:"view",event:"thread_create_error",parent_surface:"broadcast",source:"create_broadcast_chat",surface:"chat_setup"},R={action:"view",event:"broadcast_chat_option_viewed",parent_surface:"broadcast",source:"omnipicker_view",surface:"dm_creation_omnipicker"},L={action:"tap",event:"creator_nux_sheet_rendered",parent_surface:"broadcast",source:"create_broadcast_chat_item",surface:"dm_creation_omnipicker"},E={action:"tap",event:"chat_setup_sheet_rendered",parent_surface:"broadcast",source:"create_broadcast_chat_item",surface:"dm_creation_omnipicker"},k={action:"tap",event:"chat_setup_sheet_rendered",parent_surface:"broadcast",source:"get_started_button",surface:"broadcast_chat_creator_nux"},I={action:"impression",event:"exit_chat_setup_sheet",parent_surface:"broadcast",source:"back_button",surface:"chat_setup"};function T(e){return{action:"impression",event:"thread_view_desktop_web_rendered",extra:{threadIgid:e},parent_surface:"broadcast",source:"broadcast_chat_invite_link",surface:"thread_view"}}function D(e){return{action:"impression",event:"thread_view_mobile_web_rendered",extra:{threadIgid:e},parent_surface:"broadcast",source:"broadcast_chat_invite_link",surface:"thread_view"}}function x(e){return{action:"impression",event:"download_ig_button_rendered",extra:{threadIgid:e},parent_surface:"broadcast",source:"download_ig_button",surface:"thread_view"}}i.MESSAGE_OPTIONS_RENDERED_SHAPE=e,i.END_CHAT_DIALOG_RENDERED_SHAPE=l,i.THREAD_END_SUCCESSFUL_SHAPE=s,i.THREAD_END_ATTEMPT_SHAPE=u,i.THREAD_END_ERROR_SHAPE=c,i.THREAD_END_CANCEL_SHAPE=d,i.POLL_DETAIL_DIALOG_RENDERED_SHAPE=m,i.POLL_DETAIL_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=p,i.POLL_DETAIL_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=_,i.REACTIONS_FOOTER_BUTTON_CLICK_SHAPE=f,i.REACTIONS_DIALOG_RESPONSE_FETCH_FAILED_SHAPE=g,i.REACTIONS_DIALOG_RESPONSE_FETCH_SUCCESSFUL_SHAPE=h,i.SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE=y,i.SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE=C,i.CREATE_BROADCAST_CHANNEL_ATTEMPT_SHAPE=b,i.CREATE_BROADCAST_CHANNEL_SUCCESS_SHAPE=v,i.BROADCAST_CHANNEL_SUCCESS_FAILURE_SHAPE=S,i.BROADCAST_CHAT_OPTION_VIEWED_SHAPE=R,i.CREATOR_NUX_SHEET_RENDERED_SHAPE=L,i.CHAT_SETUP_SHEET_RENDERED_SHAPE=E,i.CHAT_SETUP_SHEET_RENDERED_FROM_NUX_SHAPE=k,i.EXIT_CHAT_SETUP_SHEET_SHAPE=I,i.DESKTOP_WEB_LOGGED_OUT_PREVIEW_IMPRESSION=T,i.MOBILE_WEB_LOGGED_OUT_PREVIEW_IMPRESSION=D,i.MOBILE_WEB_LOGGED_OUT_DOWNLOAD_APP_BUTTON_IMPRESSION=x}),66);
__d("IGDEmojiPickerQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24360091233577620"}),null);
__d("IGDEmojiPickerQuery$Parameters",["IGDEmojiPickerQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDEmojiPickerQuery_instagramRelayOperation"),metadata:{},name:"IGDEmojiPickerQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDEmojiPicker.entrypoint",["IGDEmojiPickerQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryRef:{parameters:r("IGDEmojiPickerQuery$Parameters"),variables:{category_ids:t.categoryIDs}}}}},root:r("JSResourceForInteraction")("IGDEmojiPicker.react").__setRef("IGDEmojiPicker.entrypoint")};l.default=e}),98);
__d("IGDEmojiPickerPopoverFallback.react",["IGDSBox.react","IGDSPopoverLoadingState.react","IGDSSpinner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=316,c=340;function d(e){var t=o("react-compiler-runtime").c(3),n=e.withArrow,a=n===void 0?!0:n,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("IGDSBox.react"),{height:u,justifyContent:"center",width:c,children:s.jsx(r("IGDSBox.react"),{alignSelf:"center",children:s.jsx(r("IGDSSpinner.react"),{})})}),t[0]=i):i=t[0];var l;return t[1]!==a?(l=s.jsx(r("IGDSPopoverLoadingState.react"),{popoverContent:i,withArrow:a}),t[1]=a,t[2]=l):l=t[2],l}l.default=d}),98);
__d("IgdHideReportedMessageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5323"),s=o("FalcoLoggerInternal").create("igd_hide_reported_message",e),u=s;l.default=u}),98);
__d("LSMessageHiddenState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_HIDDEN:0,POST_SEND_FRICTION:1,HIDDEN_REPORTED:2});i.default=e}),66);
__d("MWChatMessageId",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){if(e.type==="sent")return e.value.messageId}function u(e){if(e.type==="sent")return e.value.threadId}function c(e){if(e.type==="sent")return e.value.timestamp}function d(t,n,r){return{type:"sent",value:{messageId:n,threadId:(e||(e=o("I64"))).of_string(t),timestamp:e.of_string(r)}}}function m(t){return{type:"sent",value:{messageId:t,threadId:(e||(e=o("I64"))).zero,timestamp:e.zero}}}var p={type:"sent",value:{messageId:"",threadId:(e||(e=o("I64"))).zero,timestamp:e.zero}};l.getMessageId=s,l.getThreadId=u,l.getTimestamp=c,l.makeSent=d,l.emptyForExamplesWithId=m,l.emptyForExamples=p}),98);
__d("MWEditedEyebrowLabel.react",["fbt","BaseMiddot.react","MessengerWebUXLogger","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.separatorStyle,n=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),a=s._(/*BTDS*/"Edited");return u.jsxs(u.Fragment,{children:[t!=null&&u.jsx(o("react-strict-dom").html.span,{style:t,children:u.jsx(r("BaseMiddot.react"),{})}),u.jsx(o("react-strict-dom").html.span,{"aria-label":a,"data-testid":void 0,ref:n,children:a})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useContext,p=c.useEffect,_=c.useMemo;function f(e,t){var n=e!=null?e:.4,r=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),a=parseInt(t.slice(5,7),16),i=n.toFixed(4);return"rgba("+r+","+o+","+a+","+i+")"}function g(e){return e.type==="solid"?e.color:e.colors[0]}function h(e){return"#"+e.slice(2)}function y(e){var t=(s||(s=o("I64"))).to_int32(e),n=(t&16711680)>>>16,r=(t&65280)>>>8,a=t&255,i=function(t){return t.toString(16).padStart(2,"0")};return"#"+(i(n)+(i(r)+i(a)))}var C=d({clearTheme:r("emptyFunction"),setTheme:r("emptyFunction"),theme:n("cr:4128")});function b(){return m(C).theme}function v(){var e=m(C),t=e.clearTheme,n=e.setTheme;return p(function(){return t},[t]),[n,t]}function S(e){var t=e.children,n=e.clearTheme,o=e.setTheme,a=e.theme,i=_(function(){return{clearTheme:n!=null?n:r("emptyFunction"),setTheme:o!=null?o:r("emptyFunction"),theme:a}},[n,o,a]);return u.jsx(C.Provider,{value:i,children:t})}S.displayName=S.name+" [from "+i.id+"]";function R(e){return e.type==="gradient"}l.defaultTheme=n("cr:4128"),l.lighten=f,l.top=g,l.aRGBtoHex=h,l.intToHex=y,l.useTheme=b,l.usePreview=v,l.MWThemeProvider=S,l.isGradient=R}),98);
__d("MWXTextImpl.react",["cr:6221","cr:7492","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["type"],u,c=u||(u=o("react"));function d(t){var r=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=o.type,i=babelHelpers.objectWithoutPropertiesLoose(o,s);return n("cr:6221")!==null?c.jsx(n("cr:6221"),babelHelpers.extends({ref:r},o)):n("cr:7492")!==null?c.jsx(n("cr:7492"),babelHelpers.extends({type:a==="headlineEmphasized5"?"headlineEmphasized4":a==="entityHeaderMeta3"?"entityHeaderMeta2":a},i,{ref:r})):null}d.displayName=d.name+" [from "+i.id+"]";var m=d,p=m;l.default=p}),98);
__d("MWXText.react",["MWXTextImpl.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("MWXTextImpl.react"),babelHelpers.extends({ref:n},o))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWPDateBreak.react",["BaseHeading.react","BaseTimestamp.react","MWTheme.react","MWXText.react","formatDate","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.renderTextWrapper,n=e.timestamp,o=s.jsx("span",{className:"x186z157 xk50ysn",children:r("formatDate")(new Date(n),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})});return t!=null?t(o):o}u.displayName=u.name+" [from "+i.id+"]";function c(e){var t=e.renderTextWrapper,n=e.timestamp,a=o("MWTheme.react").useTheme();return s.jsxs(r("BaseHeading.react"),{testid:void 0,children:[s.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:s.jsx(r("BaseTimestamp.react"),{date:new Date(n)})}),s.jsx("div",babelHelpers.extends({"aria-hidden":!0},{0:{className:"xjpr12u xr9ek0c x2b8uid"},1:{className:"xjpr12u xr9ek0c x2b8uid x1eb86dx"}}[!!o("MWTheme.react").isGradient(a)<<0],{"data-scope":"date_break",children:s.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:s.jsx(u,{renderTextWrapper:t,timestamp:n})})}))]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWUnvaultedText",["cr:2472","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u=function(t,r){return n("cr:2472")==null||r==null||r===""?r:t?n("cr:2472").unvaultOrThrow(r):n("cr:2472").unvault(r,!0)};function c(e,t){var n=s(function(){return u(e,t)},[e,t]);return n}l.getMWUnvaultedText=u,l.useMWUnvaultedText=c}),98);
__d("MWV2MessageRowIsRowFocusedContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m={isDialogOpened:!1,setFocused:r("emptyFunction"),setIsDialogOpened:r("emptyFunction")},p=c(m);function _(){return d(p)}function f(e){var t=e.children,n=e.value,r=p.Provider;return s.jsx(r,{value:n,children:t})}f.displayName=f.name+" [from "+i.id+"]",l.context=p,l.useMWV2MessageRowIsRowFocusedContext=_,l.MWV2MessageRowIsRowFocusedContextProvider=f}),98);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s={color:r("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(e||(e=o("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};l.default=s}),98);
__d("compactMap",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){for(var n=e.length,r=[],o=0,a=0;a<n;++a){var i=t(e[a],a);i!=null&&(r[o++]=i)}return r}i.default=e}),66);
__d("isMWEditedMessage",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.editCount!=null&&(e||(e=o("I64"))).gt(t.editCount,(e||(e=o("I64"))).zero);return n&&!t.isUnsent}l.default=s}),98);
__d("useIGDBroadcastChannelLogger",["I64","IGDBroadcastChannelLoggerDeferred","Int64Hooks","ReQL","asyncToGeneratorRuntime","react-compiler-runtime","usePolarisViewer","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var a=o("react-compiler-runtime").c(7),i=(s||(s=r("useReStore")))(),l=r("usePolarisViewer")(),u;if(a[0]!==(l==null?void 0:l.id)){var d;u=(e||(e=o("I64"))).of_string((d=l==null?void 0:l.id)!=null?d:"0"),a[0]=l==null?void 0:l.id,a[1]=u}else u=a[1];var m=u,p,_;a[2]!==m||a[3]!==i||a[4]!==t?(p=(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r=t!=null?yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.ig_thread_info).getKeyRange(t)):null,a=r==null?void 0:r.igThreadId,l=t!=null?yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.threads).getKeyRange(t).map(c)):null;o("IGDBroadcastChannelLoggerDeferred").log(babelHelpers.extends({},n,{actor_id:(e||(e=o("I64"))).to_string(m),consistent_thread_fbid:l!=null?(e||(e=o("I64"))).to_string(l):void 0,ig_thread_id:a!=null?a:void 0}))});return function(t){return r.apply(this,arguments)}})(),_=[m,i,t],a[2]=m,a[3]=i,a[4]=t,a[5]=p,a[6]=_):(p=a[5],_=a[6]);var f=o("Int64Hooks").useCallbackInt64(p,_);return f}function c(e){return e.consistentThreadFbid}l.default=u}),98);
__d("useIsSecureMessage",["LSMessagingThreadTypeUtil","ReQL","ReQLSuspense"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r,a=(r=o("ReQLSuspense").useFirst(function(){return t==null?o("ReQL").empty():o("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(t.threadKey).map(function(e){var t=e.threadType;return t})},[e,t],i.id+":37"))!=null?r:n.fallbackThreadType;if(a==null){var l;return(l=n.fallbackIsSecure)!=null?l:!1}return o("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}l.default=e}),98);
__d("useMWGetOtherUserContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t,n,a){var l=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),d=(s||(s=o("I64"))).equal(u,t),m=c(function(){return a},[].concat(a));return o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isOneToOne(n)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId"]).getKeyRange(t),o("ReQL").fromTableAscending(l.tables.contacts,a)).filter(function(e){var t=e[0],n=e[1];return d||!(s||(s=o("I64"))).equal(t.contactId,u)}).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[n,l,t,d,u,m],i.id+":35")}l.default=d}),98);
__d("useStringWithSubstitutions",["fbt","CometLruCache","CurrentMessengerUser","Env","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","Promise","ReQL","ReQLSuspense","gkx","nullthrows","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=m||(m=o("react")),_=p.useEffect,f=p.useMemo,g=(c||(c=r("Env"))).isMessengerDotComOnComet?"Messenger":r("gkx")("22979")?"Instagram":"Facebook",h=s._(/*BTDS*/"{Platform Name} user",[s._param("Platform Name",g)]).toString(),y=/(\$?)\$([a-zA-Z_]+)(?:\((.*?)\))?/g,C=/()(@)(?:(\d*?)@msgr)/g,b=o("CometLruCache").create(100);function v(t,a){var i=(d||(d=o("I64"))).to_string(a);return b.has(i)?(e||(e=n("Promise"))).resolve():(b.set(i,!0),r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(t),{authorityLevel:d.of_int32(r("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:d.of_int32(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:d.of_int32(r("LSContactIdType").FBID),contactType:d.of_int32(r("LSContactType").USER),contactViewerRelationship:d.of_int32(r("LSContactViewerRelationship").UNKNOWN),gender:d.of_int32(r("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:a===o("CurrentMessengerUser").getID(),workForeignEntityType:d.of_int32(r("LSContactWorkForeignEntityType").UNKNOWN)}))}function S(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1;e[o][0]<t?n=o+1:r=o-1}return r}function R(e,t,n,r){var o=[[-1,0]],a=e.replace(n,function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=n[n.length-2],l=r.apply(void 0,[e].concat(n));return l.length===e.length||o.push([i,e.length-l.length+o[o.length-1][1]]),l});if(o.length===1)return{textWithSubstitutions:a,updatedRanges:t};var i=[];for(var l of t){var s=S(o,l.offset);i.push(babelHelpers.extends({},l,{length:l.length-(o[s+1]!=null&&o[s+1][0]<=l.offset+l.length?o[s+1][1]-o[s][1]:0),offset:l.offset-o[s][1]}))}return{textWithSubstitutions:a,updatedRanges:i}}var L={CONTACT_FIRST_NAME:[function(e){return function(t){return o("ReQL").fromTableAscending(e.tables.contacts,["name","firstName","id"]).getKeyRange(t).map(function(e){var t=e.firstName,n=e.name;return t!=null?t:n})}},function(e){return h},v],CONTACT_FULL_NAME:[function(e){return function(t){return o("ReQL").fromTableAscending(e.tables.contacts,["name"]).getKeyRange(t).map(function(e){var t=e.name;return t})}},function(e){return h},v],PARTICIPANT_FIRST_NAME:[function(e){return(function(t,n){var r=n.threadKey;return o("ReQL").fromTableAscending(e.tables.contacts,["name","firstName","id"]).getKeyRange(t).map(function(t){var n,a,l=t.firstName,s=t.id,u=t.name,c=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,s),i.id+":190");return(n=(a=c==null?void 0:c.nickname)!=null?a:l)!=null?n:u})})},function(e){return h},v],PARTICIPANT_FULL_NAME:[function(e){return(function(t,n){var r=n.threadKey;return o("ReQL").fromTableAscending(e.tables.contacts,["name","id"]).getKeyRange(t).map(function(t){var n,a=t.id,l=t.name,s=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,a),i.id+":209");return(n=s==null?void 0:s.nickname)!=null?n:l})})},function(e){return h},v]};function E(t,a,l,s,c,m){var p=function(t){var e;return((e=t.entity)==null?void 0:e.__typename)==="Thread"},g=a.filter(p),h=a.filter(function(e){return!p(e)}),y=(u||(u=r("useReStore")))(),C=o("Int64Hooks").useMemoInt64(function(){return{threadKey:l}},[l]),b=f(function(){var e,n=[],a=0;if(t!=null){s.lastIndex=0;for(var i=function(){var t=r("nullthrows")(e),i=t[0],l=t[1],s=t[2],u=t[3];if(!l){var p=(d||(d=o("I64"))).of_string_opt(u);if(p==null||u==="0")m&&r("FBLogger")("messenger_web").mustfix("Invalid user id for substitution key %s: %s",s,u);else{var _=a,f=c[s];f!=null&&(n.push([f[0](y)(p,C).take(1).map(function(e){return[_,e]}),function(e){return f[2](e,p)}]),a++)}}};(e=s.exec(t))!==null;)i()}return n},[C,y,t,s,c]),v=o("ReQLSuspense").useArray(function(){return b.length?b.length===1?b[0][0]:o("ReQL").union.apply(void 0,b.map(function(e){return e[0]})):o("ReQL").empty()},[b],i.id+":297"),S=f(function(){return new Map(v)},[v]);return _(function(){var t=b.map(function(e,t){var n=e[0],r=e[1];return S.has(t)?null:r}).filter(Boolean);t.length&&r("promiseDone")(y.runInTransaction(function(r){return(e||(e=n("Promise"))).all(t.map(function(e){return e(r)}))},"readwrite",void 0,void 0,i.id+":324"))},[y,b,S]),f(function(){if(t==null)return null;var e=0,n=R(t,h,s,function(t,n,r,a){var i=c[r];return n||i==null||(d||(d=o("I64"))).of_string_opt(a)==null?t:S.get(e++)||c[r][1](a)}),r=n.textWithSubstitutions,a=n.updatedRanges;return{textWithSubstitutions:r,updatedRanges:[].concat(a,g)}},[t,h,g,s,S,c])}function k(e,t){var n;return(n=E(e,[],t,y,L,!0))==null||(n=n.textWithSubstitutions)==null||n.replace==null?void 0:n.replace(/\$\$/g,"$$")}function I(e,t,n,r){var a=f(function(){return{"@":[function(e){return function(t){return n.has((d||(d=o("I64"))).to_string(t))?o("ReQL").fromTableAscending(e.tables.contacts,["name","id"]).getKeyRange(t).map(function(t){var n,a=t.id,l=t.name,s=r==null?null:o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.participants,["nickname"]).getKeyRange(r,a),i.id+":413"),u=(n=s==null?void 0:s.nickname)!=null?n:l;return"@"+u}):o("ReQL").empty()}},function(e){return n.has(e)?"@"+h:"@"+e+"@msgr"},v]}},[n]);return E(e,t,void 0,C,a,!1)}l.useStringWithSubstitutions=k,l.useStringWithMentionSubstitutionsAndUpdatedRanges=I}),226);