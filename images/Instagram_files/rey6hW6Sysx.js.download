;/*FB_PKG_DELIM*/

__d("FDSNullState.react",["FDSIcon.react","FDSTextPairing.react","IconSource","SVGIcon","react","react-strict-dom","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["action","body","bodyColor","headline","headlineColor","icon","iconColor","small"],u,c=u||(u=o("react")),d={button:{marginTop:"xqui205",$$css:!0},image:{marginBottom:"xieb3on",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"x1p5oq8j",paddingInlineEnd:"x64bnmy",paddingBottom:"xwxc41k",paddingInlineStart:"x13jy36j",$$css:!0}};function m(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.action,l=a.body,u=l===void 0?null:l,m=a.bodyColor,p=m===void 0?"secondary":m,_=a.headline,f=a.headlineColor,g=f===void 0?"secondary":f,h=a.icon,y=a.iconColor,C=a.small,b=C===void 0?!1:C,v=babelHelpers.objectWithoutPropertiesLoose(a,s),S=r("useCurrentDisplayMode")(),R=S==="dark",L=b?4:2,E=h!=null?h instanceof r("IconSource")||h instanceof o("SVGIcon").SVGIcon?c.jsx(r("FDSIcon.react"),{color:y,icon:h,size:112}):c.jsx(r("FDSIcon.react"),{icon:R&&h.dark!=null?h.dark:h.default,size:112}):null;return c.jsxs(o("react-strict-dom").html.div,babelHelpers.extends({style:d.root},v,{ref:n,children:[c.jsx(o("react-strict-dom").html.div,{style:d.image,children:E}),c.jsx(r("FDSTextPairing.react"),{body:u,bodyColor:p,headline:_,headlineColor:g,isSemanticHeading:!0,level:L,textAlign:"center"}),i!=null?c.jsx(o("react-strict-dom").html.div,{style:d.button,children:i}):null]}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("IGDSDownloadPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n,a,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",x1:"11.914",x2:"11.914",y1:"15.195",y2:"2"}),a=s.jsx("polyline",{fill:"none",points:"16.013 11.095 11.914 15.195 7.814 11.095",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2",x1:"3.277",x2:"20.55",y1:"22",y2:"22"}),t[0]=n,t[1]=a,t[2]=i):(n=t[0],a=t[1],i=t[2]);var l;return t[3]!==e?(l=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i]})),t[3]=e,t[4]=l):l=t[4],l}var c=s.memo(u);l.default=c}),98);
__d("useIGDForwardSingleAttachmentFromMessage",["FBLogger","asyncToGeneratorRuntime","forwardAttachment","getErrorSafe","react-compiler-runtime","useGetForwardSource"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o){var a=n.candidate,i=n.type,l=a.id,s=i==="thread"?2:1;return r("forwardAttachment")(e,l,s,t.senderId,o)}function s(t,a){var i=o("react-compiler-runtime").c(4),l=r("useGetForwardSource")(),s;return i[0]!==t||i[1]!==a||i[2]!==l?(s=(function(){var o=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){try{yield e(t,a,n,l)}catch(e){var o=e,i=r("getErrorSafe")(o);r("FBLogger")("igd_web").catching(i).mustfix("IGD failure forwarding an attachment")}});return function(t){return o.apply(this,arguments)}})(),i[0]=t,i[1]=a,i[2]=l,i[3]=s):s=i[3],s}l.default=s}),98);
__d("useIGDGetMessageFromAttachment",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(6),a=(e||(e=r("useReStore")))(),l;n[0]!==t.messageId||n[1]!==a.tables.messages?(l=function(){return o("ReQL").fromTableAscending(a.tables.messages.index("messageId")).getKeyRange(t.messageId)},n[0]=t.messageId,n[1]=a.tables.messages,n[2]=l):l=n[2];var s;n[3]!==t.messageId||n[4]!==a?(s=[a,t.messageId],n[3]=t.messageId,n[4]=a,n[5]=s):s=n[5];var u=o("ReQLSuspense").useFirst(l,s,i.id+":23");return u}l.default=s}),98);
__d("IGDMediaViewerControls.react",["fbt","CometPressable.react","FBLogger","I64","IGDContactSearchDialogType.flow","IGDSBox.react","IGDSDialogPlaceholder.react","IGDSDownloadPanoOutline24Icon.react","IGDSForwardOutlineIcon.react","IGDSXPanoFilledIcon.react","JSResourceForInteraction","LSIntEnum","MessagingAttachmentType","Promise","asyncToGeneratorRuntime","react","react-compiler-runtime","useIGDForwardSingleAttachmentFromMessage","useIGDGetMessageFromAttachment","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p={controlsContainer:{insetInlineEnd:"xo2ifbc",left:null,right:null,top:"x1eu8d0j",zIndex:"x1vjfegm",$$css:!0}},_=s._(/*BTDS*/"Download"),f=s._(/*BTDS*/"Forward");function g(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=m.jsx(r("CometPressable.react"),babelHelpers.extends({overlayDisabled:!0},e,{children:e.children})),t[0]=e,t[1]=n):n=t[1],n}function h(t){var a=o("react-compiler-runtime").c(9),i=t.attachment,l=t.message,u=r("useIGDForwardSingleAttachmentFromMessage")(i,l),c;a[0]!==u?(c=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=Array.from(t.values()).map(function(e){return u(e)});yield(e||(e=n("Promise"))).allSettled(r)});return function(n){return t.apply(this,arguments)}})(),a[0]=u,a[1]=c):c=a[1];var d=c,p;a[2]===Symbol.for("react.memo_cache_sentinel")?(p=r("JSResourceForInteraction")("IGDAWOminipickerDialog.react").__setRef("IGDMediaViewerControls.react"),a[2]=p):p=a[2];var _=r("useIGDSLazyDialog")(p,C),h=_[0],b;a[3]!==d||a[4]!==h?(b=function(){h({includeGroup:!0,loggingEventName:"forward_thread_attempt",maxRecipients:5,onSubmit:d,searchType:o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE,submitButtonLabel:s._(/*BTDS*/"Send").toString(),titleLabel:s._(/*BTDS*/"Forward").toString()},y)},a[3]=d,a[4]=h,a[5]=b):b=a[5];var v=b,S;a[6]===Symbol.for("react.memo_cache_sentinel")?(S=m.jsx(r("IGDSForwardOutlineIcon.react"),{alt:f,size:18}),a[6]=S):S=a[6];var R;return a[7]!==v?(R=m.jsx(g,{onPress:v,children:S}),a[7]=v,a[8]=R):R=a[8],R}function y(){}function C(e){return m.jsx(r("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:e,size:"large"})}C.displayName=C.name+" [from "+i.id+"]";var b=s._(/*BTDS*/"Close");function v(e){var t=o("react-compiler-runtime").c(16),n=e.attachment,a=e.onClose,i=n.playableUrl;i==null&&r("FBLogger")("igd_web").warn("IGDMediaViewerControls: downloadUrl is null");var l=r("useIGDGetMessageFromAttachment")(n),s=n.attachmentType,d;t[0]!==s?(d=(u||(u=o("I64"))).equal(s,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(s,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO)),t[0]=s,t[1]=d):d=t[1];var f=d,y;t[2]!==n||t[3]!==f||t[4]!==l?(y=l!=null&&!f&&m.jsx(h,{attachment:n,message:l}),t[2]=n,t[3]=f,t[4]=l,t[5]=y):y=t[5];var C;t[6]!==i||t[7]!==f?(C=i!=null&&!f&&m.jsx(g,{linkProps:{download:!0,target:"_blank",url:i+"&dl=1"},children:m.jsx(r("IGDSDownloadPanoOutline24Icon.react"),{alt:_,size:18})}),t[6]=i,t[7]=f,t[8]=C):C=t[8];var v;t[9]===Symbol.for("react.memo_cache_sentinel")?(v=m.jsx(r("IGDSXPanoFilledIcon.react"),{alt:b,size:18}),t[9]=v):v=t[9];var S;t[10]!==a?(S=m.jsx(g,{onPress:a,children:v}),t[10]=a,t[11]=S):S=t[11];var R;return t[12]!==y||t[13]!==C||t[14]!==S?(R=m.jsxs(r("IGDSBox.react"),{columnGap:3,direction:"row",padding:2,position:"absolute",xstyle:p.controlsContainer,children:[y,C,S]}),t[12]=y,t[13]=C,t[14]=S,t[15]=R):R=t[15],R}l.default=v}),226);
__d("IGDMediaViewerFilmstrip.react",["fbt","BaseImage.react","CometPressable.react","IGDSBox.react","Locale","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useRef,_=d.useState,f=36,g=6,h={filmstripCentered:{justifyContent:"xl56j7k",$$css:!0},filmstripContainer:{bottom:"x1ey2m1c",display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",maxWidth:"x193iq5w",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",position:"x10l6tqk",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",whiteSpace:"xuxw1ft",$$css:!0},nonSelectedThumbnail:{opacity:"xti2d7y",":hover_opacity":"x5z6fxw",$$css:!0},selectedThumbnail:{opacity:"x1hc1fzr",$$css:!0},thumbnailContainer:{marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,$$css:!0},thumbnailInner:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",objectFit:"xl1xv1r",$$css:!0}};function y(e){var t=o("react-compiler-runtime").c(15),n=e.index,a=e.isSelected,i=e.onThumbnailClick,l=e.url,u;t[0]!==n?(u=s._(/*BTDS*/"Thumbnail {index}",[s._param("index",n)]),t[0]=n,t[1]=u):u=t[1];var d;t[2]!==n||t[3]!==i?(d=function(){return i(n)},t[2]=n,t[3]=i,t[4]=d):d=t[4];var m=a?h.selectedThumbnail:h.nonSelectedThumbnail,p;t[5]!==m?(p=[h.thumbnailInner,m],t[5]=m,t[6]=p):p=t[6];var _;t[7]!==p||t[8]!==l?(_=c.jsx(r("IGDSBox.react"),{display:"inlineBlock",flex:"none",height:f,width:f,xstyle:h.thumbnailContainer,children:c.jsx(r("BaseImage.react"),{height:"100%",src:l,width:"100%",xstyle:p})}),t[7]=p,t[8]=l,t[9]=_):_=t[9];var g;return t[10]!==n||t[11]!==u||t[12]!==d||t[13]!==_?(g=c.jsx(r("CometPressable.react"),{label:u,onPress:d,overlayDisabled:!0,children:_},n),t[10]=n,t[11]=u,t[12]=d,t[13]=_,t[14]=g):g=t[14],g}function C(t){var n=o("react-compiler-runtime").c(25),a=t.onThumbnailClick,i=t.selectedIndex,l=t.thumbnailUrls,s=i===void 0?0:i,u=p(null),d=p(null),C=_(0),b=C[0],v=C[1],S=_(!1),R=S[0],L=S[1],E=f+g*2,k;n[0]!==s||n[1]!==l.length||n[2]!==b?(k=function(){if(u.current!=null){var e=u.current,t=e.offsetWidth,n=e.scrollWidth,r=d.current;if(n===t){L(!0),v(0);return}L(!1);var o=-b/E,a=Math.floor((t+-b)/E),i=o+Math.floor((a-o)/2);if(r!=null){if(s>r&&(s<i||a===l.length)){d.current=s;return}if(s<r&&(s>i||o===0)){d.current=s;return}}var c=b-(s-(r!=null?r:0))*E;c=Math.min(0,c),c=Math.max(Math.floor(t-l.length*E),c),d.current=s,v(c)}},n[0]=s,n[1]=l.length,n[2]=b,n[3]=k):k=n[3];var I;n[4]!==s||n[5]!==l||n[6]!==b?(I=[s,E,l,b],n[4]=s,n[5]=l,n[6]=b,n[7]=I):I=n[7],m(k,I);var T;n[8]!==R?(T=(e||(e=r("stylex")))([h.filmstripContainer,R&&h.filmstripCentered]),n[8]=R,n[9]=T):T=n[9];var D;n[10]!==b?(D=o("Locale").isRTL()?-b:b,n[10]=b,n[11]=D):D=n[11];var x="translate3d("+D+"px, 0, 0)",$;n[12]!==x?($={transform:x},n[12]=x,n[13]=$):$=n[13];var P;if(n[14]!==a||n[15]!==s||n[16]!==l){var N;n[18]!==a||n[19]!==s?(N=function(t,n){return c.jsx(y,{index:n,isSelected:n===s,onThumbnailClick:a,url:t},n)},n[18]=a,n[19]=s,n[20]=N):N=n[20],P=l.map(N),n[14]=a,n[15]=s,n[16]=l,n[17]=P}else P=n[17];var M;return n[21]!==T||n[22]!==$||n[23]!==P?(M=c.jsx("div",{className:T,ref:u,style:$,children:P}),n[21]=T,n[22]=$,n[23]=P,n[24]=M):M=n[24],M}l.default=C}),226);
__d("IGDMediaViewerImage.react",["BaseImage.react","qex","react","react-compiler-runtime","useIGDAttachmentUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={fullImage:{borderStartStartRadius:"x1bphaa0",borderStartEndRadius:"x18nydb4",borderEndEndRadius:"xcm95gh",borderEndStartRadius:"x1vsb9q8",maxHeight:"xhaqhkv",$$css:!0},newFullWidth:{maxWidth:"xc1ejnd",$$css:!0},oldFullWidth:{maxWidth:"x1pt367s",$$css:!0}},c=r("qex")._("4846")===!0;function d(e){var t=o("react-compiler-runtime").c(3),n=e.attachment,a=o("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(n),i=o("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(n,!0),l=a!=null?a:i;if(l==null)return null;var d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[u.fullImage,c?u.newFullWidth:u.oldFullWidth],t[0]=d):d=t[0];var m;return t[1]!==l?(m=s.jsx(r("BaseImage.react"),{src:l,xstyle:d}),t[1]=l,t[2]=m):m=t[2],m}l.default=d}),98);
__d("IGDMediaViewerNavigationButton.react",["IGDSChevronIcon.react","IGDSIconButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={navigationButton:{backgroundColor:"x14hiurz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",userSelect:"x87ps6o",width:"x1td3qas",zIndex:"x1vjfegm",":hover_opacity":"x1c3glr3",$$css:!0},navigationButtonLeft:{insetInlineStart:"xi5uv41",left:null,right:null,$$css:!0},navigationButtonRight:{insetInlineEnd:"xo2ifbc",left:null,right:null,$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(9),n=e.direction,a=e.label,i=e.onClick,l=n==="previous",c=l?u.navigationButtonLeft:u.navigationButtonRight,d;t[0]!==c?(d=[u.navigationButton,c],t[0]=c,t[1]=d):d=t[1];var m=l?"back":"next",p;t[2]!==a||t[3]!==m?(p=s.jsx(r("IGDSChevronIcon.react"),{alt:a,color:"web-always-black",direction:m,size:16}),t[2]=a,t[3]=m,t[4]=p):p=t[4];var _;return t[5]!==i||t[6]!==d||t[7]!==p?(_=s.jsx(r("IGDSIconButton.react"),{onClick:i,padding:0,xstyle:d,children:p}),t[5]=i,t[6]=d,t[7]=p,t[8]=_):_=t[8],_}l.default=c}),98);
__d("IGDMediaViewerVideo.react",["fbt","I64","IGDSBox.react","IGDVideoPlayer.react","qex","react","react-compiler-runtime","useIGDAttachmentUrl"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d={newVideoWidth:{maxWidth:"xc1ejnd",$$css:!0},oldVideoWidth:{maxWidth:"x1pt367s",$$css:!0},videoContainer:{maxHeight:"xhaqhkv",$$css:!0}},m=r("qex")._("4846")===!0;function p(e){var t=o("react-compiler-runtime").c(15),n=e.attachment,a=e.mediaRenderQpl,i=n.previewWidth,l;t[0]!==i?(l=i!=null?(u||(u=o("I64"))).to_float(i):void 0,t[0]=i,t[1]=l):l=t[1];var p=l,_=n.previewHeight,f;t[2]!==_?(f=_!=null?(u||(u=o("I64"))).to_float(_):void 0,t[2]=_,t[3]=f):f=t[3];var g=f,h=o("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(n),y=n.accessibilitySummaryText,C=n.titleText,b;if(t[4]!==y||t[5]!==C){var v,S=s._(/*BTDS*/"Animated image");b=(v=y!=null?y:C)!=null?v:S.toString(),t[4]=y,t[5]=C,t[6]=b}else b=t[6];var R=b;if(h!=null){var L;t[7]===Symbol.for("react.memo_cache_sentinel")?(L=[d.videoContainer,m?d.newVideoWidth:d.oldVideoWidth],t[7]=L):L=t[7];var E=g!=null?g:300,k=p!=null?p:500,I;return t[8]!==R||t[9]!==n.attachmentFbid||t[10]!==a||t[11]!==E||t[12]!==k||t[13]!==h?(I=c.jsx(r("IGDSBox.react"),{xstyle:L,children:c.jsx(r("IGDVideoPlayer.react"),{altText:R,fbid:n.attachmentFbid,mediaRenderQpl:a,originalHeight:E,originalWidth:k,sdSrc:h})}),t[8]=R,t[9]=n.attachmentFbid,t[10]=a,t[11]=E,t[12]=k,t[13]=h,t[14]=I):I=t[14],I}return null}l.default=p}),226);
__d("MWV2MediaViewerNullState.react",["fbt","CometColumn.react","CometColumnItem.react","FDSNullState.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){return u.jsx(r("CometColumn.react"),{expanding:!0,verticalAlign:"center",children:u.jsx(r("CometColumnItem.react"),{children:u.jsx(r("FDSNullState.react"),{headline:s._(/*BTDS*/"Sorry, this content isn't available right now")})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("IGDMediaViewer.react",["fbt","BaseTheme.react","CometHideLayerOnEscape.react","CometKeys","FocusRegion.react","IGDAttachmentUtil","IGDMediaViewerControls.react","IGDMediaViewerFilmstrip.react","IGDMediaViewerImage.react","IGDMediaViewerNavigationButton.react","IGDMediaViewerVideo.react","IGDSBox.react","IGDSDialogLegacy.react","MWV2MediaViewerNullState.react","MessengerWebUXLogger","qex","react","react-compiler-runtime","useLayerKeyCommands"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p=c.useRef,_=c.useState,f=s._(/*BTDS*/"Next"),g=s._(/*BTDS*/"Previous"),h={anchorXStyle:{alignItems:"x6s0dn4",minHeight:"xg6iff7",$$css:!0},blurredBackground:{backdropFilter:"xvn2z4z",zIndex:"x1ja2u2z",":focus-visible_outline":"xk2swo9",$$css:!0},newMediaViewerContainer:{userSelect:"x87ps6o",$$css:!0}},y={"ig-elevated-background":"transparent"},C={"ig-elevated-background":"transparent"},b={dark:C,light:y,type:"VARIABLES"};function v(e){var t=o("react-compiler-runtime").c(59),n=e.attachment,a=e.groupedAttachments,i=e.mediaRenderQpl,l=e.onClose,s;t[0]!==l?(s=function(){return l==null?void 0:l()},t[0]=l,t[1]=s):s=t[1];var c=s,d;if(t[2]===Symbol.for("react.memo_cache_sentinel")){var m;d=(m=r("qex")._("4846"))!=null?m:!1,t[2]=d}else d=t[2];var y=d,C;t[3]!==n||t[4]!==a?(C=function(){if(a.length>0){var e=a.findIndex(function(e){return e.attachmentFbid===n.attachmentFbid});return e>=0?e:0}return 0},t[3]=n,t[4]=a,t[5]=C):C=t[5];var v=_(C),R=v[0],L=v[1],E=a.length>0?a[R]:n,k=r("MessengerWebUXLogger").useInteractionLogger(),I;t[6]===Symbol.for("react.memo_cache_sentinel")?(I={eventName:"igd_media_gallery_open"},t[6]=I):I=t[6];var T=r("MessengerWebUXLogger").useImpressionLoggerRef(I),D;t[7]!==k||t[8]!==R?(D=function(t){var e=t===void 0?"mouse":t;y&&R>0&&(k==null||k({eventName:"igd_media_gallery_navigation",extraData:{navigationSource:e}}),L(R-1))},t[7]=k,t[8]=R,t[9]=D):D=t[9];var x=D,$;t[10]!==a.length||t[11]!==k||t[12]!==R?($=function(t){var e=t===void 0?"mouse":t;y&&R<a.length-1&&(k==null||k({eventName:"igd_media_gallery_navigation",extraData:{navigationSource:e}}),L(R+1))},t[10]=a.length,t[11]=k,t[12]=R,t[13]=$):$=t[13];var P=$,N;t[14]===Symbol.for("react.memo_cache_sentinel")?(N={key:r("CometKeys").LEFT},t[14]=N):N=t[14];var M;t[15]!==x?(M={command:N,description:g,handler:function(){return x("keyboard")}},t[15]=x,t[16]=M):M=t[16];var w;t[17]===Symbol.for("react.memo_cache_sentinel")?(w={key:r("CometKeys").RIGHT},t[17]=w):w=t[17];var A;t[18]!==P?(A={command:w,description:f,handler:function(){return P("keyboard")}},t[18]=P,t[19]=A):A=t[19];var F;t[20]!==A||t[21]!==M?(F=[M,A],t[20]=A,t[21]=M,t[22]=F):F=t[22];var O=F;r("useLayerKeyCommands")(O);var B=p(null),W;t[23]!==x?(W=u.jsx(r("IGDMediaViewerNavigationButton.react"),{direction:"previous",label:g,onClick:function(){return x("mouse")}}),t[23]=x,t[24]=W):W=t[24];var q=W,U;t[25]!==P?(U=u.jsx(r("IGDMediaViewerNavigationButton.react"),{direction:"next",label:f,onClick:function(){return P("mouse")}}),t[25]=P,t[26]=U):U=t[26];var V=U;if(y){var H;t[27]===Symbol.for("react.memo_cache_sentinel")?(H=function(t,n,r){return r===B.current},t[27]=H):H=t[27];var G;t[28]===Symbol.for("react.memo_cache_sentinel")?(G=u.jsx(r("IGDSBox.react"),{containerRef:B,height:"100vh",left:!0,position:"fixed",top:!0,width:"100vw",xstyle:h.blurredBackground}),t[28]=G):G=t[28];var z;t[29]!==E||t[30]!==i?(z=o("IGDAttachmentUtil").isImageAttachment(E)||o("IGDAttachmentUtil").isAnimatedImageAttachment(E)||o("IGDAttachmentUtil").isEphemeralImageAttachment(E)?u.jsx(r("IGDMediaViewerImage.react"),{attachment:E}):o("IGDAttachmentUtil").isVideoAttachment(E)||o("IGDAttachmentUtil").isEphemeralVideoAttachment(E)?u.jsx(r("IGDMediaViewerVideo.react"),{attachment:E,mediaRenderQpl:i}):u.jsx(r("MWV2MediaViewerNullState.react"),{}),t[29]=E,t[30]=i,t[31]=z):z=t[31];var j;t[32]!==E||t[33]!==c?(j=u.jsx(r("IGDMediaViewerControls.react"),{attachment:E,onClose:c}),t[32]=E,t[33]=c,t[34]=j):j=t[34];var K;t[35]!==a||t[36]!==q||t[37]!==k||t[38]!==V||t[39]!==R?(K=a.length>1&&u.jsxs(u.Fragment,{children:[R>0&&q,R<a.length-1&&V,u.jsx(r("IGDMediaViewerFilmstrip.react"),{onThumbnailClick:function(t){k==null||k({eventName:"igd_media_gallery_navigation",extraData:{navigationSource:"mouse"}}),L(t)},selectedIndex:R,thumbnailUrls:a.map(S)})]}),t[35]=a,t[36]=q,t[37]=k,t[38]=V,t[39]=R,t[40]=K):K=t[40];var Q;t[41]!==T||t[42]!==z||t[43]!==j||t[44]!==K?(Q=u.jsxs(r("BaseTheme.react"),{config:b,children:[G,u.jsxs(r("IGDSBox.react"),{alignItems:"center",containerRef:T,display:"flex",height:"100dvh",justifyContent:"center",left:!0,position:"fixed",top:!0,width:"100%",xstyle:h.newMediaViewerContainer,children:[z,j,K]})]}),t[41]=T,t[42]=z,t[43]=j,t[44]=K,t[45]=Q):Q=t[45];var X;return t[46]!==c||t[47]!==Q?(X=u.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:H,children:u.jsx(r("CometHideLayerOnEscape.react"),{onHide:c,children:Q})}),t[46]=c,t[47]=Q,t[48]=X):X=t[48],X}else{var Y;t[49]===Symbol.for("react.memo_cache_sentinel")?(Y={className:"x78zum5 xhaqhkv x1pt367s"},t[49]=Y):Y=t[49];var J;t[50]!==E||t[51]!==i?(J=u.jsx("div",babelHelpers.extends({},Y,{children:o("IGDAttachmentUtil").isImageAttachment(E)||o("IGDAttachmentUtil").isAnimatedImageAttachment(E)||o("IGDAttachmentUtil").isEphemeralImageAttachment(E)?u.jsx(r("IGDMediaViewerImage.react"),{attachment:E}):o("IGDAttachmentUtil").isVideoAttachment(E)||o("IGDAttachmentUtil").isEphemeralVideoAttachment(E)?u.jsx(r("IGDMediaViewerVideo.react"),{attachment:E,mediaRenderQpl:i}):u.jsx(r("MWV2MediaViewerNullState.react"),{})})),t[50]=E,t[51]=i,t[52]=J):J=t[52];var Z;t[53]!==c||t[54]!==J?(Z=u.jsx(r("CometHideLayerOnEscape.react"),{onHide:c,children:J}),t[53]=c,t[54]=J,t[55]=Z):Z=t[55];var ee;return t[56]!==c||t[57]!==Z?(ee=u.jsx(r("BaseTheme.react"),{config:b,children:u.jsx(r("IGDSDialogLegacy.react"),{anchorXStyle:h.anchorXStyle,closeButtonPosition:"background",fixedWidth:!1,onClose:c,size:"large",children:Z})}),t[56]=c,t[57]=Z,t[58]=ee):ee=t[58],ee}}function S(e){var t;return(t=e.previewUrl)!=null?t:""}l.default=v}),226);
__d("useIGDGetThreadMediaAttachments",["I64","IGDAttachmentUtil","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t){var n=o("react-compiler-runtime").c(6),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a||n[1]!==t.threadKey?(l=function(){return t.threadKey!=null?o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey):o("ReQL").empty()},s=[a,t.threadKey],n[0]=a,n[1]=t.threadKey,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=o("ReQLSuspense").useArray(l,s,i.id+":26"),c;return n[4]!==u?(c=u.filter(p).toSorted(m),n[4]=u,n[5]=c):c=n[5],c}function m(e,t){var n=(s||(s=o("I64"))).compare(e.timestampMs,t.timestampMs);return n!==0?n:s.compare(e.attachmentIndex,t.attachmentIndex)}function p(e){return o("IGDAttachmentUtil").isImageAttachment(e)||o("IGDAttachmentUtil").isVideoAttachment(e)}l.default=d}),98);
__d("IGDMediaViewerRoot.react",["IGDAttachmentUtil","IGDMediaViewer.react","react","react-compiler-runtime","useIGDGetThreadMediaAttachments"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.mediaRenderQpl,i=e.message,l=e.onClose,u=r("useIGDGetThreadMediaAttachments")(i),c;t[0]!==n?(c=o("IGDAttachmentUtil").isEphemeralVideoAttachment(n)||o("IGDAttachmentUtil").isEphemeralImageAttachment(n),t[0]=n,t[1]=c):c=t[1];var d=c,m;t[2]!==u||t[3]!==d?(m=d?[]:u,t[2]=u,t[3]=d,t[4]=m):m=t[4];var p;return t[5]!==n||t[6]!==a||t[7]!==l||t[8]!==m?(p=s.jsx(r("IGDMediaViewer.react"),{attachment:n,groupedAttachments:m,mediaRenderQpl:a,onClose:l}),t[5]=n,t[6]=a,t[7]=l,t[8]=m,t[9]=p):p=t[9],p}l.default=u}),98);
__d("IGDSLockPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M6.71 9.555h10.581a2.044 2.044 0 0 1 2.044 2.044v8.357a2.044 2.044 0 0 1-2.043 2.043H6.71a2.044 2.044 0 0 1-2.044-2.044V11.6A2.044 2.044 0 0 1 6.71 9.555Zm1.07 0V6.222a4.222 4.222 0 0 1 8.444 0v3.333",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);