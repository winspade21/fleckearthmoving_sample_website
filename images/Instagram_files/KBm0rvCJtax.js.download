;/*FB_PKG_DELIM*/

__d("E2EELinkPreviewXMADataType",[],(function(t,n,r,o,a,i){var e=Object.freeze({FALLBACK:1,FB_CLIENT_FETCH:2,OEMBED:4});i.default=e}),66);
__d("EmojiFormat.bs",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.split("_").map(function(e){return parseInt(e,16)})}function l(e){return e.map(function(e){return e.toString(16)}).join("_")}function s(e){return e.map(function(e){return String.fromCodePoint(e)}).join("")}function u(t){return s(e(t))}i.codeStringToCodeArray=e,i.codeArrayToCodeString=l,i.codeArrayToUnicode=s,i.codeStringToUnicode=u}),66);
__d("FileMercuryUploadService",["FBLogger","ODS","asyncToGeneratorRuntime","cr:6057","emptyFunction","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.onUploadStart,i=t.onUploadProgress,l=i===void 0?r("emptyFunction"):i,s=t.onUploadSuccess,u=s===void 0?r("emptyFunction"):s,d=t.onUploadFailure,m=d===void 0?r("emptyFunction"):d,p=t.isVoiceClip,_=p===void 0?!1:p,f=t.files,g=t.uploadIDs,h=t.isChatSupportUser,y=t.chatSupportUserId,C=t.voiceClipWaveformData,b=t.chatSupportUserNonce,v=t.uploadIdToQplFlow,S=t.retryCount,R="/ajax/mercury/upload.php";h===!0&&(R="/ajax/mercury/chatsupportuser/upload.php");var L=yield n("cr:6057").load(),E=new L({concurrentLimit:3,onUploadFailure:m,onUploadProgress:l,onUploadStart:function(t,n){a&&a(t,n.upload._file.size,n.upload._file.type)},onUploadSuccess:function(t,n){var e,o,a,i,l=v==null?void 0:v.get(t),s=n.response.payload.metadata,d;if(s==null)r("FBLogger")("messenger_web_media").warn("Empty payload"),d={},l==null||l.endFail("empty_payload");else{var m=s[0];m!=null?d=m:(r("FBLogger")("messenger_web_media").warn("Empty metadata isChatSupportUser: %s",h),d={},l==null||l.endFail("empty_metadata"))}var p=d.fbid,_=d.image_id,f=d.video_id,g=d.audio_id,y=d.gif_id,C=d.file_id,b=(e=(o=(a=(i=p!=null?p:_)!=null?i:f)!=null?a:g)!=null?o:y)!=null?e:C;if(typeof b=="number"&&(b=b.toString()),c(b),u(t,b),b==null)throw l==null||l.endFail("null_fbid"),r("FBLogger")("messenger_web").mustfixThrow("Unrecognized file upload success payload");l==null||l.endSuccess()},retryLimit:1,uploadEndpoint:R}),k=C!=null?{amplitudes:C.amplitudes,sampling_freq:Math.round(C.sampling_freq)}:void 0,I={};I.data={chat_support_user_id:h===!0&&y!=null?y:void 0,nonce:h===!0&&b!=null?b:void 0,voice_clip:_?!0:void 0,voice_clip_waveform_data:_?JSON.stringify(k):void 0},f.some(function(e){return e.type==="image/svg+xml"})&&(e||(e=o("ODS"))).bumpEntityKey(3185,"messenger_web_media","svg_file_upload");var T=E.getAsyncFileUploadRequest(f,g,I);T.setNetworkErrorRetryLimit(S!=null?S:0),T.setShouldRetryOnFailure(function(e){return e.error===500&&r("gkx")("1132")}),T.send()}),u.apply(this,arguments)}function c(e){if(e!=null){var t=Number(e),n=t.toString();t>Number.MAX_SAFE_INTEGER&&n!==e&&r("FBLogger")("work_web_messaging","messaging-composer-upload-fbid-out-of-range").warn("FBID for attachment is out of JS Number range and it's not correctly handled on client: %d",e)}}l.uploadByMercuryUploadService=s}),98);
__d("IGDSFace2OutlineIcon.react",["IGDSFace2PanoOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSFace2PanoOutlineIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDVisibilityPinContext",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext,c=s.useContext,d=u(null);function m(){var e=o("react-compiler-runtime").c(2),t=c(d),n;if(e[0]!==(t==null?void 0:t.setIsPinned)){var r;n=(r=t==null?void 0:t.setIsPinned)!=null?r:p,e[0]=t==null?void 0:t.setIsPinned,e[1]=n}else n=e[1];return n}function p(){}l.IGDVisibilityPinContext=d,l.useIGDSetMessageVisibilityPin=m}),98);
__d("IGDVisibilityAware.react",["IGDVisibilityPinContext","clearTimeout","intersectionObserverEntryIsIntersecting","mergeRefs","react","react-compiler-runtime","setTimeout","useIntersectionObserver","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useMemo,p=u.useRef,_=u.useState,f=s.unstable_Activity;function g(e){var t=o("react-compiler-runtime").c(25),n=e.children,a=e.initialHeight,i=e.initiallyVisible,l=e.root,u=e.rootMargin,c=e.threshold,d=i===void 0?!0:i,m=l===void 0?null:l,p=c===void 0?0:c,g=_(!1),y=g[0],C=g[1],b=_(d),v=b[0],S=b[1],R=_(!d),L=R[0],E=R[1],k=h(),I;t[0]!==k?(I=function(t){var e=r("intersectionObserverEntryIsIntersecting")(t);S(e),e?k("immediate",function(){E(!1)}):k("idle",function(){E(!0)})},t[0]=k,t[1]=I):I=t[1];var T=I,D;t[2]!==m||t[3]!==u||t[4]!==p?(D={root:m,rootMargin:u,threshold:p},t[2]=m,t[3]=u,t[4]=p,t[5]=D):D=t[5];var x=r("useIntersectionObserver")(T,D),$=_(a),P=$[0],N=$[1],M;t[6]!==v?(M=function(t){v&&N(t.height)},t[6]=v,t[7]=M):M=t[7];var w=M,A=r("useResizeObserver")(w),F;t[8]!==x||t[9]!==A?(F=r("mergeRefs")(x,A),t[8]=x,t[9]=A,t[10]=F):F=t[10];var O=F,B;t[11]===Symbol.for("react.memo_cache_sentinel")?(B={setIsPinned:C},t[11]=B):B=t[11];var W=B,q;t[12]===Symbol.for("react.memo_cache_sentinel")?(q="x13dflua x19991ni",t[12]=q):q=t[12];var U=!v&&P!=null?P+"px":void 0,V=v?1:0,H;t[13]!==U||t[14]!==V?(H={height:U,opacity:V},t[13]=U,t[14]=V,t[15]=H):H=t[15];var G;t[16]!==n||t[17]!==y||t[18]!==v||t[19]!==L?(G=!L||y?s.jsx(f,{mode:v||y?"visible":"hidden",children:n}):null,t[16]=n,t[17]=y,t[18]=v,t[19]=L,t[20]=G):G=t[20];var z;return t[21]!==O||t[22]!==H||t[23]!==G?(z=s.jsx(o("IGDVisibilityPinContext").IGDVisibilityPinContext.Provider,{value:W,children:s.jsx("div",{className:q,ref:O,style:H,children:G})}),t[21]=O,t[22]=H,t[23]=G,t[24]=z):z=t[24],z}function h(){var e=o("react-compiler-runtime").c(4),t=p(null),n=p(null),a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=function(){t.current!=null&&(r("clearTimeout")(t.current),t.current=null),n.current!=null&&(window.cancelIdleCallback&&window.cancelIdleCallback(n.current),n.current=null)},e[0]=a):a=e[0];var i=a,l,s;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=function(){return i},s=[i],e[1]=l,e[2]=s):(l=e[1],s=e[2]),d(l,s);var u;return e[3]===Symbol.for("react.memo_cache_sentinel")?(u=function(o,a){i(),o==="idle"?t.current=r("setTimeout")(function(){window.requestIdleCallback?n.current=window.requestIdleCallback(a):a()},1e3):a()},e[3]=u):u=e[3],u}l.default=g}),98);
__d("LSCommunityBitOffset",["I64","LSBitFlag"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return t>=128?o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t-128),n.capabilities3):t>=64?o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t-64),n.capabilities2):o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t),n.capabilities)}l.has=s}),98);
__d("LSCommunityChannelSyncSource",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,THREAD_LIST:1,UNREAD_INDICATOR:2});i.default=e}),66);
__d("LSContactReachabilityStatusType",[],(function(t,n,r,o,a,i){var e=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2,REACHABLE_INVITE_BANNER:3,UNREACHABLE_INVITE_BLOCK:4,UNREACHABLE_INTEROP_THIRD_PARTY_USER:5,UNREACHABLE_INTEROP_USER_OPT_OUT:6,UNREACHABLE_INTEROP_THIRD_PARTY_APP_NOT_SUPPORTED:7,UNREACHABLE_INTEROP_USER_REMOVED_THIRD_PARTY_APP:8,UNREACHABLE_NULL_INTEROP_USER:9,UNREACHABLE_MR_LIMIT_BLOCK:10,UNREACHABLE_RS_UPSELL_ELIGIBLE:11,REACHABLE_INVITE_MODEL_TEXT_ONLY:12,REACHABLE_INVITE_MODEL_TEXT_ONLY_AND_BANNER:13,UNREACHABLE_INVITE_MODEL_BLOCK_COMPOSER:14,AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER:15,AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER:16,AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED:17,AP_PLUS_MESSAGING_UNREACHABLE_USER:18,UNREACHABLE_R_ACCOUNT_TEEN_INTERACTION:19,UNREACHABLE_MR_LIMIT_BLOCK_WITH_APPEAL:20,UNREACHABLE_R_RATED_ACCOUNT_INTERACTION:21,UNREACHABLE_TO_R_RATED_ACCOUNT_INTERACTION:22,UNREACHABLE_FROM_R_RATED_ACCOUNT_INTERACTION:23});i.default=e}),66);
__d("LSFeatureLimitsType",[],(function(t,n,r,o,a,i){var e=Object.freeze({READ_ONLY:1,GENERIC_READ_ONLY_BLOCK:2,MESSAGE_SEND:4,MESSENGER_ONLY_ACCOUNTS_READ_ONLY_BLOCK:8,MESSAGE_SEND_PRIVATE:16,MESSAGE_SEND_PUBLIC:32,MESSAGE_SEND_FROM_PAGE:64,COMMERCE_MESSAGE_SEND:128,PAGE_MESSAGING:256,APPEALABLE_MESSAGE_SEND:512,SCREEN_CAPTURE_VIDEO_CALL:1024,MESSENGER_APPEALABLE_MESSAGE_SEND:2048});i.default=e}),66);
__d("genArrayBufferFromFile",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t){return"arrayBuffer"in t?t.arrayBuffer():new(e||(e=n("Promise")))(function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;t instanceof ArrayBuffer?e(t):n()},r.onerror=function(){n(r.error)},r.readAsArrayBuffer(t)})}i.default=l}),66);
__d("genIsNonAnimatedWebPFile",["genArrayBufferFromFile"],(function(t,n,r,o,a,i,l){"use strict";var e=8;function s(e){return r("genArrayBufferFromFile")(e).then(function(e){var t=new Uint8Array(e),n=t.slice(12,16).reduce(function(e,t,n){return e+String.fromCharCode(t)},"");if(n==="VP8X"){var r=t[20],o=r.toString(2).padStart(8,"0");if(o[6]==="1")return!u(t)}return!0})}function u(t){for(var n=12,r=0;r<2&&n+e<t.length;){var o=c(t,n);o==="ANMF"&&r++;var a=d(t,n+4),i=a%2,l=e+a+i;n+=l}return r>1}function c(e,t){return e.slice(t,t+4).reduce(function(e,t,n){return e+String.fromCharCode(t)},"")}function d(e,t){return parseInt(e.slice(t,t+4).reduce(function(e,t,n){return t.toString(2).padStart(8,"0")+e},""),2)}l.default=s}),98);
__d("LSGetAttachmentType",["LSIntEnum","MessagingAttachmentType","asyncToGeneratorRuntime","cometIsMimeTypeForMedia","genIsNonAnimatedWebPFile"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){return t.type==="image/webp"?(e||(e=o("LSIntEnum"))).ofNumber((yield r("genIsNonAnimatedWebPFile")(t))?r("MessagingAttachmentType").IMAGE:r("MessagingAttachmentType").VIDEO):c(t)}),u.apply(this,arguments)}function c(t){var n=t.type;return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(n)?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE):n==="audio/wav"?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO):n==="image/gif"?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE):o("cometIsMimeTypeForMedia").isMimeTypeForVideo(n)?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO):(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE)}l.LSGetAttachmentType=s,l.LSGetAttachmentTypeSyncButLessAccurate=c}),98);
__d("LSIssueNewTaskWithExtraOperationsAndGetTaskID",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(o){return t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[11]).then(function(e){var t;return t=e,r[0]=t[0],t})},function(e){return t.storedProcedure(n("LSMailboxTaskCompletionApiOnTaskInsertion"),r[0])},function(e){return o[0]=r[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreIssueNewTaskWithExtraOperationsAndGetTaskIDStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSMessageContentType",[],(function(t,n,r,o,a,i){var e=Object.freeze({TEXT:1,MEDIA_PREVIEW:2,AUDIO_CLIP:4,XMA_FALLBACK:8,LWA_WAVE:16,ADMIN:32,FILE_ATTACHMENT:64,GLYPH:128,TOMBSTONE:256,STORY_REPLY:512,SINGLE_XMA:1024,HSCROLL_XMA:2048,STICKER:4096,FORWARD_INDICATOR:8192,ANIMATED_IMAGE:16384,NULL_STATE:32768,ENCRYPTION_PLACEHOLDER:65536,FUTUREPROOF_PLACEHOLDER:131072,UNAVAILABLE_PLACEHOLDER:262144,LOCATION_PLACEHOLDER:524288,POLL_CREATION_PLACEHOLDER:1048576,CONTACT_SHARE_PLACEHOLDER:2097152,STORY_MENTION_PLACEHOLDER:4194304,META_AI_MESSAGE_PLACEHOLDER:8388608,BUMP_MESSAGE_PLACEHOLDER:16777216,BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_PLACEHOLDER:33554432,STICKER_RECEIVER_FETCH_UNSUPPORTED_PLACEHOLDER:67108864,RECEIVER_FETCH:134217728,STORY_MENTION:268435456,XMA_RECEIVER_FETCH:536870912,NOTE_MENTION_PLACEHOLDER:1073741824,POST_MENTION_PLACEHOLDER:2147483648,LIVE_LOCATION_PLACEHOLDER:4294967296,MESSENGER_MEMORY_PLACEHOLDER:8589934592,RTC_XMA_PLACEHOLDER:17179869184});i.default=e}),66);
__d("LSPredefineTraceForTask",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return n[0]=t.i64.of_float(Date.now()),t.forEach(t.db.table(2).fetch([[[e[1]]]]),function(t){var r=t.update,o=t.item;return r({dataTraceId:e[0],initTraceTimestampMs:n[0]})})},function(r){return t.db.table(153).add({traceId:e[0],initTimestampMs:n[0],foregroundTimestampMs:t.i64.cast([0,0]),traceType:t.i64.cast([0,1]),shouldFlush:!1,contextOne:e[2],contextTwo:t.i64.to_string(e[1]),predefinedId:e[3]})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSDataTracePredefineTraceForTaskStoredProcedure",e.__tables__=["pending_tasks","data_trace_meta"],a.exports=e}),null);
__d("MWCMThreadTypes.react",["I64","LSCommunityBitOffset","LSCommunityChannelSyncSource","LSIntEnum","MessagingThreadSubtype","isUnjoinedCMThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=[r("LSCommunityChannelSyncSource").DEFAULT,r("LSCommunityChannelSyncSource").THREAD_LIST];function c(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(18))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(23))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(21))}function d(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(18))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(19))}function m(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(23))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(24))}function p(t){return t==null?!1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").MARKETPLACE_THREAD))}function _(t){return t==null?!1:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT))}function f(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(21))||(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(22))}function g(t,n){var r=o("LSCommunityBitOffset").has(1,n),a=(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(21)),i=f(t.threadType),l=n.takedownState!=null&&(e||(e=o("I64"))).equal(n.takedownState,(s||(s=o("LSIntEnum"))).ofNumber(1));return t.syncSource!=null&&!u.includes((e||(e=o("I64"))).to_int32(t.syncSource))?!1:!l&&(d(t.threadType)||i||r||a||t.hasPendingInvitation===!0)}l.isJoinedCMThread=c,l.isUnjoinedCMThread=o("isUnjoinedCMThread").isUnjoinedCMThread,l.isStandardCMThread=d,l.isBroadcastThread=m,l.isMarketplaceThread=p,l.isIGBroadcastChannelThread=_,l.isPrivateThread=f,l.isThreadEnabled=g}),98);
__d("MWLSThread",["FBLogger","Promise","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(t){return t};function c(e,t){t===void 0&&(t=u);var n=(s||(s=r("useReStore")))();return o("ReQLSuspense").useFirst(function(){return e!=null?o("ReQL").fromTableAscending(n.tables.threads).getKeyRange(e).map(function(e){return t(e)}):o("ReQL").empty()},[n,e],i.id+":29")}function d(e,t){t===void 0&&(t=u);var n=(s||(s=r("useReStore")))();return o("ReQLSuspense").useFirstExn(function(){return o("ReQL").fromTableAscending(n.tables.threads).getKeyRange(e).map(function(e){var n;return(n=t==null?void 0:t(e))!=null?n:e})},[n,e],i.id+":48")}function m(e,t,n){n===void 0&&(n=u);var a=o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t),i.id+":65");if(!a)throw r("FBLogger")("messenger_web").mustfixThrow("thread is null/undefined");return n(a)}function p(t,r,a){return a===void 0&&(a=u),r!=null?o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(r)).then(function(e){return e?a(e):void 0}):(e||(e=n("Promise"))).resolve(void 0)}l.useThread=c,l.useThreadExn=d,l.getThreadExn=m,l.getThreadAsync=p}),98);
__d("MWMediaRenderQplUtils",["CurrentUser","E2EELinkPreviewXMADataType","I64","LSBitFlag","LSIntEnum","LSMessageContentType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingInitiatingSource","LSReplyMessageAttachmentType","LSXmaContentType","MAWLoggerUtils","MNLSXMALayoutType","MessagingAttachmentType","MessagingThreadType","QPLUserFlow","ServerTime","VisibilityAPI","VisibilityState","justknobx","mergeDeep","objectEntries","performanceAbsoluteNow","qpl","react","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=d.useEffect,p=d.useLayoutEffect,_=d.useMemo,f=d.useRef,g=3600*24,h=3*g,y=7*g,C=2*y,b=4*y,v=r("qpl")._(25302828,"2195"),S=r("justknobx")._("2945"),R=1e3,L=r("objectEntries")(r("LSMessageContentType")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map),E=r("objectEntries")(r("LSReplyMessageAttachmentType")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function k(e){return I(e.displayedContentTypes)}function I(e){var t;if(o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),e)){var n;return(n=L.get(1024))!=null?n:"UNKNOWN"}return(t=L.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}function T(e){var t;return e==null?"UNKNOWN":(t=E.get((c||(c=o("I64"))).to_int32(e)))!=null?t:"UNKNOWN"}function D(e){return(c||(c=o("I64"))).equal(e.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))&&e.gifPlayback===!0?"ANIMATED_IMAGE":x(e.attachmentType)}function x(e){var t;if((c||(c=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)))t=(u||(u=o("LSIntEnum"))).ofNumber(16384);else if((c||(c=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)))t=(u||(u=o("LSIntEnum"))).ofNumber(2);else if((c||(c=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)))t=(u||(u=o("LSIntEnum"))).ofNumber(2);else if((c||(c=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)))t=(u||(u=o("LSIntEnum"))).ofNumber(4);else if((c||(c=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE)))t=(u||(u=o("LSIntEnum"))).ofNumber(64);else if((c||(c=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)))t=(u||(u=o("LSIntEnum"))).ofNumber(4096);else if((c||(c=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE)))t=(u||(u=o("LSIntEnum"))).ofNumber(64);else if((c||(c=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)))t=(u||(u=o("LSIntEnum"))).ofNumber(1024);else return"UNKNOWN";return I(t)}var $=r("objectEntries")(r("MessagingAttachmentType")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function P(e){return e.gifPlayback===!0&&(c||(c=o("I64"))).to_int32(e.attachmentType)===r("MessagingAttachmentType").VIDEO?"ANIMATED_IMAGE":N(e.attachmentType)}function N(e){var t;return(t=$.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}var M=r("objectEntries")(r("MessagingThreadType")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function w(e){var t=e.threadType;return A(t)}function A(e){var t;return(t=M.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}var F=r("objectEntries")(r("LSXmaContentType")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function O(e){var t;return(t=F.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}var B=r("objectEntries")(r("LSMessagingInitiatingSource")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function W(e){var t;return e!=null&&(t=B.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}var q=r("objectEntries")(r("E2EELinkPreviewXMADataType")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function U(e){var t;return(t=q.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}var V=r("objectEntries")(r("LSMessageReplySourceType")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function H(e){var t;return(t=V.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}var G=r("objectEntries")(r("MNLSXMALayoutType")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function z(e){var t;return e==null?"UNKNOWN":(t=G.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}var j=r("objectEntries")(r("LSMessageReplySourceTypeV2")).reduce(function(e,t){var n=t[0],r=t[1];return e.set(r,n),e},new Map);function K(e){var t;return(t=j.get((c||(c=o("I64"))).to_float(e)))!=null?t:"UNKNOWN"}function Q(t,n,a,i){var l=(e||(e=r("performanceAbsoluteNow")))(),s=function(o,a){r("QPLUserFlow").addPoint(t,"window_visibility_change_"+(a?"hidden":"visible"),{instanceKey:n}),a&&r("QPLUserFlow").addAnnotations(t,{bool:{window_was_hidden:!0}},{instanceKey:n})},u=function(t){var e=o("VisibilityAPI").canUseVisibilityAPI?o("VisibilityAPI").isVisibilityHidden():void 0,n={bool:{window_is_hidden_on_end:e}};return t!=null?r("mergeDeep")(t,n):n};return{addAnnotations:function(o){r("QPLUserFlow").addAnnotations(t,o,{instanceKey:n})},addPoint:function(o,a){r("QPLUserFlow").addPoint(t,o,{data:a,instanceKey:n})},endCancelAfterDelay:function(l){a!=null&&(a.current=!0);var i=(e||(e=r("performanceAbsoluteNow")))(),c=u();o("VisibilityState").unsubscribe(s),r("setTimeout")(function(){r("QPLUserFlow").endCancel(t,{annotations:c,cancelReason:l,instanceKey:n,timestamp:i})},R)},endFailAfterDelay:function(l,c){a!=null&&(a.current=!0);var i=(e||(e=r("performanceAbsoluteNow")))(),d=r("mergeDeep")(u(c),{string:{fail_reason:l}});o("VisibilityState").unsubscribe(s),r("setTimeout")(function(){r("QPLUserFlow").endFailure(t,"render-failure",{annotations:d,instanceKey:n,timestamp:i})},R)},endSuccessAfterDelay:function(l,c){a!=null&&(a.current=!0);var i=c!=null?c:(e||(e=r("performanceAbsoluteNow")))(),d=u(l);o("VisibilityState").unsubscribe(s),r("setTimeout")(function(){r("QPLUserFlow").endSuccess(t,{annotations:d,instanceKey:n,timestamp:i})},R)},getInstanceKey:function(){return n},start:function(u){var a=l,c=i!=null?i:{};if(u!=null&&u.isManualRetry===!0){var d;a=(e||(e=r("performanceAbsoluteNow")))(),c=r("mergeDeep")(c,{bool:{is_manual_retry:!0},int:{manual_retry_count:((d=u.manualRetryCount)!=null?d:0)+1},string:{previousManualRetryErrorDetails:u.previousManualRetryErrorDetails}})}r("QPLUserFlow").start(t,{annotations:c,cancelOnUnload:!0,instanceKey:n,timeoutInMs:S,timestamp:a}),o("VisibilityState").subscribe(s)}}}function X(e,t,n){var a=f(!1),i=_(function(){var i=o("MAWLoggerUtils").getInstanceKey(),l=r("CurrentUser").getAppID(),s={string:{app_id:l!=null?l:void 0,attachment_type:P(e),content_type:D(e),entry_point:n,thread_type:A(t),transport_key:e.transportKey,xma_content_type:e.xmaContentType!=null?O(e.xmaContentType):void 0}};return babelHelpers.extends({},Q(v,i,a,s))},[e.messageId]);return p(function(){i==null||i.start()},[i]),m(function(){return function(){a.current===!1&&(i==null?void 0:i.getInstanceKey())!=null&&(i==null||i.endCancelAfterDelay(706))}},[i]),i}function Y(e,t,n){var r=e+(t?"0":"1")+(n?"1":"0");return o("MAWLoggerUtils").getInstanceKeyFromId(r)}function J(e){var t=(c||(c=o("I64"))).of_float(o("ServerTime").getMillis()),n=c.to_float(c.sub(t,e))/1e3,r;return n<g?r="less_than_one_day":n<h?r="between_one_and_three_days":n<y?r="between_three_days_and_one_week":n<C?r="between_one_and_two_weeks":n<b?r="between_two_weeks_and_one_month":r="more_than_one_month",r}function Z(e){return e==null||e<=0?"invalid_duration":e<=30?"duration less than 30 seconds":e<=60?"duration between 30 seconds and 1 minute":e<=120?"duration between 1 minute and 2 minutes":e<=180?"duration between 2 minutes and 3 minutes":e<=300?"duration between 3 minutes and 5 minutes":e<=600?"duration between 5 minutes and 10 minutes":e<=1800?"duration between 10 minutes and 30 minutes":e<=3600?"duration between 30 minutes and 1 hour":e<=7200?"duration between 1 hour and 2 hours":"duration above 2 hours"}l.MSGR_WEB_MEDIA_RENDER_EVENT=v,l.QPL_TIMEOUT=S,l.QPL_END_DELAY_MS=R,l.getMessageContentTypeString=k,l.getMessageContentTypeStringFromEnum=I,l.getReplyMessageAttachmentTypeStringFromEnum=T,l.deriveMessageContentTypeStringFromAttachmentTypeLessAccurate=x,l.getAttachmentTypeString=P,l.getAttachmentTypeStringFromEnum=N,l.getThreadTypeString=w,l.getThreadTypeStringFromEnum=A,l.getXmaContentTypeStringFromEnum=O,l.getMessagingInitiationSourceStringFromEnum=W,l.getE2EELinkPreviewXMADataTypeStringFromEnum=U,l.getMessageReplySourceTypeStringFromEnum=H,l.getMessageXmaLayoutTypeStringFromEnum=z,l.getMessageReplySourceTypeV2StringFromEnum=K,l.createQplFlowCommon=Q,l.useCommonMediaRenderQplForAttachment=X,l.getThreadViewMediaRenderQplInstanceKey=Y,l.calculateDiffBucketFromTimestamp=J,l.convertDurationToStringBucket=Z}),98);
__d("MWPContactContext.react",["react","shallowEqualI64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useRef,p=s.createContext({authorName:void 0,contact:void 0,nickname:void 0}),_=s.createContext({authorName:void 0,contact:void 0,nickname:void 0});function f(){return c(p)}function g(){return c(_)}function h(e){var t=e.children,n=e.contact,r=e.nickname,o=(function(){var e;if(r!=null)e=r;else if(n!=null){var t=n.firstName;e=t!=null?t:n.name}else e=void 0;return e})(),a=d(function(){return{authorName:o,contact:n,nickname:r}},[r,o,n]),i=y(n),l=d(function(){return{authorName:o,contact:i,nickname:r}},[r,o,i]);return s.jsx(p.Provider,{value:a,children:s.jsx(_.Provider,{value:l,children:t})})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=m(),n=e?{blockedByViewerStatus:e.blockedByViewerStatus,capabilities:e.capabilities,capabilities2:e.capabilities2,contactTypeExact:e.contactTypeExact,name:e.name,profilePictureFallbackUrl:e.profilePictureFallbackUrl,profilePictureUrl:e.profilePictureUrl,profilePictureUrlExpirationTimestampMs:e.profilePictureUrlExpirationTimestampMs,secondaryName:e.secondaryName}:void 0;return o("shallowEqualI64").shallowEqualI64(t.current,n)||(t.current=n),t.current}l.useMWPContactFullContext=f,l.useMWPContactStableContext=g,l.MWPContactContextProvider=h}),98);
__d("MWPFeatureLimitedData",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","ServerTime","gkx","useReStore","useServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=[(s||(s=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").READ_ONLY),s.ofNumber(r("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),s.ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND)];function d(e){for(var t of c)if((u||(u=o("I64"))).equal(t,e.type_))return!0;return!1}function m(e,t){return(u||(u=o("I64"))).equal((s||(s=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC),e.type_)&&o("LSMessagingThreadTypeUtil").isPublicCMThread(t)&&r("gkx")("26351")}function p(e,t){return(u||(u=o("I64"))).equal((s||(s=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE),e.type_)&&o("LSMessagingThreadTypeUtil").isPrivateThread(t)}var _=function(t){var e=(u||(u=o("I64"))).of_float(o("ServerTime").getMillis()/1e3);return o("ReQL").fromTableAscending(t.tables.feature_limits).filter(function(t){return d(t)&&(u||(u=o("I64"))).gt(t.expirationTimestampSeconds,e)})};function f(e,t){var n=(u||(u=o("I64"))).of_float(r("useServerTime")().valueOf()/1e3);return o("Int64Hooks").useMemoInt64(function(){return o("ReQL").fromTableAscending(e.tables.feature_limits).filter(function(e){return(t!=null?d(e)||m(e,t)||p(e,t):d(e))&&(u||(u=o("I64"))).gt(e.expirationTimestampSeconds,n)})},[n,e,t])}function g(){var t=(e||(e=r("useReStore")))();return o("ReQLSuspense").useFirst(function(){return _(t)},[t],i.id+":127")}function h(t){var n=(e||(e=r("useReStore")))(),a=f(n,t);return o("ReQLSuspense").useFirst(function(){return a},[a],i.id+":136")}l.readonlyFeatureLimitQuery=_,l.useReadOnlyFeatureLimitData=g,l.useReadOnlyFeatureLimitDataWithThreadType=h}),98);
__d("MWPReplyContext.react",["I64","emptyFunction","react","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useCallback,p=c.useMemo,_=c.useState,f=r("requireDeferred")("MWPReplyLogging").__setRef("MWPReplyContext.react"),g=d({clearReply:r("emptyFunction"),reply:void 0,setReply:r("emptyFunction")});function h(e){try{return JSON.parse(e)}catch(e){return}}function y(e){var t=e.children,n=e.clearThreadReply,r=e.getRepliesState,a=e.persistRepliesState,i=e.senderId,l=e.threadKey,c=r!=null&&l!=null?h(r((s||(s=o("I64"))).to_string(l))):void 0,d=_(c),y=d[0],C=d[1],b=m(function(e,t){if(f.onReady(function(n){n.logClearReply(t,e,y!=null)}),C(),n!=null)return n((s||(s=o("I64"))).to_string(e))},[n,y]),v=m(function(e,t){if(f.onReady(function(n){n.logSetReply(y,e,t)}),C(e),a!=null)return a({messageId:e.messageId,offlineThreadingId:e.offlineThreadingId,senderId:i,sendStatusV2:e.sendStatusV2,threadKey:(s||(s=o("I64"))).to_string(t),timestampMs:e.timestampMs})},[a,y,i]),S=p(function(){return{clearReply:b,reply:y,setReply:v}},[y,v,b]);return u.jsx(g.Provider,{value:S,children:t})}y.displayName=y.name+" [from "+i.id+"]",l.MWPReplyContext=g,l.MWPReplyContextProvider=y}),98);
__d("mwpMessageHasAttachment",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(1))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(8192))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).add((s||(s=o("LSIntEnum"))).ofNumber(1),(s||(s=o("LSIntEnum"))).ofNumber(8192)))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(128))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).add((s||(s=o("LSIntEnum"))).ofNumber(128),(s||(s=o("LSIntEnum"))).ofNumber(8192)))?!(e||(e=o("I64"))).equal(t.displayedContentTypes,e.add((s||(s=o("LSIntEnum"))).ofNumber(1),s.ofNumber(512))):!1}l.default=u}),98);
__d("useIsReadOnlyFeatureLimited",["MWPFeatureLimitedData"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MWPFeatureLimitedData").useReadOnlyFeatureLimitData();return e!=null}l.default=e}),98);
__d("useIsThreadBlocked",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MWThreadKey.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(){var t=(u||(u=r("useReStore")))(),n=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(t.tables.threads,["threadKey","threadType"]).getKeyRange(n)},[t,n],i.id+":28"),c=o("ReQLSuspense").useFirst(function(){return(l==null?void 0:l.threadKey)!=null&&(l==null?void 0:l.threadType)!=null&&o("LSMessagingThreadTypeUtil").isOneToOne(l==null?void 0:l.threadType)?o("ReQL").leftJoin(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(n).filter(function(t){return!(e||(e=o("I64"))).equal(t.contactId,a)}).take(1),o("ReQL").fromTableAscending(t.tables.contacts,["blockedByViewerStatus"])).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[a,t,l==null?void 0:l.threadKey,l==null?void 0:l.threadType,n],i.id+":37");return c!=null?!(e||(e=o("I64"))).equal(c.blockedByViewerStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}l.default=c}),98);