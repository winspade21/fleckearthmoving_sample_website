;/*FB_PKG_DELIM*/

__d("IGDDeleteOptimisticRelayReaction",["IGDGetSlideMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r,a=o("IGDGetSlideMessage").GetSlideMessageNullable(e,t),i=(r=a==null?void 0:a.getLinkedRecords("reactions"))!=null?r:[],l=i.filter(function(e){return(e==null?void 0:e.getValue("sender_fbid"))!==n}).filter(Boolean);a==null||a.setLinkedRecords(l,"reactions")}l.default=e}),98);
__d("IGDInsertOptimisticRelayReaction",["IGDGetSlideMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,a,i){var l,s=o("IGDGetSlideMessage").GetSlideMessageNullable(e,n);if(s!=null){var u=e.create("client:"+o("IGDGetSlideMessage").GetSlideMessageDataID(n)+":reactions:"+i,"XFBSlideReaction");u.setValue(i,"log_message_id"),u.setValue(t,"reaction"),u.setValue(a,"reaction_timestamp_ms"),u.setValue(r,"sender_fbid");var c=(l=s.getLinkedRecords("reactions"))!=null?l:[];s.setLinkedRecords([].concat(c,[u]),"reactions")}}l.default=e}),98);
__d("IGDMAPISendReaction",["IGDDeleteOptimisticRelayReaction","IGDInsertOptimisticRelayReaction","IGDMAPIQPLPoints","IGDMessageSendService","QPLFlow","asyncToGeneratorRuntime","createIGDMessageSendContext","getSafeQplErrorMessage","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a,i,l=r("createIGDMessageSendContext")(e),s=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),babelHelpers.extends({},n,{annotations:babelHelpers.extends({},n==null?void 0:n.annotations,{string:babelHelpers.extends({},n==null||(a=n.annotations)==null?void 0:a.string,{type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.REACTION})}),instanceKey:(i=n==null?void 0:n.instanceKey)!=null?i:l.instanceKey})),u={input:{emoji:t.emoji,item_id:"",message_id:t.messageId,reaction_status:t.reactionStatus,thread_id:t.threadId}},c={optimisticUpdater:function(n){s.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_START),t.reactionStatus==="created"?r("IGDInsertOptimisticRelayReaction")(n,t.emoji,t.messageId,t.senderId,l.timestamp,l.optimisticMessageId):r("IGDDeleteOptimisticRelayReaction")(n,t.messageId,t.senderId),s.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_END)},variables:u};try{var d=o("IGDMessageSendService").makeMessagePublishService();yield d.publish({commitMutationConfig:c,type:"reaction"},l,s),s.endSuccess()}catch(e){s.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPISendReaction=e}),98);
__d("IGDMessageContentTypesOffMsys",[],(function(t,n,r,o,a,i){"use strict";var e="SlideMessageStoreStickerContent",l="SlideMessageAvatarStickerXMAContent",s="SlideMessageText",u="SlideMessageRavenVideoContent",c="SlideMessageVideosContent",d="SlideMessageAIStickerXMAContent",m="SlideMessageGenAIRichResponseXMAContent",p="SlideMessageAnimatedMediaContent",_="SlideMessageAnimatedMediaContent_1p",f="SlideMessageAnimatedMediaContent_GIF",g="SlideMessageImageContent",h="SlideMessageMultiMediaContent",y="SlideMessageAudiosContent",C="SlideMessageCutoutStickerXMAContent",b="SlideMessageGenAISearchPluginResponseXMAContent",v="SlideMessageMusicStickerXMAContent",S="SlideMessageRavenImageContent",R="SlideMessageAdminText",L="SlideMessagePortraitXMA",E="SlideMessageStandardXMA",k="SlideMessageLayeredXMA",I="SlideMessageExpiredPlaceholderXMA",T="SlideMessagePlaceholderXMA",D="hidden_message",x="unsupported_sticker",$="unsupported_message",P="unknown_type";i.STORE_STICKER_CONTENT=e,i.AVATAR_STICKER_CONTENT=l,i.TEXT_CONTENT=s,i.RAVEN_VIDEO_CONTENT=u,i.VIDEOS_CONTENT=c,i.AI_STICKER_XMA_CONTENT=d,i.AI_RICH_RESPONSE_XMA_CONTENT=m,i.ANIMATED_MEDIA_CONTENT=p,i.ANIMATED_MEDIA_CONTENT_FIRST_PARTY_STICKER=_,i.ANIMATED_MEDIA_CONTENT_GIF=f,i.IMAGE_CONTENT=g,i.MULTIMEDIA_CONTENT=h,i.AUDIO_CONTENT=y,i.CUTOUT_STICKER_XMA_CONTENT=C,i.AI_SEARCH_PLUGIN_RESPONSE_XMA_CONTENT=b,i.MUSIC_STICKER_XMA_CONTENT=v,i.RAVEN_IMAGE_CONTENT=S,i.ADMIN_TEXT_CONTENT=R,i.PORTRAIT_XMA=L,i.STANDARD_XMA=E,i.LAYERED_XMA=k,i.EXPIRED_XMA=I,i.PLACEHOLDER_XMA=T,i.HIDDEN_MESSAGE=D,i.UNSUPPORTED_STICKER=x,i.UNSUPPORTED_MESSAGE=$,i.UNKNOWN_TYPE=P}),66);
__d("IGDUserMessageRowActionContextProvider",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useEffect,p=u.useMemo,_=u.useState,f=c({setCanShowBotFeedback:function(){},setSubmittedFeedback:function(){},showBotFeedbackOutOfMenu:!1});function g(e){var t=o("react-compiler-runtime").c(9),n=e.children,r=_(!1),a=r[0],i=r[1],l=_(!1),u=l[0],c=l[1],d=_(!1),p=d[0],g=d[1],h,y;t[0]!==a||t[1]!==p?(h=function(){c(!!(a&&p===!1))},y=[a,p],t[0]=a,t[1]=p,t[2]=h,t[3]=y):(h=t[2],y=t[3]),m(h,y);var C;t[4]!==u?(C={setCanShowBotFeedback:i,setSubmittedFeedback:g,showBotFeedbackOutOfMenu:u},t[4]=u,t[5]=C):C=t[5];var b=C,v;return t[6]!==n||t[7]!==b?(v=s.jsx(f.Provider,{value:b,children:n}),t[6]=n,t[7]=b,t[8]=v):v=t[8],v}function h(){return d(f)}l.IGDUserMessageRowActionContext=f,l.IGDUserMessageRowActionContextProvider=g,l.useIGDUserMessageRowActionContext=h}),98);
__d("IGDUserMessageRowHoverDetectionWrapperOffMsys.react",["IGDSBox.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.setIsHovered,i,l;t[0]!==a?(i=function(){a(!0)},l=function(){a(!1)},t[0]=a,t[1]=i,t[2]=l):(i=t[1],l=t[2]);var u;t[3]!==n?(u=s.jsx(r("IGDSBox.react"),{direction:"column",rowGap:1,children:n}),t[3]=n,t[4]=u):u=t[4];var c;return t[5]!==i||t[6]!==l||t[7]!==u?(c=s.jsx("div",{onMouseEnter:i,onMouseLeave:l,children:u}),t[5]=i,t[6]=l,t[7]=u,t[8]=c):c=t[8],c}l.default=u}),98);
__d("MWXIconMenuItemArrowDown",["MWXSvgIcon","SVGIcon","cr:22549","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22549")),r("gkx")("23219"));l.default=e}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemArrowDown","MWXIconStrict.react","MWXPressable.react","MWXThreadThemeColor","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function d(e){var t=e.onPress;return u.jsx(r("MWXPressable.react"),{"aria-label":s._(/*BTDS*/"Go to most recent message"),onPress:function(){t(),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_jump_to_bottom","app_id")},role:"button",xstyle:c.circleButton,children:u.jsx(r("MWXIconStrict.react"),{color:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-primary-theme-color)"),icon:r("MWXIconMenuItemArrowDown"),size:20})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("useIGDIsCannesThreadOffMsys_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDIsCannesThreadOffMsys_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"reachability_status",storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDIsCannesThreadOffMsys",["CometRelay","useIGDIsCannesThreadOffMsys_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDIsCannesThreadOffMsys_XFBIGDirectViewerThread.graphql"),t),a=r.reachability_status,i=a!=null&&a==="UNREACHABLE_R_ACCOUNT_TEEN_INTERACTION";return i}l.default=s}),98);
__d("useIGDIsEditedMessage_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDIsEditedMessage_SlideMessage",selections:[{alias:null,args:null,concreteType:"XFBSlideMessageEdit",kind:"LinkedField",name:"slide_edit_history",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("useIGDIsEditedMessage",["CometRelay","useIGDIsEditedMessage_SlideMessage.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r,a,i=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDIsEditedMessage_SlideMessage.graphql"),t);return((r=(a=i.slide_edit_history)==null?void 0:a.length)!=null?r:0)>0}l.default=s}),98);
__d("useIGDMessageListCanReactToSenderOffMsys_XDTUserDict.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDMessageListCanReactToSenderOffMsys_XDTUserDict",selections:[{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null}],storageKey:null}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("useIGDMessageListCanReactToSenderOffMsys",["CometRelay","react-compiler-runtime","useIGDMessageListCanReactToSenderOffMsys_XDTUserDict.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r,a){var i=o("react-compiler-runtime").c(2),l=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDMessageListCanReactToSenderOffMsys_XDTUserDict.graphql"),t),s;if(i[0]!==(l==null?void 0:l.friendship_status)){var u;s=(u=l==null?void 0:l.friendship_status)!=null?u:{},i[0]=l==null?void 0:l.friendship_status,i[1]=s}else s=i[1];var c=s,d=c.blocking,m=c.is_restricted;return d!==!0&&m!==!0&&!r&&!a}l.default=s}),98);
__d("useIGDSendReactionOffMsys_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"useIGDSendReactionOffMsys_SlideMessage",selections:[{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reactions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("useIGDSendReactionOffMsys_XDTUserDict.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDSendReactionOffMsys_XDTUserDict",selections:[{args:null,kind:"FragmentSpread",name:"useIGDMessageListCanReactToSenderOffMsys_XDTUserDict"}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("useIGDSendReactionOffMsys_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"useIGDSendReactionOffMsys_XFBIGDirectViewerThread",selections:[{args:null,kind:"FragmentSpread",name:"useCheckIGThreadCapability_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"useIGDIsCannesThreadOffMsys_XFBIGDirectViewerThread"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDSendReactionOffMsys",["CometRelay","CurrentUser","EmojiFormat.bs","IGDEmojiUtils","IGDMAPIInterfaceTypes","IGDMAPISendReaction","UnicodeUtils","promiseDone","react","react-compiler-runtime","useCheckIGThreadCapability","useIGDIsCannesThreadOffMsys","useIGDMessageListCanReactToSenderOffMsys","useIGDSendReactionOffMsys_SlideMessage.graphql","useIGDSendReactionOffMsys_XDTUserDict.graphql","useIGDSendReactionOffMsys_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=(c||(c=o("react"))).useCallback;function p(t,a,i,l,c){var m,p=o("react-compiler-runtime").c(15),_=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDSendReactionOffMsys_XFBIGDirectViewerThread.graphql"),c),f=o("CometRelay").useFragment(s!==void 0?s:s=n("useIGDSendReactionOffMsys_XDTUserDict.graphql"),l),g=o("CometRelay").useFragment(u!==void 0?u:u=n("useIGDSendReactionOffMsys_SlideMessage.graphql"),i),h=o("CometRelay").useRelayEnvironment(),y=r("useCheckIGThreadCapability")(1,_),C=r("useIGDMessageListCanReactToSenderOffMsys")(f,a,t),b=r("useIGDIsCannesThreadOffMsys")(_),v=y&&C&&!b,S=(m=g.reactions.find(function(e){var t;return e.sender_fbid===((t=_.viewer)==null?void 0:t.interop_messaging_user_fbid)}))==null?void 0:m.reaction,R;p[0]!==S?(R=S!=null?o("IGDEmojiUtils").maybeConvertHeartEmojiForIGD((d||(d=o("UnicodeUtils"))).getCodePoints(S)):null,p[0]=S,p[1]=R):R=p[1];var L=R,E;p[2]===Symbol.for("react.memo_cache_sentinel")?(E=o("IGDMAPIInterfaceTypes").toSenderId(r("CurrentUser").getEIMU()),p[2]=E):E=p[2];var k=E,I;p[3]!==_.thread_fbid?(I=o("IGDMAPIInterfaceTypes").toThreadId(_.thread_fbid),p[3]=_.thread_fbid,p[4]=I):I=p[4];var T=I,D;p[5]!==g.id?(D=o("IGDMAPIInterfaceTypes").toMessageId(g.id),p[5]=g.id,p[6]=D):D=p[6];var x=D,$;p[7]!==h||p[8]!==x||p[9]!==L||p[10]!==T?($=function(t){var e=t.join()===(L==null?void 0:L.join())?"deleted":"created",n=o("EmojiFormat.bs").codeArrayToUnicode(o("IGDEmojiUtils").maybeConvertHeartEmojiForSlide(t));r("promiseDone")(o("IGDMAPISendReaction").IGDMAPISendReaction(h,{emoji:n,messageId:x,reactionStatus:e,senderId:k,threadId:T}))},p[7]=h,p[8]=x,p[9]=L,p[10]=T,p[11]=$):$=p[11];var P=$,N;return p[12]!==v||p[13]!==P?(N={canReact:v,sendReaction:P},p[12]=v,p[13]=P,p[14]=N):N=p[14],N}l.default=p}),98);
__d("useIGDUniqueReactionsBySender",["react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=Array.from(new Map(e.map(s)).values()),t[0]=e,t[1]=n):n=t[1],n}function s(e){return[e.sender_fbid,e]}l.default=e}),98);