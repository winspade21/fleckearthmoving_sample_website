;/*FB_PKG_DELIM*/

__d("IGDMessageMoreContextMenuButton.react",["fbt","IGDMessageButton.react","IGDSLazyPopoverTrigger.react","IGDSMoreVerticalPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("requireDeferred")("IGDMessageContextMenu.react").__setRef("IGDMessageMoreContextMenuButton.react");function m(t){var n,a=o("react-compiler-runtime").c(30),l=t.isMessageHidden,u=t.message,m=t.onMessageUnhide,p=t.outgoing,_=t.thread,f=(e||(e=r("useReStore")))(),g;a[0]!==f.tables.contacts||a[1]!==u.senderId?(g=function(){return o("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(u.senderId)},a[0]=f.tables.contacts,a[1]=u.senderId,a[2]=g):g=a[2];var h;a[3]!==f||a[4]!==u.senderId?(h=[f,u.senderId],a[3]=f,a[4]=u.senderId,a[5]=h):h=a[5];var y=o("ReQLSuspense").useFirst(g,h,i.id+":57"),C=(n=y==null?void 0:y.name)!=null?n:y==null?void 0:y.secondaryName,b;a[6]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"More"),a[6]=b):b=a[6];var v=b,S;a[7]!==C?(S=s._(/*BTDS*/"See more options for message from {sender name}",[s._param("sender name",C)]),a[7]=C,a[8]=S):S=a[8];var R=S,L=r("MessengerWebUXLogger").useInteractionLogger(),E=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),k;a[9]!==E||a[10]!==L||a[11]!==u.messageId?(k=function(t){L==null||L({eventName:"open_message_options",extraData:{message_id:u.messageId},flowInstanceId:E}),t()},a[9]=E,a[10]=L,a[11]=u.messageId,a[12]=k):k=a[12];var I;a[13]!==E||a[14]!==L||a[15]!==u.messageId||a[16]!==_?(I=[L,_,u.messageId,E],a[13]=E,a[14]=L,a[15]=u.messageId,a[16]=_,a[17]=I):I=a[17];var T=o("Int64Hooks").useCallbackInt64(k,I),D=p?"end":"start",x;a[18]!==l||a[19]!==u||a[20]!==m||a[21]!==_?(x={isMessageHidden:l,message:u,onMessageUnhide:m,thread:_},a[18]=l,a[19]=u,a[20]=m,a[21]=_,a[22]=x):x=a[22];var $;a[23]!==R||a[24]!==T?($=function(t,n){return c.jsx(r("IGDMessageButton.react"),{innerRef:t,label:v,onClick:function(){return T(n)},children:c.jsx(r("IGDSMoreVerticalPanoOutline24Icon.react"),{alt:R,color:"ig-primary-text","data-testid":void 0,size:16})})},a[23]=R,a[24]=T,a[25]=$):$=a[25];var P;return a[26]!==D||a[27]!==x||a[28]!==$?(P=c.jsx(r("IGDSLazyPopoverTrigger.react"),{align:D,popoverProps:x,popoverResource:d,popoverType:"menu",position:"above",children:$}),a[26]=D,a[27]=x,a[28]=$,a[29]=P):P=a[29],P}l.default=m}),226);
__d("IGDMessageNegativeFeedbackButton.react",["fbt","IGDMessageButton.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(11),n=e.message,a=r("useIGDSToaster")(),i;t[0]!==a?(i=function(){a.add({message:s._(/*BTDS*/"Feedback has been submitted"),target:"bottom-left"})},t[0]=a,t[1]=i):i=t[1];var l=i,c=r("useMWV2SubmitFeedbackAction")(n.botResponseId,l),d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=r("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("IGDMessageNegativeFeedbackButton.react"),t[2]=d):d=t[2];var p=r("useIGDSLazyDialog")(d,m),_=p[0],f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Bad response"),t[3]=f):f=t[3];var g=f,h;t[4]!==n||t[5]!==c||t[6]!==_?(h=function(){_({message:n,onSubmit:c},r("emptyFunction"))},t[4]=n,t[5]=c,t[6]=_,t[7]=h):h=t[7];var y=h,C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx(r("IGDSThumbDownPanoOutline24Icon.react"),{alt:g,color:"ig-primary-text",size:16}),t[8]=C):C=t[8];var b;return t[9]!==y?(b=u.jsx(r("IGDMessageButton.react"),{"data-testid":void 0,label:g,onClick:y,children:C}),t[9]=y,t[10]=b):b=t[10],b}function m(e){return u.jsx(r("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:e,size:"large"})}m.displayName=m.name+" [from "+i.id+"]",l.default=d}),226);
__d("IGDMessagePositiveFeedbackButton.react",["fbt","BotFeedbackKind","IGDMessageButton.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(e){var t,n=o("react-compiler-runtime").c(15),a=e.message,i=r("useIGDSToaster")(),l;n[0]!==i?(l=function(){i.add({message:s._(/*BTDS*/"Feedback has been submitted"),target:"bottom-left"})},n[0]=i,n[1]=l):l=n[1];var c=l,d=r("useMWV2SubmitFeedbackAction")(a.botResponseId,c),m=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p=(t=a.botResponseId)!=null?t:"",_;n[2]!==p?(_={botResponseId:p},n[2]=p,n[3]=_):_=n[3];var f;n[4]!==m||n[5]!==_?(f={extraData:_,flowInstanceId:m},n[4]=m,n[5]=_,n[6]=f):f=n[6];var g=f,h=r("MessengerWebUXLogger").useInteractionLogger(),y;n[7]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Good response"),n[7]=y):y=n[7];var C=y,b;n[8]!==g||n[9]!==h||n[10]!==d?(b=function(){d(r("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),h==null||h(babelHelpers.extends({eventName:"submit_positive_feedback"},g))},n[8]=g,n[9]=h,n[10]=d,n[11]=b):b=n[11];var v=b,S;n[12]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(r("IGDSThumbUpPanoOutline24Icon.react"),{alt:C,color:"ig-primary-text",size:16}),n[12]=S):S=n[12];var R;return n[13]!==v?(R=u.jsx(r("IGDMessageButton.react"),{"data-testid":void 0,label:C,onClick:v,children:S}),n[13]=v,n[14]=R):R=n[14],R}l.default=p}),226);
__d("IGDMessageReactionButton.react",["fbt","EmojiFormat.bs","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MWV2MessageReactionHooks","MessengerWebUXLogger","ReQL","ReQLSuspense","UnicodeUtils","cr:8247","cr:8257","emptyFunction","promiseDone","react","react-compiler-runtime","useIGDGlobalReactMessage","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var a,l,c=o("react-compiler-runtime").c(29),m=t.message,p=t.outgoing,_=t.setReactionsMenuOpen,f=(e||(e=r("useReStore")))(),g;c[0]!==f.tables.contacts||c[1]!==m.senderId?(g=function(){return o("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(m.senderId)},c[0]=f.tables.contacts,c[1]=m.senderId,c[2]=g):g=c[2];var h;c[3]!==f||c[4]!==m.senderId?(h=[f,m.senderId],c[3]=f,c[4]=m.senderId,c[5]=h):h=c[5];var y=o("ReQLSuspense").useFirst(g,h,i.id+":46"),C=o("MWLSThread").useThread(m.threadKey),b=(a=y==null?void 0:y.name)!=null?a:y==null?void 0:y.secondaryName,v=(l=o("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(m.messageId,m.threadKey))==null?void 0:l.reaction,S=r("useIGDGlobalReactMessage")(m,"reaction_tray"),R;c[6]!==v||c[7]!==S?(R=function(t){var e=o("EmojiFormat.bs").codeArrayToUnicode(t);if(v!=null){var n=(u||(u=o("UnicodeUtils"))).getCodePoints(v);e===v&&(e=void 0),n[0]===10084&&t[0]===10084&&(e=void 0)}r("promiseDone")(S(e,"reaction"))},c[6]=v,c[7]=S,c[8]=R):R=c[8];var L=R,E=p?"end":"start",k;c[9]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"React"),c[9]=k):k=c[9];var I=k,T=r("MessengerWebUXLogger").useInteractionLogger(),D=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),x,$;c[10]!==D||c[11]!==T||c[12]!==m.messageId||c[13]!==C?(x=function(t){t(),C&&(T==null||T({eventName:"reaction_open_emoji_picker",extraData:{message_id:m.messageId},flowInstanceId:D}))},$=[C,T,m.messageId,D],c[10]=D,c[11]=T,c[12]=m.messageId,c[13]=C,c[14]=x,c[15]=$):(x=c[14],$=c[15]);var P=o("Int64Hooks").useCallbackInt64(x,$),N;c[16]!==b?(N=s._(/*BTDS*/"React to message from {sender name}",[s._param("sender name",b)]),c[16]=b,c[17]=N):N=c[17];var M=N,w;c[18]!==_?(w=function(t){return _(function(){return t})},c[18]=_,c[19]=w):w=c[19];var A=w,F=E,O;c[20]!==P||c[21]!==L||c[22]!==M||c[23]!==F?(O={align:F,altLabel:M,label:I,onClickAction:P,onClose:r("emptyFunction"),onSelect:L},c[20]=P,c[21]=L,c[22]=M,c[23]=F,c[24]=O):O=c[24];var B=O,W;return c[25]!==A||c[26]!==v||c[27]!==B?(W=n("cr:8257")?d.jsx(n("cr:8257"),babelHelpers.extends({},B,{selectedReaction:v!=null?(u||(u=o("UnicodeUtils"))).getCodePoints(v):null})):n("cr:8247")?d.jsx(n("cr:8247"),babelHelpers.extends({},B,{onVisibilityChange:A})):null,c[25]=A,c[26]=v,c[27]=B,c[28]=W):W=c[28],W}l.default=p}),226);
__d("IGDMessageReactionButtonLazyLoadPopoverTrigger.react",["IGDMessageButton.react","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("IGDComposerEmojiPicker.react").__setRef("IGDMessageReactionButtonLazyLoadPopoverTrigger.react");function c(e){var t=o("react-compiler-runtime").c(15),n=e.align,a=e.altLabel,i=e.closeAfterSelect,l=e.label,c=e.onClickAction,d=e.onClose,m=e.onSelect,p=e.onVisibilityChange,_=e.showPopoverArrow,f=e.useMenuItem,g=i===void 0?!0:i,h=_===void 0?!1:_,y=f===void 0?!1:f,C;t[0]!==g||t[1]!==d||t[2]!==m||t[3]!==h?(C={closeAfterSelect:g,onClose:d,onSelect:m,showPopoverArrow:h},t[0]=g,t[1]=d,t[2]=m,t[3]=h,t[4]=C):C=t[4];var b;t[5]!==a||t[6]!==l||t[7]!==c||t[8]!==y?(b=function(t,n){return y?s.jsx(r("IGDSBox.react"),{containerRef:t,children:s.jsx(r("IGDMessageContextMenuItem.react"),{icon:s.jsx(r("IGDSFace2OutlineIcon.react"),{alt:a,size:18}),label:l,onClick:function(){return c(n)}})}):s.jsx(r("IGDMessageButton.react"),{innerRef:t,label:l,onClick:function(){return c(n)},children:s.jsx(r("IGDSFace2OutlineIcon.react"),{alt:a,color:"ig-primary-text","data-testid":void 0,size:16})})},t[5]=a,t[6]=l,t[7]=c,t[8]=y,t[9]=b):b=t[9];var v;return t[10]!==n||t[11]!==p||t[12]!==C||t[13]!==b?(v=s.jsx(r("IGDSLazyPopoverTrigger.react"),{align:n,onVisibilityChange:p,popoverProps:C,popoverResource:u,popoverType:"dialog",position:"above",children:b}),t[10]=n,t[11]=p,t[12]=C,t[13]=b,t[14]=v):v=t[14],v}l.default=c}),98);
__d("IGDMessageReplyButton.react",["fbt","IGDInstamadilloUtils","IGDMessageButton.react","IGDSReplyPanoOutline24Icon.react","InstagramODS","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","useIGDMessageReply.react","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n,a=o("react-compiler-runtime").c(17),l=t.message,u=t.onClose,d=t.thread,m=(e||(e=r("useReStore")))(),p;a[0]!==m.tables.contacts||a[1]!==l.senderId?(p=function(){return o("ReQL").fromTableAscending(m.tables.contacts).getKeyRange(l.senderId)},a[0]=m.tables.contacts,a[1]=l.senderId,a[2]=p):p=a[2];var _;a[3]!==m||a[4]!==l.senderId?(_=[m,l.senderId],a[3]=m,a[4]=l.senderId,a[5]=_):_=a[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":45"),g=(n=f==null?void 0:f.name)!=null?n:f==null?void 0:f.secondaryName,h=r("useIGDMessageReply.react")(l,d,u),y=h[0],C=h[1],b;a[6]!==g?(b=s._(/*BTDS*/"Reply to message from {sender name}",[s._param("sender name",g)]),a[6]=g,a[7]=b):b=a[7];var v=b,S=o("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(d),R=r("MessengerWebUXLogger").useImpressionLogger(),L;a[8]!==R?(L={onImpressionStart:function(){R==null||R({eventName:"message_reply"}),r("InstagramODS").incr("web.igd.message_list.reply_button.impression")}},a[8]=R,a[9]=L):L=a[9];var E=r("useSinglePartialViewImpression")(L);if(!o("IGDInstamadilloUtils").shouldRenderMessageReply(l,S))return null;var k;a[10]!==v?(k=c.jsx(r("IGDSReplyPanoOutline24Icon.react"),{alt:v,color:"ig-primary-text","data-testid":void 0,size:16}),a[10]=v,a[11]=k):k=a[11];var I;return a[12]!==E||a[13]!==y||a[14]!==C||a[15]!==k?(I=c.jsx(r("IGDMessageButton.react"),{innerRef:E,label:C,onClick:y,children:k}),a[12]=E,a[13]=y,a[14]=C,a[15]=k,a[16]=I):I=a[16],I}l.default=d}),226);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var l=(e||(e=r("useReStore")))(),s=r("useIsGenAiFeedbackEnabled")(n,a),u=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(l.tables.messages.index("threadKeyPrimarySortKeySecondarySortKeyBotResponseId"),["botResponseId"]).getKeyRange(t)},[l,t],i.id+":43"),c=r("useGenAIFeedbackSubmissionStatus")(n);return s&&(u==null?void 0:u.botResponseId)===n&&c==null}l.default=s}),98);
__d("IGDMessageRowActions.react",["I64","IGDInstamadilloUtils","IGDMessageMoreContextMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWPActor.react","MWPBaseMessageListRowActions.react","MessagingAttachmentType","PolarisUA","ReQL","ReQLSuspense","cr:3505","cr:3552","gkx","react","react-compiler-runtime","useGenAIFeedbackSubmissionStatus","useIGDIsCannesThread.react","useIGDIsGenAiReelsPlugin","useIGDMessageAttachment","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore","useShowPersistentGenAIFeedbackButtons"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useContext,_=m.useState,f=r("gkx")("4253")===!0,g=[(c||(c=o("LSIntEnum"))).ofNumber(1),c.ofNumber(16384),c.ofNumber(2),c.ofNumber(4)];function h(t){var a=o("react-compiler-runtime").c(100),l=t.isMessageHidden,s=t.message,m=t.onMessageUnhide,p=t.outgoing,_=t.setReactionsMenuOpen,h=t.thread,y=(e||(e=r("useReStore")))(),C=o("MWPActor.react").useActor(),b=r("useIsThreadBlocked")(),v=r("useIsReadOnlyFeatureLimited")(),S=h.threadKey,R=h.threadType,L=s.displayedContentTypes,E=s.senderId,k;a[0]!==y.tables.contacts||a[1]!==E?(k=function(){return o("ReQL").fromTableAscending(y.tables.contacts,["blockedByViewerStatus"].concat(o("LSContactBitOffset").contactCapabilityFields)).getKeyRange(E)},a[0]=y.tables.contacts,a[1]=E,a[2]=k):k=a[2];var I;a[3]!==y||a[4]!==E?(I=[y,E],a[3]=y,a[4]=E,a[5]=I):I=a[5];var T=o("ReQLSuspense").useFirst(k,I,i.id+":101"),D=r("useIGDMessageAttachment")(y,s,S),x=D.attachment,$=D.hasMultipleAttachments,P=r("useIGDIsCannesThread.react")(S,R),N;a[6]!==C||a[7]!==E?(N=(u||(u=o("I64"))).equal(E,C),a[6]=C,a[7]=E,a[8]=N):N=a[8];var M=N,w;a[9]!==T||a[10]!==M||a[11]!==R?(w=!M&&o("LSMessagingThreadTypeUtil").isOneToOne(R)&&T!=null?!(u||(u=o("I64"))).equal(T.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,a[9]=T,a[10]=M,a[11]=R,a[12]=w):w=a[12];var A=w,F;a[13]!==T?(F=T!=null&&o("LSContactBitOffset").has(66,T),a[13]=T,a[14]=F):F=a[14];var O=F,B;a[15]!==T?(B=T!=null&&o("LSContactBitOffset").has(18,T),a[15]=T,a[16]=B):B=a[16];var W=B,q;a[17]!==h?(q=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(h),a[17]=h,a[18]=q):q=a[18];var U=q,V;a[19]!==L||a[20]!==M||a[21]!==W?(V=W&&!M&&g.findIndex(function(e){return(u||(u=o("I64"))).equal(L,e)})!==-1,a[19]=L,a[20]=M,a[21]=W,a[22]=V):V=a[22];var H=V,G;a[23]!==x?(G=x!=null&&((u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))),a[23]=x,a[24]=G):G=a[24];var z=G,j;a[25]!==x?(j=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)),a[25]=x,a[26]=j):j=a[26];var K=j,Q;a[27]!==x?(Q=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)),a[27]=x,a[28]=Q):Q=a[28];var X=Q,Y;a[29]!==L||a[30]!==z?(Y=(u||(u=o("I64"))).equal(L,o("LSBitFlag").empty)&&!z,a[29]=L,a[30]=z,a[31]=Y):Y=a[31];var J=Y,Z=r("useMWPCanRemoveMessageGlobally")(s)&&M,ee;a[32]!==x?(ee=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?x.isSharable:!0,a[32]=x,a[33]=ee):ee=a[33];var te=ee,ne;a[34]!==s.replySourceTypeV2?(ne=s.replySourceTypeV2!=null&&(c||(c=o("LSIntEnum"))).toNumber(s.replySourceTypeV2)===r("LSMessageReplySourceTypeV2").FORWARD,a[34]=s.replySourceTypeV2,a[35]=ne):ne=a[35];var re=ne,oe;a[36]!==L?(oe=(u||(u=o("I64"))).equal(L,(c||(c=o("LSIntEnum"))).ofNumber(1))||(u||(u=o("I64"))).equal(L,(c||(c=o("LSIntEnum"))).ofNumber(1033)),a[36]=L,a[37]=oe):oe=a[37];var ae=oe,ie=!l&&(ae||re&&!!s.text),le;a[38]!==$||a[39]!==X||a[40]!==K||a[41]!==b||a[42]!==z||a[43]!==l||a[44]!==U||a[45]!==J||a[46]!==A||a[47]!==v||a[48]!==O||a[49]!==te||a[50]!==s.displayedContentTypes||a[51]!==s.isUnsent||a[52]!==h?(le=!l&&!b&&!O&&!U&&!v&&!s.isUnsent&&!J&&o("LSThreadBitOffset").has(103,h)&&te&&!A&&!(u||(u=o("I64"))).equal(s.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(256))&&!z&&!K&&!X&&!$,a[38]=$,a[39]=X,a[40]=K,a[41]=b,a[42]=z,a[43]=l,a[44]=U,a[45]=J,a[46]=A,a[47]=v,a[48]=O,a[49]=te,a[50]=s.displayedContentTypes,a[51]=s.isUnsent,a[52]=h,a[53]=le):le=a[53];var se=le,ue=r("useIsGenAiFeedbackEnabled")(s.botResponseId,f),ce=r("useGenAIFeedbackSubmissionStatus")(s.botResponseId),de=ue&&ce==null,me;a[54]!==de?(me=!o("PolarisUA").isMobile()&&de,a[54]=de,a[55]=me):me=a[55];var pe=me,_e;a[56]!==s||a[57]!==pe?(_e=pe&&n("cr:3552")?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:d.jsx(n("cr:3552"),{message:s})}):null,a[56]=s,a[57]=pe,a[58]=_e):_e=a[58];var fe=_e,ge;a[59]!==s||a[60]!==pe?(ge=pe&&n("cr:3505")?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:d.jsx(n("cr:3505"),{message:s})}):null,a[59]=s,a[60]=pe,a[61]=ge):ge=a[61];var he=ge,ye;a[62]!==b||a[63]!==P||a[64]!==l||a[65]!==U||a[66]!==J||a[67]!==v||a[68]!==O||a[69]!==s.isUnsent||a[70]!==pe||a[71]!==h?(ye=!l&&!b&&!O&&!U&&!v&&o("LSThreadBitOffset").has(42,h)&&!s.isUnsent&&!J&&!pe&&!P,a[62]=b,a[63]=P,a[64]=l,a[65]=U,a[66]=J,a[67]=v,a[68]=O,a[69]=s.isUnsent,a[70]=pe,a[71]=h,a[72]=ye):ye=a[72];var Ce=ye,be;a[73]!==h?(be=o("LSThreadBitOffset").has(18,h),a[73]=h,a[74]=be):be=a[74];var ve=be,Se=o("LSThreadBitOffset").has(139,h),Re;a[75]!==h?(Re=o("LSThreadBitOffset").has(169,h),a[75]=h,a[76]=Re):Re=a[76];var Le=Re,Ee=!l&&!b&&!O&&!U&&!v&&!s.isUnsent&&!J&&(Se?Le:ve)&&!pe&&!P,ke=r("gkx")("24015"),Ie=ke||!J&&(se||Z||ie||H),Te;a[77]!==Ee||a[78]!==s||a[79]!==p||a[80]!==_?(Te=Ee?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageReactionButton.react"),{message:s,outgoing:p,setReactionsMenuOpen:_})}):null,a[77]=Ee,a[78]=s,a[79]=p,a[80]=_,a[81]=Te):Te=a[81];var De=Te,xe;a[82]!==Ce||a[83]!==s||a[84]!==h?(xe=Ce?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageReplyButton.react"),{message:s,thread:h})}):null,a[82]=Ce,a[83]=s,a[84]=h,a[85]=xe):xe=a[85];var $e=xe,Pe;a[86]!==l||a[87]!==s||a[88]!==m||a[89]!==p||a[90]!==Ie||a[91]!==h?(Pe=Ie?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageMoreContextMenuButton.react"),{isMessageHidden:l,message:s,onMessageUnhide:m,outgoing:p,thread:h})}):null,a[86]=l,a[87]=s,a[88]=m,a[89]=p,a[90]=Ie,a[91]=h,a[92]=Pe):Pe=a[92];var Ne=Pe,Me;return a[93]!==Ne||a[94]!==he||a[95]!==p||a[96]!==fe||a[97]!==De||a[98]!==$e?(Me=d.jsxs(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:p,children:[fe,he,De,$e,Ne]}),a[93]=Ne,a[94]=he,a[95]=p,a[96]=fe,a[97]=De,a[98]=$e,a[99]=Me):Me=a[99],Me}function y(e){var t=o("react-compiler-runtime").c(17),n=e.ariaHidden,a=e.focused,i=e.hidden,l=e.hovered,s=e.isMessageHidden,u=e.message,c=e.onMessageUnhide,m=e.outgoing,f=e.thread,g=n===void 0?!1:n,y=i===void 0?!1:i,C=_(!1),b=C[0],v=C[1],S=r("useIsGenAiFeedbackEnabled")(u.botResponseId,r("gkx")("4253")===!0),R=r("useGenAIFeedbackSubmissionStatus")(u.botResponseId),L=r("useIGDIsGenAiReelsPlugin")(u),E=r("useShowPersistentGenAIFeedbackButtons")(u.threadKey,u.botResponseId,r("gkx")("4253")===!0),k;t[0]!==R||t[1]!==S||t[2]!==L||t[3]!==E?(k=L?!1:o("PolarisUA").isMobile()?S&&R==null:E,t[0]=R,t[1]=S,t[2]=L,t[3]=E,t[4]=k):k=t[4];var I=k,T=l||a||b,D=p(o("MAWEditMessageContext.react").Context),x=D.editMessageData,$=x!=null,P=!y&&(T||I)&&!$,N=T===!0?"full":"partial",M;t[5]!==s||t[6]!==u||t[7]!==c||t[8]!==m||t[9]!==P||t[10]!==f?(M=P?d.jsx(h,{isMessageHidden:s,message:u,onMessageUnhide:c,outgoing:m,setReactionsMenuOpen:v,thread:f}):null,t[5]=s,t[6]=u,t[7]=c,t[8]=m,t[9]=P,t[10]=f,t[11]=M):M=t[11];var w;return t[12]!==g||t[13]!==m||t[14]!==N||t[15]!==M?(w=d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:g,outgoing:m,visibility:N,children:M}),t[12]=g,t[13]=m,t[14]=N,t[15]=M,t[16]=w):w=t[16],w}function C(t){var n=o("react-compiler-runtime").c(19),a=t.ariaHidden,l=t.focused,s=t.hidden,u=t.hovered,c=t.isMessageHidden,m=t.message,p=t.onMessageUnhide,_=t.outgoing,f=a===void 0?!1:a,g=s===void 0?!1:s,h=(e||(e=r("useReStore")))(),C;n[0]!==h.tables.threads||n[1]!==m.threadKey?(C=function(){return o("ReQL").fromTableAscending(h.tables.threads,["parentThreadKey","threadKey","threadSubtype","cannotUnsendReason","consistentThreadFbid","threadType"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(m.threadKey)},n[0]=h.tables.threads,n[1]=m.threadKey,n[2]=C):C=n[2];var b;n[3]!==h||n[4]!==m.threadKey?(b=[h,m.threadKey],n[3]=h,n[4]=m.threadKey,n[5]=b):b=n[5];var v=o("ReQLSuspense").useFirst(C,b,i.id+":445"),S;n[6]!==m?(S=o("IGDInstamadilloUtils").canMutateIGDMessage(m),n[6]=m,n[7]=S):S=n[7];var R=S,L;return n[8]!==f||n[9]!==R||n[10]!==l||n[11]!==g||n[12]!==u||n[13]!==c||n[14]!==m||n[15]!==p||n[16]!==_||n[17]!==v?(L=v!=null&&R?d.jsx(y,{ariaHidden:f,focused:l,hidden:g,hovered:u,isMessageHidden:c,message:m,onMessageUnhide:p,outgoing:_,thread:v}):null,n[8]=f,n[9]=R,n[10]=l,n[11]=g,n[12]=u,n[13]=c,n[14]=m,n[15]=p,n[16]=_,n[17]=v,n[18]=L):L=n[18],L}l.default=C}),98);