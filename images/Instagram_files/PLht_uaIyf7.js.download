;/*FB_PKG_DELIM*/

__d("EmojiUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.map(function(e){return String.fromCodePoint(e)})}function l(e,t){if(t.length===0)return[];if(e==null||e.size===0)return t;var n=Array.from(e).flat();return t.filter(function(e){return!e.some(function(e){return n.includes(e)})})}i.toStringCodepoints=e,i.filterEmojis=l}),66);
__d("BaseEmoji.react",["EmojiUtils","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.codepoints,n=e.testid,r=e.xstyle,a=o("EmojiUtils").toStringCodepoints(t).join("");return s.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,style:r,children:a})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("BaseEmojiButton.react",["BaseEmoji.react","CometPressable.react","XPlatReactEnvironment","clearTimeout","react","react-strict-dom","setTimeout","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["codepoints","emojiXStyle","longPressDuration","onLongPress","onPress","ref","xstyle"],s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p={emojiContainer:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",pointerEvents:"x47corl",$$css:!0}};function _(t){var n=t.codepoints,a=t.emojiXStyle,i=t.longPressDuration,l=i===void 0?1e3:i,s=t.onLongPress,c=t.onPress,_=t.ref,f=t.xstyle,g=babelHelpers.objectWithoutPropertiesLoose(t,e),h=g.onPressIn,y=g.onPressOut,C=m(null),b=r("useMergeRefs")(C,_),v=m(null),S=m(s==null?null:function(){return s(n,C)});d(function(){return function(){v.current!=null&&r("clearTimeout")(v.current)}},[]),d(function(){return S.current=s==null?null:function(){return s(n,C)},function(){S.current=null}},[C,n,s]);var R=function(){S.current!=null&&S.current(),v.current=null},L=function(t){h==null||h(t),v.current!=null&&r("clearTimeout")(v.current),v.current=r("setTimeout")(R,l)},E=function(t){y==null||y(t),v.current!=null&&(r("clearTimeout")(v.current),v.current=null,c!=null&&S.current!=null&&c(n))},k=function(t){c!=null&&(S.current==null||o("XPlatReactEnvironment").isWeb()&&t.nativeEvent instanceof KeyboardEvent)&&c(n)};return u.jsx(r("CometPressable.react"),babelHelpers.extends({},g,{onPress:k,onPressIn:L,onPressOut:E,ref:b,children:u.jsx(o("react-strict-dom").html.div,{style:[p.emojiContainer,f],children:u.jsx(r("BaseEmoji.react"),{codepoints:n,xstyle:a})})}))}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("CometFocusTable.react",["CometCompositeFocusIndicator.react","CometFocusTableContext","FocusTable.react","focusScopeQueries","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-label","children"],s=["elementType","label","suppressFocusRing"],u,c,d=c||(c=o("react")),m=c.useMemo,p=o("FocusTable.react").createFocusTable(o("focusScopeQueries").focusableScopeQuery),_=p[0],f=p[1],g=p[2];function h(t){var n=t["aria-label"],r=t.children,o=babelHelpers.objectWithoutPropertiesLoose(t,e);return d.jsx(g,babelHelpers.extends({},o,{children:d.jsx("div",{"aria-label":n,role:"gridcell",children:r})}))}h.displayName=h.name+" [from "+i.id+"]";var y={horizontal:!0,role:"grid",vertical:!0};function C(e){var t=e.elementType,n=e.label,o=e.suppressFocusRing,a=babelHelpers.objectWithoutPropertiesLoose(e,s),i=m(function(){return{FocusCell:h,FocusRow:f,FocusTable:_}},[]),l=t!=null?t:"div";return d.jsx(r("CometFocusTableContext").Provider,{value:i,children:d.jsx(r("CometCompositeFocusIndicator.react"),{compositeInfo:y,elementType:t,suppressFocusRing:o,children:function(t){return d.jsx(l,{"aria-label":n,className:(u||(u=r("stylex")))(t),role:"grid",children:d.jsx(_,babelHelpers.extends({},a))})}})})}C.displayName=C.name+" [from "+i.id+"]",l.CometFocusTable=C,l.CometFocusCell=g,l.CometFocusRow=f}),98);
__d("IGDCustomReactionsDialog.entrypoint",["IGDEmojiPicker.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{entryPoints:{emojiPickerEntrypoint:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("IGDEmojiPicker.entrypoint"),entryPointParams:{categoryIDs:t.categoryIDs}})}}},root:r("JSResourceForInteraction")("IGDCustomReactionsDialog.react").__setRef("IGDCustomReactionsDialog.entrypoint")};l.default=e}),98);
__d("IGDEmojiGrid.react",["BaseEmojiButton.react","CometFocusTable.react","EmojiUtils","IGDSBox.react","IGDSTextVariants.react","IGDVisibilityAware.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-label","aria-labelledby","blocklistedEmojis","buttonXStyle","columns","emojiCollection","gridElementXStyle","gridRowXStyle","hidden","label","labelRightAddOn","onLongPress","onPress","ref","selectedEmojis","testid","virtualizationOptions","xstyle"],s,u=s||(s=o("react")),c=32,d=4,m=6,p=22,_=2*d+c,f={bottom:_*3,top:_*3},g={emoji:{fontFamily:"x15yrdiy",fontSize:"x579bpy",$$css:!0},emojiButton:{height:"x10w6t97",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",width:"x1td3qas",$$css:!0},gridRow:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},selected:{backgroundColor:"x1njphrp",borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",opacity:"x1hc1fzr",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(49),a,i,l,s,c,d,h,C,b,v,S,R,L,E,k,I,T,D,x;n[0]!==t?(a=t["aria-label"],i=t["aria-labelledby"],l=t.blocklistedEmojis,c=t.buttonXStyle,d=t.columns,h=t.emojiCollection,C=t.gridElementXStyle,b=t.gridRowXStyle,v=t.hidden,S=t.label,R=t.labelRightAddOn,L=t.onLongPress,E=t.onPress,k=t.ref,I=t.selectedEmojis,T=t.testid,D=t.virtualizationOptions,x=t.xstyle,s=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=h,n[8]=C,n[9]=b,n[10]=v,n[11]=S,n[12]=R,n[13]=L,n[14]=E,n[15]=k,n[16]=I,n[17]=T,n[18]=D,n[19]=x):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],h=n[7],C=n[8],b=n[9],v=n[10],S=n[11],R=n[12],L=n[13],E=n[14],k=n[15],I=n[16],T=n[17],D=n[18],x=n[19]);var $,P,N;if(n[20]!==l||n[21]!==s||n[22]!==c||n[23]!==d||n[24]!==h||n[25]!==C||n[26]!==b||n[27]!==v||n[28]!==L||n[29]!==E||n[30]!==k||n[31]!==I||n[32]!==T||n[33]!==D){N=Symbol.for("react.early_return_sentinel");e:{var M,w=o("EmojiUtils").filterEmojis(l,h);if(w.length===0){N=null;break e}$=[],P=Math.ceil(w.length/d);var A=(M=I)==null?void 0:M.map(y);if(v!==!0)for(var F=0;F<P;F++){for(var O=[],B=function(){var e=F*d+W,t=w[e];if(t!=null){var n=t.join(),a=(T!=null?T:"BaseEmojiButton-")+n;O[W]=u.jsx(r("IGDSBox.react"),{xstyle:C,children:u.jsx(o("CometFocusTable.react").CometFocusCell,{children:u.jsx(r("BaseEmojiButton.react"),babelHelpers.extends({},s,{codepoints:t,emojiXStyle:[s.emojiXStyle,g.emoji],onLongPress:L!=null?function(t,n){return L(t,e,n)}:void 0,onPress:function(n){return E&&E(n,e)},overlayRadius:m,ref:F===0&&W===0?k:void 0,testid:void 0,xstyle:[c,g.emojiButton,A!=null&&A.includes(n)?g.selected:null]}))})},n)}},W=0;W<d;W++)B();if(D!=null){var q;$[F]=u.jsx(r("IGDVisibilityAware.react"),{initialHeight:_,initiallyVisible:F<=D.initialVisibleRows,root:D.root,rootMargin:(q=D.rootMargin)!=null?q:f,children:u.jsx(r("IGDSBox.react"),{xstyle:[g.gridRow,b],children:u.jsx(o("CometFocusTable.react").CometFocusRow,{children:O})})},F)}else $[F]=u.jsx(r("IGDSBox.react"),{xstyle:[g.gridRow,b],children:u.jsx(o("CometFocusTable.react").CometFocusRow,{children:O})},F)}}n[20]=l,n[21]=s,n[22]=c,n[23]=d,n[24]=h,n[25]=C,n[26]=b,n[27]=v,n[28]=L,n[29]=E,n[30]=k,n[31]=I,n[32]=T,n[33]=D,n[34]=$,n[35]=P,n[36]=N}else $=n[34],P=n[35],N=n[36];if(N!==Symbol.for("react.early_return_sentinel"))return N;var U;n[37]!==S||n[38]!==R?(U=S!=null?u.jsxs(r("IGDSBox.react"),{direction:"row",justifyContent:"between",marginBottom:2,paddingX:1,children:[u.jsx(o("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:"secondaryText",children:S}),u.jsx(r("IGDSBox.react"),{children:R})]}):null,n[37]=S,n[38]=R,n[39]=U):U=n[39];var V=U,H;if(n[40]!==a||n[41]!==i||n[42]!==$||n[43]!==V||n[44]!==P||n[45]!==T||n[46]!==D||n[47]!==x){var G;H=V!=null&&$.length>0?u.jsxs(r("IGDSBox.react"),{accessibilityLabel:a,accessibilityLabelledBy:i!=null?i:"","data-testid":void 0,minHeight:p+_*P,children:[D!=null?u.jsx(r("IGDVisibilityAware.react"),{initialHeight:p,initiallyVisible:D.initiallyVisible,root:D.root,rootMargin:(G=D.rootMargin)!=null?G:f,children:u.jsx(r("IGDSBox.react"),{children:V})}):u.jsx(r("IGDSBox.react"),{children:V}),u.jsx(r("IGDSBox.react"),{xstyle:x,children:$})]}):u.jsx(r("IGDSBox.react"),{"data-testid":void 0,minHeight:_*P,children:u.jsx(r("IGDSBox.react"),{xstyle:x,children:$})}),n[40]=a,n[41]=i,n[42]=$,n[43]=V,n[44]=P,n[45]=T,n[46]=D,n[47]=x,n[48]=H}else H=n[48];return H}function y(e){return e.join()}l.default=h}),98);
__d("IGDCustomReactionsEmojiPickerSection.react",["fbt","CometEmojiCategories","CometPressable.react","IGDCustomReactionsDialog.entrypoint","IGDEmojiGrid.react","IGDSBox.react","IGDSTextVariants.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","compactMap","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(30),n=e.columns,a=e.onSelect,i=e.reactions,l=e.selectedReaction,c=n===void 0?8:n,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={categoryIDs:r("compactMap")(o("CometEmojiCategories").ORDERED_CATEGORIES,d)},t[0]=m):m=t[0];var p=r("useIGDSEntryPointDialog")(r("IGDCustomReactionsDialog.entrypoint"),m),_=p[0],f=p[1],g=p[2],h=p[3],y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C;t[1]!==y?(C={eventName:"customize_reactions_button_rendered",flowInstanceId:y},t[1]=y,t[2]=C):C=t[2];var b=r("MessengerWebUXLogger").useImpressionLoggerRef(C),v=r("MessengerWebUXLogger").useInteractionLogger(),S;t[3]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"Your Reactions"),t[3]=S):S=t[3];var R;t[4]!==y||t[5]!==v||t[6]!==i||t[7]!==_?(R=function(){_({reactions:i}),v==null||v({eventName:"customize_reactions_button_clicked",flowInstanceId:y})},t[4]=y,t[5]=v,t[6]=i,t[7]=_,t[8]=R):R=t[8];var L;t[9]===Symbol.for("react.memo_cache_sentinel")?(L=u.jsx(o("IGDSTextVariants.react").IGDSTextBody2Emphasized,{color:"link",children:s._(/*BTDS*/"Customize")}),t[9]=L):L=t[9];var E;t[10]!==f||t[11]!==g||t[12]!==h||t[13]!==R?(E=u.jsx(r("CometPressable.react"),{onHoverIn:f,onHoverOut:g,onPress:R,onPressIn:h,children:L}),t[10]=f,t[11]=g,t[12]=h,t[13]=R,t[14]=E):E=t[14];var k;t[15]!==y||t[16]!==v||t[17]!==a?(k=function(t){a(t),v==null||v({eventName:"emoji_pick",flowInstanceId:y})},t[15]=y,t[16]=v,t[17]=a,t[18]=k):k=t[18];var I;t[19]!==l?(I=l!=null?[l]:void 0,t[19]=l,t[20]=I):I=t[20];var T;t[21]!==c||t[22]!==i||t[23]!==E||t[24]!==k||t[25]!==I?(T=u.jsx(r("IGDEmojiGrid.react"),{columns:c,emojiCollection:i,label:S,labelRightAddOn:E,onPress:k,selectedEmojis:I},"custom-reactions-grid"),t[21]=c,t[22]=i,t[23]=E,t[24]=k,t[25]=I,t[26]=T):T=t[26];var D;return t[27]!==b||t[28]!==T?(D=u.jsx(r("IGDSBox.react"),{containerRef:b,marginBottom:3,children:T}),t[27]=b,t[28]=T,t[29]=D):D=t[29],D}function d(e){return e.id!==o("CometEmojiCategories").RECENTS_CATEGORY_ID?e.id:null}l.default=c}),226);
__d("IGDEmojiUtils",["EmojiFormat.bs","UnicodeUtils","WebStorage","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=8,c=[10084,65039],d=[10084],m=[c,[128514],[128558],[128546],[128545],[128077]],p="igd_custom_reactions",_="igd_recent_emojis";function f(){var e,t,n=(s||(s=r("WebStorage"))).getLocalStorage();return(e=JSON.parse((t=n==null?void 0:n.getItem(_))!=null?t:"null"))!=null?e:[]}function g(){var e=o("react-compiler-runtime").c(1),t;if(e[0]===Symbol.for("react.memo_cache_sentinel")){var n=(s||(s=r("WebStorage"))).getLocalStorage();t=function(t){var e=f(),o=[t].concat(e.filter(function(e){return e.join()!==t.join()}));(s||(s=r("WebStorage"))).setItemGuarded(n,_,JSON.stringify(o.slice(0,u)))},e[0]=t}else t=e[0];return t}function h(e){return e.join()===d.join()?c:e}function y(e){return e.join()===c.join()?d:e}function C(t){var n=h((e||(e=o("UnicodeUtils"))).getCodePoints(t));return o("EmojiFormat.bs").codeArrayToUnicode(n)}l.IGD_HEART_EMOJI=c,l.DEFAULT_REACTIONS=m,l.REACTIONS_STORAGE_KEY=p,l.getRecentlyUsedEmojis=f,l.useUpdateRecentlyUsedEmojis=g,l.maybeConvertHeartEmojiForIGD=h,l.maybeConvertHeartEmojiForSlide=y,l.maybeConvertHeartEmojiForIGDUnicode=C}),98);
__d("IGDReactionTray.react",["fbt","BaseEmojiButton.react","CometEmojiCategories","CometPlaceholder.react","CometRelay","IGDCustomReactionsEmojiPickerSection.react","IGDEmojiPicker.entrypoint","IGDEmojiPickerPopoverFallback.react","IGDEmojiUtils","IGDSAddOutline24Icon.react","IGDSBox.react","IGDSIconButton.react","IGDSPopover.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisUA","WebStorage","compactMap","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider","useJSON"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useState,m=32,p=4,_="x4que31-B",f="x1saec3i-B",g={emoji:{fontFamily:"x15yrdiy",fontSize:"x579bpy",$$css:!0},emojiButton:{height:"x10w6t97",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",width:"x1td3qas",$$css:!0},hoverAnimation:{":hover_animationDuration":"x84p28k",":hover_animationFillMode":"x1ut1ngg",":hover_animationName":"x17h135x",":hover_animationTimingFunction":"xkhk4ki",$$css:!0},plusButton:{backgroundColor:"x1njphrp",$$css:!0},popInAnimation:{animationDuration:"x5hsz1j",animationIterationCount:"x1v7wizp",animationName:"xc7qz2s",animationTimingFunction:"xa3vuyk",$$css:!0},selected:{backgroundColor:"x1njphrp",borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",$$css:!0},tray:{borderStartStartRadius:"x17m9png",borderStartEndRadius:"x91sizk",borderEndEndRadius:"x1vva9xg",borderEndStartRadius:"x1jfkl46",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(21),a=t.onClose,l=t.onSelect,u=t.selectedReaction,_,f;if(n[0]===Symbol.for("react.memo_cache_sentinel")){var h,C=(e||(e=r("WebStorage"))).getLocalStorageForRead();_=r("useJSON"),f=(h=C==null?void 0:C.getItem(o("IGDEmojiUtils").REACTIONS_STORAGE_KEY))!=null?h:"null",n[0]=_,n[1]=f}else _=n[0],f=n[1];var b=_(f),v=b!=null?b:o("IGDEmojiUtils").DEFAULT_REACTIONS,S=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),R;n[2]!==S?(R={eventName:"reaction_tray_rendered",flowInstanceId:S},n[2]=S,n[3]=R):R=n[3];var L=r("MessengerWebUXLogger").useImpressionLoggerRef(R),E=r("MessengerWebUXLogger").useInteractionLogger(),k;n[4]!==a||n[5]!==l?(k=function(t){l(t),a()},n[4]=a,n[5]=l,n[6]=k):k=n[6];var I=k,T=d(!1),D=T[0],x=T[1],$=r("useCometRelayEntrypointContextualEnvironmentProvider")(),P=o("CometRelay").useEntryPointLoader($,r("IGDEmojiPicker.entrypoint")),N=P[0],M=P[1],w;n[7]!==N||n[8]!==S||n[9]!==M||n[10]!==L||n[11]!==E||n[12]!==a||n[13]!==v||n[14]!==I||n[15]!==u||n[16]!==D?(w=D&&N!=null?c.jsx(r("CometPlaceholder.react"),{fallback:c.jsx(r("IGDEmojiPickerPopoverFallback.react"),{withArrow:!1}),name:i.id,children:c.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:N,props:{closeAfterSelect:!0,onClose:a,onSelect:I,selectedEmojis:u!=null?[u]:void 0,topSection:c.jsx(r("IGDCustomReactionsEmojiPickerSection.react"),{onSelect:function(t){I(t),E==null||E({eventName:"emoji_pick",flowInstanceId:S})},reactions:v,selectedReaction:u}),withArrow:!1}})}):c.jsxs(r("IGDSBox.react"),{containerRef:L,display:"inlineBlock",paddingX:3,paddingY:2,width:(m+p*2)*(v.length+1)+28,children:[v.map(function(e,t){return c.jsx(r("IGDSBox.react"),{"data-testid":void 0,display:"inlineBlock",xstyle:[e.join()===(u==null?void 0:u.join())&&g.selected,g.popInAnimation],children:c.jsx(r("IGDSBox.react"),{xstyle:!o("PolarisUA").isMobile()&&g.hoverAnimation,children:c.jsx(r("BaseEmojiButton.react"),{codepoints:e,emojiXStyle:g.emoji,onPress:function(t){I(t),E==null||E({eventName:"reaction_tray_reaction_clicked",flowInstanceId:S})},overlayDisabled:!0,xstyle:g.emojiButton},t)})},t)}),c.jsx(r("IGDSBox.react"),{display:"inlineBlock",marginStart:1,padding:1,position:"fixed",shape:"circle",xstyle:g.plusButton,children:c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,onClick:function(){x(!0),E==null||E({eventName:"reaction_plus_clicked",flowInstanceId:S})},onPressStart:function(){N==null&&M({categoryIDs:r("compactMap")(o("CometEmojiCategories").ORDERED_CATEGORIES,y)})},xstyle:g.emojiButton,children:c.jsx(r("IGDSAddOutline24Icon.react"),{alt:s._(/*BTDS*/"Choose an emoji"),color:"ig-primary-text",size:18})})})]}),n[7]=N,n[8]=S,n[9]=M,n[10]=L,n[11]=E,n[12]=a,n[13]=v,n[14]=I,n[15]=u,n[16]=D,n[17]=w):w=n[17];var A=D?null:g.tray,F;return n[18]!==w||n[19]!==A?(F=c.jsx(r("IGDSPopover.react"),{popoverContent:w,popoverName:"igdReactionTray",popoverXStyle:A}),n[18]=w,n[19]=A,n[20]=F):F=n[20],F}function y(e){return e.id!==o("CometEmojiCategories").RECENTS_CATEGORY_ID?e.id:null}l.default=h}),226);