;/*FB_PKG_DELIM*/

__d("LynxGeneration",["LinkshimHandlerConfig","URI"],(function(t,n,r,o,a,i,l){var e,s=new(e||(e=r("URI")))(r("LinkshimHandlerConfig").linkshim_path).setDomain(r("LinkshimHandlerConfig").linkshim_host),u={getShimURI:function(){return new(e||(e=r("URI")))(s)},getLynxURIProtocol:function(t){return r("LinkshimHandlerConfig").always_use_https?"https":t.getProtocol()==="http"?"http":"https"},getShimmedHref:function(n,o,a){var t,i=new(e||(e=r("URI")))(n),l=u.getLynxURIProtocol(i),s=u.getShimURI().setQueryData((t={},t[r("LinkshimHandlerConfig").linkshim_url_param]=i.toString(),t[r("LinkshimHandlerConfig").linkshim_enc_param]=o,t)).setProtocol(l),c=a==null?void 0:a.trackingNodes,d=a==null?void 0:a.callbacks;return c&&c.length&&(s=s.addQueryData("__tn__",c.join(""))),d&&d.length&&(s=s.addQueryData("c",d)),s}},c=u;l.default=c}),98);
__d("NonFBLinkReferrerProtector",["$","LinkshimHandlerConfig","Parent","URI","cr:5662","setTimeout"],(function(t,n,r,o,a,i){"use strict";var e,l=(e||(e=n("URI"))).goURIOnWindow,s={alreadySetup:!1,originReferrerPolicyClickWithoutLog:function(t){var e=n("$")("meta_referrer");e.content=n("LinkshimHandlerConfig").switched_meta_referrer_policy,n("setTimeout")(function(){e.content=n("LinkshimHandlerConfig").default_meta_referrer_policy},100)},setupDelegation:function(r){if(r===void 0&&(r=!1),document.body==null){if(r)return;n("setTimeout")(function(){s.setupDelegation(!0)},100);return}if(!s.alreadySetup){s.alreadySetup=!0;var t=function(r){var t=s.getMaybeNonFBLinkReferrerJSMode(r.target);if(t){var o=t[0],a=t[1];switch(o){case"origin":s.originReferrerPolicyClickWithoutLog(a);break;case"ie":var i=new(e||(e=n("URI")))(a.href);r.preventDefault(),l(i,window.open("",a.target),!0);break}}};n("cr:5662").listen(document.body,"click",t)}},getMaybeNonFBLinkReferrerJSMode:function(t){var e=n("Parent").byAttribute(t,"data-lnfb-mode");if(e instanceof HTMLAnchorElement){var r=e.getAttribute("data-lnfb-mode");switch(r){case"ie":case"origin":return[r,e];default:return null}}return null}};a.exports=s}),null);
__d("AbstractLink.react",["LynxGeneration","NonFBLinkReferrerProtector","cr:4655","isTruthy","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["href","linkRef","shimhash","nofollow","noreferrer","rel","isSafeToSkipShim","dataLnfbMode","isLinkshimSupported"],s,u=s||(s=o("react")),c=(function(t){function a(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.componentDidMount=function(){this.props.dataLnfbMode!==null?o("NonFBLinkReferrerProtector").setupDelegation():this.props.isLinkshimSupported&&n("cr:4655").setupDelegation()},i.render=function(){var t=this.props,o=t.href,a=t.linkRef,i=t.shimhash,l=t.nofollow,s=t.noreferrer,c=t.rel,d=t.isSafeToSkipShim,m=t.dataLnfbMode,p=t.isLinkshimSupported,_=babelHelpers.objectWithoutPropertiesLoose(t,e),f=o,g=c,h=null,y=null,C=null;if(i!==null){f=r("LynxGeneration").getShimmedHref(o,i||"");var b=n("cr:4655").getMode(d);y=b[0],h=b[1]}return l&&(g=r("isTruthy")(g)?g+" nofollow":"nofollow"),s&&(g=r("isTruthy")(g)?g+" noreferrer":"noreferrer"),r("isTruthy")(m)&&(C=m),u.jsx("a",babelHelpers.extends({},_,{href:f.toString()||null,rel:g,ref:a,"data-sigil":h,"data-lynx-mode":y,"data-lnfb-mode":C}))},a})(u.Component);l.default=c}),98);
__d("XFBBotFeedbackKind.facebook",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["BOT_FEEDBACK_NEGATIVE","BOT_FEEDBACK_NEGATIVE_ACCURATE","BOT_FEEDBACK_NEGATIVE_CLARITY","BOT_FEEDBACK_NEGATIVE_DOESNT_LOOK_LIKE_THE_PERSON","BOT_FEEDBACK_NEGATIVE_DONT_SHOW_AGAIN","BOT_FEEDBACK_NEGATIVE_GENERIC","BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY","BOT_FEEDBACK_NEGATIVE_HELPFUL","BOT_FEEDBACK_NEGATIVE_INCORRECT_OWNERSHIP","BOT_FEEDBACK_NEGATIVE_INTERESTING","BOT_FEEDBACK_NEGATIVE_NOT_RELEVANT_TO_RESPONSE","BOT_FEEDBACK_NEGATIVE_NOT_RELEVANT_TO_TEXT","BOT_FEEDBACK_NEGATIVE_NOT_VISUALLY_APPEALING","BOT_FEEDBACK_NEGATIVE_OTHER","BOT_FEEDBACK_NEGATIVE_PERSONALIZED","BOT_FEEDBACK_NEGATIVE_REFUSED","BOT_FEEDBACK_NEGATIVE_SAFE","BOT_FEEDBACK_NEGATIVE_TOO_REPETITIVE","BOT_FEEDBACK_POSITIVE"]),l=e;i.default=l}),66);
__d("AdsAIMessengerConstants",["fbt","BotFeedbackKind","FBLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u={title:s._(/*BTDS*/"[INTERNAL ONLY] Hallucination"),value:(e=r("BotFeedbackKind")).BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY},c={title:s._(/*BTDS*/"Not relevant to my question"),value:e.BOT_FEEDBACK_NEGATIVE_HELPFUL},d={title:s._(/*BTDS*/"Not personalized"),value:e.BOT_FEEDBACK_NEGATIVE_PERSONALIZED},m={title:s._(/*BTDS*/"Incorrect information"),value:e.BOT_FEEDBACK_NEGATIVE_ACCURATE},p={title:s._(/*BTDS*/"Harmful or offensive"),value:e.BOT_FEEDBACK_NEGATIVE_SAFE},_={title:s._(/*BTDS*/"Hard to understand"),value:e.BOT_FEEDBACK_NEGATIVE_CLARITY},f={title:s._(/*BTDS*/"Something else"),value:e.BOT_FEEDBACK_NEGATIVE_OTHER},g={excludingOther:[c,d,m,p,_],feedbackOptionOther:f};function h(e){switch(e){case r("BotFeedbackKind").BOT_FEEDBACK_POSITIVE:return"BOT_FEEDBACK_POSITIVE";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_GENERIC:return"BOT_FEEDBACK_NEGATIVE_GENERIC";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_HELPFUL:return"BOT_FEEDBACK_NEGATIVE_HELPFUL";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_ACCURATE:return"BOT_FEEDBACK_NEGATIVE_ACCURATE";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_INTERESTING:return"BOT_FEEDBACK_NEGATIVE_INTERESTING";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_SAFE:return"BOT_FEEDBACK_NEGATIVE_SAFE";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_CLARITY:return"BOT_FEEDBACK_NEGATIVE_CLARITY";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_PERSONALIZED:return"BOT_FEEDBACK_NEGATIVE_PERSONALIZED";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_OTHER:return"BOT_FEEDBACK_NEGATIVE_OTHER";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY:return"BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY";default:r("FBLogger")("ads_ai_chat").mustfix("Cannot find corresponding XFBBotFeedbackKind for BotFeedbackKind %s",e)}}var y=new Map([[e.BOT_FEEDBACK_POSITIVE,"ads_ai_submit_positive_feedback_generic"],[e.BOT_FEEDBACK_NEGATIVE_GENERIC,"ads_ai_submit_negative_feedback_generic"],[e.BOT_FEEDBACK_NEGATIVE_HELPFUL,"ads_ai_submit_negative_feedback_not_relevant"],[e.BOT_FEEDBACK_NEGATIVE_ACCURATE,"ads_ai_submit_negative_feedback_not_accurate"],[e.BOT_FEEDBACK_NEGATIVE_INTERESTING,"ads_ai_submit_negative_feedback_repetitive"],[e.BOT_FEEDBACK_NEGATIVE_SAFE,"ads_ai_submit_negative_feedback_harmful"],[e.BOT_FEEDBACK_NEGATIVE_CLARITY,"ads_ai_submit_negative_feedback_hard_to_understand"],[e.BOT_FEEDBACK_NEGATIVE_PERSONALIZED,"ads_ai_submit_negative_feedback_not_personalized"],[e.BOT_FEEDBACK_NEGATIVE_OTHER,"ads_ai_submit_negative_feedback_other"],[e.BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY,"ads_ai_submit_negative_feedback_hallucination"]]),C=s._(/*BTDS*/"Let us know what's wrong with this response");l.INTERNAL_ONLY_FeedbackOptionHallucination=u,l.FEEDBACK_OPTIONS=g,l.getGraphQLBotFeedbackKind=h,l.BotFeedbackKindToLoggerEventMapping=y,l.feedbackModalHeader=C}),226);
__d("randomShuffleSeeded",["Alea"],(function(t,n,r,o,a,i,l){function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=r("Alea").apply(void 0,n);function i(e){return Math.floor(a()*e)}for(var l=e.length-1;l>0;l--){var s=i(l+1);if(s!=l){var u=e[s];e[s]=e[l],e[l]=u}}return e}l.default=e}),98);
__d("AdsAIMessengerUtils",["AdsAIMessengerConstants","AdsAISitevarConfig","CurrentUser","I64","gkx","randomShuffleSeeded"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return d(e.senderId)}function u(e){return e.botResponseId!=null&&e.botResponseId.startsWith("ads_ai_shiba")}function c(e){return s(e)||u(e)}function d(t){return r("AdsAISitevarConfig").bot_id!=null&&(e||(e=o("I64"))).equal(t,(e||(e=o("I64"))).of_string(r("AdsAISitevarConfig").bot_id))}function m(){var e=o("AdsAIMessengerConstants").FEEDBACK_OPTIONS.excludingOther,t=o("AdsAIMessengerConstants").FEEDBACK_OPTIONS.feedbackOptionOther,n=[].concat(e);return r("randomShuffleSeeded")(n,parseInt(r("CurrentUser").getID(),10)).push(t),r("gkx")("731")&&n.push(o("AdsAIMessengerConstants").INTERNAL_ONLY_FeedbackOptionHallucination),n}l.isMessageFromAdsAIBot=s,l.isMessageFromAdsAIShibaBot=u,l.isMessageFromAdsAI=c,l.isAdsAIParticipant=d,l.getRandomizedAdsAINegativeFeedbackOptions=m}),98);
__d("AdsMessengerContext.react",["AdsAIMessengerUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext({isMessageFromAdsAI:o("AdsAIMessengerUtils").isMessageFromAdsAI,isMessageSendDisabled:!1,isMessengerInAds:!1});function d(){return u(c)}l.AdsMessengerContext=c,l.useAdsMessengerContext=d}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function s(t){var n=t.action,r=t.category_id,o=t.client_extras,a=t.community_id,i=t.entry_point,l=t.event,s=t.field_value,u=t.group_id,c=t.parent_surface,d=t.source,m=t.surface,p=t.thread_id;e.onReady(function(e){return e.log(function(){return{action:n,category_id:r,client_extras:o,community_id:a,entry_point:i,event:l,field_value:s,group_id:u,parent_surface:c,source:d,surface:m,thread_id:p}})})}l.logC4GEngagementFalcoEvent=s}),98);
__d("ClickIDParameterUtils",["URI","filterNulls","first","isCdnURI","isClickIDBlacklistSVDomainURI","isClickIDBlocklistSVUrlPath","isFacebookSVDomainURI","isFacebookURI","isFbDotComURI"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Set(["http","https"]);function c(e){return u.has(e.getProtocol())}var d="fbclid",m="brid",p="doubleclick.net",_=(e={},e[p]=[{extractor:function(t){var e=t.getQueryString();return e!=null&&e.startsWith("http")?new(s||(s=r("URI")))(e):null},injector:function(t,n,r){var e=n.addQueryData(d,r);return t.setQueryString(e.toString())}}],e);function f(e){var t=e.getProtocol(),n=e.getDomain(),r=e.getPort();return t!=null&&t.length>0||n!=null&&n.length>0||r!=null}function g(e){var t=r("first")(Object.keys(_).filter(function(t){return e.getDomain().endsWith(t)})),n=t!=null?_[t]:null;return n==null?null:r("first")(r("filterNulls")(n.map(function(t){var n=t.extractor(e);return n==null?null:{injector:t.injector,uri:n}})))}function h(e){return!r("isFacebookURI")(e)&&!r("isFacebookSVDomainURI")(e)&&!r("isCdnURI")(e)&&!r("isFbDotComURI")(e)&&f(e)&&c(e)&&!y(e)}function y(e){var t=r("isClickIDBlacklistSVDomainURI")(e),n=r("isClickIDBlocklistSVUrlPath")(e);if(t||n)return!0;var o=g(e);return o!=null?y(o.uri):!1}function C(e,t){var n=g(e);return n!=null?n.injector(e,n.uri,t):e.addQueryData(d,t)}function b(e,t){return h(e)?C(e,t):e}function v(e,t){var n=g(e);return n!=null?n.injector(e,n.uri,t):e.addQueryData(m,t)}function S(e,t){return h(e)?v(e,t):e}l.FBCLID_QUERY_PARAM=d,l.BRID_QUERY_PARAM=m,l.appendClickIDQueryParam=b,l.appendBRIDQueryParam=S}),98);
__d("VirtualizationExperimentConfig",[],(function(t,n,r,o,a,i){"use strict";var e=4e3,l=!0,s=!1,u=!1,c=!1,d="static",m=!1,p=!1,_=!1,f=new Set(["static","dynamic"]),g=new Set(["thread_view"]),h={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,react_activity_mode:!1,surface_enabled:!0}},y={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},C={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0,virtualization_strategy:"dynamic"},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0,virtualization_strategy:"dynamic"},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,is_at_bottom_scroll_up:!0,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};i.DEFAULT_TOP_BOTTOM_MARGIN=e,i.DEFAULT_PIN_CHILDREN_ON_INTERACTION=l,i.DEFAULT_PIN_CHILDREN_WITH_PLAYER=s,i.DEFAULT_DISABLE_HIDING=u,i.DEFAULT_ACTIVITY_MODE_ON=c,i.DEFAULT_VIRTUALIZATION_STRATEGY=d,i.DEFAULT_AT_BOTTOM_SCROLL_UP=m,i.DEFAULT_TEXT_SEARCHABLE=p,i.DEFAULT_SKIP_SCROLL_ANCHORING_CHECK=_,i.VALID_STRATEGIES=f,i.infiniteScrollUpSurfaces=g,i.ROLLOUT_CONFIG=h,i.GK_HOLDOUT_CONFIG=y,i.GK_ROLLOUT_CONFIG=C}),66);
__d("VirtualizationExperimentSettings",["QE2Logger","VirtualizationExperimentConfig","gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h=r("gkx")("2548"),y=r("gkx")("221"),C=r("gkx")("6600");function b(e){return Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").ROLLOUT_CONFIG,e)?o("VirtualizationExperimentConfig").ROLLOUT_CONFIG:h&&Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,e)?o("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG:y&&Object.prototype.hasOwnProperty.call(o("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,e)?o("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG:null}var v=function(t){var e=b(t);return e==null?void 0:e[t]},S=new Set(((e=r("qex")._("641"))!=null?e:"").split(",").map(function(e){return e.trim()}));function R(e){var t=new Map;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}function L(e){var t;if(S.has(e))return!0;var n=v(e);return(t=n==null?void 0:n.surface_enabled)!=null?t:!1}var E=R(L);function k(e){var t=new Map;return e.split(",").forEach(function(e){var n,r,o=e.trim(),a=o.split(":"),i=a[0],l=a[1],s=(n=i==null?void 0:i.trim())!=null?n:"",u=parseInt((r=l==null?void 0:l.trim())!=null?r:"",10);s.length>0&&!Number.isNaN(u)&&t.set(s,u)}),t}var I=k((s=r("qex")._("628"))!=null?s:"");function T(e){var t;if(I.has(e)){var n;return(n=I.get(e))!=null?n:o("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}var r=v(e);return(t=r==null?void 0:r.root_margin_top_bottom)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}var D=R(T),x=new Set(((u=r("qex")._("642"))!=null?u:"all").split(",")),$=new Set;function P(e){$.has(e)||((x.has("all")||x.has(e))&&o("QE2Logger").logExposureForActingAccount("comet_front_end_virtualization"),$.add(e))}var N=(c=r("qex")._("4937"))!=null?c:o("VirtualizationExperimentConfig").DEFAULT_ACTIVITY_MODE_ON;function M(e){var t;if(S.has(e))return N!=null?N:!1;var n=v(e);return(t=n==null?void 0:n.react_activity_mode)!=null?t:!1}var w=R(M),A=(d=r("qex")._("648"))!=null?d:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function F(e){var t;if(S.has(e))return A!=null?A:!0;var n=v(e);return(t=n==null?void 0:n.pin_children_on_interaction)!=null?t:!0}var O=R(F),B=(m=r("qex")._("339"))!=null?m:"default",W=B==="disable"?!0:B==="enable"?!1:null;function q(e){var t;if(S.has(e))return W!=null?W:o("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING;var n=v(e);return(t=n==null?void 0:n.hiding_disabled)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}var U=R(q),V=(p=r("qex")._("885"))!=null?p:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function H(e){var t;if(S.has(e))return V!=null?V:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;var n=v(e);return(t=n==null?void 0:n.pin_children_with_player)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}var G=R(H);function z(e){var t=new Map;return e.split(",").forEach(function(e){var n,r=e.trim(),a=r.split(":"),i=a[0],l=a[1],s=(n=i==null?void 0:i.trim())!=null?n:"",u=l==null?void 0:l.trim(),c=o("VirtualizationExperimentConfig").VALID_STRATEGIES.has(u)?u:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY;s.length>0&&t.set(s,c)}),t}var j=z((_=r("qex")._("1851"))!=null?_:"");function K(e){var t;if(j.has(e)){var n;return(n=j.get(e))!=null?n:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}var r=v(e);return(t=r==null?void 0:r.virtualization_strategy)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_VIRTUALIZATION_STRATEGY}var Q=(f=r("qex")._("1271"))!=null?f:o("VirtualizationExperimentConfig").DEFAULT_SKIP_SCROLL_ANCHORING_CHECK;function X(e){return S.has(e)?Q!=null?Q:o("VirtualizationExperimentConfig").DEFAULT_SKIP_SCROLL_ANCHORING_CHECK:y&&C}var Y=R(X),J=R(K),Z=function(t){var e=v(t);return(e==null?void 0:e.is_at_bottom_scroll_up)===!0||o("VirtualizationExperimentConfig").infiniteScrollUpSurfaces.has(t)?!0:o("VirtualizationExperimentConfig").DEFAULT_AT_BOTTOM_SCROLL_UP},ee=(g=r("qex")._("5027"))!=null?g:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;function te(e){var t;if(S.has(e))return ee!=null?ee:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE;var n=v(e);return(t=n==null?void 0:n.text_searchable)!=null?t:o("VirtualizationExperimentConfig").DEFAULT_TEXT_SEARCHABLE}var ne=R(te);l.isSurfaceEnabled=E,l.getTopBottomMargin=D,l.logQEExposureOnceWhenNecessary=P,l.getActivityModeOn=w,l.getPinChildrenOnInteration=O,l.isHidingDisabled=U,l.getPinChildrenWithPlayer=G,l.getSkipScrollAnchoringCheck=Y,l.getVirtualizationStrategy=J,l.getIsInfiniteScrollUp=Z,l.getTextSearchable=ne}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=e.callingSurface,n=e.children,a=e.disableHiding,i=e.mountXStyle,l=e.scrollport,c=l===void 0?null:l,d=e.topBottomMarginOverride,m=e.unmountXStyle,p=e.xstyle,_=o("VirtualizationExperimentSettings").isSurfaceEnabled(t),f=a!=null?a:o("VirtualizationExperimentSettings").isHidingDisabled(t)||!_;u(function(){return o("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(t)},[t]);var g=o("VirtualizationExperimentSettings").getVirtualizationStrategy(t),h=g!=="static",y=o("VirtualizationExperimentSettings").getActivityModeOn(t),C=o("VirtualizationExperimentSettings").getSkipScrollAnchoringCheck(t),b=o("VirtualizationExperimentSettings").getIsInfiniteScrollUp(t),v=o("VirtualizationExperimentSettings").getTextSearchable(t);return s.jsx(r("CometVirtualization.react"),{activityOnlyMode:y,disableHiding:f,isInfiniteScrollUp:b,mountXStyle:i,pinChildrenOnInteraction:_&&o("VirtualizationExperimentSettings").getPinChildrenOnInteration(t),pinChildrenWithPlayer:o("VirtualizationExperimentSettings").getPinChildrenWithPlayer(t),scrollport:c,skipScrollAnchoringCheck_UNSAFE:C,smartMargin:h,textSearchable:v,topBottomMargin:d!=null&&d>=0?d:o("VirtualizationExperimentSettings").getTopBottomMargin(t),unmountHiddenChildren:_,unmountXStyle:m,xstyle:p,children:n})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("mlcEditableSubscription",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{initialValueFn:function(){return e.isEditable()},subscribe:function(n){return e.registerEditableListener(n)}}}i.default=e}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useLayoutEffect,d=u.useState;function m(t){var n=(e||(e=r("useUnsafeRef_DEPRECATED")))(t.initialValueFn()),o=d(n.current),a=o[0],i=o[1];return c(function(){var e=t.initialValueFn,r=t.subscribe,o=e();return n.current!==o&&(n.current=o,i(o)),r(function(e){n.current=e,i(e)})},[t]),a}l.default=m}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useLayoutEffect,_=d.useMemo,f=d.useState,g={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function h(t){var n,a=t.ariaAutoComplete,i=t.ariaDescribedBy,l=t.ariaExpanded,u=t.ariaLabel,d=t.ariaLabelledBy,h=t.ariaMultiline,y=t.ariaOwneeID,C=t.ariaRequired,b=t.autoCapitalize,v=t.autoComplete,S=t.autoCorrect,R=t.contentEditableRef,L=t.isInitiallyFocused,E=L===void 0?!1:L,k=t.role,I=k===void 0?"textbox":k,T=t.spellCheck,D=T===void 0?!1:T,x=t.tabIndex,$=t.webDriverTestID,P=t.xstyle,N=babelHelpers.objectWithoutPropertiesLoose(t,e),M=o("LexicalComposerContext").useLexicalComposerContext(),w=M[0],A=f(void 0),F=A[0],O=A[1],B=f(void 0),W=B[0],q=B[1],U=r("useCometLexicalSubscription")(_(function(){return r("mlcEditableSubscription")(w)},[w]));return p(function(){return w.registerCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(e){return Object.prototype.hasOwnProperty.call(e,"activeDescendantID")&&O(e.activeDescendantID),Object.prototype.hasOwnProperty.call(e,"controlsID")&&q(e.controlsID),!1},o("Lexical").COMMAND_PRIORITY_EDITOR)},[w]),m(function(){E&&w.focus(function(){var e=document.activeElement,t=w.getRootElement();(!(t!=null&&t.contains(e))||t!=null||e==null)&&(t==null||t.focus({preventScroll:!0}))})},[w,E]),c.jsx(o("LexicalContentEditable").ContentEditable,babelHelpers.extends({ariaActiveDescendant:F!=null?F:void 0,ariaAutoComplete:a,ariaControls:W!=null?W:void 0,ariaDescribedBy:i,ariaExpanded:l,ariaLabel:(n=u==null?void 0:u.toString())!=null?n:void 0,ariaLabelledBy:d,ariaMultiline:h,ariaOwns:y,ariaRequired:C!=null?C:void 0,autoCapitalize:b,autoComplete:v,autoCorrect:S,className:(s||(s=r("stylex")))(g.editor,P)+" "+(U?"notranslate":""),"data-testid":void 0,ref:R,role:I,spellCheck:D,suppressContentEditableWarning:!0,tabIndex:x},N))}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={placeholder:{color:"xi81zsa",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function d(t){var n=t.children,o=t.xstyle;return u.jsx("div",babelHelpers.extends({children:n},(e||(e=r("stylex"))).props(c.placeholder,o)))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("CometMetricsNavigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1956659"),s=o("FalcoLoggerInternal").create("comet_metrics_navigation",e),u=s;l.default=u}),98);
__d("CometPhotoGrid.react",["BaseAspectRatioContainer.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=4,c=6,d={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingInlineEnd:"x14vy60q",paddingBottom:"x1120s5i",paddingInlineStart:"xyiysdx",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingInlineEnd:"x1im30kd",paddingBottom:"xg8j3zb",paddingInlineStart:"x1djpfga",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginInlineEnd:"x18faa90",marginBottom:"x1huwwth",marginInlineStart:"x4h0osi",$$css:!0}};function m(e,t){return e<2&&t%3===2}function p(e){var t=e.children,n=e.spacing,a=n===void 0?"narrow":n,i=e.uniformGrid,l=i===void 0?!1:i,u=s.Children.toArray(t),c=u.length;return s.jsx(o("react-strict-dom").html.div,{style:[d.wrapper,a==="narrow"&&d.wrapperNarrowSpacing,a==="wide"&&d.wrapperWideSpacing],children:s.Children.map(u,function(e,t){return s.jsx(o("react-strict-dom").html.div,{style:[d.item,a==="wide"&&d.itemWideSpacing,a==="narrow"&&d.itemNarrowSpacing,!l&&m(t,c)&&d.itemEnlarged],children:s.jsx(r("BaseAspectRatioContainer.react"),{aspectRatio:1,children:e})})})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("CometVideoPlayerLoggingConfigForIGDMusicSticker",["IGVideoMetadataProvider"],(function(t,n,r,o,a,i,l){"use strict";function e(){return{disableCVCSubscription:!0,disableLogging:!1,loggingToSNAPLCreateMetadataProvider:o("IGVideoMetadataProvider").createIGVideoMetadataProvider,loggingToSNAPLEnabled:!0,loggingToVPLEnabled:!1}}l.createCometVideoPlayerLoggingConfigForIGDMusicSticker=e}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});i.default=e}),66);
__d("FDSAirplaneFilled20Icon",["cr:14276"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14276")}),98);
__d("FDSAppThreadsFilled16Icon",["cr:14370"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14370")}),98);
__d("FDSBlurredBackgroundImage.react",["CometBackgroundImage.react","XPlatReactEnvironment","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle"],s,u=s||(s=o("react")),c={imageContainer:{filter:"xtea3wc",height:"xu1mrb",$$css:!0},imageContainerVR:{transform:"x15f76sd",$$css:!0},imageContainerWeb:{transform:"x1yyh9jt",width:"x1jx8tsq",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};function d(t){var n=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(o("react-strict-dom").html.div,{style:[c.root,n],children:u.jsx(o("react-strict-dom").html.div,{style:[c.imageContainer,o("XPlatReactEnvironment").isWeb()?c.imageContainerWeb:c.imageContainerVR],children:u.jsx(r("CometBackgroundImage.react"),babelHelpers.extends({},a))})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("FDSCalendarAddFilled20Icon",["cr:14606"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14606")}),98);
__d("FDSCalendarFilled20Icon",["cr:13822"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13822")}),98);
__d("FDSCamcorderCrossFilled20Icon",["cr:14629"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14629")}),98);
__d("FDSCamcorderFilled20Icon",["cr:14631"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14631")}),98);
__d("FDSCamcorderIncomingFilled20Icon",["cr:14633"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14633")}),98);
__d("FDSCamcorderOutgoingFilled20Icon",["cr:14638"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14638")}),98);
__d("FDSCamcorderPlusFilled20Icon",["cr:14642"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14642")}),98);
__d("FDSCheckmarkCircleFilled20Icon",["cr:13866"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13866")}),98);
__d("FDSCheckmarkFilled20Icon",["cr:14115"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14115")}),98);
__d("FDSCurrencyUsdFilled20Icon",["cr:14807"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14807")}),98);
__d("FDSDocumentFilled20Icon",["cr:13998"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13998")}),98);
__d("FDSFriendConfirmFilled20Icon",["cr:14220"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14220")}),98);
__d("FDSFriendRemoveFilled20Icon",["cr:15002"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15002")}),98);
__d("FDSFriendRequestFilled20Icon",["cr:15006"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15006")}),98);
__d("FDSGroupFilled20Icon",["cr:15088"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15088")}),98);
__d("FDSImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["alt","loading","onError","onLoad","src","style"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef,p=c.useState,_=(function(){var e=document.documentElement;return e==null?!0:"objectFit"in e.style})();function f(t){var n=t.alt,o=t.loading,a=t.onError,i=t.onLoad,l=t.src,s=t.style,c=babelHelpers.objectWithoutPropertiesLoose(t,e),_=p(null),f=_[0],g=_[1],h=m(),y=d(function(){var e=h.current;e==null||!(e instanceof HTMLImageElement)||typeof e.src!="string"||(g(e.src),i!=null&&i())},[i]);return f!=null?u.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers.extends({backgroundImage:"url("+f+")",backgroundPosition:"center center",backgroundSize:"cover"},s)}):u.jsx(r("BaseImage_DEPRECATED.react"),babelHelpers.extends({},c,{className:"xqtp20y xnalus7",loading:o||void 0,onError:a,onLoad:y,ref:h,src:l,style:s}))}f.displayName=f.name+" [from "+i.id+"]";function g(e){return u.jsx(r("BaseImage_DEPRECATED.react"),babelHelpers.extends({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},e))}g.displayName=g.name+" [from "+i.id+"]";var h=_?g:f;l.default=h}),98);
__d("FDSKeyHouseFilled20Icon",["cr:15166"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15166")}),98);
__d("FDSLocationFilled20Icon",["cr:15234"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15234")}),98);
__d("FDSMapFilled20Icon",["cr:15245"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15245")}),98);
__d("FDSPhoneCrossFilled20Icon",["cr:15388"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15388")}),98);
__d("FDSPhoneFilled20Icon",["cr:15391"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15391")}),98);
__d("FDSPhoneIncomingFilled20Icon",["cr:15393"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15393")}),98);
__d("FDSPhoneOutgoingFilled20Icon",["cr:15396"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15396")}),98);
__d("FDSPinFilled20Icon",["cr:13887"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13887")}),98);
__d("FDSPostClockFilled20Icon",["cr:15477"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15477")}),98);
__d("FDSPostSlashFilled20Icon",["cr:13848"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13848")}),98);
__d("FDSShieldFilled20Icon",["cr:14248"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14248")}),98);
__d("FDSShoppingCartFilled20Icon",["cr:15660"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15660")}),98);
__d("FDSTagFilled20Icon",["cr:15749"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15749")}),98);
__d("FDSWatchTvFilled20Icon",["cr:15866"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15866")}),98);
__d("GetAttachmentTypeFromFile",["asyncToGeneratorRuntime","cometIsMimeTypeForMedia","genIsNonAnimatedWebPFile"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return e.type==="image/gif"?"animated_media":e.type==="image/webp"?(yield r("genIsNonAnimatedWebPFile")(e))?"image":"video":u(e)}),s.apply(this,arguments)}function u(e){var t=e.type;return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(t)?"image":o("cometIsMimeTypeForMedia").isMimeTypeForVideo(t)?"video":t==="audio/wav"?"audio":"file"}l.getAttachmenTypeFromFile=e}),98);
__d("HorizonWorldsUpdateSubscriptionManagementUserActionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({SUBSCRIBE:0,UNSUBSCRIBE:1});i.default=e}),66);
__d("MWPMessageListColumn.react",["react","react-strict-dom","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={bubble:{minWidth:"xeuugli",$$css:!0},centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(t){return[{height:t!=null?"x16ye13r":t,$$css:!0},{"--x-height":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},justifyContentStart:{justifyContent:"x1nhvcw1",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xdmgqn6",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingInlineEnd:"x1o5r3ls",paddingInlineStart:"x15r0g6m",$$css:!0}};function c(e){var t=e.bubble,n=e.centered,r=e.children,a=e.grow,i=e.justifyContent,l=e.paint,c=e.profile,d=e.rounded,m=e.selfCentered,p=e.shrinkwrap,_=e.withGutters;return s.jsx(o("react-strict-dom").html.div,{role:"none",style:[u.root,a===!0?u.grow:!1,p===!0?u.shrinkwrap:!1,l===!0?u.paint:!1,c===!0?u.profile:!1,_===!0?u.withGutters:!1,t===!0?u.bubble:!1,n===!0?u.centered:!1,m===!0?u.selfCentered:!1,i==="flex-start"?u.justifyContentStart:!1],children:r})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.children,n=e.grow,r=e.shrinkwrap;return s.jsx(c,{grow:n!=null?n:!1,paint:!0,shrinkwrap:r!=null?r:!1,withGutters:!0,children:t})}d.displayName=d.name+" [from "+i.id+"]";function m(e){var t=e.children,n=e.selfCentered;return s.jsx(c,{paint:!0,profile:!0,selfCentered:n!=null?n:!1,shrinkwrap:!0,children:t})}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=e.children,n=e.paint,r=e.profile;return s.jsx(c,{paint:n!=null?n:!0,profile:r!=null?r:!1,selfCentered:!0,shrinkwrap:!0,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.centered,n=e.children,r=e.paint;return s.jsx(c,{centered:t!=null?t:!1,paint:r!=null?r:!0,shrinkwrap:!0,children:n})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.children,n=e.paint,r=n===void 0?!0:n;return s.jsx(c,{grow:!0,paint:r,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.children;return s.jsx(c,{grow:!0,justifyContent:"flex-start",paint:!0,children:t})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.children,n=e.paint;return r("vulture")("Lqwr6iczFnKFUzCl9GDn6tANLvg="),s.jsx(c,{bubble:!0,paint:n,children:t})}h.displayName=h.name+" [from "+i.id+"]";function y(){return s.jsx(o("react-strict-dom").html.div,{role:"none",style:u.spacer})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.height;return s.jsx(o("react-strict-dom").html.div,{role:"none",style:[u.vr,u.customHeight(t)]})}C.displayName=C.name+" [from "+i.id+"]",l.MWPMessageListColumnWithGutters=d,l.MWPMessageListColumnProfile=m,l.MWPMessageListColumnSelfCentered=p,l.MWPMessageListColumnShrinkwrap=_,l.MWPMessageListColumnGrow=f,l.MWPMessageListColumnGrowJustified=g,l.MWPMessageListColumnBubble=h,l.MWPMessageListColumnHorizontalSpacer=y,l.MWPMessageListColumnVerticalRhythm=C}),98);
__d("IGDAIStickerEyebrowText.react",["fbt","IGDSText.react","MWPMessageListColumn.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(9),n=e.attachment,a=e.outgoing,i=n.mustacheText;if(i==null||i==="")return null;var l;t[0]!==a?(l={0:{className:"xyorhqc x1xmf6yo"},1:{className:"xyorhqc x1xmf6yo xpvyfi4"}}[!!a<<0],t[0]=a,t[1]=l):l=t[1];var c;t[2]!==i?(c=s._(/*BTDS*/"\"{quoted text}\"",[s._param("quoted text",i)]),t[2]=i,t[3]=c):c=t[3];var d;t[4]!==c?(d=u.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:c}),t[4]=c,t[5]=d):d=t[5];var m;return t[6]!==l||t[7]!==d?(m=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:u.jsx("div",babelHelpers.extends({},l,{children:d}))}),t[6]=l,t[7]=d,t[8]=m):m=t[8],m}l.default=c}),226);
__d("IGDAWAdminWriteMsgTxn",["I64","LSAuthorityLevel","LSIntEnum","LSMessageSendStatus","LSMessageUnsendabilityStatus","WAGlobals","WAJids","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a,i,l=r("uuidv4")(),u="admin:"+(e||(e=o("I64"))).to_string(n.threadKey)+":"+l,c=(a=n.timestampMs)!=null?a:(e||(e=o("I64"))).of_float(Date.now());yield t.messages.put({adminMsgCtaType:n.ctaType,authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:s.ofNumber(r("LSMessageUnsendabilityStatus").DENY_LOG_MESSAGE),displayedContentTypes:s.ofNumber(32),isAdminMessage:!0,messageId:u,offlineThreadingId:l,primarySortKey:c,secondarySortKey:void 0,senderId:(i=n.senderId)!=null?i:(e||(e=o("I64"))).of_string(o("WAJids").extractUserId(o("WAGlobals").getMyUserJid())),sendStatus:s.ofNumber(r("LSMessageSendStatus").SERVER_RECEIVED),sendStatusV2:s.ofNumber(2),text:n.text,threadKey:n.threadKey,timestampMs:c,transportKey:"FBBroker"})}),c.apply(this,arguments)}l.writeAdminMessageTxn=u}),98);
__d("IGDAiAgentsUtils",["I64","LSIntEnum","MessagingAttachmentType","MessagingThreadSubtype"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="656175869434325";function c(t){return t!=null&&(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").IG_AI_BOT_ONE_TO_ONE))}function d(t){var n=t.attachmentType,a=t.mustacheText;if(n==null||a==null)return!1;var i=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)),l=a!=null&&a!=="";return i&&l}function m(t){return t!=null&&(e||(e=o("I64"))).equal(t,(e||(e=o("I64"))).of_string(u))}l.isAiThread=c,l.isGenAISticker=d,l.isMetaAiThread=m}),98);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.disabled,n=e.hasEnded,r=e.isPaused,a=e.isPlaying,i=e.outgoing,l=o("MWPAudioPlayerUtils").useShowNewUX(),u=l?i?"var(--always-white)":"var(--progress-ring-neutral-foreground)":i?"var(--chat-outgoing-message-bubble-background-color)":void 0;return a?s.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:u}):r||n||t?s.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:u}):null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6681","cr:7510","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-label","color","icon","ref","size","type"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var a=t["aria-label"],i=t.color,l=t.icon,s=t.ref,d=t.size,m=t.type,p=babelHelpers.objectWithoutPropertiesLoose(t,e),_=i instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?"primary":i,f=c(function(){return i instanceof o("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":i.color},light:{"primary-icon":i.color},type:"VARIABLES"}:void 0},[i]),g=l instanceof o("MWXSvgIcon").MWXSvgIcon?l.component:l,h=null;return n("cr:7510")!=null&&(h=u.jsx(n("cr:7510"),babelHelpers.extends({"aria-label":a,color_DEPRECATED:_,icon:g,size:d,type_DEPRECATED:m},p,{ref:s}))),n("cr:6681")!=null&&(h=u.jsx(n("cr:6681"),babelHelpers.extends({color:_,icon:g,iconRatio:l instanceof o("MWXSvgIcon").MWXSvgIcon?"medium":void 0,label:a,size:d,type:m},p,{ref:s}))),f!=null?u.jsx(r("BaseTheme.react"),{config:f,children:h}):h}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXIconExclamationMarkCircle",["MWXSvgIcon","SVGIcon","cr:22309","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22309")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconRefreshAlt",["MWXSvgIcon","SVGIcon","cr:22457","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22457")),r("gkx")("23219"));l.default=e}),98);
__d("MWPAudioPlaybackButton.react",["fbt","CometHeroHoldTrigger.react","MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXSpinner.react","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n=t.isError,a=t.isLoading,i=t.isRetryableError,l=t.onPress,u=t.scrubberRef,d=t.disabled,m=t.hasEnded,p=t.isPaused,_=t.isPlaying,f=t.outgoing,g=o("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle(),h=o("MWPAudioPlayerUtils").useResetHighlightProgress(u),y=_||p;return a?c.jsxs("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:y?h:void 0,style:g,children:[c.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:16}),c.jsx(r("CometHeroHoldTrigger.react"),{description:"MWPAudioPlaybackButton",hold:!0})]}):c.jsx("div",{onMouseMove:y?h:void 0,style:g,children:n!==!0?c.jsx(o("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:d,icon:c.jsx(r("MWPAudioPlaybackIcon.react"),{disabled:d,hasEnded:m,isPaused:p,isPlaying:_,outgoing:f}),label:_?o("MWPAudioPlayerLabels").pauseLabel:o("MWPAudioPlayerLabels").playLabel,onPress:l}):i===!0?c.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Retry"),color:"black",icon:r("MWXIconRefreshAlt"),onPress:l,size:40,type:"normal"}):c.jsx("div",{className:"x6s0dn4 xwcfey6 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 x1vqgdyp xl56j7k x100vrsf",children:c.jsx(r("MWXIconStrict.react"),{color:"black",icon:r("MWXIconExclamationMarkCircle"),size:20})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("useIGDAudioControl",["PolarisVideoConstants","PolarisVolumeControlsManager.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect;function d(e,t){var n=o("react-compiler-runtime").c(11),r=o("PolarisVolumeControlsManager.react").useVolumeControls(),a;n[0]!==e||n[1]!==t||n[2]!==r.audioState?(a=function(){e&&r.audioState===o("PolarisVideoConstants").AUDIO_STATES.on&&t()},n[0]=e,n[1]=t,n[2]=r.audioState,n[3]=a):a=n[3];var i;n[4]!==e||n[5]!==t||n[6]!==r?(i=[e,t,r],n[4]=e,n[5]=t,n[6]=r,n[7]=i):i=n[7],c(a,i);var l;return n[8]!==t||n[9]!==r?(l=function(){r.audioState===o("PolarisVideoConstants").AUDIO_STATES.on&&r.setAudioState(o("PolarisVideoConstants").AUDIO_STATES.off),t()},n[8]=t,n[9]=r,n[10]=l):l=n[10],l}l.default=d}),98);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){for(var t=[],n=0;n<e.numberOfChannels;n++)t.push(e.getChannelData(n));for(var r=t.reduce(function(e,t){return e+t.length},0),o=new Float32Array(r),a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++)o[i*t.length+a]=t[a][i];return o}function u(t){var o=r("AudioContextSingleton").get();return new(e||(e=n("Promise")))(function(e,n){o.decodeAudioData(t,e,n)})}function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.toString();try{var n=yield r("fetch")(t),o=yield n.arrayBuffer(),a=yield u(o);return s(a)}catch(e){var i=r("getErrorSafe")(e);return r("FBLogger")("messenger_web_media","audio_waveform_error").catching(i).mustfix("Error fetching waveform data for URL: %s",t),Float32Array.of()}}),d.apply(this,arguments)}l.default=c}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=t.attachmentFbid,l=t.messageId,s=t.threadKey,u=(e||(e=r("useReStore")))();return o("Int64Hooks").useCallbackInt64((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield u.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.attachments,r=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(n).getKeyRange(s,l,a));r!=null&&(yield n.put(babelHelpers.extends({},r,e)))});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":26")});return function(t){return e.apply(this,arguments)}})(),[u,s,l,a])}l.default=s}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useState,m=3,p=",",_=["blob:","data:"];function f(e,t){var a=d(e.waveformData),i=a[0],l=a[1],s=r("useMWAttachmentUpdater")(e),f=u(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(t!=null&&t!==""){var e=o("ConstUriUtils").getUri(t);if(e!=null&&_.includes(e.getProtocol())){var n=yield r("fetchMWPAudioWaveformDataForURL")(e);n.length>m&&l(n.join(p))}}}),[t]);return c(function(){i!=null&&i.length>m||r("promiseDone")(f())},[f,i]),c(function(){i!=null&&i.length>m&&i!==e.waveformData&&s({waveformData:i}).catch(function(e){r("FBLogger")("messenger_web_media","audio_waveform_error").catching(e).mustfix("Error from updating attachment waveform data")})},[e.waveformData,s,i]),i}l.default=f}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=r("useMWAttachmentUpdater")(t),o=t.isAttachmentConsumed;s(function(){var t=e==null?void 0:e.current;if(t!=null){var a=function(){(o==null||o===!1)&&n({isAttachmentConsumed:!0}).catch(function(e){r("FBLogger")("messenger_web_media","attachment_update_error").catching(e).mustfix("Error marking attachment as consumed.")})};return t.addEventListener("ended",a),function(){t.removeEventListener("ended",a)}}},[e,o,n])}l.default=u}),98);
__d("IGDAudioPlayer.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","ODS","react","react-compiler-runtime","requireDeferred","stylex","useIGDAttachmentUrl","useIGDAudioControl","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useEffect,_=m.useRef,f=r("requireDeferred")("MWChatAudioLog").__setRef("IGDAudioPlayer.react");function g(){f.onReady(function(e){return e.logBrowserDenyAccess()})}function h(t){var n=o("react-compiler-runtime").c(52),a=t.attachment,i=t.isReply,l=t.mediaRenderQpl,s=t.outgoing,u=t.width,m=i===void 0?!1:i,f;n[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],n[0]=f):f=n[0],p(y,f);var h=a.playableDurationMs,C=(c||(c=o("I64"))).to_float(h!=null?h:(c||(c=o("I64"))).zero)/1e3,b=o("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(a),v=r("useMWPAudioWaveformData.react")(a,b),S=o("MWPAudioPlayerUtils").useControlCenter(b,void 0,void 0,void 0,g,!1,C,l),R=S[0],L=S[1],E=S[2],k=S[3],I=S[4],T=S[5];r("useMWPMarkAudioAttachmentAsConsumed.react")(E,a);var D,x;n[1]!==l||n[2]!==b?(D=function(){b!=null&&(l==null||l.addPoint("render-audio-player"))},x=[l,b],n[1]=l,n[2]=b,n[3]=D,n[4]=x):(D=n[3],x=n[4]),p(D,x);var $=R===o("MWPAudioPlayerUtils").State.NONE,P=R===o("MWPAudioPlayerUtils").State.PLAYING,N=R===o("MWPAudioPlayerUtils").State.PAUSED,M=R===o("MWPAudioPlayerUtils").State.LOADING,w=R===o("MWPAudioPlayerUtils").State.ENDED,A=P||N,F=_(),O=o("MWPAudioHighlightStylesHooks").useHighlightStyles(s),B=s?"rgb(var(--ig-outgoing-message-bubble))":"rgb(var(--ig-incoming-message-bubble))",W=u!=null?u:"218px",q;n[5]!==B||n[6]!==W?(q={backgroundColor:B,width:W},n[5]=B,n[6]=W,n[7]=q):q=n[7];var U=q,V=A?Math.max(C-L,0):0,H=r("useIGDAudioControl")(P,k),G;n[8]!==m?(G=(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.common,m&&o("MWPAudioPlayerSharedStyles").styles.commonReply),n[8]=m,n[9]=G):G=n[9];var z;n[10]!==m?(z=m?{outline:"unset"}:{},n[10]=m,n[11]=z):z=n[11];var j=a.isAttachmentConsumed===!0,K;n[12]!==$||n[13]!==w||n[14]!==M||n[15]!==N||n[16]!==P||n[17]!==H||n[18]!==s?(K=d.jsx(r("MWPAudioPlaybackButton.react"),{disabled:$,hasEnded:w,isLoading:M,isPaused:N,isPlaying:P,onPress:H,outgoing:s,scrubberRef:F}),n[12]=$,n[13]=w,n[14]=M,n[15]=N,n[16]=P,n[17]=H,n[18]=s,n[19]=K):K=n[19];var Q;n[20]!==E||n[21]!==L||n[22]!==C||n[23]!==w||n[24]!==A||n[25]!==O||n[26]!==P||n[27]!==T||n[28]!==s||n[29]!==I||n[30]!==j||n[31]!==K||n[32]!==v?(Q=d.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:E,currentTime:L,duration:C,hasEnded:w,hasScrubber:A,isListened:j,isPlaying:P,onUpdateScrubber:T,outgoing:s,progressHighlightRef:I,scrubberRef:F,waveformData:v,xstyle:O,children:K}),n[20]=E,n[21]=L,n[22]=C,n[23]=w,n[24]=A,n[25]=O,n[26]=P,n[27]=T,n[28]=s,n[29]=I,n[30]=j,n[31]=K,n[32]=v,n[33]=Q):Q=n[33];var X;n[34]!==P||n[35]!==s||n[36]!==V?(X=d.jsx("div",{children:P?d.jsxs(d.Fragment,{children:[d.jsx(r("MWPAudioPlayerTimer.react"),{outgoing:s,time:V}),d.jsx(o("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:s})]}):d.jsx(r("MWPAudioPlayerTimer.react"),{outgoing:s,time:V})}),n[34]=P,n[35]=s,n[36]=V,n[37]=X):X=n[37];var Y;n[38]!==Q||n[39]!==X||n[40]!==G||n[41]!==z?(Y=d.jsxs("div",{className:G,style:z,children:[Q,X]}),n[38]=Q,n[39]=X,n[40]=G,n[41]=z,n[42]=Y):Y=n[42];var J;n[43]!==E||n[44]!==A||n[45]!==l||n[46]!==U||n[47]!==Y?(J=d.jsx(r("MWPAudioPlayerContainer.react"),{audioEl:E,hasScrubber:A,mediaRenderQpl:l,scrubberRef:F,style:U,testid:void 0,useCase:o("MWPAudioPlayerUtils").UseCase.PLAYER,children:Y}),n[43]=E,n[44]=A,n[45]=l,n[46]=U,n[47]=Y,n[48]=J):J=n[48];var Z;return n[49]!==E||n[50]!==J?(Z=d.jsx(r("MWPAudioPlayerKeyCommands.react"),{audioEl:E,children:J}),n[49]=E,n[50]=J,n[51]=Z):Z=n[51],Z}function y(){(u||(u=o("ODS"))).bumpEntityKey(5153,"igd_audio_player","render")}l.default=h}),98);
__d("IGDAudioTranscriptionButtonMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24477971145143978"}),null);
__d("IGDAudioTranscriptionButtonMutation.graphql",["IGDAudioTranscriptionButtonMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XIGMediaMessageTranscriptionConnection",kind:"LinkedField",name:"xig_media_message_transcription",plural:!1,selections:[{alias:null,args:null,concreteType:"XIGMediaMessageTranscriptionEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"node",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IGDAudioTranscriptionButtonMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IGDAudioTranscriptionButtonMutation",selections:t},params:{id:n("IGDAudioTranscriptionButtonMutation_instagramRelayOperation"),metadata:{},name:"IGDAudioTranscriptionButtonMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("IGDAudioTranscriptionButton.react",["fbt","CometPressable.react","CometRelay","FDSLineClamp.react","IGDAudioTranscriptionButtonMutation.graphql","IGDSBox.react","IGDSText.react","JSResourceForInteraction","PolarisDismissEntry","PolarisIGCoreText","emptyFunction","react","react-compiler-runtime","requireDeferred","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState,g=r("requireDeferred")("AudioClipsTranscriptionButtonClickFalcoEvent").__setRef("IGDAudioTranscriptionButton.react"),h=r("requireDeferred")("AudioClipsTranscriptionCompleteFalcoEvent").__setRef("IGDAudioTranscriptionButton.react"),y=r("requireDeferred")("AudioClipsTranscriptionExpandClickFalcoEvent").__setRef("IGDAudioTranscriptionButton.react"),C=r("requireDeferred")("AudioClipsTranscriptionFailureFalcoEvent").__setRef("IGDAudioTranscriptionButton.react"),b={incoming:{backgroundColor:null,$$css:!0},outgoing:{backgroundColor:null,$$css:!0},transcriptionButton:{backgroundColor:null,height:"x1kpxq89",marginBottom:"xzueoph",marginInlineStart:"xcev3uh",$$css:!0},transcriptionStyles:{marginBottom:"xfitlp5",marginInlineEnd:"xbmvrgn",marginInlineStart:"xcev3uh",$$css:!0},transcriptionWithExpandedState:{marginBottom:"xod5an3",$$css:!0}},v=s._(/*BTDS*/"View transcription"),S=s._(/*BTDS*/"Transcribing..."),R=s._(/*BTDS*/"See less"),L=s._(/*BTDS*/"See more"),E=s._(/*BTDS*/"Unable to transcribe"),k=s._(/*BTDS*/"Unable to transcribe, try again"),I=1e4,T=2,D=54;function x(e){var t=o("react-compiler-runtime").c(13),n=e.expanded,a=e.lineCount,i=e.outgoing,l=e.text,s=e.textRef,u=a>2&&b.transcriptionWithExpandedState,d;t[0]!==u?(d=[b.transcriptionStyles,u],t[0]=u,t[1]=d):d=t[1];var m=i?"web-always-white":"ig-primary-text",p=n?I:T,_=i?b.outgoing:b.incoming,f;t[2]!==p||t[3]!==_||t[4]!==l||t[5]!==s?(f=c.jsx(r("FDSLineClamp.react"),{lines:p,ref:s,xstyle:_,children:l}),t[2]=p,t[3]=_,t[4]=l,t[5]=s,t[6]=f):f=t[6];var g;t[7]!==m||t[8]!==f?(g=c.jsx(r("PolarisIGCoreText"),{color:m,children:f}),t[7]=m,t[8]=f,t[9]=g):g=t[9];var h;return t[10]!==d||t[11]!==g?(h=c.jsx(r("IGDSBox.react"),{xstyle:d,children:g}),t[10]=d,t[11]=g,t[12]=h):h=t[12],h}function $(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.disabled,i=e.onClick,l=e.outgoing,s=a===void 0?!1:a,u=l?"webAlwaysWhite":"secondaryText",d;t[0]!==n||t[1]!==u?(d=c.jsx(r("IGDSText.react"),{color:u,size:"footnote",weight:"light",children:n}),t[0]=n,t[1]=u,t[2]=d):d=t[2];var m;return t[3]!==s||t[4]!==i||t[5]!==d?(m=c.jsx(r("CometPressable.react"),{disabled:s,onHoverChange:r("emptyFunction"),onPress:i,overlayHoveredStyle:null,overlayPressedStyle:null,xstyle:b.transcriptionButton,children:d}),t[3]=s,t[4]=i,t[5]=d,t[6]=m):m=t[6],m}function P(t){var a=o("react-compiler-runtime").c(33),i=t.attachment,l=t.outgoing,s;a[0]===Symbol.for("react.memo_cache_sentinel")?(s=e!==void 0?e:e=n("IGDAudioTranscriptionButtonMutation.graphql"),a[0]=s):s=a[0];var u=o("CometRelay").useMutation(s),d=u[0],m=u[1],b=f(null),I=b[0],T=b[1],P=f(!0),N=P[0],M=P[1],w=f(!1),A=w[0],F=w[1],O=f(0),B=O[0],W=O[1],q;a[1]===Symbol.for("react.memo_cache_sentinel")?(q=r("JSResourceForInteraction")("IGDAudioTranscriptionNUXDialog.react").__setRef("IGDAudioTranscriptionButton.react"),a[1]=q):q=a[1];var U=r("useIGDSLazyDialog")(q),V=U[0],H;a[2]!==i.attachmentFbid||a[3]!==d||a[4]!==V||a[5]!==I?(H=function(){if(g.onReady(function(e){return e.log(function(){return{attachment_id:i.attachmentFbid}})}),!o("PolarisDismissEntry").isDismissed(o("PolarisDismissEntry").IGD_VOICE_TRANSCRIPTION_NUX_TYPE)){V({});return}I===null&&d({onCompleted:function(t){var e,n,r=(e=(n=t.xig_media_message_transcription)==null?void 0:n.edges[0].node)!=null?e:"";T(r),h.onReady(function(e){return e.log(function(){return{attachment_id:i.attachmentFbid,word_count:r.split(" ").length.toString()}})})},onError:function(t){F(!0),C.onReady(function(e){return e.log(function(){return{attachment_id:i.attachmentFbid,error_message:t.message}})})},variables:{input:{media_id:i.attachmentFbid}}})},a[2]=i.attachmentFbid,a[3]=d,a[4]=V,a[5]=I,a[6]=H):H=a[6];var G=H,z;a[7]!==i.attachmentFbid||a[8]!==A||a[9]!==G||a[10]!==I?(z=function(){if(A||I===null){F(!1),G();return}else M(function(e){var t=!e;return y.onReady(function(e){return e.log(function(){return{attachment_id:i.attachmentFbid}})}),t})},a[7]=i.attachmentFbid,a[8]=A,a[9]=G,a[10]=I,a[11]=z):z=a[11];var j=z,K=_(null),Q,X;a[12]!==I?(Q=function(){if(K.current&&I!==null){var e,t,n=window.getComputedStyle(K.current),r=parseInt(n.lineHeight,10),o=(e=(t=K.current)==null?void 0:t.clientHeight)!=null?e:D;W(Math.ceil(o/r))}},X=[I],a[12]=I,a[13]=Q,a[14]=X):(Q=a[13],X=a[14]),p(Q,X);var Y;a[15]!==A||a[16]!==N||a[17]!==m||a[18]!==j||a[19]!==l||a[20]!==B||a[21]!==I?(Y=function(){return A?c.jsx($,{onClick:j,outgoing:l,children:k}):I===""?c.jsx($,{disabled:!0,onClick:j,outgoing:l,children:E}):I===null?c.jsx($,{disabled:m,onClick:j,outgoing:l,children:m?S:v}):B>2?c.jsx($,{onClick:j,outgoing:l,children:N?R:L}):null},a[15]=A,a[16]=N,a[17]=m,a[18]=j,a[19]=l,a[20]=B,a[21]=I,a[22]=Y):Y=a[22];var J=Y,Z;a[23]!==N||a[24]!==l||a[25]!==B||a[26]!==I?(Z=I!=null?c.jsx(x,{expanded:N,lineCount:B,outgoing:l,text:I,textRef:K}):null,a[23]=N,a[24]=l,a[25]=B,a[26]=I,a[27]=Z):Z=a[27];var ee;a[28]!==J?(ee=J(),a[28]=J,a[29]=ee):ee=a[29];var te;return a[30]!==Z||a[31]!==ee?(te=c.jsxs(c.Fragment,{children:[Z,ee]}),a[30]=Z,a[31]=ee,a[32]=te):te=a[32],te}l.default=P}),226);
__d("IGDAudioWaveformPlayerContainer.react",["I64","IGDAudioTranscriptionButton.react","IGDSBox.react","LSAuthorityLevel","LSIntEnum","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(12),n=e.attachment,a=e.children,i=e.innerHeight,l=e.outgoing,d;t[0]!==n.authorityLevel?(d=(s||(s=o("I64"))).equal(n.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),t[0]=n.authorityLevel,t[1]=d):d=t[1];var m=d,p;t[2]!==a||t[3]!==i?(p=c.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",height:i,justifyContent:"between",marginBottom:3,marginTop:2,paddingX:2,width:"100%",children:a}),t[2]=a,t[3]=i,t[4]=p):p=t[4];var _;t[5]!==n||t[6]!==m||t[7]!==l?(_=m&&c.jsx(r("IGDAudioTranscriptionButton.react"),{attachment:n,outgoing:l}),t[5]=n,t[6]=m,t[7]=l,t[8]=_):_=t[8];var f;return t[9]!==p||t[10]!==_?(f=c.jsxs(r("IGDSBox.react"),{flex:"grow",height:"100%",justifyContent:"center",width:"100%",children:[p,_]}),t[9]=p,t[10]=_,t[11]=f):f=t[11],f}l.default=d}),98);
__d("MWPAudioWaveformUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e.length>t){for(var n=e.length/t,r=[],o=0;o<t;o++){for(var a=o*n,i=(o+1)*n,l=0,s=0,u=Math.ceil(a);u<Math.floor(i);u++)u<e.length&&(s++,l+=e[u]);s+=a-Math.floor(a),l+=(a-Math.floor(a))*e[Math.floor(a)],Math.ceil(i)<e.length&&(s+=Math.ceil(i)-i,l+=(Math.ceil(i)-i)*e[Math.ceil(i)]),s>0&&r.push(l/s)}return r}else return e}function l(e){for(var t=1,n=0,r=0;r<e.length;r++)t=Math.min(e[r],t),n=Math.max(e[r],n);return t===n?e:e.map(function(e){return-t/(n-t)+1/(n-t)*e})}i.getReducedAudioWaveformDimensions=e,i.getLinearlyInterpolatedValues=l}),66);
__d("MWPAudioWaveform.react",["MWPAudioWaveformUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=e.height,n=e.waveformData,r=e.waveformId,a=e.width,i=6,l=a/i,c=t,d=u(function(){return o("MWPAudioWaveformUtils").getLinearlyInterpolatedValues(o("MWPAudioWaveformUtils").getReducedAudioWaveformDimensions(n.split(",").map(function(e){return Number(e)}),l))},[l,r]);return s.jsx("svg",{className:"xqtp20y x10l6tqk xnalus7",children:s.jsx("defs",{children:s.jsx("clipPath",{id:r,children:d.map(function(e,n){var r=Math.max(c*e,4);return s.jsx("rect",{height:r.toString(),rx:"2",width:"3",x:Math.imul(n,i).toString(),y:((t/2|0)-((r|0)/2|0)|0).toString()},n.toString())})})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("IGDAudioWaveformPlayer.react",["FDSProgressRingIndeterminate.react","I64","IGDAudioWaveformPlayerContainer.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerIcons.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPAudioWaveform.react","ODS","PolarisUA","emptyFunction","react","react-compiler-runtime","stylex","useIGDAttachmentUrl","useIGDAudioControl","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useEffect,_=m.useRef,f=50,g={chatTabAudioPlayer:{width:"x1oysuqx",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x7ywyr2",paddingTop:"x1yrsyyn",paddingInlineEnd:"xyri2b",paddingBottom:"x10b6aqq",paddingInlineStart:"x1c1uobl",width:"x1hfn5x7",$$css:!0},mobileAudioPlayer:{width:"x1p6ez6i",$$css:!0},progressPlayedIncoming:{backgroundColor:"x124kx0k",$$css:!0},progressPlayedOutgoing:{backgroundColor:"xz3rzyy",$$css:!0},progressSeek:{transform:"x5i6ehr",$$css:!0},progressSeekIncoming:{backgroundColor:"xdbldzf",$$css:!0},progressSeekOutgoing:{backgroundColor:"xdbldzf",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(4),n=e.outgoing,r;t[0]!==n?(r={0:{className:"x5yr21d xh8yej3 x1bhxuv2"},1:{className:"x5yr21d xh8yej3 xz3rzyy xuzhngd"}}[!!n<<0],t[0]=n,t[1]=r):r=t[1];var a;return t[2]!==r?(a=d.jsx("div",babelHelpers.extends({},r)),t[2]=r,t[3]=a):a=t[3],a}function y(e){var t=o("react-compiler-runtime").c(4),n=e.color,r=e.isLoading,a=e.isPlaying,i=e.outgoing;if(r)return null;if(a){var l=i?n:void 0,s;return t[0]!==l?(s=d.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:l}),t[0]=l,t[1]=s):s=t[1],s}var u=i?n:void 0,c;return t[2]!==u?(c=d.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:u}),t[2]=u,t[3]=c):c=t[3],c}function C(t){var n=o("react-compiler-runtime").c(65),a=t.attachment,i=t.mediaRenderQpl,l=t.outgoing,s=t.waveformData,u;n[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],n[0]=u):u=n[0],p(b,u);var m=_(),C=a.playableDurationMs,v=C!=null?(c||(c=o("I64"))).to_float(C)/1e3:0,S=o("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(a),R=o("MWPAudioPlayerUtils").useControlCenter(S,void 0,void 0,void 0,r("emptyFunction"),!0,v,i),L=R[0],E=R[1],k=R[2],I=R[3],T=R[4],D,x;n[1]!==i||n[2]!==S?(D=function(){S!=null&&(i==null||i.addPoint("render-audio-waveform-player"))},x=[i,S],n[1]=i,n[2]=S,n[3]=D,n[4]=x):(D=n[3],x=n[4]),p(D,x);var $=L===o("MWPAudioPlayerUtils").State.PLAYING,P=L===o("MWPAudioPlayerUtils").State.PAUSED,N=L===o("MWPAudioPlayerUtils").State.LOADING,M=P||$,w=o("MWPAudioPlayerUtils").useResetHighlightProgress(m),A="waveform-clip-path-"+a.messageId,F=N?0:Math.max(v-E,0),O=o("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle(),B=r("useIsChatTabsDisplay")(),W=r("useIGDAudioControl")($,I),q;n[5]!==B?(q=(e||(e=r("stylex")))([g.container,B&&g.chatTabAudioPlayer,o("PolarisUA").isMobile()&&g.mobileAudioPlayer]),n[5]=B,n[6]=q):q=n[6];var U=l?"rgb(var(--ig-outgoing-message-bubble))":"rgb(var(--ig-incoming-message-bubble))",V;n[7]!==U?(V={backgroundColor:U,borderRadius:18},n[7]=U,n[8]=V):V=n[8];var H;n[9]!==s||n[10]!==A?(H=d.jsx(r("MWPAudioWaveform.react"),{height:f,waveformData:s,waveformId:A,width:171}),n[9]=s,n[10]=A,n[11]=H):H=n[11];var G;n[12]!==M||n[13]!==N||n[14]!==P||n[15]!==$||n[16]!==W||n[17]!==w||n[18]!==l||n[19]!==O?(G=N?d.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:M?w:void 0,style:O,children:d.jsx(r("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:16})}):d.jsx("div",{onMouseMove:M?w:void 0,style:O,children:d.jsx(o("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:d.jsx(y,{color:l?"rgb(var(--ig-outgoing-message-bubble))":"rgb(var(--ig-incoming-message-bubble))",isLoading:N,isPaused:P,isPlaying:$,outgoing:l}),label:P?o("MWPAudioPlayerLabels").playLabel:o("MWPAudioPlayerLabels").pauseLabel,onPress:W})}),n[12]=M,n[13]=N,n[14]=P,n[15]=$,n[16]=W,n[17]=w,n[18]=l,n[19]=O,n[20]=G):G=n[20];var z=l?"rgb(var(--ig-outgoing-message-bubble))":"rgb(var(--ig-incoming-message-bubble))",j;n[21]!==z?(j={backgroundColor:z,height:"100%"},n[21]=z,n[22]=j):j=n[22];var K;n[23]===Symbol.for("react.memo_cache_sentinel")?(K=(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.common),n[23]=K):K=n[23];var Q="url(#"+A+")",X;n[24]!==Q?(X={clipPath:Q},n[24]=Q,n[25]=X):X=n[25];var Y;n[26]!==l?(Y=d.jsx(h,{outgoing:l}),n[26]=l,n[27]=Y):Y=n[27];var J=l?g.progressPlayedOutgoing:g.progressPlayedIncoming,Z;n[28]!==T||n[29]!==J?(Z=d.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:T,xstyle:J}),n[28]=T,n[29]=J,n[30]=Z):Z=n[30];var ee=l?g.progressSeekOutgoing:g.progressSeekIncoming,te;n[31]!==ee?(te=d.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:m,xstyle:[g.progressSeek,ee]}),n[31]=ee,n[32]=te):te=n[32];var ne;n[33]!==E||n[34]!==v?(ne=d.jsx(o("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:E,duration:v}),n[33]=E,n[34]=v,n[35]=ne):ne=n[35];var re;n[36]!==X||n[37]!==Y||n[38]!==Z||n[39]!==te||n[40]!==ne?(re=d.jsxs("div",{className:K,style:X,children:[Y,Z,te,ne]}),n[36]=X,n[37]=Y,n[38]=Z,n[39]=te,n[40]=ne,n[41]=re):re=n[41];var oe;n[42]!==k||n[43]!==M||n[44]!==i||n[45]!==j||n[46]!==re?(oe=d.jsx(r("MWPAudioPlayerContainer.react"),{audioEl:k,hasScrubber:M,mediaRenderQpl:i,scrubberRef:m,style:j,testid:void 0,useCase:o("MWPAudioPlayerUtils").UseCase.PLAYER,children:re}),n[42]=k,n[43]=M,n[44]=i,n[45]=j,n[46]=re,n[47]=oe):oe=n[47];var ae;n[48]!==l||n[49]!==F?(ae=d.jsx(r("MWPAudioPlayerTimer.react"),{outgoing:l,time:F}),n[48]=l,n[49]=F,n[50]=ae):ae=n[50];var ie;n[51]!==a||n[52]!==l||n[53]!==oe||n[54]!==ae||n[55]!==H||n[56]!==G?(ie=d.jsxs(r("IGDAudioWaveformPlayerContainer.react"),{attachment:a,innerHeight:f,outgoing:l,children:[H,G,oe,ae]}),n[51]=a,n[52]=l,n[53]=oe,n[54]=ae,n[55]=H,n[56]=G,n[57]=ie):ie=n[57];var le;n[58]!==ie||n[59]!==q||n[60]!==V?(le=d.jsx("div",{className:q,style:V,children:ie}),n[58]=ie,n[59]=q,n[60]=V,n[61]=le):le=n[61];var se;return n[62]!==k||n[63]!==le?(se=d.jsx(r("MWPAudioPlayerKeyCommands.react"),{audioEl:k,children:le}),n[62]=k,n[63]=le,n[64]=se):se=n[64],se}function b(){(u||(u=o("ODS"))).bumpEntityKey(5153,"igd_audio_wave_form_player","render")}l.default=C}),98);
__d("IGDAttachmentAudioPlayer.react",["IGDAudioPlayer.react","IGDAudioWaveformPlayer.react","MWPAudioPlayerUtils","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.attachment,a=e.mediaRenderQpl,i=e.outgoing,l=o("MWPAudioPlayerUtils").useShowNewUX(),u;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(u=n.waveformData!=null&&n.waveformData!==""&&!l?s.jsx(r("IGDAudioWaveformPlayer.react"),{attachment:n,mediaRenderQpl:a,outgoing:i,waveformData:n.waveformData}):s.jsx(r("IGDAudioPlayer.react"),{attachment:n,mediaRenderQpl:a,outgoing:i,width:o("PolarisUA").isMobile()?"168px":void 0}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u):u=t[4],u}l.default=u}),98);
__d("IGDMessageListConstantsOffMsys",[],(function(t,n,r,o,a,i){"use strict";var e=20,l=157,s=384,u=192,c=340,d=.6,m=c*d,p=236,_=300,f=200,g=158,h=96;i.IGD_MESSAGE_LIST_PAGE_SIZE=e,i.DEFAULT_STICKER_SIZE=l,i.IGD_MEDIA_GRID_FULL_WIDTH=s,i.IGD_MEDIA_GRID_HALF_WIDTH=u,i.IGD_MEDIA_DEFAULT_MAX_HEIGHT=c,i.IGD_REPLIED_MEDIA_SCALE_FACTOR=d,i.IGD_MEDIA_DEFAULT_MAX_REPLY_HEIGHT=m,i.IGD_MEDIA_DEFAULT_MAX_WIDTH=p,i.IGD_MEDIA_STANDARD_XMA_MAX_WIDTH=_,i.IGD_MEDIA_XMA_PORTRAIT_PREVIEW_WIDTH=f,i.IGD_MEDIA_STORY_INTERACTION_XMA_WIDTH=g,i.IGD_ROW_ACTIONS_WIDTH=h}),66);
__d("IGDMediaSizeUtils",["IGDMessageListConstantsOffMsys","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e=.9;function s(t,n){var a=o("react-compiler-runtime").c(3),i=r("useIsChatTabsDisplay")(),l=t!=null?t:o("IGDMessageListConstantsOffMsys").IGD_MEDIA_DEFAULT_MAX_WIDTH,s=n!=null?n:o("IGDMessageListConstantsOffMsys").IGD_MEDIA_DEFAULT_MAX_HEIGHT,u=i?l*e:l,c=i?s*e:s,d;return a[0]!==c||a[1]!==u?(d=[u,c],a[0]=c,a[1]=u,a[2]=d):d=a[2],d}l.CHAT_TAB_MEDIA_SCALED_RATIO=e,l.useGetMaxSizeForMedia=s}),98);
__d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType",["WAArmadilloXMA.pb","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){switch(t){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:return"media_label";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return"post_label";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE:return null;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:default:return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Not a valid ExtendedContentOverlayIconGlyph: ",""])),t),"warning_screens"}}l.convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType=s}),98);
__d("InformTreatmentTitle",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({MISINFORMATION:"misinformation",FALSE_NEWS:"false_news",MISLEADING_NEWS:"misleading_news",MISSING_CONTEXT:"missing_context",ALTERED_MEDIA:"altered_media",AI_GENERATED_CONTENT:"ai_generated_content"}),l=e;i.default=l}),66);
__d("MWXIconEyeCross",["MWXSvgIcon","SVGIcon","cr:22310","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22310")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconInfoCircle",["MWXSvgIcon","SVGIcon","cr:22371","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22371")),r("gkx")("23219"));l.default=e}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["objectFit","src"],s,u=s||(s=o("react"));function c(t){var r=t.objectFit,o=t.src,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return n("cr:6682")!=null?u.jsx(n("cr:6682"),babelHelpers.extends({objectFit:r,src:o},a)):typeof o=="string"?n("cr:2838")!=null?u.jsx(n("cr:2838"),babelHelpers.extends({objectFit:r,src:o},a)):null:n("cr:1261")!=null?u.jsx(n("cr:1261"),babelHelpers.extends({src:o},a)):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MessengerWellbeingInformTreatmentFalcoEventLogger",["$InternalEnum","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var s=r("requireDeferred")("MwbCmInformTreatmentEventFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger"),u=r("requireDeferred")("MwbInformTreatmentShownImpressionFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger"),c=n("$InternalEnum")({AI_GENERATED_CONTENT:"ai_generated_content",MISINFORMATION:"misinformation"});function d(t){var n=babelHelpers.extends({},(e(t),t));s.onReady(function(e){return e.log(function(){return babelHelpers.extends({},n)})})}function m(t){var n=babelHelpers.extends({},(e(t),t));u.onReady(function(e){return e.log(function(){return babelHelpers.extends({},n)})})}l.MWInformTreatmentEventName=c,l.logForCM=d,l.logForPrivateChats=m}),98);
__d("useMWInformTreatmentFalcoEventLogger",["I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWLSThread","MessengerWellbeingInformTreatmentFalcoEventLogger","ReQL","ReQLSuspense","useCommunityFolder","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n,a=t.message,l=(u||(u=r("useReStore")))(),c=o("MWLSThread").useThreadExn(a.threadKey),d=r("useCommunityFolder")(c),m=(n=d==null?void 0:d.fbGroupId)!=null?n:(e||(e=o("I64"))).zero,p=o("LSMessagingThreadTypeUtil").isPublicCMThread(c.threadType),_=o("LSMessagingThreadTypeUtil").isOpenFnFThread(c),f=!(e||(e=o("I64"))).equal(a.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(1)),g=o("ReQLSuspense").useFirst(function(){return f?o("ReQL").fromTableAscending(l.tables.attachments).getKeyRange(a.threadKey,a.messageId):o("ReQL").empty()},[f,l.tables.attachments,a.threadKey,a.messageId],i.id+":63");return o("Int64Hooks").useCallbackInt64(function(t,n){if(p)o("MessengerWellbeingInformTreatmentFalcoEventLogger").logForCM({attachment_id:g==null?void 0:g.attachmentFbid,event_name:t,group_id:(e||(e=o("I64"))).to_string(m),inform_treatment:n!=null?{name:n.name,type:n.type}:void 0,is_forward:a.isForwarded,message_id:a.messageId,thread_id:e.to_string(a.threadKey),thread_subtype:c.threadSubtype!=null?(s||(s=o("LSIntEnum"))).unwrapIntEnum(c.threadSubtype):void 0});else if(_&&t==="impression"){var r;o("MessengerWellbeingInformTreatmentFalcoEventLogger").logForPrivateChats({inform_treatment_name:n!=null?n==null?void 0:n.name:void 0,inform_treatment_type:(r=n==null?void 0:n.type)!=null?r:void 0,thread_type:(s||(s=o("LSIntEnum"))).unwrapIntEnum(c.threadType)})}},[g==null?void 0:g.attachmentFbid,m,_,p,a.isForwarded,a.messageId,a.threadKey,c.threadSubtype,c.threadType])}l.default=c}),98);
__d("MWInformedTreatment.react",["fbt","FDSBlurredBackgroundImage.react","LSMessagingThreadTypeUtil","MWXColumn.react","MWXColumnItem.react","MWXIconEyeCross","MWXIconInfoCircle","MWXIconStrict.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","qex","react","useMWInformTreatmentFalcoEventLogger","useMergeRefs","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d="0px 4px 14px 0px rgba(0, 0, 0, 0.08)",m="rgba(255, 145, 16, 0.00)",p={overlay:{paddingTop:"xexx8yu",paddingInlineEnd:"x2vl965",paddingBottom:"x18d9i69",paddingInlineStart:"xe2zdcy",width:"xh8yej3",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}},_={AI_GENERATED_CONTENT:{icon:r("MWXIconInfoCircle"),text:s._(/*BTDS*/"AI info")},ALTERED_MEDIA:{icon:r("MWXIconEyeCross"),text:s._(/*BTDS*/"Altered media")},ALTERED_PHOTO:{icon:r("MWXIconEyeCross"),text:s._(/*BTDS*/"Altered photo")},CRUEL:{icon:r("MWXIconEyeCross"),text:s._(/*BTDS*/"Cruel content")},FALSE_NEWS:{icon:r("MWXIconInfoCircle"),text:s._(/*BTDS*/"False information")},MISLEADING_NEWS:{icon:r("MWXIconInfoCircle"),text:s._(/*BTDS*/"Partly false")},MISSING_CONTEXT:{icon:r("MWXIconInfoCircle"),text:s._(/*BTDS*/"Missing context")},SENSITIVE:{icon:r("MWXIconEyeCross"),text:s._(/*BTDS*/"Sensitive content")},VIOLENCE:{icon:r("MWXIconEyeCross"),text:s._(/*BTDS*/"Sensitive content")}},f=s._(/*BTDS*/"View post for more info");function g(e,t,n,a){if(a==null||e==null||t==null||n==null)return!1;var i=e==="ai_generated_content",l=a!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),s=a!=null&&o("LSMessagingThreadTypeUtil").isPublicCMThread(a);return i?r("qex")._("1581")===!0:l||s}function h(e){switch(e){case"ai_generated_content":return"ai_generated_content";case"misinformation":return"misleading_news";case"misleading_news":return"missing_context";case"missing_context":return"altered_media";case"altered_media":return"altered_media";case"false_news":return"false_news";default:return null}}function y(t){var n=t.dimension,a=t.gatingTitle,l=t.gatingType,s=t.isXMA,u=s===void 0?!1:s,d=t.mediaRenderQpl,m=t.messageId,g=t.previewUrl,y=g===void 0?"":g,C=t.xstyle,b=(e||(e=r("useReStore")))(),v=o("ReQLSuspense").useFirstExn(function(){return o("ReQL").fromTableAscending(b.tables.messages.index("messageId")).getKeyRange(m)},[b,m],i.id+":252"),S=r("gkx")("23219"),R=function(t){var e=Object.keys(_).find(function(e){return e===t.toUpperCase()});return e},L=function(t){var e,n=R(t);return n==null||((e=_[n])==null?void 0:e.icon)==null?r("MWXIconEyeCross"):_[n].icon},E=function(t){var e,n=R(t);return n==null||((e=_[n])==null?void 0:e.text)==null?null:_[n].text},k=function(t){switch(t){case"warning_screens":return c.jsx("div",{className:"xbudbmw x10l6tqk xwa60dl x11lhmoz xh8yej3",children:c.jsxs(r("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[c.jsx(r("MWXColumnItem.react"),{align:"center",children:c.jsx(r("MWXIconStrict.react"),{color:"white",icon:L(a),size:32})}),c.jsx(r("MWXColumnItem.react"),{children:c.jsx(r("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:S?"bodyLink3":"bodyLink4",children:E(a)})}),u?c.jsx(r("MWXColumnItem.react"),{children:c.jsx(r("MWXText.react"),{align:"center",color:"white",type:S?"meta3":"meta4",children:f})}):null]})});case"media_label":case"post_label":return c.jsxs("div",{className:"x6s0dn4 x1gevrdp x1fk37vd x1bmkqan xqb0rpr xsdp72b x12ol6y4 x180vkcf x1khw62d x709u02 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 xe80o0v x1ihrfj4 x78zum5 x10w6t97 x9q68il xyqdw3p x2vl965 xg8j3zb x25sj25 x10l6tqk xpse7mg x1tk7jg1 xuxw1ft x1vvkbs",children:[c.jsx(r("MWXIconStrict.react"),{color:"white",icon:L(a),size:24}),c.jsx(r("MWXText.react"),{align:"center",color:"white",type:S?"bodyLink3":"bodyLink4",children:E(a)})]});default:return null}},I=function(t){switch(t){case"warning_screens":case"media_label":case"post_label":return t;default:return null}},T=function(t){switch(t){case"media_label":case"post_label":return c.jsx("div",{style:n,children:c.jsx(r("MWXImage.react"),{alt:"",onError:function(){return d==null?void 0:d.endFailAfterDelay("load-image-error")},onLoad:function(){return d==null?void 0:d.endSuccessAfterDelay()},src:y,xstyle:p.post})});case"warning_screens":default:return c.jsxs("div",{style:n,children:[c.jsx(r("FDSBlurredBackgroundImage.react"),{alt:"",onError:function(){return d==null?void 0:d.endFailAfterDelay("load-image-error")},onLoad:function(){return d==null?void 0:d.endSuccessAfterDelay()},src:y,xstyle:[p.post,C,p.overlay]}),c.jsx("div",{className:"x18l40ae x1ey2m1c xtea3wc xtijo5x x1o0tod x47corl x10l6tqk x13vifvy"})]})}},D=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"inform_treatment_chat_impression"}),x=r("useMWInformTreatmentFalcoEventLogger")({message:v}),$=r("useSinglePartialViewImpression")({onImpressionStart:function(){var e=h(a),t=I(l.toLocaleLowerCase());e!=null&&t!=null&&x("impression",{name:e,type:t})}}),P=r("useMergeRefs")(D,$);return c.jsxs("div",{className:"x78zum5 x5yr21d x1n2onr6 xh8yej3",ref:P,children:[T(l.toLocaleLowerCase()),k(l.toLocaleLowerCase())]})}y.displayName=y.name+" [from "+i.id+"]",l.checkIsInformedTreatmentVisible=g,l.getEventTitle=h,l.MWInformedTreatment=y}),226);
__d("MWXIconHd",["MWXSvgIcon","SVGIcon","cr:22362","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22362")),r("gkx")("23219"));l.default=e}),98);
__d("MWXMessageBubbleCornerStyles.react",[],(function(t,n,r,o,a,i,l){"use strict";var e={flatBottom:{borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0},flatTop:{borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0},rounded:{borderStartStartRadius:"xaymx6s",borderStartEndRadius:"x1lu5o8o",borderEndEndRadius:"x1ou5ly4",borderEndStartRadius:"xofb2d2",$$css:!0}},s={connectBottom:{borderEndStartRadius:"x1pczhz8",$$css:!0},connectTop:{borderStartStartRadius:"xjwep3j",$$css:!0}},u={connectBottom:{borderEndEndRadius:"x1wcsgtt",$$css:!0},connectTop:{borderStartEndRadius:"x1t39747",$$css:!0}};function c(t){var n,r,o,a,i,l=(n=t==null?void 0:t.align)!=null?n:"left",c=(r=t==null?void 0:t.connectBottom)!=null?r:!1,d=(o=t==null?void 0:t.connectTop)!=null?o:!1,m=(a=t==null?void 0:t.flatten)!=null?a:"none",p=(i=t==null?void 0:t.corners)!=null?i:"round",_=l==="right"?u:s;return[p==="round"&&e.rounded,d&&_.connectTop,c&&_.connectBottom,(m==="all"||m==="bottom")&&e.flatBottom,(m==="all"||m==="top")&&e.flatTop]}l.getMWXBubbleCornerStyles=c}),98);
__d("MWXAspectRatioContainer.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={position:"x1n2onr6",width:"xh8yej3",$$css:!0},c={child:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},childInner:{maxHeight:"xmz0i5r",maxWidth:"x193iq5w",$$css:!0},flex:{display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},inner:function(t){return[u,{paddingBottom:t!=null?"xjqpyvm":t,$$css:!0},{"--x-paddingBottom":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},outer:function(t,n,r){return[{maxHeight:r!=null?"x1jols5v":r,maxWidth:n!=null?"xf68679":n,width:t!=null?"x5lhr3w":t,$$css:!0},{"--x-maxHeight":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(r),"--x-maxWidth":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]}};function d(e){var t=e.children,n=e.height,r=e.maxHeight,a=e.maxWidth,i=e.width,l=i/n,u=a!=null&&r!=null?"min("+a+"px, "+r*l+"px)":r!=null?r*l+"px":a;return s.jsx(o("react-strict-dom").html.div,{style:[c.flex],children:s.jsx(o("react-strict-dom").html.div,{style:[c.outer(i,u!=null?u:"initial",r!=null?r:"initial")],children:s.jsx(o("react-strict-dom").html.div,{style:[c.inner(100/l+"%")],children:s.jsx(o("react-strict-dom").html.div,{style:[c.child],children:t==null?void 0:t(c.childInner)})})})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMessageImage.react",["BaseImage.react","FDSBlurredBackgroundImage.react","MWXAspectRatioContainer.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","height","maxHeight","maxWidth","renderImagePlaceholder","shouldBlur","width","xstyle"],s,u,c=u||(u=o("react")),d={container:function(t){return[{maxWidth:t!=null?"xf68679":t,$$css:!0},{"--x-maxWidth":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},image:{display:"x1lliihq",maxWidth:"x193iq5w",$$css:!0}};function m(t){var n,o=t.children,a=t.height,i=t.maxHeight,l=t.maxWidth,u=t.renderImagePlaceholder,m=t.shouldBlur,p=t.width,_=t.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(t,e),g=p==null||a==null?c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(d.container(l)),{children:(n=u==null?void 0:u())!=null?n:c.jsx(r("BaseImage.react"),babelHelpers.extends({},f,{objectFit:"contain",style:{maxHeight:i+"px"},xstyle:d.image}))})):c.jsx(r("MWXAspectRatioContainer.react"),{height:a,maxHeight:i,maxWidth:l,width:p,children:function(t){var e;return(e=u==null?void 0:u())!=null?e:m!==!0?c.jsx(r("BaseImage.react"),babelHelpers.extends({height:a,width:p,xstyle:t},f)):c.jsx(r("FDSBlurredBackgroundImage.react"),babelHelpers.extends({xstyle:t},f))}});return c.jsxs("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(_),{children:[g,o]}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWPMessageListImage.react",["LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MWInformedTreatment.react","MWLSThread","MWXIconHd","MWXIconStrict.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","MWXPressable.react","MWXThreadThemeColor","ReQL","ReQLSuspense","gkx","react","stylex","useMWInformTreatmentFalcoEventLogger","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e=["attachment","connectBottom","connectTop","outgoing","overlayAlign","overlayHeight","overlayWidth","xstyle"],s,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useState,f={left:"",right:"",position:"x10l6tqk",top:"xuivejd",$$css:!0},g={height:"x16ye13r",insetInlineStart:"xbudbmw",left:"",right:"",position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",width:"x5lhr3w",$$css:!0},h={appAttr:{alignItems:"x6s0dn4",borderBottomWidth:"xso031l",borderTopColor:"x1pdss0j",borderInlineEndColor:"x1593r2a",borderBottomColor:"x81c4ja",borderInlineStartColor:"xewde0t",borderInlineEndWidth:"x1lun4ml",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",boxSizing:"x9f619",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingInlineEnd:"x1icxu4v",paddingBottom:"xjkvuk6",paddingInlineStart:"x25sj25",$$css:!0},appIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xlup9mm",marginInlineEnd:"xbelrpt",objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},hdOverlay:function(t){return[f,{insetInlineEnd:(t==="end"?"10px":void 0)!=null?"xqxgn94":t==="end"?"10px":void 0,insetInlineStart:(t==="start"?"10px":void 0)!=null?"x1lxsm33":t==="start"?"10px":void 0,$$css:!0},{"--x-insetInlineEnd":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t==="end"?"10px":void 0),"--x-insetInlineStart":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t==="start"?"10px":void 0)}]},hdOverlayContainer:function(t,n){return[g,{"--x-height":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t!=null?t+"px":"100%"),"--x-width":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(n!=null?n+"px":"100%")}]},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexShrink:"xs83m0k",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function y(e){var t=e.attachment,n=e.connectBottom,a=e.connectTop,i=e.outgoing,l=e.xstyle,u=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:i===!0?"right":"left",connectBottom:n,connectTop:a,flatten:"top"}),c=t,m=c.attributionAppName;if(m==null)return null;var p=c.attributionAppIcon;return d.jsxs("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(h.appAttr,l,u),{children:[p!=null?d.jsx(r("MWXImage.react"),{alt:"",src:p,xstyle:h.appIcon}):null,d.jsx("span",{className:"xzsf02u x1nxh6w3 x13faqbe",children:m})]}))}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.attachment,n=e.overlayAlign,a=n===void 0?"end":n,i=e.overlayHeight,l=e.overlayWidth,u=t,c=u.isHd===!0;return c?d.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(h.hdOverlayContainer(i,l)),{children:d.jsx("div",babelHelpers.extends({},s.props(h.hdOverlay(a)),{"data-testid":void 0,children:d.jsx(r("MWXIconStrict.react"),{color:o("MWXThreadThemeColor").mwxThreadThemeColor("rgba(255,255,255,0.7)"),icon:r("MWXIconHd"),size:18})}))})):null}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t,n=e.attachment,a=e.height,l=e.setIsBlurredImageVisible,s=e.width,c=(u||(u=r("useReStore")))(),m=o("ReQLSuspense").useFirstExn(function(){return o("ReQL").fromTableAscending(c.tables.messages.index("messageId")).getKeyRange(n.messageId)},[n.messageId,c],i.id+":170"),p=r("useMWInformTreatmentFalcoEventLogger")({message:m}),_=(t=o("MWLSThread").useThread(n.threadKey,function(e){return{isSecureThread:o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),threadType:e.threadType}}))!=null?t:{isSecureThread:!1,threadType:null},f=_.isSecureThread,g=_.threadType,y=n.gatingTitle,C=n.gatingType,b=n.previewUrl,v=f?o("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(C,10)):C,S=o("MWInformedTreatment.react").checkIsInformedTreatmentVisible(y,v,b,g);if(v==null||y==null||!S)return null;var R=v==="warning_screens",L=d.jsx(o("MWInformedTreatment.react").MWInformedTreatment,{dimension:{height:a+"px",width:s!=null?s+"px":"100%"},gatingTitle:y,gatingType:v,mediaRenderQpl:null,messageId:n.messageId,previewUrl:b});return R?d.jsx(r("MWXPressable.react"),{onPress:function(){var e=o("MWInformedTreatment.react").getEventTitle(y);l(!0),e!=null&&p("tap_to_reveal",{name:e,type:"warning_screens"})},overlayRadius:"normal",xstyle:h.pressable,children:L}):L}b.displayName=b.name+" [from "+i.id+"]";function v(t){var n,a=t.attachment,i=t.connectBottom,l=t.connectTop,s=t.outgoing,u=t.overlayAlign,c=t.overlayHeight,m=t.overlayWidth,f=t.xstyle,g=babelHelpers.objectWithoutPropertiesLoose(t,e),v=a.attributionAppName!=null,S=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:s===!0?"right":"left",connectBottom:i,connectTop:l,flatten:v===!0?"bottom":"none"}),R=_(!1),L=R[0],E=R[1],k=(n=o("MWLSThread").useThread(a.threadKey,function(e){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)||o("LSMessagingThreadTypeUtil").isPublicCMThread(e.threadType)}))!=null?n:!1,I=r("gkx")("179"),T=a.gatingTitle==="misinformation"||a.gatingTitle==="misleading_news"||a.gatingTitle==="missing_context"||a.gatingTitle==="missing_context"||a.gatingTitle==="altered_media"||a.gatingTitle==="false_news",D=T&&I,x=!L&&a.gatingTitle!=null&&a.gatingType!=null&&k&&!D,$=p(function(){var e=g.height,t=g.maxHeight,n=g.maxWidth,r=g.width;return d.jsx(b,{attachment:a,height:e!=null?Math.min(e,t):t,setIsBlurredImageVisible:E,width:r!=null&&n!=null?Math.min(r,n):r!=null?r:n})},[a,g]);return d.jsxs(r("MWXMessageImage.react"),babelHelpers.extends({renderImagePlaceholder:x?$:void 0,xstyle:[h.root,f,S]},g,{children:[d.jsx(y,{attachment:a,connectBottom:i,connectTop:l,outgoing:s,xstyle:f}),d.jsx(C,{attachment:a,overlayAlign:u,overlayHeight:c,overlayWidth:m})]}))}v.displayName=v.name+" [from "+i.id+"]",l.MWPMessageListImageAppAttribution=y,l.MWPMessageListImageHdWatermark=C,l.InformedTreatment=b,l.MWPMessageListImage=v}),98);
__d("MWV2AttachmentLoadingPlaceholder.react",["InteractionTracingMetrics","MWXAspectRatioContainer.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={glimmer:{display:"x1lliihq",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function d(e){var t=e.connectBottom,n=e.connectTop,a=e.descriptionForLogging,i=e.hasAppAttribution,l=e.hasCornerStyles,d=l===void 0?!0:l,m=e.height,p=e.maxHeight,_=p===void 0?200:p,f=e.maxWidth,g=f===void 0?480:f,h=e.mediaRenderQpl,y=e.outgoing,C=e.width,b=e.xstyle;if(u(function(){var e={string:{call_site:a}};return C!=null&&m!=null?h==null||h.addPoint("render-loading-placeholder",e):h==null||h.addPoint("render-loading-placeholder-null-dimensions",e),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-attachment-loading-placeholder","AppTiming",void 0,{call_site:a})}),function(){h==null||h.addPoint("unmount-loading-placeholder",e),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"unmount-attachment-loading-placeholder","AppTiming",void 0,{call_site:a})})}},[m,h,C,a]),C==null||m==null)return null;var v=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:y===!0?"right":"left",connectBottom:t,connectTop:n,flatten:i===!0?"bottom":"none"});return s.jsx("div",{"data-testid":void 0,children:s.jsx(r("MWXAspectRatioContainer.react"),{height:m,maxHeight:_,maxWidth:g,width:C,children:function(t){return s.jsx(r("MWXGlimmer.react"),{index:1,xstyle:[t,c.glimmer,d===!0&&v,b]})}})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("appendParamToUrl",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=new URL(e);return r.searchParams.set(t,n),r.toString()}i.default=e}),66);
__d("useFetchAnimatedImageThumbnail",["FBLogger","MAWImageUtils","appendParamToUrl","asyncToGeneratorRuntime","justknobx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useState;function m(e,t,a,i,l){var s=o("react-compiler-runtime").c(15),u=d(null),m=u[0],p=u[1],_;s[0]!==l?(_=function(){l==null||l.endSuccessAfterDelay({bool:{thumbnail_generated_for_gif:!0}})},s[0]=l,s[1]=_):_=s[1];var f=_,g;s[2]!==l?(g=function(){l==null||l.endFailAfterDelay("gif-thumbnail-render-failed")},s[2]=l,s[3]=g):g=s[3];var h=g,y,C;s[4]!==t||s[5]!==a||s[6]!==l||s[7]!==e||s[8]!==i?(y=function(){var s=null,u=(function(){var u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){l==null||l.addPoint("gif-thumbnail-generation-started");var n;if(t==null&&e!=null?n=e:n=t==null?void 0:t.previewUrl,n==null)return null;r("justknobx")._("4526")&&(n=r("appendParamToUrl")(n,"not-from-cache-please",""));var u=yield o("MAWImageUtils").generateGIFThumbnail(n,a,i);if(l==null||l.addPoint("gif-thumbnail-generation-completed"),u!=null){l==null||l.addPoint("gif-thumbnail-generation-completed-successfully");var c=new Blob([u.jpegThumbnail]);s=URL.createObjectURL(c),p(s)}});function c(){return u.apply(this,arguments)}return c})();return u().catch(function(){l==null||l.endFailAfterDelay("gif-thumbnail-generation-failed"),r("FBLogger")("gif picker").mustfix("GIF thumbnail generation failed"),p(null)}),(function(){s!=null&&URL.revokeObjectURL(s)})},C=[t,a,l,e,i],s[4]=t,s[5]=a,s[6]=l,s[7]=e,s[8]=i,s[9]=y,s[10]=C):(y=s[9],C=s[10]),c(y,C);var b;return s[11]!==m||s[12]!==h||s[13]!==f?(b={gifThumbnail:m,onError:h,onLoad:f},s[11]=m,s[12]=h,s[13]=f,s[14]=b):b=s[14],b}l.default=m}),98);
__d("IGDMessageListAnimatedImageThumbnailWithPlayButton.react",["fbt","MWPMessageListImage.react","MWV2AttachmentLoadingPlaceholder.react","MWVideoPlayerPlayButton.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","react","react-compiler-runtime","useFetchAnimatedImageThumbnail"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["mediaRenderQpl","onPlay","renderImagePlaceholder","attachment","connectBottom","connectTop","outgoing","overlayAlign","overlayHeight","overlayWidth","xstyle"],u,c=u||(u=o("react")),d={root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function m(t){var n,a,i,l,u=o("react-compiler-runtime").c(42),m,p,_,f,g,h,y,C,b;if(u[0]!==t){var v=t.mediaRenderQpl,S=t.onPlay,R=t.renderImagePlaceholder,L=t.attachment,E=t.connectBottom,k=t.connectTop,I=t.outgoing,T=t.overlayAlign,D=t.overlayHeight,x=t.overlayWidth,$=t.xstyle,P=babelHelpers.objectWithoutPropertiesLoose(t,e);g=v,h=S,C=R,m=L,p=E,_=k,y=I,b=$,f=P,u[0]=t,u[1]=m,u[2]=p,u[3]=_,u[4]=f,u[5]=g,u[6]=h,u[7]=y,u[8]=C,u[9]=b}else m=u[1],p=u[2],_=u[3],f=u[4],g=u[5],h=u[6],y=u[7],C=u[8],b=u[9];var N=f,M=N.height,w=N.src,A=N.width,F=r("useFetchAnimatedImageThumbnail")(w,m,M!=null?M:200,A!=null?A:200,g),O=F.gifThumbnail,B=F.onError,W=F.onLoad,q=m.attributionAppName!=null,U=y===!0?"right":"left",V=q===!0?"bottom":"none",H;u[10]!==p||u[11]!==_||u[12]!==U||u[13]!==V?(H=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:U,connectBottom:p,connectTop:_,flatten:V}),u[10]=p,u[11]=_,u[12]=U,u[13]=V,u[14]=H):H=u[14];var G=H,z=(n=(a=(i=m)==null?void 0:i.accessibilitySummaryText)!=null?a:(l=m)==null?void 0:l.titleText)!=null?n:"",j;u[15]!==z?(j=s._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[s._param("gif_alt_text",z)]),u[15]=z,u[16]=j):j=u[16];var K=j;if(O==null){var Q;return u[17]!==M||u[18]!==A?(Q=c.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"IGDMessageListAnimatedImageThumbnailWithPlayButton.NoGIFThumbnail",height:M,width:A}),u[17]=M,u[18]=A,u[19]=Q):Q=u[19],Q}var X;u[20]!==G||u[21]!==b?(X=[d.root,b,G],u[20]=G,u[21]=b,u[22]=X):X=u[22];var Y;u[23]!==m||u[24]!==p||u[25]!==_||u[26]!==y||u[27]!==b?(Y=c.jsx(o("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:m,connectBottom:p,connectTop:_,outgoing:y,xstyle:b}),u[23]=m,u[24]=p,u[25]=_,u[26]=y,u[27]=b,u[28]=Y):Y=u[28];var J;u[29]!==K||u[30]!==h?(J=c.jsx(r("MWVideoPlayerPlayButton.react"),{alt:K,isVisible:!0,onClick:h,size:"LARGE"}),u[29]=K,u[30]=h,u[31]=J):J=u[31];var Z;return u[32]!==z||u[33]!==O||u[34]!==f||u[35]!==B||u[36]!==W||u[37]!==C||u[38]!==X||u[39]!==Y||u[40]!==J?(Z=c.jsxs(r("MWXMessageImage.react"),babelHelpers.extends({},f,{alt:z,onError:B,onLoad:W,renderImagePlaceholder:C,src:O,xstyle:X,children:[Y,J]})),u[32]=z,u[33]=O,u[34]=f,u[35]=B,u[36]=W,u[37]=C,u[38]=X,u[39]=Y,u[40]=J,u[41]=Z):Z=u[41],Z}l.default=m}),226);
__d("IGDMessageListPausableImage.react",["CometPressable.react","IGDMessageListAnimatedImageThumbnailWithPlayButton.react","LSMessagingThreadTypeUtil","MWLSThread","MWPMessageListImage.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["mediaRenderQpl","attachment","connectBottom","connectTop","outgoing","overlayAlign","overlayHeight","overlayWidth","xstyle"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useState,p={root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function _(t){var n,a=o("react-compiler-runtime").c(41),i,l,s,c,d,_,g;if(a[0]!==t){var h=t.mediaRenderQpl,y=t.attachment,C=t.connectBottom,b=t.connectTop,v=t.outgoing,S=t.overlayAlign,R=t.overlayHeight,L=t.overlayWidth,E=t.xstyle,k=babelHelpers.objectWithoutPropertiesLoose(t,e);d=h,i=y,l=C,s=b,_=v,g=E,c=k,a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c,a[5]=d,a[6]=_,a[7]=g}else i=a[1],l=a[2],s=a[3],c=a[4],d=a[5],_=a[6],g=a[7];var I=m(!0),T=I[0],D=I[1],x=i.attributionAppName!=null,$=_===!0?"right":"left",P=x===!0?"bottom":"none",N;a[8]!==l||a[9]!==s||a[10]!==$||a[11]!==P?(N=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:$,connectBottom:l,connectTop:s,flatten:P}),a[8]=l,a[9]=s,a[10]=$,a[11]=P,a[12]=N):N=a[12];var M=N,w=m(!1),A=w[0],F=w[1],O=(n=o("MWLSThread").useThread(i.threadKey,f))!=null?n:!1,B=r("gkx")("12109"),W=i.gatingTitle==="misinformation"||i.gatingTitle==="misleading_news"||i.gatingTitle==="missing_context"||i.gatingTitle==="missing_context"||i.gatingTitle==="altered_media"||i.gatingTitle==="false_news",q=W&&B,U=!A&&i.gatingTitle!=null&&i.gatingType!=null&&O&&!q,V;a[13]!==i||a[14]!==c?(V=function(){var e=c,t=e.height,n=e.maxHeight,r=e.maxWidth,a=e.width;return u.jsx(o("MWPMessageListImage.react").InformedTreatment,{attachment:i,height:t!=null?Math.min(t,n):n,setIsBlurredImageVisible:F,width:a!=null&&r!=null?Math.min(a,r):a!=null?a:r})},a[13]=i,a[14]=c,a[15]=V):V=a[15];var H=V;if(T){var G;a[16]===Symbol.for("react.memo_cache_sentinel")?(G=function(){return D(!1)},a[16]=G):G=a[16];var z=U?H:void 0,j;return a[17]!==i||a[18]!==l||a[19]!==s||a[20]!==c||a[21]!==d||a[22]!==_||a[23]!==z||a[24]!==g?(j=u.jsx(r("IGDMessageListAnimatedImageThumbnailWithPlayButton.react"),babelHelpers.extends({onPlay:G,renderImagePlaceholder:z,xstyle:g},c,{attachment:i,connectBottom:l,connectTop:s,mediaRenderQpl:d,outgoing:_})),a[17]=i,a[18]=l,a[19]=s,a[20]=c,a[21]=d,a[22]=_,a[23]=z,a[24]=g,a[25]=j):j=a[25],j}var K;a[26]===Symbol.for("react.memo_cache_sentinel")?(K=function(){return D(!0)},a[26]=K):K=a[26];var Q=U?H:void 0,X;a[27]!==M||a[28]!==g?(X=[p.root,g,M],a[27]=M,a[28]=g,a[29]=X):X=a[29];var Y;a[30]!==i||a[31]!==l||a[32]!==s||a[33]!==_||a[34]!==g?(Y=u.jsx(o("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:i,connectBottom:l,connectTop:s,outgoing:_,xstyle:g}),a[30]=i,a[31]=l,a[32]=s,a[33]=_,a[34]=g,a[35]=Y):Y=a[35];var J;return a[36]!==c||a[37]!==Q||a[38]!==X||a[39]!==Y?(J=u.jsx(r("CometPressable.react"),{onPress:K,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:u.jsx(r("MWXMessageImage.react"),babelHelpers.extends({renderImagePlaceholder:Q,xstyle:X},c,{children:Y}))}),a[36]=c,a[37]=Q,a[38]=X,a[39]=Y,a[40]=J):J=a[40],J}function f(e){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)||o("LSMessagingThreadTypeUtil").isPublicCMThread(e.threadType)}l.IGDMessageListPausableImage=_}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=e.allowClickEventPropagation,a=e.ariaLabel,i=e.attachment,l=e.children,m=e.disabled,p=e.linkProps_,_=e.mediaRenderQpl,f=e.onHoverIn,g=e.onPress,h=e.overlayDisabled,y=h===void 0?!1:h,C=e.testid,b=e.xstyle,v=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),S=v.blurMediaEnabled,R=r("gkx")("24098")&&S,L=(s||(s=o("I64"))).equal(i.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(s||(s=o("I64"))).equal(i.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)),E=(s||(s=o("I64"))).equal(i.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)),k=L?"Image":E?"Video":"Media";return d(function(){_==null||_.addPoint("render-message-list-media-pressable-container",{bool:{is_blur_media:R},string:{media_type:k}})},[R,_,k]),n("cr:4509")!=null&&(L||E)&&R?c.jsx(n("cr:4509"),{ariaLabel:a,disabled:m,linkProps:p,mediaType:k,onPress:g,overlayDisabled:y,testid:void 0,type:E?"video":"image",url:o("LSMediaUrlAttachment").previewUrl(i),xstyle:b,children:l}):c.jsx(r("MWXPressable.react"),{allowClickEventPropagation:t,"aria-label":a,disabled:m,linkProps:p,onHoverIn:f,onPress:function(){return g()},overlayDisabled:y,testid:void 0,xstyle:b,children:l})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWPColorUtils",["FBLogger","I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){return"#"+t.map(function(e){return e.toString(16).padStart(2,"0")}).join("")};function u(t){var n=(e||(e=o("I64"))).to_int32(t),r=(n&16711680)>>>16,a=(n&65280)>>>8,i=n&255;return[r,a,i]}function c(t){var n=t[0],r=t[1],a=t[2];return(e||(e=o("I64"))).of_int32((n<<16)+(r<<8)+a)}function d(e,t,n){return[Math.round(e[0]*n+t[0]*(1-n)),Math.round(e[1]*n+t[1]*(1-n)),Math.round(e[2]*n+t[2]*(1-n))]}function m(e){var t=+("0x"+e.slice(2));return c([t>>16&255,t>>8&255,t&255])}function p(e,t,n){var r=u(e),o=u(t);return s(d(r,o,n))}function _(e,t,n){var r=u(e),o=u(t),a=d(r,o,n);return c(a)}function f(e){return s(u(e))}function g(e,t){var n=u(e),r=n[0],o=n[1],a=n[2];return t!=null?"rgba("+r+", "+o+", "+a+", "+t+")":f(e)}function h(t,n){var a=[].concat(t).sort(function(t,n){return(e||(e=o("I64"))).to_int32(t.gradientIndex)-e.to_int32(n.gradientIndex)|0}).map(function(e){return f(e.color)}),i=a.length;if(i!==1){if(i!==0){var l=n!=null,s=[];n!=null&&s.push(a[0]+" calc(100vh - "+String(n.totalHeight)+"px + "+String(n.headerHeight)+"px)");for(var u=l?1:0,c=a.length-(l?2:1)|0;u<=c;++u)s.push(a[u]);n!=null&&(s.push(a[a.length-1|0]+" calc(100% - "+String(n.footerHeight)+"px)"),s.push(a[a.length-1|0]));var d=s.join(", ");return"linear-gradient("+d+")"}return r("FBLogger")("messenger_comet").mustfix("Not enough colors for a gradient"),""}return r("FBLogger")("messenger_comet").mustfix("Not enough colors for a gradient"),""}l.i64toRgb=u,l.hexToI64=m,l.combineColors=p,l.combineColorsAsI64=_,l.int64ToHex=f,l.int64ToRGBA=g,l.gradient=h}),98);
__d("MWPThreadThemeGradientUtils",["MWPColorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.outgoingGradientColors,r=e.threadTheme,o=n[0];return(t=o==null?void 0:o.color)!=null?t:r.fallbackColor}function s(t){return o("MWPColorUtils").int64ToHex(e(t))}function u(e){var t,n=e.outgoingGradientColors,r=e.threadTheme,o=n[n.length-1];return(t=o==null?void 0:o.color)!=null?t:r.fallbackColor}function c(e){return o("MWPColorUtils").int64ToHex(u(e))}function d(e){return e.outgoingGradientColors.length>1}l.getTopGradientColorI64=e,l.getTopGradientColor=s,l.getBottomGradientColorI64=u,l.getBottomGradientColor=c,l.isGradient=d}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(!1);function p(e){var t=e.children,n=e.isFocused;return s.jsx(m.Provider,{value:n,children:t})}p.displayName=p.name+" [from "+i.id+"]";function _(){return d(m)}l.MWV2IsTabFocusedContextProvider=p,l.useIsTabFocused=_}),98);
__d("MessengerAppColorMode",[],(function(t,n,r,o,a,i){var e=Object.freeze({NORMAL:1,DARK:2,NONE:3});i.default=e}),66);
__d("useMWIsBroadcastChannelViewer",["LSMessagingThreadTypeUtil","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a,l=(e||(e=r("useReStore")))(),s=o("MWPActor.react").useActor(),u=(n=o("MWLSThread").useThread(t,function(e){return o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType)}))!=null?n:!1,c=(a=o("ReQLSuspense").useFirst(function(){return t!=null&&u?o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t,s).map(function(e){return e.isAdmin!==!0&&e.isSuperAdmin!==!0&&e.isModerator!==!0}):o("ReQL").empty()},[l,t,s,u],i.id+":31"))!=null?a:!1;return u&&c}l.default=s}),98);
__d("MWPThemeCSSProvider.react",["BaseTheme.react","I64","LSIntEnum","MWLSThread","MWLSThreadDisplayContext","MWPColorUtils","MWPThreadThemeGradientUtils","MWThreadKey.react","MWV2IsTabFocusedContext.react","MessengerAppColorMode","gkx","react","useMWIsBroadcastChannelViewer","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useMemo,m={expand:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",maxWidth:"x193iq5w",$$css:!0}};function p(e,t){var n,r=(n=o("MWLSThread").useThread(t,function(e){return(s||(s=o("I64"))).lt(e.lastReadWatermarkTimestampMs,e.lastActivityTimestampMs)}))!=null?n:!1;return r&&!e}function _(){var e=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),t=e==="ChatTab",n=e==="Inbox";return!t&&!n?!1:t||r("gkx")("24031")}function f(){var e=o("MWThreadKey.react").useMWThreadKeyMemoized(),t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",n=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),a=p(n,e),i=r("useMWIsBroadcastChannelViewer")(e),l=r("useMWPThreadTheme")(),c=_();return d(function(){var e,d,m,p,_=r("gkx")("24057"),f=l.backgroundGradientColors,g=l.incomingGradientColors,h=l.outgoingGradientColors,y=l.threadTheme,C=y.appColorMode,b=y.backgroundUrl,v=y.composerBackgroundColor,S=y.composerInputBackgroundColor,R=y.composerInputBorderColor,L=y.composerInputBorderWidth,E=y.composerInputTextPlaceholderColor,k=y.composerPlaceholderTextColor,I=y.composerTintColor,T=y.deliveryReceiptColor,D=y.fallbackColor,x=y.incomingMessageBorderColor,$=y.incomingMessageBorderWidth,P=y.incomingMessageTextColor,N=y.messageBorderColor,M=y.messageBorderWidth,w=y.messageTextColor,A=y.primaryButtonBackgroundColor,F=y.quotedIncomingMessageBubbleColor,O=y.reactionPillBackgroundColor,B=y.secondaryTextColor,W=y.tertiaryTextColor,q=y.titlebarAttributionTextColor,U=y.titlebarBackgroundColor,V=y.titlebarButtonTintColor,H=y.titlebarTextColor,G=(s||(s=o("I64"))).equal(C,(u||(u=o("LSIntEnum"))).ofNumber(r("MessengerAppColorMode").DARK)),z=!!(b!=null&&b.length),j=h.length>1,K=f.length>0,Q=c&&(z||K),X=Q&&"4px"||"0px",Y=_?"96px":i?"28px":"84px",J=(c&&V!=null?V:null)||o("MWPThreadThemeGradientUtils").getTopGradientColorI64(l),Z=(c&&I!=null?I:null)||o("MWPThreadThemeGradientUtils").getBottomGradientColorI64(l),ee=f==null||(e=f[(f==null?void 0:f.length)-1])==null?void 0:e.color,te=g==null||(d=g[0])==null?void 0:d.color,ne=(m=h==null||(p=h[h.length-1])==null?void 0:p.color)!=null?m:D,re=h&&h.length>1&&o("MWPColorUtils").gradient(h,t?{footerHeight:56,headerHeight:48,totalHeight:455}:void 0),oe={"chat-admin-text-color":c&&(B!=null||W),"chat-composer-background-color":c&&v,"chat-composer-button-color":Z,"chat-composer-caret-color":c&&Z,"chat-composer-input-background-color":c&&S!=null?S:"var(--comment-background)","chat-composer-input-border-color":c&&R,"chat-composer-input-border-width":c&&L,"chat-composer-input-text-placeholder-color":c&&E,"chat-composer-placeholder-text-color":c&&k,"chat-delivery-receipt-color":c&&T,"chat-edit-message-overlay-color":ee!=null?ee:"var(--surface-background)","chat-incoming-message-border-color":c&&x,"chat-incoming-message-border-width":c&&$,"chat-incoming-message-bubble-background-color":c&&te,"chat-incoming-message-text-color":c&&P,"chat-message-border-color":c&&N,"chat-message-border-width":c&&M,"chat-message-text-color":c&&w,"chat-outgoing-message-background-gradient":!Q&&re?re:"initial","chat-outgoing-message-bubble-background-color":j&&!Q?"transparent":ne,"chat-primary-button-background-color":c&&A,"chat-quoted-incoming-message-bubble-color":c&&F,"chat-replied-message-background-color":c&&ee&&te&&o("MWPColorUtils").combineColors(ee,te,.4),"chat-scrollbar-thumb-color":Q&&ee&&o("MWPColorUtils").int64ToRGBA(o("MWPColorUtils").combineColorsAsI64(o("MWPColorUtils").combineColorsAsI64(ne,ee,.6),G?(s||(s=o("I64"))).of_int32(16777215):(s||(s=o("I64"))).of_int32(0),.6),.7),"chat-scrollbar-track-color":Q&&"transparent","mwp-header-background-color":c&&U,"mwp-header-button-color":J,"mwp-header-text-color":c&&H,"mwp-message-list-actions-gap":X,"mwp-message-list-actions-width":"calc("+Y+" + 2*"+X+")","mwp-message-row-background":Q?"transparent":"var(--messenger-card-background)","mwp-primary-theme-color":D,"mwp-subheader-text-color":c&&q,"reaction-pill-background-color":c?O:"var(--wash)","reaction-pill-multireact-selected-color":o("MWPColorUtils").combineColorsAsI64(D,s.of_int32(16777215),.22),"text-highlight":c&&I!=null&&o("MWPColorUtils").int64ToRGBA(I,G?.5:.2)};n||(c?(oe["chat-composer-button-color"]=o("MWPColorUtils").int64ToRGBA(Z,.6),oe["mwp-header-button-color"]=o("MWPColorUtils").int64ToRGBA(J,.6)):(oe["chat-composer-button-color"]="var(--disabled-icon)",oe["mwp-header-button-color"]="var(--disabled-icon)")),a&&(oe["mwp-header-button-color"]="var(--always-white)",oe["mwp-header-text-color"]="var(--always-white)",oe["mwp-header-background-color"]=J),(oe["mwp-subheader-text-color"]==null||typeof oe["mwp-subheader-text-color"]=="boolean")&&(oe["mwp-subheader-text-color"]=oe["mwp-header-text-color"]);var ae={};for(var ie in oe){var le=oe[ie];le==null||typeof le=="boolean"||(typeof le=="string"?ae[ie]=le:ae[ie]=o("MWPColorUtils").int64ToHex(le))}return ae},[i,t,a,n,l])}function g(e){var t=f();return c.jsx(r("BaseTheme.react"),babelHelpers.extends({},e,{config:{dark:t,light:t,type:"VARIABLES"},xstyle:[m.expand,e.xstyle]}))}g.displayName=g.name+" [from "+i.id+"]",l.useIsThemeV2=_,l.MWPThemeCSSProvider=g}),98);
__d("MWPThreadThemeContext",["defaultMWPThreadTheme","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=babelHelpers.extends({},o("defaultMWPThreadTheme").defaultThemeWithColorsV1,{previewId:void 0,setPreviewId:r("emptyFunction")}),c=s(u);l.defaultContextValue=u,l.MWPThreadThemeContext=c}),98);
__d("defaultMWPThreadTheme",["I64","MWPThemeCSSProvider.react","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var e=o("MWPThemeCSSProvider.react").useIsThemeV2();return e?c:d}function u(t){return t==null?!1:(e||(e=o("I64"))).equal(t,d.threadTheme.fbid)||(e||(e=o("I64"))).equal(t,c.threadTheme.fbid)}var c={backgroundGradientColors:[],incomingGradientColors:[],outgoingGradientColors:[{color:(e||(e=o("I64"))).of_string("-5635841"),gradientIndex:e.of_string("0"),themeFbid:e.of_string("3259963564026002"),type_:e.of_string("0")},{color:e.of_string("28918"),gradientIndex:e.of_string("1"),themeFbid:e.of_string("3259963564026002"),type_:e.of_string("0")}],threadTheme:{accessibilityLabel:"Default",appColorMode:e.of_string("1"),fallbackColor:e.of_string("-11645963"),fbid:e.of_string("3259963564026002"),isDeprecated:!1,normalThemeId:e.of_string("3259963564026002"),reverseGradiantsForRadial:!1,themeIdx:e.of_string("275")}},d={backgroundGradientColors:[],incomingGradientColors:[],outgoingGradientColors:[],threadTheme:{accessibilityLabel:"Default Blue",appColorMode:e.zero,fallbackColor:r("gkx")("23219")?(e||(e=o("I64"))).of_string("687359"):(e||(e=o("I64"))).of_string("-16743169"),fbid:e.of_string("196241301102133"),isDeprecated:!1,normalThemeId:e.zero,reverseGradiantsForRadial:!1,themeIdx:e.of_string("94")}};l.useDefaultThemeWithColors=s,l.isDefaultTheme=u,l.defaultThemeWithColorsV2=c,l.defaultThemeWithColorsV1=d}),98);
__d("useMWPThreadTheme",["MWPThreadThemeContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(o("MWPThreadThemeContext").MWPThreadThemeContext)}l.default=u}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.height,n=e.mediaStaging,a=r("useMWPThreadTheme")(),i=a.threadTheme,l=n.hasError?"var(--negative)":o("MWPColorUtils").int64ToHex(i.fallbackColor),u=Math.ceil(n.progress*100),c=(t/2).toString(),d="M 0,"+c+" L 100,"+c;return n.progress===1||n.progress===0?null:s.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x1o0tod x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:t.toString()},viewBox:"0 0 100 "+t.toString(),children:[s.jsx("path",{d:d,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:t.toString()}),s.jsx("path",{d:d,stroke:l,strokeLinecap:"round",strokeWidth:(u===0?0:t).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-u|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=t.attachment.offlineAttachmentId,a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){return n!=null?o("ReQL").fromTableAscending(a.tables.media_staging).getKeyRange(n):o("ReQL").empty()},[n],i.id+":24");return l!=null&&l.isSent?u.jsx(r("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:l}):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWV2MediaViewerContainer.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.actions,n=e.children,r=e.fallbackHeader,o=e.hideActions,a=o===void 0?!1:o;return s.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o xh8yej3 x1uvtmcs","data-testid":void 0,children:[n,s.jsx("div",babelHelpers.extends({},{0:{className:"xdg88n9 x10l6tqk x1tk7jg1"},1:{className:"xdg88n9 x10l6tqk x1tk7jg1 x1s85apg"}}[!!a<<0],{children:t})),r!=null&&s.jsx("div",{className:"xzwoauc x10l6tqk xfr5jun",children:r})]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWV2MediaViewerActionButton.react",["MWXCircleButton.react","MWXTooltip.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["label","ref"],s,u=s||(s=o("react"));function c(t){var n=t.label,o=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("MWXTooltip.react"),{tooltip:n,children:u.jsx(r("MWXCircleButton.react"),babelHelpers.extends({"aria-label":n,size:36,type:"dark-overlay"},a,{ref:o}))})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:22288","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22288")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2MediaViewerCloseControl.react",["fbt","MWV2MediaViewerActionButton.react","MWXIconCross","MWXRowItem.react","emptyFunction","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Close");function d(e){var t=e.onClose;return u.jsx(r("MWXRowItem.react"),{children:u.jsx("div",babelHelpers.extends({},{0:{},1:{className:"xlshs6z"}}[(t==null)<<0],{children:u.jsx(r("MWV2MediaViewerActionButton.react"),{icon:r("MWXIconCross"),label:c,onPress:t!=null?t:r("emptyFunction")})}))})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWV2MediaViewerControlsFallback.react",["MWV2MediaViewerCloseControl.react","MWXRow.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.onClose;return s.jsx(r("MWXRow.react"),{paddingTop:0,spacing:8,children:s.jsx(r("MWV2MediaViewerCloseControl.react"),{onClose:t})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWV2MediaViewerFallback.react",["MWV2MediaViewerContainer.react","MWV2MediaViewerControlsFallback.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.onClose;return s.jsx(r("MWV2MediaViewerContainer.react"),{actions:s.jsx(r("MWV2MediaViewerControlsFallback.react"),{onClose:t}),children:null})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("useIGDMediaViewerShowDialog.react",["JSResourceForInteraction","MWV2MediaViewerFallback.react","qex","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(){var e=o("react-compiler-runtime").c(10),t=r("qex")._("4846"),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=r("JSResourceForInteraction")("IGDMediaViewerRoot.react").__setRef("useIGDMediaViewerShowDialog.react"),e[0]=n):n=e[0];var a=n,i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i={baseModalProps:{isOverlayTransparent:!0}},e[1]=i):i=e[1];var l=i,s=r("useIGDSLazyDialog")(a,d,t===!0?l:void 0),c=s[0],m=s[2],p;e[2]!==m?(p=function(){return m()},e[2]=m,e[3]=p):p=e[3];var _;e[4]!==m||e[5]!==c?(_=[c,m],e[4]=m,e[5]=c,e[6]=_):_=e[6],u(p,_);var f;return e[7]!==m||e[8]!==c?(f=[c,m],e[7]=m,e[8]=c,e[9]=f):f=e[9],f}function d(e){return s.jsx(r("MWV2MediaViewerFallback.react"),{onClose:e})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useLayoutEffect;function d(){var e=u(o("MWV2MessageRowIsRowFocusedContext.react").context),t=e.isDialogOpened,n=e.setIsDialogOpened,a=e.setFocused,i=r("useCometRouterState")(),l;if(i==null)l=0;else{var s=i.pushViewStack;l=s==null?0:s.length}var d=r("usePrevious")(l);return c(function(){if(d!=null){t===!0&&d>0&&l===0&&(n(function(){return!1}),a(function(){return!0}));return}},[t,d,l]),n}l.default=d}),98);
__d("IGDChatImage.react",["fbt","FDSImageCover.react","I64","IGDMediaSizeUtils","IGDMessageListConstantsOffMsys","IGDMessageListPausableImage.react","IGDSGlimmer.react","IGDThreadListNewMessageLoggingDataContext","LSAuthorityLevel","LSIntEnum","MWMessageListMediaPressableContainer.react","MWPActor.react","MWPMessageListImage.react","MWV2AttachmentProgressBar.react","MWXMessageBubbleCornerStyles.react","MessagingAttachmentType","MessengerWebUXLogger","ODS","Random","cr:9647","promiseDone","react","react-compiler-runtime","requireDeferred","useIGDAttachmentUrl","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=m||(m=o("react")),_=m,f=_.useCallback,g=_.useEffect,h=r("requireDeferred")("MWLogMessageAction").__setRef("IGDChatImage.react"),y={borderRadius:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",$$css:!0},container:{display:"x78zum5",position:"x1n2onr6",$$css:!0},glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},inGrid:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function C(t){var a=o("react-compiler-runtime").c(86),i=t.attachment,l=t.connectBottom,m=t.connectTop,_=t.inGrid,f=t.isReplyMessage,C=t.maxHeight,L=t.maxWidth,E=t.mediaRenderQpl,k=t.message,I=t.outgoing,T=t.repliedMessage,D=l===void 0?!1:l,x=_===void 0?!1:_,$=f===void 0?!1:f,P=C===void 0?o("IGDMessageListConstantsOffMsys").IGD_MEDIA_DEFAULT_MAX_HEIGHT:C,N=L===void 0?o("IGDMessageListConstantsOffMsys").IGD_MEDIA_DEFAULT_MAX_WIDTH:L,M=T===void 0?null:T,w=(e||(e=r("useReStore")))(),A=o("MWPActor.react").useActor(),F=r("useMWV2FocusRowAfterClosingPushView")(),O=o("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(i,!0),B=r("useIGDMediaViewerShowDialog.react")(),W=B[0],q=B[1],U=r("MessengerWebUXLogger").useInteractionLogger(),V=i.attachmentType,H=i.previewWidth,G=i.previewHeight,z=o("IGDMediaSizeUtils").useGetMaxSizeForMedia(N,P),j=z[0],K=z[1],Q=x?y.inGrid:y.borderRadius,X=I===!0?"right":"left",Y=x?"unset":void 0,J;a[0]!==D||a[1]!==m||a[2]!==X||a[3]!==Y?(J=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:X,connectBottom:D,connectTop:m,corners:Y}),a[0]=D,a[1]=m,a[2]=X,a[3]=Y,a[4]=J):J=a[4];var Z;a[5]!==J||a[6]!==Q?(Z=[y.container,Q,J],a[5]=J,a[6]=Q,a[7]=Z):Z=a[7];var ee=Z,te;a[8]!==E?(te=function(){E==null||E.endFailAfterDelay("load-image-error")},a[8]=E,a[9]=te):te=a[9];var ne=te,re;a[10]!==i.titleText||a[11]!==V||a[12]!==E?(re=function(){E==null||E.endSuccessAfterDelay(),(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE),V)&&(i.titleText==null&&(d||(d=o("ODS"))).bumpEntityKey(938,"igd_chat_image","animated_image_missing_alt_text"),(d||(d=o("ODS"))).bumpEntityKey(938,"igd_chat_image","animated_image_loaded"))},a[10]=i.titleText,a[11]=V,a[12]=E,a[13]=re):re=a[13];var oe=re,ae=n("cr:9647")(),ie=ae.isReduceMotionSettingEnabled,le=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),se=String(ie),ue;a[14]!==se?(ue={animatedImageComponent:"IGDChatImage",isReduceMotionSettingEnabled:se},a[14]=se,a[15]=ue):ue=a[15];var ce;a[16]!==le||a[17]!==ue?(ce={eventName:"animated_image_message",extraData:ue,flowInstanceId:le},a[16]=le,a[17]=ue,a[18]=ce):ce=a[18];var de=r("MessengerWebUXLogger").useImpressionLoggerRef(ce),me,pe;a[19]!==E||a[20]!==O?(me=function(){O!=null&&O.length>0&&(E==null||E.addPoint("render-chat-image"))},pe=[E,O],a[19]=E,a[20]=O,a[21]=me,a[22]=pe):(me=a[21],pe=a[22]),g(me,pe);var _e;a[23]!==i.titleText?(_e=i.titleText!=null?i.titleText:s._(/*BTDS*/"Open photo").toString(),a[23]=i.titleText,a[24]=_e):_e=a[24];var fe=_e,ge;a[25]!==G?(ge=G!=null?(u||(u=o("I64"))).to_float(G):void 0,a[25]=G,a[26]=ge):ge=a[26];var he=O==null?R:void 0,ye=O!=null?O:"",Ce;a[27]!==H?(Ce=H!=null?(u||(u=o("I64"))).to_float(H):void 0,a[27]=H,a[28]=Ce):Ce=a[28];var be;a[29]!==i||a[30]!==D||a[31]!==m||a[32]!==fe||a[33]!==K||a[34]!==j||a[35]!==ne||a[36]!==oe||a[37]!==I||a[38]!==ge||a[39]!==he||a[40]!==ye||a[41]!==Ce?(be=p.jsx(o("MWPMessageListImage.react").MWPMessageListImage,{alt:fe,attachment:i,connectBottom:D,connectTop:m,height:ge,maxHeight:K,maxWidth:j,onError:ne,onLoad:oe,outgoing:I,renderImagePlaceholder:he,src:ye,width:Ce,xstyle:y.borderRadius}),a[29]=i,a[30]=D,a[31]=m,a[32]=fe,a[33]=K,a[34]=j,a[35]=ne,a[36]=oe,a[37]=I,a[38]=ge,a[39]=he,a[40]=ye,a[41]=Ce,a[42]=be):be=a[42];var ve;a[43]!==de||a[44]!==be?(ve=p.jsx("div",{ref:de,children:be}),a[43]=de,a[44]=be,a[45]=ve):ve=a[45];var Se=ve,Re;a[46]!==G?(Re=G!=null?(u||(u=o("I64"))).to_float(G):void 0,a[46]=G,a[47]=Re):Re=a[47];var Le=O==null?S:void 0,Ee=O!=null?O:"",ke;a[48]!==H?(ke=H!=null?(u||(u=o("I64"))).to_float(H):void 0,a[48]=H,a[49]=ke):ke=a[49];var Ie;a[50]!==i||a[51]!==D||a[52]!==m||a[53]!==fe||a[54]!==K||a[55]!==j||a[56]!==E||a[57]!==I||a[58]!==Re||a[59]!==Le||a[60]!==Ee||a[61]!==ke?(Ie=p.jsx(o("IGDMessageListPausableImage.react").IGDMessageListPausableImage,{alt:fe,attachment:i,connectBottom:D,connectTop:m,height:Re,maxHeight:K,maxWidth:j,mediaRenderQpl:E,outgoing:I,renderImagePlaceholder:Le,src:Ee,width:ke,xstyle:y.borderRadius}),a[50]=i,a[51]=D,a[52]=m,a[53]=fe,a[54]=K,a[55]=j,a[56]=E,a[57]=I,a[58]=Re,a[59]=Le,a[60]=Ee,a[61]=ke,a[62]=Ie):Ie=a[62];var Te;a[63]!==de||a[64]!==Ie?(Te=p.jsx("div",{ref:de,children:Ie}),a[63]=de,a[64]=Ie,a[65]=Te):Te=a[65];var De=Te,xe=$&&M!=null?M:k,$e;return a[66]!==A||a[67]!==i||a[68]!==xe||a[69]!==V||a[70]!==w||a[71]!==fe||a[72]!==Se||a[73]!==x||a[74]!==ie||a[75]!==$||a[76]!==U||a[77]!==E||a[78]!==k||a[79]!==De||a[80]!==q||a[81]!==ee||a[82]!==F||a[83]!==W||a[84]!==O?($e=(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE),V)?ie?De:Se:p.jsxs(r("MWMessageListMediaPressableContainer.react"),{allowClickEventPropagation:!0,attachment:i,disabled:O==null,mediaRenderQpl:E,onHoverIn:function(){return q()},onPress:function(){if(F(v),W({attachment:i,mediaRenderQpl:E,message:xe},b),h.onReady(function(e){return r("promiseDone")(e.log(w,k.messageId,k.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,A))}),x){var e=$?"media_collection_replied_open":"media_collection_open";U==null||U({eventName:e})}},testid:void 0,xstyle:ee,children:[x?O==null?p.jsx(r("IGDSGlimmer.react"),{index:o("Random").intBetween(1,10),xstyle:y.glimmer}):p.jsx(r("FDSImageCover.react"),{alt:fe,src:O}):Se,(u||(u=o("I64"))).le(k.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL))?p.jsx(r("MWV2AttachmentProgressBar.react"),{attachment:i}):null]}),a[66]=A,a[67]=i,a[68]=xe,a[69]=V,a[70]=w,a[71]=fe,a[72]=Se,a[73]=x,a[74]=ie,a[75]=$,a[76]=U,a[77]=E,a[78]=k,a[79]=De,a[80]=q,a[81]=ee,a[82]=F,a[83]=W,a[84]=O,a[85]=$e):$e=a[85],$e}function b(){}function v(){return!0}function S(){return p.jsx(r("IGDSGlimmer.react"),{index:o("Random").intBetween(1,10),xstyle:y.glimmer})}S.displayName=S.name+" [from "+i.id+"]";function R(){return p.jsx(r("IGDSGlimmer.react"),{index:o("Random").intBetween(1,10),xstyle:y.glimmer})}R.displayName=R.name+" [from "+i.id+"]",l.default=C}),226);
__d("IGDMessageListVideoPlayButton.react",["BaseImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("span",{className:"x91lo7 x1lliihq xqvfhly x2hswfz x1oxljau x1ok221b x47corl x10l6tqk xyd03xr xzuapc8 x1vjfegm",children:s.jsx(r("BaseImage.react"),{height:45,src:"/images/mercury/clients/igd/playButton.png?__d=www",width:45})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("IGDChatVideo.react",["fbt","CometObjectFitContainer.react","FDSImageCover.react","I64","IGDMediaSizeUtils","IGDMessageListConstantsOffMsys","IGDMessageListVideoPlayButton.react","IGDSGlimmer.react","LSAuthorityLevel","LSIntEnum","MWMessageListMediaPressableContainer.react","MWPActor.react","MWV2AttachmentProgressBar.react","MWXMessageImage.react","MessengerWebUXLogger","Random","promiseDone","react","react-compiler-runtime","requireDeferred","useIGDAttachmentUrl","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d.useEffect,_=r("requireDeferred")("MWLogMessageAction").__setRef("IGDChatVideo.react"),f={glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},incoming_connect_top:{borderStartStartRadius:"xjwep3j",$$css:!0},inGrid:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x5yr21d",$$css:!0},outgoing_connect_top:{borderStartEndRadius:"x1t39747",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"xvbhtw8",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",borderStartEndRadius:"xksyday",borderStartStartRadius:"x1ua1ujl",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(60),a=t.attachment,i=t.connectTop,l=t.inGrid,d=t.isReplyMessage,g=t.maxHeight,v=t.maxWidth,S=t.mediaRenderQpl,R=t.message,L=t.outgoing,E=t.repliedMessage,k=l===void 0?!1:l,I=d===void 0?!1:d,T=g===void 0?o("IGDMessageListConstantsOffMsys").IGD_MEDIA_DEFAULT_MAX_HEIGHT:g,D=v===void 0?o("IGDMessageListConstantsOffMsys").IGD_MEDIA_DEFAULT_MAX_WIDTH:v,x=E===void 0?null:E,$=(e||(e=r("useReStore")))(),P=o("MWPActor.react").useActor(),N;n[0]!==R.authorityLevel?(N=(u||(u=o("I64"))).le(R.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL)),n[0]=R.authorityLevel,n[1]=N):N=n[1];var M=N,w=i?L?f.outgoing_connect_top:f.incoming_connect_top:!1,A=r("useMWV2FocusRowAfterClosingPushView")(),F=o("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(a,!0),O=r("MessengerWebUXLogger").useInteractionLogger(),B=r("useIGDMediaViewerShowDialog.react")(),W=B[0],q=B[1],U=o("IGDMediaSizeUtils").useGetMaxSizeForMedia(D,T),V=U[0],H=U[1],G;n[2]!==a.previewWidth?(G=a.previewWidth!=null?(u||(u=o("I64"))).to_float(a.previewWidth):void 0,n[2]=a.previewWidth,n[3]=G):G=n[3];var z=G,j;n[4]!==a.previewHeight?(j=a.previewHeight!=null?(u||(u=o("I64"))).to_float(a.previewHeight):void 0,n[4]=a.previewHeight,n[5]=j):j=n[5];var K=j,Q=z!=null&&K!=null&&!k?z/K:void 0,X;n[6]===Symbol.for("react.memo_cache_sentinel")?(X=s._(/*BTDS*/"Open Video"),n[6]=X):X=n[6];var Y=X,J=C,Z,ee;n[7]!==S||n[8]!==F?(Z=function(){F!=null&&(S==null||S.addPoint("render-chat-video")),(F==null||F==="")&&(S==null||S.endFailAfterDelay("empty_preview_url"))},ee=[S,F],n[7]=S,n[8]=F,n[9]=Z,n[10]=ee):(Z=n[9],ee=n[10]),p(Z,ee);var te=I&&x!=null?x:R,ne;n[11]===Symbol.for("react.memo_cache_sentinel")?(ne=s._(/*BTDS*/"Expand video"),n[11]=ne):ne=n[11];var re;n[12]!==q?(re=function(){return q()},n[12]=q,n[13]=re):re=n[13];var oe;n[14]!==P||n[15]!==a||n[16]!==te||n[17]!==$||n[18]!==k||n[19]!==I||n[20]!==O||n[21]!==S||n[22]!==R.messageId||n[23]!==R.threadKey||n[24]!==A||n[25]!==W?(oe=function(){if(A(y),W({attachment:a,mediaRenderQpl:S,message:te},h),_.onReady(function(e){return r("promiseDone")(e.log($,R.messageId,R.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,P))}),k){var e=I?"media_collection_replied_open":"media_collection_open";O==null||O({eventName:e})}},n[14]=P,n[15]=a,n[16]=te,n[17]=$,n[18]=k,n[19]=I,n[20]=O,n[21]=S,n[22]=R.messageId,n[23]=R.threadKey,n[24]=A,n[25]=W,n[26]=oe):oe=n[26];var ae=k?f.inGrid:null,ie;n[27]!==w||n[28]!==ae?(ie=[f.root,ae,w],n[27]=w,n[28]=ae,n[29]=ie):ie=n[29];var le;n[30]===Symbol.for("react.memo_cache_sentinel")?(le={className:"x6s0dn4 x1ybostu x78zum5 x5yr21d"},n[30]=le):le=n[30];var se;n[31]!==F?(se=F!=null&&m.jsx(r("IGDMessageListVideoPlayButton.react"),{}),n[31]=F,n[32]=se):se=n[32];var ue;n[33]!==Q||n[34]!==a.previewUrlMimeType||n[35]!==K||n[36]!==k||n[37]!==T||n[38]!==H||n[39]!==D||n[40]!==V||n[41]!==S||n[42]!==F||n[43]!==z?(ue=a.previewUrlMimeType!=null&&a.previewUrlMimeType==="image/jpeg"?k?F==null?J():m.jsx(r("FDSImageCover.react"),{alt:Y,src:F}):m.jsx(r("MWXMessageImage.react"),{alt:Y,height:K,maxHeight:H,maxWidth:V,renderImagePlaceholder:F==null?J:void 0,src:F!=null?F:"",width:z}):m.jsx(b,{aspectRatio:Q,height:k?void 0:Math.min(K!=null?K:Number.MAX_SAFE_INTEGER,T),maxWidth:V,children:m.jsx("video",{"aria-label":Y,height:(K!=null?K:Number.MAX_SAFE_INTEGER)<=T&&Q==null?K:"100%",onLoadedData:function(){S==null||S.endSuccessAfterDelay()},src:F,style:{display:"block",maxHeight:k===!0?void 0:T,maxWidth:k===!0?void 0:D},width:(z!=null?z:Number.MAX_SAFE_INTEGER)<=D&&Q==null?z:"100%",children:m.jsx("track",{kind:"captions"})})}),n[33]=Q,n[34]=a.previewUrlMimeType,n[35]=K,n[36]=k,n[37]=T,n[38]=H,n[39]=D,n[40]=V,n[41]=S,n[42]=F,n[43]=z,n[44]=ue):ue=n[44];var ce;n[45]!==se||n[46]!==ue?(ce=m.jsxs("div",babelHelpers.extends({},le,{children:[se,ue]})),n[45]=se,n[46]=ue,n[47]=ce):ce=n[47];var de;n[48]!==a||n[49]!==M?(de=M?m.jsx(r("MWV2AttachmentProgressBar.react"),{attachment:a}):null,n[48]=a,n[49]=M,n[50]=de):de=n[50];var me;return n[51]!==a||n[52]!==M||n[53]!==S||n[54]!==re||n[55]!==oe||n[56]!==ie||n[57]!==ce||n[58]!==de?(me=m.jsxs(r("MWMessageListMediaPressableContainer.react"),{ariaLabel:ne,attachment:a,disabled:M,mediaRenderQpl:S,onHoverIn:re,onPress:oe,overlayDisabled:!0,testid:void 0,xstyle:ie,children:[ce,de]}),n[51]=a,n[52]=M,n[53]=S,n[54]=re,n[55]=oe,n[56]=ie,n[57]=ce,n[58]=de,n[59]=me):me=n[59],me}function h(){}function y(){return!0}function C(){return m.jsx(r("IGDSGlimmer.react"),{index:o("Random").intBetween(1,10),xstyle:f.glimmer})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t=o("react-compiler-runtime").c(13),n=e.aspectRatio,a=e.children,i=e.height,l=e.maxWidth;if(n!=null&&i!=null){var s=i*n,u;t[0]!==l?(u={maxWidth:l},t[0]=l,t[1]=u):u=t[1];var c;t[2]!==s?(c={maxWidth:"100%",width:s},t[2]=s,t[3]=c):c=t[3];var d;t[4]!==n||t[5]!==a?(d=m.jsx(r("CometObjectFitContainer.react"),{contentAspectRatio:n,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:a}),t[4]=n,t[5]=a,t[6]=d):d=t[6];var p;t[7]!==c||t[8]!==d?(p=m.jsx("div",{style:c,children:d}),t[7]=c,t[8]=d,t[9]=p):p=t[9];var _;return t[10]!==u||t[11]!==p?(_=m.jsx("div",{style:u,children:p}),t[10]=u,t[11]=p,t[12]=_):_=t[12],_}return a}l.default=g}),226);
__d("IGDMediaGrid.react",["CometPhotoGrid.react","IGDMessageListConstantsOffMsys","IGDSBox.react","MWXMessageBubbleCornerStyles.react","PolarisUA","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.Fragment,c={root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(18),n=e.attachments,a=e.connectBottom,i=e.connectTop,l=e.isReply,d=e.logImpressionEventRef,m=e.onRenderMedia,p=e.outgoing,_=a===void 0?!1:a,f=l===void 0?!1:l,g=p===!0?"right":"left",h;t[0]!==_||t[1]!==i||t[2]!==g?(h=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g,connectBottom:_,connectTop:i,flatten:"none"}),t[0]=_,t[1]=i,t[2]=g,t[3]=h):h=t[3];var y=h,C=r("useIsChatTabsDisplay")(),b=o("PolarisUA").isMobile()||C?o("IGDMessageListConstantsOffMsys").IGD_MEDIA_GRID_HALF_WIDTH:o("IGDMessageListConstantsOffMsys").IGD_MEDIA_GRID_FULL_WIDTH,v=f?b/2:b,S;t[4]!==y?(S=[c.root,y],t[4]=y,t[5]=S):S=t[5];var R;if(t[6]!==n||t[7]!==m){var L;t[9]!==m?(L=function(t){return s.jsx(u,{children:m(t)},t.attachmentFbid)},t[9]=m,t[10]=L):L=t[10],R=n.map(L),t[6]=n,t[7]=m,t[8]=R}else R=t[8];var E;t[11]!==R?(E=s.jsx(r("CometPhotoGrid.react"),{children:R}),t[11]=R,t[12]=E):E=t[12];var k;return t[13]!==d||t[14]!==v||t[15]!==S||t[16]!==E?(k=s.jsx(r("IGDSBox.react"),{containerRef:d,width:v,xstyle:S,children:E}),t[13]=d,t[14]=v,t[15]=S,t[16]=E,t[17]=k):k=t[17],k}l.default=d}),98);
__d("IGDMessageBubbleSelector.react",["cr:4342","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));l.default=n("cr:4342")}),98);
__d("IGDMessageContainerWithHighlightBar.react",["IGDSBox.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={container_incoming:{paddingInlineStart:"x1g0dm76",$$css:!0},container_outgoing:{paddingInlineEnd:"xpdmqnj",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.outgoing,i=a?u.container_outgoing:u.container_incoming,l;t[0]!==a?(l=!a&&s.jsx("div",{className:"x19g9edo xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x5yr21d x10l6tqk x13vifvy x51ohtg x1o0tod"}),t[0]=a,t[1]=l):l=t[1];var c;t[2]!==a?(c=a&&s.jsx("div",{className:"x19g9edo xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x5yr21d x10l6tqk x13vifvy x51ohtg xtijo5x"}),t[2]=a,t[3]=c):c=t[3];var d;return t[4]!==n||t[5]!==i||t[6]!==l||t[7]!==c?(d=s.jsxs(r("IGDSBox.react"),{position:"relative",xstyle:i,children:[l,n,c]}),t[4]=n,t[5]=i,t[6]=l,t[7]=c,t[8]=d):d=t[8],d}l.default=c}),98);
__d("IGDMessageContentNoLongerAvailablePlaceholder.react",["fbt","IGDSText.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(7),n=e.message;r("vulture")("9-BHyfDUopTJGb0trqkAjSeNuYs=");var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x78zum5 xdt5ytf xl56j7k x21xpn4"},t[0]=a):a=t[0];var i;t[1]!==n?(i=n!=null&&u.jsx("div",{className:"x1kpxq89 x1nn3v0j x1120s5i",children:n.replySnippet!=null&&n.replySnippet!==""&&u.jsx(r("IGDSText.react"),{size:"footnote",children:n.replySnippet})}),t[1]=n,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x1kpxq89 x1nn3v0j x1120s5i"},t[3]=l):l=t[3];var c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx("div",babelHelpers.extends({},l,{children:u.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:s._(/*BTDS*/"No longer available")})})),t[4]=c):c=t[4];var d;return t[5]!==i?(d=u.jsxs("div",babelHelpers.extends({},a,{children:[i,c]})),t[5]=i,t[6]=d):d=t[6],d}l.default=c}),226);
__d("IGDMsysMusicStickerConstants",[],(function(t,n,r,o,a,i){"use strict";var e=.82,l=245,s=160,u=156,c=16,d=85,m=42,p="LICENSED_MUSIC_";i.MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO=e,i.MUSIC_STICKER_WIDTH=l,i.MUSIC_ALBUM_SIZE=s,i.VINYL_SIZE=u,i.PLAY_PAUSE_BUTTON_SIZE=c,i.VINYL_ALBUM_SIZE=d,i.PNG_PADDING_OFFSET=m,i.TRACKING_TOKEN_PREFIX=p}),66);
__d("IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25670230215898089"}),null);
__d("IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery.graphql",["IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"params"}],t=[{kind:"Variable",name:"params",variableName:"params"}],r={alias:null,args:null,concreteType:"XFBGraphGLConsumableMusicItemAvailabilityInfo",kind:"LinkedField",name:"availability_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_available_for_consumption",storageKey:null}],storageKey:null},o=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery",selections:[{alias:null,args:t,concreteType:"MusicConsumptionResponse",kind:"LinkedField",name:"music_consumption",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[r],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery",selections:[{alias:null,args:t,concreteType:"MusicConsumptionResponse",kind:"LinkedField",name:"music_consumption",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{kind:"InlineFragment",selections:o,type:"CustomAudioAsset",abstractKey:null},{kind:"InlineFragment",selections:o,type:"MusicSong",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery_instagramRelayOperation"),metadata:{},name:"IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("IGDMsysMusicStickerPlayPauseButton.react",["fbt","IGDMsysMusicStickerConstants","IGDSBox.react","IGDSPlayPanoFilledIcon.react","IGDSWebPauseFilledIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={iconShadow:{filter:"x1eimgdo",$$css:!0},topOverlay:{background:"xvgn5wp",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(2),n=e.isPlaying,a;return t[0]!==n?(a=u.jsx(r("IGDSBox.react"),{height:40,position:"absolute",width:o("IGDMsysMusicStickerConstants").MUSIC_ALBUM_SIZE,xstyle:c.topOverlay,children:u.jsx(r("IGDSBox.react"),{margin:3,children:u.jsx(r("IGDSBox.react"),{xstyle:c.iconShadow,children:n?u.jsx(r("IGDSWebPauseFilledIcon.react"),{alt:s._(/*BTDS*/"Pause button"),color:"web-always-white",size:o("IGDMsysMusicStickerConstants").PLAY_PAUSE_BUTTON_SIZE}):u.jsx(r("IGDSPlayPanoFilledIcon.react"),{alt:s._(/*BTDS*/"Play button"),color:"web-always-white",size:o("IGDMsysMusicStickerConstants").PLAY_PAUSE_BUTTON_SIZE})})})}),t[0]=n,t[1]=a):a=t[1],a}l.default=d}),226);
__d("IGDMsysMusicStickerText.react",["fbt","CometPressable.react","IGDMsysMusicStickerConstants","IGDSBox.react","IGDSTextVariants.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisUA","react","react-compiler-runtime","useIGDSToaster","useIsChatTabsDisplay","usePolarisShowToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={overlay:{background:"x1ooqjeo",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(24),n=e.attributionLink,a=e.isPreview,i=e.subtitle,l=e.title,d=a===void 0?!1:a,m=r("usePolarisShowToast")(),p=r("useIGDSToaster")(),_;t[0]!==n?(_=n!=null?{url:n}:void 0,t[0]=n,t[1]=_):_=t[1];var f=_,g;t[2]!==i?(g=s._(/*BTDS*/"Profile page of {name}",[s._param("name",i)]),t[2]=i,t[3]=g):g=t[3];var h=g,y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C=r("MessengerWebUXLogger").useInteractionLogger(),b;t[4]!==f||t[5]!==y||t[6]!==C||t[7]!==m||t[8]!==p?(b=function(){if(f==null){var e=s._(/*BTDS*/"No profile has been linked to this artist.");o("PolarisUA").isMobile()?p.add({message:e}):m({text:e})}C==null||C({eventName:"music_sticker_attribution_link_click",flowInstanceId:y})},t[4]=f,t[5]=y,t[6]=C,t[7]=m,t[8]=p,t[9]=b):b=t[9];var v=b,S;t[10]!==i?(S=u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"webAlwaysWhite",maxLines:1,children:i}),t[10]=i,t[11]=S):S=t[11];var R=S,L=r("useIsChatTabsDisplay")(),E=L||o("PolarisUA").isMobile()?o("IGDMsysMusicStickerConstants").MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO:1,k=o("IGDMsysMusicStickerConstants").MUSIC_ALBUM_SIZE*E,I;t[12]!==l?(I=u.jsx(r("IGDSBox.react"),{marginBottom:2,children:u.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"webAlwaysWhite",maxLines:1,children:l})}),t[12]=l,t[13]=I):I=t[13];var T;t[14]!==h||t[15]!==f||t[16]!==v||t[17]!==d||t[18]!==R?(T=u.jsx(r("IGDSBox.react"),{marginBottom:1,children:d?R:u.jsx(r("CometPressable.react"),{"aria-label":h,linkProps:f,onPress:v,overlayDisabled:!0,children:R})}),t[14]=h,t[15]=f,t[16]=v,t[17]=d,t[18]=R,t[19]=T):T=t[19];var D;return t[20]!==k||t[21]!==I||t[22]!==T?(D=u.jsxs(r("IGDSBox.react"),{bottom:!0,padding:3,position:"absolute",width:k,xstyle:c.overlay,children:[I,T]}),t[20]=k,t[21]=I,t[22]=T,t[23]=D):D=t[23],D}l.default=d}),226);
__d("IGDMsysMusicStickerVinyl.react",["CometImage.react","IGDMsysMusicStickerConstants","IGDSBox.react","PolarisUA","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={centerPreviewImage:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",position:"x10l6tqk",$$css:!0},vinylContainerOffsetInbox:{marginInlineStart:"x15myx19",$$css:!0},vinylContainerOffsetSmallScreen:{marginInlineStart:"x7r4r73",$$css:!0},vinylRotation:{animationDuration:"x18ebdri",animationIterationCount:"xa4qsjk",animationName:"x1ka1v4i",animationPlayState:"xorstpt",animationTimingFunction:"x1esw782",$$css:!0},vinylRotationPlaying:{animationPlayState:"xoj058f",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(15),n=e.isPlaying,a=e.previewUrl,i=r("useIsChatTabsDisplay")(),l=i||o("PolarisUA").isMobile(),c=i||o("PolarisUA").isMobile()?o("IGDMsysMusicStickerConstants").MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO:1,d=o("IGDMsysMusicStickerConstants").VINYL_SIZE*c,m=o("IGDMsysMusicStickerConstants").VINYL_ALBUM_SIZE*c,p=(o("IGDMsysMusicStickerConstants").VINYL_SIZE+o("IGDMsysMusicStickerConstants").PNG_PADDING_OFFSET)*c,_=l?u.vinylContainerOffsetSmallScreen:u.vinylContainerOffsetInbox,f=n&&u.vinylRotationPlaying,g;t[0]!==f?(g=[u.vinylRotation,f],t[0]=f,t[1]=g):g=t[1];var h;t[2]!==a||t[3]!==m?(h=a?s.jsx(r("CometImage.react"),{src:a,width:m,xstyle:u.centerPreviewImage}):s.jsx(r("IGDSBox.react"),{color:"highlightBackground",height:m,width:m,xstyle:u.centerPreviewImage}),t[2]=a,t[3]=m,t[4]=h):h=t[4];var y;t[5]!==p?(y=s.jsx(r("CometImage.react"),{height:p,src:"/images/instagram/music/music_sticker_vinyl.png",width:p}),t[5]=p,t[6]=y):y=t[6];var C;t[7]!==d||t[8]!==g||t[9]!==h||t[10]!==y?(C=s.jsxs(r("IGDSBox.react"),{alignItems:"center",height:d,justifyContent:"center",width:d,xstyle:g,children:[h,y]}),t[7]=d,t[8]=g,t[9]=h,t[10]=y,t[11]=C):C=t[11];var b;return t[12]!==_||t[13]!==C?(b=s.jsx(r("IGDSBox.react"),{overflow:"hidden",xstyle:_,children:C}),t[12]=_,t[13]=C,t[14]=b):b=t[14],b}l.default=c}),98);
__d("IGDMusicAttributionUtils",[],(function(t,n,r,o,a,i){"use strict";var e="https://www.instagram.com/_u";function l(t){return t==null?null:t.startsWith(e)?t.slice(e.length):null}i.getAttributionInternalLink=l}),66);
__d("IGDMsysMusicStickerStaticContent.react",["fbt","CometImage.react","IGDMsysMusicStickerPlayPauseButton.react","IGDMsysMusicStickerText.react","IGDMsysMusicStickerVinyl.react","IGDMusicAttributionUtils","IGDSBox.react","react","react-compiler-runtime","useIGDAttachmentUrl"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={albumContainer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"x17zj1j9",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1vjfegm",$$css:!0},previewImage:{height:"x5yr21d",width:"xh8yej3",$$css:!0},previewOverlay:{backgroundColor:"xvpkvqh",height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0}};function d(e){var t,n=o("react-compiler-runtime").c(32),a=e.attachment,i=e.attachmentCTA,l=e.containerRef,d=e.isPlaying,m=e.isPreview,p=e.responsiveAlbumSize,_=e.responsiveStickerWidth,f=d===void 0?!1:d,g=m===void 0?!1:m,h=(t=o("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(a))!=null?t:"",y=i==null?void 0:i.nativeUrl,C;n[0]!==y?(C=o("IGDMusicAttributionUtils").getAttributionInternalLink(y),n[0]=y,n[1]=C):C=n[1];var b=C,v;if(n[2]!==a.titleText){var S;v=(S=a.titleText)!=null?S:s._(/*BTDS*/"Song Title"),n[2]=a.titleText,n[3]=v}else v=n[3];var R=v,L;if(n[4]!==a.subtitleText){var E;L=(E=a.subtitleText)!=null?E:s._(/*BTDS*/"Artist Name"),n[4]=a.subtitleText,n[5]=L}else L=n[5];var k=L,I;n[6]!==f?(I=u.jsx(r("IGDMsysMusicStickerPlayPauseButton.react"),{isPlaying:f}),n[6]=f,n[7]=I):I=n[7];var T;n[8]!==h?(T=h?u.jsx(r("CometImage.react"),{src:h,xstyle:c.previewImage}):u.jsx(r("IGDSBox.react"),{color:"highlightBackground",xstyle:c.previewImage}),n[8]=h,n[9]=T):T=n[9];var D;n[10]!==b||n[11]!==g||n[12]!==k||n[13]!==R?(D=u.jsx(r("IGDMsysMusicStickerText.react"),{attributionLink:b,isPreview:g,subtitle:k,title:R}),n[10]=b,n[11]=g,n[12]=k,n[13]=R,n[14]=D):D=n[14];var x;n[15]!==p||n[16]!==I||n[17]!==T||n[18]!==D?(x=u.jsxs(r("IGDSBox.react"),{height:p,position:"relative",width:p,xstyle:c.albumContainer,children:[I,T,D]}),n[15]=p,n[16]=I,n[17]=T,n[18]=D,n[19]=x):x=n[19];var $;n[20]!==f||n[21]!==h?($=u.jsx(r("IGDMsysMusicStickerVinyl.react"),{isPlaying:f,previewUrl:h}),n[20]=f,n[21]=h,n[22]=$):$=n[22];var P;n[23]!==g?(P=g&&u.jsx(r("IGDSBox.react"),{xstyle:c.previewOverlay}),n[23]=g,n[24]=P):P=n[24];var N;return n[25]!==l||n[26]!==p||n[27]!==_||n[28]!==x||n[29]!==$||n[30]!==P?(N=u.jsxs(r("IGDSBox.react"),{alignItems:"center",containerRef:l,direction:"row",height:p,width:_,children:[x,$,P]}),n[25]=l,n[26]=p,n[27]=_,n[28]=x,n[29]=$,n[30]=P,n[31]=N):N=n[31],N}l.default=d}),226);
__d("IGDMusicStickerAudioStateManager.react",["react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.use,m=u.useEffect,p=c.createContext();function _(){return r("useStable")(f)}function f(){var e=new Set;return{pauseOtherMusicStickers:function(n){e.forEach(function(e){if(e.messageId!==n){var t=e.controller.getCurrentState();t.paused||e.controller.pause("audio_manager_initiated")}})},registerMusicSticker:function(n,r){var t={controller:r,messageId:n};return e.add(t),function(){e.delete(t)}}}}function g(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=_(),a;return t[0]!==n||t[1]!==r?(a=c.jsx(p.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function h(){return d(p)}function y(e,t){var n=o("react-compiler-runtime").c(5),r=h(),a,i;n[0]!==t||n[1]!==e||n[2]!==r?(a=function(){if(!(e==null||t==null||r==null)){var n=r.registerMusicSticker(e,t);return(function(){n()})}},i=[e,t,r],n[0]=t,n[1]=e,n[2]=r,n[3]=a,n[4]=i):(a=n[3],i=n[4]),m(a,i)}l.IGDMusicStickerAudioStateContext=p,l.useIGDMusicStickerAudioStateManagerDefinition=_,l.IGDMusicStickerAudioStateManagerProvider=g,l.useIGDMusicStickerAudioStateManager=h,l.useIGDMusicStickerRegisterInAudioStateManager=y}),98);
__d("IGDMsysMusicStickerContentWithVideoPlayerController.react",["fbt","CometPressable.react","CometRelay","IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery.graphql","IGDMsysMusicStickerStaticContent.react","IGDMusicStickerAudioStateManager.react","IGDThreadListNewMessageLoggingDataContext","IGDVisibilityPinContext","MessengerWebUXLogger","PolarisConfig","PolarisUA","VideoPlayerHooks","react","react-compiler-runtime","useIGDSToaster","usePolarisShowToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react"));function m(t){var a,i=o("react-compiler-runtime").c(24),l=t.attachment,u=t.attachmentCTA,m=t.audioAssetId,p=t.mediaContentId,_=t.responsiveAlbumSize,f=t.responsiveStickerWidth,g=[String(o("PolarisConfig").getCountryCode())],h=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("IGDMsysMusicStickerContentWithVideoPlayerControllerConsumptionQuery.graphql"),{params:{context:{user_countries:g},media:[{media_id:m}],product:"IG_DIRECT_MUSIC_STICKER"}}),y=(h==null||(a=h.music_consumption)==null||(a=a.items)==null||(a=a[0])==null||(a=a.availability_info)==null?void 0:a.is_available_for_consumption)===!0,C=(c||(c=o("VideoPlayerHooks"))).useController(),b=c.usePlaying(),v=o("IGDMusicStickerAudioStateManager.react").useIGDMusicStickerAudioStateManager(),S=l.attachmentFbid;o("IGDMusicStickerAudioStateManager.react").useIGDMusicStickerRegisterInAudioStateManager(S,C);var R=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),L=r("MessengerWebUXLogger").useInteractionLogger(),E;i[0]!==R?(E={eventName:"music_sticker_rendered",flowInstanceId:R},i[0]=R,i[1]=E):E=i[1];var k=r("MessengerWebUXLogger").useImpressionLoggerRef(E),I=r("usePolarisShowToast")(),T=r("useIGDSToaster")(),D=o("IGDVisibilityPinContext").useIGDSetMessageVisibilityPin(),x;i[2]!==v||i[3]!==C||i[4]!==R||i[5]!==y||i[6]!==b||i[7]!==L||i[8]!==p||i[9]!==S||i[10]!==D||i[11]!==I||i[12]!==T?(x=function(){if(!b&&!y){var e=s._(/*BTDS*/"Cannot play music due to copyright restrictions.");o("PolarisUA").isMobile()?T.add({message:e}):I({text:e});return}D(!b),b?(C.pause("user_initiated"),L==null||L({eventName:"music_sticker_pause",flowInstanceId:R})):(v&&v.pauseOtherMusicStickers(S),C.setMuted(!1,"product_initiated"),C.play("user_initiated"),L==null||L({eventName:"music_sticker_play",extraData:{mediaContentId:p},flowInstanceId:R}))},i[2]=v,i[3]=C,i[4]=R,i[5]=y,i[6]=b,i[7]=L,i[8]=p,i[9]=S,i[10]=D,i[11]=I,i[12]=T,i[13]=x):x=i[13];var $=x,P;i[14]!==l||i[15]!==u||i[16]!==b||i[17]!==k||i[18]!==_||i[19]!==f?(P=d.jsx(r("IGDMsysMusicStickerStaticContent.react"),{attachment:l,attachmentCTA:u,containerRef:k,isPlaying:b,responsiveAlbumSize:_,responsiveStickerWidth:f}),i[14]=l,i[15]=u,i[16]=b,i[17]=k,i[18]=_,i[19]=f,i[20]=P):P=i[20];var N=P,M;return i[21]!==$||i[22]!==N?(M=d.jsx(r("CometPressable.react"),{onPress:$,overlayDisabled:!0,children:N}),i[21]=$,i[22]=N,i[23]=M):M=i[23],M}l.default=m}),226);
__d("IGDMsysMusicStickerImpl.react",["CometVideoPlayerLoggingConfigForIGDMusicSticker","I64","IGDMsysMusicStickerConstants","IGDMsysMusicStickerContentWithVideoPlayerController.react","IGDMsysMusicStickerStaticContent.react","IGDSBox.react","PolarisUA","ReQL","ReQLSuspense","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","react","react-compiler-runtime","useIsChatTabsDisplay","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useMemo;function m(t){var n,a=o("react-compiler-runtime").c(37),l=t.attachment,u=t.isPreview,d=u===void 0?!1:u,m=(e||(e=r("useReStore")))(),p;a[0]!==l.loggingGenericXmaContentIdV2?(p=l.loggingGenericXmaContentIdV2?(s||(s=o("I64"))).to_string(l.loggingGenericXmaContentIdV2):"",a[0]=l.loggingGenericXmaContentIdV2,a[1]=p):p=a[1];var _=p,f=l.defaultCtaId,g,h;a[2]!==f||a[3]!==m.tables.attachment_ctas?(g=function(){return f!=null?o("ReQL").fromTableAscending(m.tables.attachment_ctas).getKeyRange(f):o("ReQL").empty()},h=[f,m.tables.attachment_ctas],a[2]=f,a[3]=m.tables.attachment_ctas,a[4]=g,a[5]=h):(g=a[4],h=a[5]);var y=o("ReQLSuspense").useFirst(g,h,i.id+":49"),C;a[6]!==y?(C=y!=null&&y.targetId?(s||(s=o("I64"))).to_string(y.targetId):"",a[6]=y,a[7]=C):C=a[7];var b=C,v=r("useIsChatTabsDisplay")(),S=v||o("PolarisUA").isMobile()?o("IGDMsysMusicStickerConstants").MUSIC_STICKER_SMALL_SCREEN_SIZE_RATIO:1,R=o("IGDMsysMusicStickerConstants").MUSIC_ALBUM_SIZE*S,L=o("IGDMsysMusicStickerConstants").MUSIC_STICKER_WIDTH*S,E=(n=l.playableAudioUrl)!=null?n:"",k;e:{if(!E){k=null;break e}var I;a[8]!==E?(I=o("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:E,hdSrcPreferred:!1,sdSrc:E}),a[8]=E,a[9]=I):I=a[9],k=I}var T=k;if(d||!T||T instanceof Error){var D;return a[10]!==l||a[11]!==y||a[12]!==d||a[13]!==R||a[14]!==L?(D=c.jsx(r("IGDMsysMusicStickerStaticContent.react"),{attachment:l,attachmentCTA:y,isPlaying:!1,isPreview:d,responsiveAlbumSize:R,responsiveStickerWidth:L}),a[10]=l,a[11]=y,a[12]=d,a[13]=R,a[14]=L,a[15]=D):D=a[15],D}var x;a[16]!==T?(x=[{Component:r("VideoPlayerProgressiveImplementationV2.react"),data:T,typename:"VideoPlayerProgressiveImplementation"}],a[16]=T,a[17]=x):x=a[17];var $;a[18]===Symbol.for("react.memo_cache_sentinel")?($=o("CometVideoPlayerLoggingConfigForIGDMusicSticker").createCometVideoPlayerLoggingConfigForIGDMusicSticker(),a[18]=$):$=a[18];var P;a[19]!==_?(P={audio_derived_content_id:_,encrypted_logging_policy:"encrypted_only",persistent_id:_,tracking_token:o("IGDMsysMusicStickerConstants").TRACKING_TOKEN_PREFIX,tracking_type:"organic"},a[19]=_,a[20]=P):P=a[20];var N;a[21]!==l||a[22]!==y||a[23]!==b||a[24]!==_||a[25]!==R||a[26]!==L?(N=c.jsx(r("VideoPlayerSurface.react"),{children:c.jsx(r("IGDMsysMusicStickerContentWithVideoPlayerController.react"),{attachment:l,attachmentCTA:y,audioAssetId:b,mediaContentId:_,responsiveAlbumSize:R,responsiveStickerWidth:L})}),a[21]=l,a[22]=y,a[23]=b,a[24]=_,a[25]=R,a[26]=L,a[27]=N):N=a[27];var M;a[28]!==b||a[29]!==N||a[30]!==x||a[31]!==P?(M=c.jsx(r("VideoPlayerX.react"),{canAutoplay:"deny",doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn:!0,implementations:x,loggingConfig:$,loggingToSNAPLAdditionalData:P,portalingEnabled:!1,subOrigin:"igd_web_music_sticker",videoFBID:b,children:N}),a[28]=b,a[29]=N,a[30]=x,a[31]=P,a[32]=M):M=a[32];var w=M,A;return a[33]!==w||a[34]!==R||a[35]!==L?(A=c.jsx(r("IGDSBox.react"),{height:R,overflow:"hidden",width:L,children:w}),a[33]=w,a[34]=R,a[35]=L,a[36]=A):A=a[36],A}l.default=m}),98);
__d("IGDXMAAttachmentContainer.react",["IGDMessageContainerWithHighlightBar.react","IGDThreadListNewMessageLoggingDataContext","MWXMessageBubbleCornerStyles.react","MessengerWebUXLogger","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(15),a=t.children,i=t.connectBottom,l=t.connectTop,s=t.outgoing,d=t.withHighlightBar,m=t.xstyle,p=d===void 0?!1:d,_=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),f;n[0]===Symbol.for("react.memo_cache_sentinel")?(f={},n[0]=f):f=n[0];var g;n[1]!==_?(g={eventName:"igd_previews_xma_rendered",extraData:f,flowInstanceId:_},n[1]=_,n[2]=g):g=n[2];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g),y;if(n[3]!==i||n[4]!==l||n[5]!==s||n[6]!==m){var C=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:s?"right":"left",connectBottom:i,connectTop:l});y=(e||(e=r("stylex"))).props(c.root,C,m),n[3]=i,n[4]=l,n[5]=s,n[6]=m,n[7]=y}else y=n[7];var b;n[8]!==a||n[9]!==h||n[10]!==y?(b=u.jsx("div",babelHelpers.extends({},y,{ref:h,children:a})),n[8]=a,n[9]=h,n[10]=y,n[11]=b):b=n[11];var v=b;if(p){var S;return n[12]!==v||n[13]!==s?(S=u.jsx(r("IGDMessageContainerWithHighlightBar.react"),{outgoing:s,children:v}),n[12]=v,n[13]=s,n[14]=S):S=n[14],S}else return v}l.default=d}),98);
__d("IGDXMAAttachmentItemLink.react",["fbt","MWPActor.react","PolarisFastLink.react","PolarisNavigationActions","PolarisReactRedux.react","isRelativeURL","promiseDone","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("requireDeferred")("MWLogMessageAction").__setRef("IGDXMAAttachmentItemLink.react");function m(t){var n=o("react-compiler-runtime").c(18),a=t.attachmentItem,i=t.children,l=t.href,u=t.logOnClick,m=t.xstyle,p=(e||(e=r("useReStore")))(),_=o("MWPActor.react").useActor(),f=o("PolarisReactRedux.react").useDispatch(),g=a.titleText,h;n[0]!==l?(h=r("isRelativeURL")(l),n[0]=l,n[1]=h):h=n[1];var y=h,C;n[2]!==_||n[3]!==a.messageId||n[4]!==a.threadKey||n[5]!==p||n[6]!==f||n[7]!==u||n[8]!==y?(C=function(){y&&f(o("PolarisNavigationActions").trackEntrypoint()),d.onReady(function(e){return r("promiseDone")(e.log(p,a.messageId,a.threadKey,"direct_click","view_xma",void 0,void 0,void 0,void 0,void 0,_))}),u()},n[2]=_,n[3]=a.messageId,n[4]=a.threadKey,n[5]=p,n[6]=f,n[7]=u,n[8]=y,n[9]=C):C=n[9];var b=C,v;n[10]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"Preview"),n[10]=v):v=n[10];var S=v,R=g!=null?g:S,L=y?"_self":"_blank",E;return n[11]!==i||n[12]!==l||n[13]!==b||n[14]!==R||n[15]!==L||n[16]!==m?(E=c.jsx(r("PolarisFastLink.react"),{"aria-label":R,href:l,onClick:b,target:L,xstyle:m,children:i}),n[11]=i,n[12]=l,n[13]=b,n[14]=R,n[15]=L,n[16]=m,n[17]=E):E=n[17],E}l.default=m}),226);
__d("IGDXMAAttachmentItemNonLink.react",["MWPActor.react","promiseDone","react","react-compiler-runtime","requireDeferred","stylex","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=r("requireDeferred")("MWLogMessageAction").__setRef("IGDXMAAttachmentItemNonLink.react");function m(t){var n=o("react-compiler-runtime").c(10),a=t.attachmentItem,i=t.children,l=t.xstyle,u=(e||(e=r("useReStore")))(),m=o("MWPActor.react").useActor(),p;n[0]!==l?(p=(s||(s=r("stylex"))).props(l),n[0]=l,n[1]=p):p=n[1];var _;n[2]!==m||n[3]!==a||n[4]!==u?(_=function(t){d.onReady(function(e){return r("promiseDone")(e.log(u,a.messageId,a.threadKey,"direct_click","view_xma",void 0,void 0,void 0,void 0,void 0,m))})},n[2]=m,n[3]=a,n[4]=u,n[5]=_):_=n[5];var f;return n[6]!==i||n[7]!==p||n[8]!==_?(f=c.jsx("div",babelHelpers.extends({},p,{onClick:_,role:"none",children:i})),n[6]=i,n[7]=p,n[8]=_,n[9]=f):f=n[9],f}l.default=m}),98);
__d("IGDXMAAttachmentItemUtil",["I64","LSIntEnum","MNXMAPreviewImageDecorationType","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){var t=o("react-compiler-runtime").c(4),n=(u||(u=r("useReStore")))(),a,l;return t[0]!==e||t[1]!==n?(a=function(){return e!=null?o("ReQL").fromTableAscending(n.tables.attachment_ctas).getKeyRange(e):o("ReQL").empty()},l=[n,e],t[0]=e,t[1]=n,t[2]=a,t[3]=l):(a=t[2],l=t[3]),o("ReQLSuspense").useFirst(a,l,i.id+":24")}function d(t){var n,a=(n=t.previewImageDecorationType)!=null?n:(e||(e=o("I64"))).zero,i=(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").REEL))||(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))||(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").LIVE)),l=(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").REEL))||(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").LIVE));return[i,l]}l.useGetAttachmentCta=c,l.getIsOverlayHeaderInternal=d}),98);
__d("generateIGDXMAMediaData",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{carousel_share_child_media_id:"",client_context:"",code:t,id:e,media_type:1,organic_tracking_token:"",original_height:1,original_width:1,preview:"",taken_at:0,upcoming_event:null,user:""}}i.default=e}),66);
__d("IGDXMAPostModal.react",["CometPlaceholder.react","I64","IGDRouteProvider.react","IGDThreadlineContext","PolarisUA","deferredLoadComponent","emptyFunction","generateIGDXMAMediaData","gkx","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext,p=c.useState,_=r("deferredLoadComponent")(r("requireDeferred")("PolarisDirectMessagePostModal.react").__setRef("IGDXMAPostModal.react"));function f(e){var t=o("react-compiler-runtime").c(21),n=e.children,a=e.isReel,i=e.loadThreadlineQueries,l=e.logOnClick,c=e.messageId,d=e.shortCode,f=e.targetId,g=e.timestamp,h=a===void 0?!1:a,y;t[0]===Symbol.for("react.memo_cache_sentinel")?(y=o("PolarisUA").isMobile()&&r("gkx")("7121"),t[0]=y):y=t[0];var C=y,b=o("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),v=m(o("IGDThreadlineContext").ThreadlineShouldShowContext),S=v.setShouldShowThreadline,R=m(o("IGDThreadlineContext").ThreadlineReelTimestampContext),L=R.setReelTimestamp,E=p(!1),k=E[0],I=E[1],T;t[1]!==h||t[2]!==i||t[3]!==l||t[4]!==c||t[5]!==L||t[6]!==S||t[7]!==b||t[8]!==g?(T=function(){if(C&&h){var e=g;e!=null&&(e=e+1),c!=null&&e!=null&&(i==null||i.loadChatReels==null||i.loadChatReels({reel_message_id:c,thread_fbid:b!=null?b:"",timestamp_ms:e})),i==null||i.loadSuggestedReels==null||i.loadSuggestedReels({},{fetchPolicy:"network-only"}),L(e),S(!0)}else I(!0);l()},t[1]=h,t[2]=i,t[3]=l,t[4]=c,t[5]=L,t[6]=S,t[7]=b,t[8]=g,t[9]=T):T=t[9];var D=T,x;t[10]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x1277o0a"},t[10]=x):x=t[10];var $;t[11]!==n||t[12]!==D?($=u.jsx("div",babelHelpers.extends({},x,{onClick:D,role:"none",children:n})),t[11]=n,t[12]=D,t[13]=$):$=t[13];var P;t[14]!==d||t[15]!==k||t[16]!==f?(P=k?u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"IGDXMAPostModal",children:u.jsx(_,{media:r("generateIGDXMAMediaData")((s||(s=o("I64"))).to_string(f),d),modalEntryPath:"/direct/t",onClose:function(){return I(!1)},onOpen:r("emptyFunction")})}):null,t[14]=d,t[15]=k,t[16]=f,t[17]=P):P=t[17];var N;return t[18]!==$||t[19]!==P?(N=u.jsxs(u.Fragment,{children:[$,P]}),t[18]=$,t[19]=P,t[20]=N):N=t[20],N}l.default=f}),98);
__d("getInstagramRelativeUrl",[],(function(t,n,r,o,a,i){"use strict";function e(e){if(e==null)return"";var t=e.getPath()||"",n=e.getQueryString()||"";return t!==""?t+"?"+n:""}i.default=e}),66);
__d("IGDXMAUtils",["ConstUriUtils","I64","LSIntEnum","MNLSXMALayoutType","getInstagramRelativeUrl","isInstagramURI","isLinkshimURI"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return t!=null&&t.xmaLayoutType!=null?(e||(e=o("I64"))).equal(t.xmaLayoutType,(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1}function c(e,t,n){var a=n==="xma_montage_share";if(a)return e;var i=n==="xma_open_native"&&t!=null?t:e,l=o("ConstUriUtils").getUri(i);return l==null||r("isLinkshimURI")(l)?i:r("isInstagramURI")(l)?r("getInstagramRelativeUrl")(l):e}l.checkIsXMAExpired=u,l.getAttachmentHref=c}),98);
__d("getIGDShortCodeFromMediaDeeplinkUrl",["ConstUriUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return null;var t=o("ConstUriUtils").getUri(e),n=t==null?void 0:t.getQueryParam("shortcode");if(n!=null)return typeof n=="string"?n:JSON.stringify(n);var r,a=t==null||(r=t.stripTrailingSlash())==null?void 0:r.getPath().split("/");return a!=null&&a.length>1?a[a.length-1]:null}l.default=e}),98);
__d("isCTAHrefValid",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.startsWith("http")||e.startsWith("/")}i.default=e}),66);
__d("IGDXMAAttachmentItemPressable.react",["IGDThreadListNewMessageLoggingDataContext","IGDXMAAttachmentItemLink.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","IGDXMAAttachmentUtil","IGDXMAPostModal.react","IGDXMAUtils","MessengerWebUXLogger","PolarisFastLink.react","PolarisLinkBuilder","PolarisUA","getIGDShortCodeFromMediaDeeplinkUrl","gkx","isCTAHrefValid","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=o("react-compiler-runtime").c(38),n=e.attachmentItem,a=e.children,i=e.isPrivatePost,l=e.isReel,u=e.isReply,c=e.isXMAExpired,d=e.loadThreadlineQueries,m=e.timestamp,p=e.xstyle,_=i===void 0?!1:i,f=u===void 0?!1:u,g=c===void 0?!1:c,h=o("IGDXMAAttachmentItemUtil").useGetAttachmentCta(n.defaultCtaId),y=o("IGDXMAAttachmentItemUtil").useGetAttachmentCta(n.attachmentCta2Id),C;t[0]!==n.cta1Type||t[1]!==n.cta2Type?(C=o("IGDXMAAttachmentUtil").isXmaPostComment(n.cta1Type,n.cta2Type),t[0]=n.cta1Type,t[1]=n.cta2Type,t[2]=C):C=t[2];var b=C,v=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),S=r("MessengerWebUXLogger").useInteractionLogger(),R;t[3]!==v||t[4]!==S?(R=function(){S==null||S({eventName:"igd_preview_xma_open",extraData:{},flowInstanceId:v})},t[3]=v,t[4]=S,t[5]=R):R=t[5];var L=R;if(b&&y!=null&&y.nativeUrl!=null){var E;return t[6]!==y.nativeUrl||t[7]!==a||t[8]!==L||t[9]!==p?(E=s.jsx(r("PolarisFastLink.react"),{href:y.nativeUrl,onClick:L,target:"_blank",xstyle:p,children:a}),t[6]=y.nativeUrl,t[7]=a,t[8]=L,t[9]=p,t[10]=E):E=t[10],E}if(f||g||h==null||h.actionUrl==null||!r("isCTAHrefValid")(h.actionUrl)){var k;return t[11]!==n||t[12]!==a?(k=s.jsx(r("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:n,children:a}),t[11]=n,t[12]=a,t[13]=k):k=t[13],k}var I=h.actionUrl,T=h.nativeUrl,D=h.targetId,x=h.type_,$;t[14]===Symbol.for("react.memo_cache_sentinel")?($=o("PolarisUA").isMobile()&&r("gkx")("7121"),t[14]=$):$=t[14];var P=$===!0,N;if(t[15]!==n.messageId||t[16]!==a||t[17]!==b||t[18]!==_||t[19]!==l||t[20]!==d||t[21]!==L||t[22]!==T||t[23]!==D||t[24]!==m||t[25]!==x||t[26]!==p){N=Symbol.for("react.early_return_sentinel");e:{var M=r("getIGDShortCodeFromMediaDeeplinkUrl")(T);if(D!=null&&M!=null&&x==="igd_web_post_share")if((!o("PolarisUA").isMobile()||P&&l===!0)&&!_&&!b){N=s.jsx(r("IGDXMAPostModal.react"),{isReel:l,loadThreadlineQueries:d,logOnClick:L,messageId:n.messageId,shortCode:M,targetId:D,timestamp:m,children:a});break e}else{N=s.jsx(r("PolarisFastLink.react"),{href:o("PolarisLinkBuilder").buildMediaLink(M),onClick:L,target:"_self",xstyle:p,children:a});break e}}t[15]=n.messageId,t[16]=a,t[17]=b,t[18]=_,t[19]=l,t[20]=d,t[21]=L,t[22]=T,t[23]=D,t[24]=m,t[25]=x,t[26]=p,t[27]=N}else N=t[27];if(N!==Symbol.for("react.early_return_sentinel"))return N;var w;t[28]!==I||t[29]!==T||t[30]!==x?(w=o("IGDXMAUtils").getAttachmentHref(I,T,x),t[28]=I,t[29]=T,t[30]=x,t[31]=w):w=t[31];var A=w,F;return t[32]!==n||t[33]!==a||t[34]!==A||t[35]!==L||t[36]!==p?(F=s.jsx(r("IGDXMAAttachmentItemLink.react"),{attachmentItem:n,href:A,logOnClick:L,xstyle:p,children:a}),t[32]=n,t[33]=a,t[34]=A,t[35]=L,t[36]=p,t[37]=F):F=t[37],F}l.default=c}),98);
__d("attachmentToAttachmentItem",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{attachmentCta1Id:e.attachmentCta1Id,attachmentCta2Id:e.attachmentCta2Id,attachmentCta3Id:e.attachmentCta3Id,attachmentFbid:e.attachmentFbid,attachmentIndex:e.attachmentIndex,cta1Title:e.cta1Title,cta1Type:e.cta1Type,cta2Title:e.cta2Title,cta2Type:e.cta2Type,cta3Title:e.cta3Title,cta3Type:e.cta3Type,dashManifest:e.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:e.defaultCtaId,defaultCtaTitle:e.defaultCtaTitle,defaultCtaType:e.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:e.faviconUrl,faviconUrlExpirationTimestampMs:e.faviconUrlExpirationTimestampMs,faviconUrlFallback:e.faviconUrlFallback,imageUrl:e.imageUrl,messageId:e.messageId,originalPageSenderId:e.originalPageSenderId,playableUrl:e.playableUrl,playableUrlExpirationTimestampMs:e.playableUrlExpirationTimestampMs,playableUrlFallback:e.playableUrlFallback,playableUrlMimeType:e.playableUrlMimeType,previewHeight:e.previewHeight,previewUrl:e.previewUrl,previewUrlExpirationTimestampMs:e.previewUrlExpirationTimestampMs,previewUrlFallback:e.previewUrlFallback,previewUrlLarge:e.previewUrlLarge,previewUrlMimeType:e.previewUrlMimeType,previewWidth:e.previewWidth,subtitleText:e.subtitleText,threadKey:e.threadKey,titleText:e.titleText}}i.default=e}),66);
__d("IGDXMAAttachmentPlaceholder.react",["IGDSBox.react","IGDSText.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemPressable.react","attachmentToAttachmentItem","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={container:{backgroundColor:"x19g9edo",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},titleWithMarginBottom:{marginBottom:"xyorhqc",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(19),n=e.attachment,a=e.mediaRenderQpl,i=e.outgoing,l,d;t[0]!==n.loggingGenericXmaContentType||t[1]!==a?(l=function(){n.loggingGenericXmaContentType!=null&&(a==null||a.addAnnotations({string:{unsupported_type:n.loggingGenericXmaContentType}})),a==null||a.endSuccessAfterDelay()},d=[n.loggingGenericXmaContentType,a],t[0]=n.loggingGenericXmaContentType,t[1]=a,t[2]=l,t[3]=d):(l=t[2],d=t[3]),u(l,d);var m=r("isStringNullOrEmpty")(n.subtitleText)?r("isStringNullOrEmpty")(n.captionBodyText)?null:n.captionBodyText:n.subtitleText,p;t[4]!==m?(p=m!=null?s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:m}):null,t[4]=m,t[5]=p):p=t[5];var _=p,f;t[6]!==n.titleText||t[7]!==_?(f=r("isStringNullOrEmpty")(n.titleText)?null:s.jsx(r("IGDSBox.react"),{xstyle:_!==null?c.titleWithMarginBottom:void 0,children:s.jsx(r("IGDSText.react"),{size:"body",children:n.titleText})}),t[6]=n.titleText,t[7]=_,t[8]=f):f=t[8];var g=f;if(g!==null||_!==null){var h;t[9]!==n?(h=r("attachmentToAttachmentItem")(n),t[9]=n,t[10]=h):h=t[10];var y;t[11]!==n.threadKey||t[12]!==_||t[13]!==i||t[14]!==g?(y=s.jsxs(r("IGDXMAAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,outgoing:i,threadKey:n.threadKey,xstyle:c.container,children:[g,_]}),t[11]=n.threadKey,t[12]=_,t[13]=i,t[14]=g,t[15]=y):y=t[15];var C;return t[16]!==h||t[17]!==y?(C=s.jsx(r("IGDXMAAttachmentItemPressable.react"),{attachmentItem:h,children:y}),t[16]=h,t[17]=y,t[18]=C):C=t[18],C}return null}l.default=d}),98);
__d("IGDMsysMusicSticker.react",["IGDMsysMusicStickerImpl.react","IGDXMAAttachmentPlaceholder.react","VideoPlayerErrorBoundary.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u="PROGRESSIVE_JAVASCRIPT_NATIVE/MEDIA_ERR_SRC_NOT_SUPPORTED/URL_RESPONSE_HTTP_403";function c(e){var t=o("react-compiler-runtime").c(9),n=e.attachment,a=e.isPreview,i=e.outgoing,l=a===void 0?!1:a,c;t[0]!==n||t[1]!==i?(c=function(t){var e;return t.errorName===u?e=babelHelpers.extends({},n,{subtitleText:"This audio is no longer available.",titleText:"Unavailable"}):e=babelHelpers.extends({},n,{subtitleText:"Something went wrong. Please try again later.",titleText:"Unavailable"}),s.jsx(r("IGDXMAAttachmentPlaceholder.react"),{attachment:e,outgoing:i})},t[0]=n,t[1]=i,t[2]=c):c=t[2];var d=c,m;t[3]!==n||t[4]!==l?(m=s.jsx(r("IGDMsysMusicStickerImpl.react"),{attachment:n,isPreview:l}),t[3]=n,t[4]=l,t[5]=m):m=t[5];var p;return t[6]!==d||t[7]!==m?(p=s.jsx(r("VideoPlayerErrorBoundary.react"),{fallback:d,children:m}),t[6]=d,t[7]=m,t[8]=p):p=t[8],p}l.default=c}),98);
__d("IGDPlaceholderMessageBubble.react",["IGDMessageBubbleSelector.react","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(14),n=e.connectBottom,a=e.connectTop,i=e.outgoing,l=e.subtitle,u=e.title,c=i?"right":"left",d,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xw5ewwj x1y1aw1k xf159sx xwib8y2 xmzvs34"},m={className:"x1e56ztr"},t[0]=d,t[1]=m):(d=t[0],m=t[1]);var p;t[2]!==u?(p=s.jsx("div",babelHelpers.extends({},m,{children:s.jsx(r("IGDSText.react"),{children:u})})),t[2]=u,t[3]=p):p=t[3];var _;t[4]!==l?(_=s.jsx(r("IGDSText.react"),{color:"secondaryText",children:l}),t[4]=l,t[5]=_):_=t[5];var f;t[6]!==p||t[7]!==_?(f=s.jsxs("div",babelHelpers.extends({},d,{children:[p,_]})),t[6]=p,t[7]=_,t[8]=f):f=t[8];var g;return t[9]!==n||t[10]!==a||t[11]!==c||t[12]!==f?(g=s.jsx(r("IGDMessageBubbleSelector.react"),{align:c,color:"incoming",connectBottom:n,connectTop:a,children:f}),t[9]=n,t[10]=a,t[11]=c,t[12]=f,t[13]=g):g=t[13],g}l.default=u}),98);
__d("IGDPlaceholderMessage.react",["fbt","IGDPlaceholderMessageBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(10),n=e.connectBottom,a=e.connectTop,i=e.mediaRenderQpl,l=e.outgoing,d=e.unsupportedType,m,p;t[0]!==i||t[1]!==d?(m=function(){i==null||i.addAnnotations({string:{unsupported_type:d!=null?d:"unknown"}}),i==null||i.endSuccessAfterDelay()},p=[i,d],t[0]=i,t[1]=d,t[2]=m,t[3]=p):(m=t[2],p=t[3]),c(m,p);var _,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Use the Instagram mobile app to view this message."),f=s._(/*BTDS*/"Unsupported message"),t[4]=_,t[5]=f):(_=t[4],f=t[5]);var g;return t[6]!==n||t[7]!==a||t[8]!==l?(g=u.jsx(r("IGDPlaceholderMessageBubble.react"),{connectBottom:n,connectTop:a,outgoing:l,subtitle:_,title:f}),t[6]=n,t[7]=a,t[8]=l,t[9]=g):g=t[9],g}l.default=d}),226);
__d("IGDSViewOncePanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("polygon",{fill:"currentColor",points:"13.25 17 13.25 7 10.91895 7 8.19922 8.95996 8.19922 11.41406 10.75 9.7168 10.75 17 13.25 17"}),a=s.jsx("path",{d:"M2.97 12.137a1.5 1.5 0 0 0-1.5-1.482h-.02a1.5 1.5 0 0 0-1.48 1.519 11.96 11.96 0 0 0 .914 4.45 1.5 1.5 0 0 0 2.771-1.15 8.955 8.955 0 0 1-.685-3.337Zm8.02-9.064a9.066 9.066 0 0 1 3.4.279 1.5 1.5 0 0 0 .803-2.89A12.081 12.081 0 0 0 10.665.09a1.5 1.5 0 0 0-1.33 1.653 1.492 1.492 0 0 0 1.654 1.33Zm7.836 3.115a11.434 11.434 0 0 1 1.375 2.252 1.499 1.499 0 1 0 2.73-1.242 14.533 14.533 0 0 0-1.769-2.891c-.249-.297-.51-.58-.78-.845A1.5 1.5 0 0 0 18.278 5.6c.202.199.399.41.548.587ZM6.188 5.122c.194-.163.394-.317.598-.46A1.5 1.5 0 0 0 5.06 2.207a11.964 11.964 0 0 0-3.67 4.144A1.498 1.498 0 0 0 2.708 8.56c.534 0 1.052-.287 1.322-.791a8.987 8.987 0 0 1 2.157-2.648ZM9.4 20.682c-1.056-.335-2.069-.886-3.008-1.64a1.5 1.5 0 1 0-1.877 2.34c1.23.986 2.569 1.713 3.98 2.159a1.5 1.5 0 0 0 .904-2.86Zm13.213-9.196c-.811-.089-1.554.53-1.63 1.356A8.502 8.502 0 0 1 20 16.075a1.499 1.499 0 1 0 2.646 1.412 11.48 11.48 0 0 0 1.322-4.37 1.499 1.499 0 0 0-1.356-1.63Zm-5.649 7.96a9.284 9.284 0 0 1-3.129 1.394 1.5 1.5 0 1 0 .686 2.92 12.256 12.256 0 0 0 4.14-1.84 1.5 1.5 0 0 0-1.697-2.474Z",fill:"currentColor"}),t[0]=n,t[1]=a):(n=t[0],a=t[1]);var i;return t[2]!==e?(i=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a]})),t[2]=e,t[3]=i):i=t[3],i}var c=s.memo(u);l.default=c}),98);
__d("IGDRavenMessageIcon.react",["EphemeralMediaViewMode","IGDSPlayPanoFilledIcon.react","IGDSViewOncePanoFilled24Icon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.ephemeralMediaViewMode,a=e.isPlaceholder,i=e.label,l=a===void 0?!1:a,u=l?"ig-secondary-icon":"ig-stroke";if(n===r("EphemeralMediaViewMode").READ_ONCE){var c;return t[0]!==u||t[1]!==i?(c=s.jsx(r("IGDSViewOncePanoFilled24Icon.react"),{alt:i,color:u,size:15}),t[0]=u,t[1]=i,t[2]=c):c=t[2],c}var d;return t[3]!==u||t[4]!==i?(d=s.jsx(r("IGDSPlayPanoFilledIcon.react"),{alt:i,color:u,size:15}),t[3]=u,t[4]=i,t[5]=d):d=t[5],d}l.default=u}),98);
__d("IGDChatBubble.react",["IGDMessageBubbleSelector.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.memo,c={container:{paddingTop:"xm7lytj",paddingInlineEnd:"xpdmqnj",paddingBottom:"x1ykpatu",paddingInlineStart:"x1g0dm76",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.outgoing,u=e.precedesXMA,d=l?"right":"left",m=l?"outgoing":"incoming",p;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==u||t[4]!==d||t[5]!==m?(p=s.jsx(r("IGDMessageBubbleSelector.react"),{align:d,color:m,connectBottom:a,connectTop:i,precedesXMA:u,xstyle:c.container,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=u,t[4]=d,t[5]=m,t[6]=p):p=t[6],p}var m=u(d);l.default=m}),98);
__d("IGDRavenPlaceholderMessage.react",["fbt","EphemeralMediaViewMode","IGDChatBubble.react","IGDRavenMessageIcon.react","IGDSBox.react","IGDSText.react","LSIntEnum","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e.useCallback,m=s._(/*BTDS*/"This photo can only be viewed once. Use the mobile app to view."),p=s._(/*BTDS*/"This video can only be viewed once. Use the mobile app to view."),_=s._(/*BTDS*/"This photo can only be replayed once. Use the mobile app to view."),f=s._(/*BTDS*/"This video can only be replayed once. Use the mobile app to view."),g={container:{fontStyle:"x1k4tb9n",paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(19),n=e.attachment,a=e.connectBottom,i=e.connectTop,l;t[0]!==n.ephemeralMediaViewMode?(l=n.ephemeralMediaViewMode!=null?(u||(u=o("LSIntEnum"))).unwrapIntEnum(n.ephemeralMediaViewMode):r("EphemeralMediaViewMode").READ_ONCE,t[0]=n.ephemeralMediaViewMode,t[1]=l):l=t[1];var s=l,d;t[2]!==s?(d=function(t){switch(t){case r("MessagingAttachmentType").EPHEMERAL_IMAGE:return s===r("EphemeralMediaViewMode").READ_ONCE?m:_;case r("MessagingAttachmentType").EPHEMERAL_VIDEO:return s===r("EphemeralMediaViewMode").READ_ONCE?p:f;default:return m}},t[2]=s,t[3]=d):d=t[3];var h=d,y;t[4]!==n.attachmentType||t[5]!==h?(y=h((u||(u=o("LSIntEnum"))).unwrapIntEnum(n.attachmentType)),t[4]=n.attachmentType,t[5]=h,t[6]=y):y=t[6];var C=y,b;t[7]!==s||t[8]!==C?(b=c.jsx(r("IGDSBox.react"),{marginEnd:1,children:c.jsx(r("IGDRavenMessageIcon.react"),{ephemeralMediaViewMode:s,isPlaceholder:!0,label:C})}),t[7]=s,t[8]=C,t[9]=b):b=t[9];var v;t[10]!==C?(v=c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",children:C}),t[10]=C,t[11]=v):v=t[11];var S;t[12]!==b||t[13]!==v?(S=c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:g.container,children:[b,v]}),t[12]=b,t[13]=v,t[14]=S):S=t[14];var R;return t[15]!==a||t[16]!==i||t[17]!==S?(R=c.jsx(r("IGDChatBubble.react"),{connectBottom:a,connectTop:i,outgoing:!1,precedesXMA:!1,children:S}),t[15]=a,t[16]=i,t[17]=S,t[18]=R):R=t[18],R}l.default=h}),226);
__d("IGDRavenMessage.react",["fbt","EphemeralMediaViewMode","I64","IGDMessageBubbleSelector.react","IGDRavenMessageIcon.react","IGDRavenPlaceholderMessage.react","IGDSBox.react","IGDSText.react","LSIntEnum","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(20),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.outgoing;if(!l){var m;return t[0]!==n||t[1]!==a||t[2]!==i?(m=d.jsx(r("IGDRavenPlaceholderMessage.react"),{attachment:n,connectBottom:a,connectTop:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=m):m=t[3],m}var p;t[4]!==n.attachmentType?(p=(u||(u=o("I64"))).equal(n.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))?s._(/*BTDS*/"Photo"):s._(/*BTDS*/"Video"),t[4]=n.attachmentType,t[5]=p):p=t[5];var _=p,f;t[6]!==n.ephemeralMediaViewMode?(f=n.ephemeralMediaViewMode!=null?(c||(c=o("LSIntEnum"))).unwrapIntEnum(n.ephemeralMediaViewMode):r("EphemeralMediaViewMode").READ_ONCE,t[6]=n.ephemeralMediaViewMode,t[7]=f):f=t[7];var g=f,h;t[8]!==g||t[9]!==_?(h=d.jsx(r("IGDSBox.react"),{marginEnd:1,children:d.jsx(r("IGDRavenMessageIcon.react"),{ephemeralMediaViewMode:g,label:_})}),t[8]=g,t[9]=_,t[10]=h):h=t[10];var y;t[11]!==_?(y=d.jsx(r("IGDSBox.react"),{justifyContent:"center",children:d.jsx(r("IGDSText.react"),{color:"tertiaryText",size:"body",weight:"semibold",children:_})}),t[11]=_,t[12]=y):y=t[12];var C;t[13]!==h||t[14]!==y?(C=d.jsxs(r("IGDSBox.react"),{direction:"row",children:[h,y]}),t[13]=h,t[14]=y,t[15]=C):C=t[15];var b;return t[16]!==a||t[17]!==i||t[18]!==C?(b=d.jsx(r("IGDMessageBubbleSelector.react"),{align:"right",color:"incoming",connectBottom:a,connectTop:i,children:C}),t[16]=a,t[17]=i,t[18]=C,t[19]=b):b=t[19],b}l.default=m}),226);
__d("IGDPausableStickerThumbnailWithPlayButton.react",["fbt","CometPressable.react","MWV2AttachmentLoadingPlaceholder.react","MWVideoPlayerPlayButton.react","MWXMessageImage.react","react","react-compiler-runtime","useFetchAnimatedImageThumbnail"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(22),n=e.onPlay,a=e.alt,i=e.height,l=e.maxHeight,c=e.maxWidth,d=e.mediaRenderQpl,m=e.renderImagePlaceholder,p=e.src,_=e.width,f=r("useFetchAnimatedImageThumbnail")(p,null,i!=null?i:200,_!=null?_:200,d),g=f.gifThumbnail,h=f.onError,y=f.onLoad,C;t[0]!==a?(C=s._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[s._param("gif_alt_text",a)]),t[0]=a,t[1]=C):C=t[1];var b=C;if(g==null){var v;return t[2]!==i||t[3]!==_?(v=u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"IGDPausableStickerThumbnailWithPlayButton.NoGIFThumbnail",height:i,width:_}),t[2]=i,t[3]=_,t[4]=v):v=t[4],v}var S;t[5]!==b||t[6]!==n?(S=u.jsx(r("MWVideoPlayerPlayButton.react"),{alt:b,isVisible:!0,onClick:n,size:"LARGE"}),t[5]=b,t[6]=n,t[7]=S):S=t[7];var R;t[8]!==a||t[9]!==g||t[10]!==i||t[11]!==l||t[12]!==c||t[13]!==h||t[14]!==y||t[15]!==m||t[16]!==S||t[17]!==_?(R=u.jsx(r("MWXMessageImage.react"),{alt:a,height:i,maxHeight:l,maxWidth:c,onError:h,onLoad:y,renderImagePlaceholder:m,src:g,width:_,children:S}),t[8]=a,t[9]=g,t[10]=i,t[11]=l,t[12]=c,t[13]=h,t[14]=y,t[15]=m,t[16]=S,t[17]=_,t[18]=R):R=t[18];var L;return t[19]!==n||t[20]!==R?(L=u.jsx(r("CometPressable.react"),{onPress:n,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:R}),t[19]=n,t[20]=R,t[21]=L):L=t[21],L}l.default=c}),226);
__d("IGDPausableSticker.react",["CometPressable.react","IGDPausableStickerThumbnailWithPlayButton.react","MWXMessageImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["height","maxHeight","maxWidth","mediaRenderQpl","renderImagePlaceholder","width"],s,u=s||(s=o("react")),c=s.useState;function d(t){var n=o("react-compiler-runtime").c(29),a,i,l,s,d,m,p;n[0]!==t?(a=t.height,l=t.maxHeight,s=t.maxWidth,d=t.mediaRenderQpl,m=t.renderImagePlaceholder,p=t.width,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=d,n[6]=m,n[7]=p):(a=n[1],i=n[2],l=n[3],s=n[4],d=n[5],m=n[6],p=n[7]);var _=i,f=_.alt,g=_.src,h=c(!0),y=h[0],C=h[1];if(y){var b;n[8]===Symbol.for("react.memo_cache_sentinel")?(b=function(){return C(!1)},n[8]=b):b=n[8];var v;return n[9]!==f||n[10]!==a||n[11]!==l||n[12]!==s||n[13]!==d||n[14]!==m||n[15]!==g||n[16]!==p?(v=u.jsx(r("IGDPausableStickerThumbnailWithPlayButton.react"),{alt:f,height:a,maxHeight:l,maxWidth:s,mediaRenderQpl:d,onPlay:b,renderImagePlaceholder:m,src:g,width:p}),n[9]=f,n[10]=a,n[11]=l,n[12]=s,n[13]=d,n[14]=m,n[15]=g,n[16]=p,n[17]=v):v=n[17],v}var S;n[18]===Symbol.for("react.memo_cache_sentinel")?(S=function(){return C(!0)},n[18]=S):S=n[18];var R;return n[19]!==f||n[20]!==a||n[21]!==i.onError||n[22]!==i.onLoad||n[23]!==l||n[24]!==s||n[25]!==m||n[26]!==g||n[27]!==p?(R=u.jsx(r("CometPressable.react"),{onPress:S,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:u.jsx(r("MWXMessageImage.react"),{alt:f,height:a,maxHeight:l,maxWidth:s,onError:i.onError,onLoad:i.onLoad,renderImagePlaceholder:m,src:g,width:p})}),n[19]=f,n[20]=a,n[21]=i.onError,n[22]=i.onLoad,n[23]=l,n[24]=s,n[25]=m,n[26]=g,n[27]=p,n[28]=R):R=n[28],R}l.default=d}),98);
__d("calculateIGDStickerDimensions",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e!=null?e:void 0,o=t!=null?t:void 0;if(r==null||o==null)return[r,o];var a=o>r?n/o:n/r;return[r*a,o*a]}i.default=e}),66);
__d("IGDSticker.react",["I64","IGDAttachmentUtil","IGDPausableSticker.react","IGDSBox.react","IGDSGlimmer.react","IGDThreadListNewMessageLoggingDataContext","MWXMessageImage.react","MessengerWebUXLogger","Random","calculateIGDStickerDimensions","cr:9647","react","react-compiler-runtime","useIGDAttachmentUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useCallback,d=157,m={glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.eventName,i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;t[0]!==a||t[1]!==i?(l={eventName:a,flowInstanceId:i},t[0]=a,t[1]=i,t[2]=l):l=t[2];var s=r("MessengerWebUXLogger").useImpressionLoggerRef(l),c;return t[3]!==n||t[4]!==s?(c=u.jsx(r("IGDSBox.react"),{containerRef:s,children:n}),t[3]=n,t[4]=s,t[5]=c):c=t[5],c}function _(e){var t,a,i=o("react-compiler-runtime").c(30),l=e.attachment,c=e.mediaRenderQpl,m=e.stickerSize,_=m===void 0?d:m,h=o("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(l),y=(t=(a=l.playableUrl)!=null?a:l.previewUrl)!=null?t:h,C;i[0]!==l.previewHeight||i[1]!==l.previewWidth||i[2]!==_?(C=r("calculateIGDStickerDimensions")(l.previewWidth!=null?(s||(s=o("I64"))).to_float(l.previewWidth):null,l.previewHeight!=null?(s||(s=o("I64"))).to_float(l.previewHeight):null,_),i[0]=l.previewHeight,i[1]=l.previewWidth,i[2]=_,i[3]=C):C=i[3];var b=C,v=b[0],S=b[1],R=l.playableUrl!=null&&l.stickerType!=="cutout_sticker"&&l.stickerType!=="avatar_sticker",L=n("cr:9647")(),E=L.isReduceMotionSettingEnabled,k=R&&E,I=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),T=String(E),D;i[4]!==T?(D={animatedImageComponent:"IGDSticker",isReduceMotionSettingEnabled:T},i[4]=T,i[5]=D):D=i[5];var x;i[6]!==I||i[7]!==D?(x={eventName:"animated_image_message",extraData:D,flowInstanceId:I},i[6]=I,i[7]=D,i[8]=x):x=i[8];var $=r("MessengerWebUXLogger").useImpressionLoggerRef(x),P;i[9]!==c?(P=function(){c==null||c.endFailAfterDelay("load-sticker-error")},i[9]=c,i[10]=P):P=i[10];var N=P,M;i[11]!==c?(M=function(){c==null||c.endSuccessAfterDelay()},i[11]=c,i[12]=M):M=i[12];var w=M,A;i[13]!==l.accessibilitySummaryText||i[14]!==S||i[15]!==R||i[16]!==$||i[17]!==c||i[18]!==N||i[19]!==w||i[20]!==k||i[21]!==_||i[22]!==y||i[23]!==v?(A=k?u.jsx("div",{ref:R?$:null,children:u.jsx(r("IGDPausableSticker.react"),{alt:l.accessibilitySummaryText,height:S,maxHeight:_,maxWidth:_,mediaRenderQpl:c,renderImagePlaceholder:y==null?g:void 0,src:y!=null?y:"",width:v})}):u.jsx("div",{ref:R?$:null,children:u.jsx(r("MWXMessageImage.react"),{alt:l.accessibilitySummaryText,height:S,maxHeight:_,maxWidth:_,onError:N,onLoad:w,renderImagePlaceholder:y==null?f:void 0,src:y!=null?y:"",width:v})}),i[13]=l.accessibilitySummaryText,i[14]=S,i[15]=R,i[16]=$,i[17]=c,i[18]=N,i[19]=w,i[20]=k,i[21]=_,i[22]=y,i[23]=v,i[24]=A):A=i[24];var F=A,O;i[25]!==l?(O=o("IGDAttachmentUtil").getStickerImpressionLoggingEventName(l),i[25]=l,i[26]=O):O=i[26];var B=O;if(B!=null){var W;return i[27]!==B||i[28]!==F?(W=u.jsx(p,{eventName:B,children:F}),i[27]=B,i[28]=F,i[29]=W):W=i[29],W}else return F}function f(){return u.jsx(r("IGDSGlimmer.react"),{index:o("Random").intBetween(1,10),xstyle:m.glimmer})}f.displayName=f.name+" [from "+i.id+"]";function g(){return u.jsx(r("IGDSGlimmer.react"),{index:o("Random").intBetween(1,10),xstyle:m.glimmer})}g.displayName=g.name+" [from "+i.id+"]",l.default=_}),98);
__d("LSCTAIconType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5,CAMERA:6,CIRCLED_X:7,PENCIL:8,META_HORIZON:9});i.default=e}),66);
__d("XCometMessengerControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/t/{?thread_key}/{?*extra_junk}/",Object.freeze({initial_e2ee_toggle_position:!1}),["/messages/archived/new/","/messages/filtered/","/messages/filtered/new/","/messages/filtered/t/{?thread_key}/","/messages/gallery/","/messages/groups/","/messages/groups/new/","/messages/groups/t/{?thread_key}/","/messages/people/","/messages/people/new/","/messages/people/t/{?thread_key}/","/messages/requests/new/","/messages/new/","/messages/read/","/messages/search/","/messages/search/t/{?thread_key}/","/messages/search/new/","/messages/thread/{?thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XCometMessengerE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/messages/e2ee/t/{?thread_key}/{?*extra_junk}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/e2ee/t/{thread_key}/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMainControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/t/{thread_key}/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1,__pwa:!1}),["/archived/new/","/filtered/","/filtered/new/","/filtered/t/{?thread_key}/","/people/","/people/new/","/people/t/{?thread_key}/","/requests/new/","/new/","/folders/{folder_key}/t/{?thread_key}/","/gallery/"],void 0),s=e;l.default=s}),98);
__d("MWInboxRouteBuilder",["CurrentEnvironment","XCometMessengerControllerRouteBuilder","XCometMessengerE2EEThreadControllerRouteBuilder","XMessengerDotComCometE2EEThreadControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","XMessengerDotComCometRootControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.search,o=t.thread_key;return r("XCometMessengerE2EEThreadControllerRouteBuilder").buildURL({focus_target:e,search:n,thread_key:o})},buildHomeURL:function(){return r("XCometMessengerControllerRouteBuilder").buildURL({})},buildMultiThreadMesageSearchURL:function(t){return r("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/search/",t)},buildNewThreadURL:function(t){return r("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/new/",t)},buildURL:function(t){var e=t.focus_target,n=t.link_hash,o=t.search,a=t.thread_key;return r("XCometMessengerControllerRouteBuilder").buildURL({focus_target:e,link_hash:n,search:o,thread_key:a})}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.search,o=t.thread_key;return r("XMessengerDotComCometE2EEThreadControllerRouteBuilder").buildURL({focus_target:e,search:n,thread_key:o})},buildHomeURL:function(){return r("XMessengerDotComCometRootControllerRouteBuilder").buildExtraURL("/t/",{})},buildMultiThreadMesageSearchURL:function(t){return null},buildNewThreadURL:function(t){var e=t.extra_junk,n=t.initial_e2ee_toggle_position,o=t.link_hash,a=t.thread_key;return r("XMessengerDotComCometMainControllerRouteBuilder").buildExtraURL("/new/",{extra_junk:e,initial_e2ee_toggle_position:n,link_hash:o,thread_key:a})},buildURL:function(t){var e=t.focus_target,n=t.link_hash,o=t.search,a=t.thread_key;return r("XMessengerDotComCometMainControllerRouteBuilder").buildURL({focus_target:e,link_hash:n,search:o,thread_key:a})}},s=e.buildURL,u=e.buildHomeURL,c=e.buildNewThreadURL,d=e.buildE2EEThreadURL,m=e.buildMultiThreadMesageSearchURL;l.buildURL=s,l.buildHomeURL=u,l.buildNewThreadURL=c,l.buildE2EEThreadURL=d,l.buildMultiThreadMesageSearchURL=m}),98);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","AdsMessengerContext.react","FBLogger","I64","ImageIconSource","LSCTAIconType","LSIntEnum","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","react","requireDeferred"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e.useEffect,p=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function _(e){if(e==null)return null;switch((u||(u=o("LSIntEnum"))).toNumber(e)){case r("LSCTAIconType").NONE:return null;case r("LSCTAIconType").FB:return new(r("ImageIconSource"))(s("814640"),16,16);default:return null}}function f(e){var t=e.attachmentCta,n=e.ctaIconType,a=e.getCtaRegistryHandler,i=e.messageId,l=e.renderButtonActionNonEventButton,s=e.renderDeeplinkActionButton,u=e.renderDisabledButtonActionButton,f=e.renderPopoverMenuButtonActionButton,g=e.renderUrlActionButton,h=e.threadKey,y=e.title,C=e.type,b=o("MWLSThread").useThread(h,function(e){return e.threadType}),v=r("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:C,eventName:"xma_attachment_cta",threadKey:h,threadType:b});m(function(){var e=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(C);e&&p.onReady(function(e){e.logImpression({surface:"admin_message"})})},[C]);var S=o("AdsMessengerContext.react").useAdsMessengerContext(),R=S.isMessengerInAds,L=S.maybeGetCallbackFromURI;if(t==null)return C==="xma_disabled_cta"?d.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",ref:v,children:u(y)}):null;var E=a(t),k=_(n),I=null;switch(E.actionType){case"BUTTON":{var T=E.secondaryInfo,D=E.primaryInfo;I=l(y,k,t,T,D);break}case"POPOVER_BUTTON":{f&&(I=f(y,t,E.primaryInfo));break}case"URL":{var x=E.secondaryInfo,$=L==null?void 0:L(E.primaryInfo);R&&$!=null?I=l(y,k,t,x,$):E.primaryInfo.trim().length>0?I=g(y,k,t,x,E.primaryInfo):I=null;break}case"DISABLED_BUTTON":{I=u(y);break}case"DEEPLINK":{var P=E.primaryInfo,N=P.loggingDetails,M=P.threadKey,w=o("MWInboxRouteBuilder").buildURL({thread_key:(c||(c=o("I64"))).to_string(M)});I=s(y,M,t,N,w);break}case"CTA_ERROR":{r("FBLogger")(E.secondaryInfo).mustfix(E.primaryInfo),I=null;break}case"NOT_SUPPORTED":{I=null;break}}return d.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",ref:v,children:I})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("MWLSPostbackCtaHandler",["AdsMessengerContext.react","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","react","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useContext;function d(){var t=(e||(e=r("useReStore")))(),n=o("MWPActor.react").useActor(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l=r("useLSMessagingInitiatingSource")(),u=r("useLSMessagingSource")(),d=c(o("AdsMessengerContext.react").AdsMessengerContext),m=d.onSendPostback;return o("Int64Hooks").useCallbackInt64(function(e,c){if(m!=null)return r("promiseDone")(m(e,c));var d=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(a,u);r("promiseDone")(t.runInTransaction(function(t){return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(t),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:l!=null?l:void 0,mark_read:!0,platform_token:e,power_up_style:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),reply_source_type:s.ofNumber(r("LSMessageReplySourceType").NONE),reply_source_type_v2:s.ofNumber(r("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:d}),mailboxType:s.ofNumber(r("LSMailboxType").MESSENGER),senderId:n,snippet:c,text:c,threadKey:a,threadType:s.ofNumber(1)})},"readwrite",void 0,void 0,i.id+":53"))},[t,u,l,n,a,m])}l.usePostbackCtaHandler=d}),98);
__d("useIGDChatPollXMAActionHandler",["JSResourceForInteraction","react","react-compiler-runtime","useCometLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("JSResourceForInteraction")("IGDChatPollDetailsDialog.react").__setRef("useIGDChatPollXMAActionHandler");function c(){var e=o("react-compiler-runtime").c(2),t=r("useCometLazyDialog")(u),n=t[0],a;return e[0]!==n?(a=function(t,r,o){return n({pollId:r,threadKey:t,title:o},d)},e[0]=n,e[1]=a):a=e[1],a}function d(){}l.default=c}),98);
__d("useMWCMPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=o("MWLSThread").useThread(e,function(e){return{pollVotingCapability:o("LSThreadBitOffset").has(170,e)}}))!=null?t:{},r=n.pollVotingCapability;return r!=null?r:!1}l.default=e}),98);
__d("useGetIGDXMARegistryHandler",["Clipboard","I64","IGDAttachmentUtil","MWLSPostbackCtaHandler","react-compiler-runtime","useIGDChatPollXMAActionHandler","useMWCMPollsVotingEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(4),a=r("useIGDChatPollXMAActionHandler")(),i=r("useMWCMPollsVotingEnabled")(t),l=o("MWLSPostbackCtaHandler").usePostbackCtaHandler(),s;return n[0]!==a||n[1]!==i||n[2]!==l?(s=function(n){var t=n.actionUrl,r=n.platformToken,s=n.type_,u=n.title,c=n.threadKey,d=["Title: "+u,"Type: "+s,"PlatformTokenPresent: "+(r!=null).toString(),"ActionUrlPresent: "+(t!=null).toString(),"ActionContentBlobPresent: "+(n.actionContentBlob!=null).toString()].join(", "),m=n.actionContentBlob,p=n.targetId;return o("IGDAttachmentUtil").isUnsupportedCTA(n)?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:s==="xma_poll_details_button"||s==="xma_poll_details_card"?p==null||m==null?{actionType:"CTA_ERROR",primaryInfo:"Expected a poll id and title while parsing polls XMA",secondaryInfo:"messenger_business_core_product"}:i?{actionType:"BUTTON",primaryInfo:function(){return a(c,p,m)},secondaryInfo:void 0}:{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:s==="xma_postback"?{actionType:"BUTTON",primaryInfo:function(){return l(r,u)},secondaryInfo:[(e||(e=o("I64"))).to_string(c),31]}:s==="xma_partnership_ads_copy_code"?{actionType:"BUTTON",primaryInfo:function(){var e;o("Clipboard").copy((e=n.actionUrl)!=null?e:"")},secondaryInfo:void 0}:s==="xma_disabled_cta"?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:t!=null?{actionType:"URL",primaryInfo:t,secondaryInfo:[(e||(e=o("I64"))).to_string(c),32]}:{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+d,secondaryInfo:"messenger_privacy_web"}},n[0]=a,n[1]=i,n[2]=l,n[3]=s):s=n[3],s}l.default=s}),98);
__d("IGDXMAAttachmentItemCtaButton.react",["IGDBroadcastChannelQPL","IGDSButton.react","MWXMAAttachmentItemCtaButtonBase.react","err","react","react-compiler-runtime","requireDeferred","useGetIGDXMARegistryHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("requireDeferred")("logXMACtaClicked").__setRef("IGDXMAAttachmentItemCtaButton.react");function d(e){var t=o("react-compiler-runtime").c(16),n=e.attachmentCta,a=e.ctaIconType,i=e.messageId,l=e.threadKey,u=e.title,d=e.type,_=r("useGetIGDXMARegistryHandler")(l),f=o("IGDBroadcastChannelQPL").useLogUpdatePollStart(l,d),g;t[0]!==f?(g=function(t,n){c.onReady(function(e){return e.logXMACtaClicked({cta:t,loggingDetails:n,source:2})}),f()},t[0]=f,t[1]=g):g=t[1];var h=g,y;t[2]!==h?(y=function(t,n,o,a,i){return s.jsx(r("IGDSButton.react"),{display:"block",label:t,onClick:function(){return h(o,a),i()},size:"small",variant:"tertiary"})},t[2]=h,t[3]=y):y=t[3];var C;t[4]!==h?(C=function(t,n,o,a,i){return s.jsx(r("IGDSButton.react"),{display:"block",href:i,label:t,onClick:function(){return h(o,a)},size:"small",variant:"tertiary"})},t[4]=h,t[5]=C):C=t[5];var b;return t[6]!==n||t[7]!==a||t[8]!==_||t[9]!==i||t[10]!==y||t[11]!==C||t[12]!==l||t[13]!==u||t[14]!==d?(b=s.jsx(r("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentCta:n,ctaIconType:a,getCtaRegistryHandler:_,messageId:i,renderButtonActionNonEventButton:y,renderDeeplinkActionButton:p,renderDisabledButtonActionButton:m,renderUrlActionButton:C,threadKey:l,title:u,type:d}),t[6]=n,t[7]=a,t[8]=_,t[9]=i,t[10]=y,t[11]=C,t[12]=l,t[13]=u,t[14]=d,t[15]=b):b=t[15],b}function m(e){return s.jsx(r("IGDSButton.react"),{display:"block",isDisabled:!0,label:e,size:"small",variant:"tertiary"})}m.displayName=m.name+" [from "+i.id+"]";function p(e,t,n,o,a){throw r("err")("XMA Attachment Item deeplink action button not implemented for IGD")}l.default=d}),98);
__d("useAttachmentDataLS",["I64","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n,a=(s||(s=r("useReStore")))(),l=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId).map(function(e){var t=c(a,e);return{attachment:e,attachmentCTAs:t}})},[t,a],i.id+":41").toSorted(function(t,n){return(e||(e=o("I64"))).compare(t.attachment.attachmentIndex,n.attachment.attachmentIndex)}),u=(n=l[0])==null?void 0:n.attachment,d=o("ReQLSuspense").useArray(function(){return u==null?o("ReQL").empty():o("ReQL").fromTableAscending(a.tables.attachment_items).getKeyRange(u.attachmentFbid).map(function(e){var t=c(a,e);return{attachmentItem:e,attachmentItemCTAs:t}})},[u,a],i.id+":60").reduce(function(e,t){var n=t.attachmentItem,r=t.attachmentItemCTAs;return e[0].push(n),e[1].push(r),e},[[],[]]),m=d[0],p=d[1],_=[];l.map(function(e){_.push(e.attachment)});var f;if(m.length>0)f=p;else{var g,h=(g=l[0])==null?void 0:g.attachmentCTAs;f=h?[h]:[]}return{attachmentCTAs:f,attachmentItems:m,attachments:_}}function c(e,t){var n={},r=t.attachmentCta1Id,a=t.attachmentCta2Id,l=t.attachmentCta3Id,s=t.defaultCtaId;return n.defaultCta=s!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(s),i.id+":113"):void 0,n.attachmentCta1=r!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(r),i.id+":121"):void 0,n.attachmentCta2=a!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(a),i.id+":129"):void 0,n.attachmentCta3=l!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(l),i.id+":137"):void 0,n}l.useAttachmentDataLS=u}),98);
__d("MWEBEntrypointsKillswitch.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({JEWEL_THREADLIST:"jewel_threadlist",IN_THREAD_GAP_UI:"in_thread_gap_ui",IN_THREAD_SCROLL_BANNER:"in_thread_scroll_banner",IN_THREAD_SEARCH:"in_thread_search",INBOX_INTERSTITIAL:"inbox_interstitial",INBOX_ROOT:"inbox_root",INBOX_THREADLIST:"inbox_threadlist",INBOX_THREADLIST_UNIVERSAL_SEARCH:"inbox_threadlist_universal_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",IGD_NO_KILLSWITCH_APPLICABLE:"igd_no_killswitch_applicable",NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:"not_an_entrypoint_no_killswitch_applicable",IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:"in_development_add_a_todo_comment_with_a_task_above_this_to_add_a_killswitch",PINNED_MESSAGES:"pinned_messages",BUMP_MESSAGES:"bump_messages",SIDEBAR_SETTINGS_PRIVACY_MENU:"sidebar_settings_privacy_menu",JEWEL_EVERGREEN_PIN_UPSELL:"jewel_evergreen_pin_upsell"}),l=e;i.default=l}),66);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMessagePointQuery"),a.threadKey,a.messageId,a.threadType,a.numContextMessages);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("fetchOpenMissingMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a){var l,s=(e||(e=o("I64"))).to_int32((l=n.syncGroup)!=null?l:(e||(e=o("I64"))).neg_one);if(s!==-1&&s===95){r("FBLogger")("messenger_web").mustfix("fetchMissingMessage: incorrect call to MPQ with secure mailbox");return}yield t.runInTransaction(function(e){return r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(e),{messageId:a,threadKey:n.threadKey,threadType:n.threadType})},"readwrite",void 0,void 0,i.id+":38")}),u.apply(this,arguments)}l.default=s}),98);
__d("fetchSecureMissingMessage",["MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MAWMpsGating","MAWPutMessagesToDB","MpsMessageToLoadResponse","MpsOverBridge","MpsTypes","WAStanzaUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,o){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a){var i=yield o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t,a),l=i.chatJid;if(o("MAWMpsGating").isMpsMessageRendering()){var s=yield o("MpsOverBridge").mps().loadMessage({config:{strategy:"local-first"},debug:{purpose:"fetchSecureMissingMessageFullMps"},messageId:o("MpsTypes").toMessageId(n),threadId:o("MpsTypes").toThreadId(l)});if(s.value!=null){var c=babelHelpers.extends({},o("MpsMessageToLoadResponse").messageToLoadMsgsResponse([s.value]),{hasMoreAfter:!1,hasMoreBefore:!1});yield o("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(e,c)}return}var d=yield u({config:{admin:!0,editMsgHistory:!1,media:!0,polls:!0,reactions:!1,receiverFetch:!0,xma:!0},externalId:n});yield o("MAWPutMessagesToDB").insertMessageResponseIntoDatabaseByExternalId(e,d),!(d.msgs.length>0||!r)&&(yield o("MpsOverBridge").mps().copMps.loadMsgIntoMaw({config:{shouldFetchSupplementals:!0,shouldFetchTags:!1,strategy:"full-fetch"},debug:{purpose:"fetchSecureMissingMessageM3"},messageId:o("MpsTypes").toMessageId(n),threadId:o("MpsTypes").toThreadId(l)}))}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.config,n=e.externalId;return babelHelpers.extends({},yield o("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:t,externalId:o("WAStanzaUtils").toStanzaId(n)}))}),c.apply(this,arguments)}l.default=e}),98);
__d("useMWEBBackupStateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBBackupStateQuery",selections:[{kind:"RequiredField",field:e,action:"LOG",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBBackupStateQuery",selections:[e]},params:{cacheID:"780695c71d771c39c4d001bd676844c7",id:null,metadata:{},name:"useMWEBBackupStateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("isMWEBEntrypointEnabled",["MWEBEntrypointsKillswitch.enum","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case r("MWEBEntrypointsKillswitch.enum").INBOX_INTERSTITIAL:return r("justknobx")._("2598");case r("MWEBEntrypointsKillswitch.enum").INBOX_ROOT:return r("justknobx")._("782");case r("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST:return r("justknobx")._("2599");case r("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST:return r("justknobx")._("2600");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI:return r("justknobx")._("2601");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER:return r("justknobx")._("2602");case r("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE:return r("justknobx")._("2603");case r("MWEBEntrypointsKillswitch.enum").IN_THREAD_SEARCH:return r("justknobx")._("2604");case r("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST_UNIVERSAL_SEARCH:return r("justknobx")._("2768");case r("MWEBEntrypointsKillswitch.enum").MEDIA_GALLERY_RESTORE:return r("justknobx")._("2841");case r("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES:return r("justknobx")._("2937");case r("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES:return!0;case r("MWEBEntrypointsKillswitch.enum").SIDEBAR_SETTINGS_PRIVACY_MENU:return r("justknobx")._("4788");case r("MWEBEntrypointsKillswitch.enum").JEWEL_EVERGREEN_PIN_UPSELL:return r("justknobx")._("1878");case r("MWEBEntrypointsKillswitch.enum").DYI:case r("MWEBEntrypointsKillswitch.enum").EB_SETTINGS:case r("MWEBEntrypointsKillswitch.enum").IGD_NO_KILLSWITCH_APPLICABLE:case r("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:case r("MWEBEntrypointsKillswitch.enum").IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:return!0}}l.default=e}),98);
__d("useMWEBBackupStateUtil",["isMWEBEntrypointEnabled"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return!r("isMWEBEntrypointEnabled")(e)||t?0:n!=null?n:1}l.default=e}),98);
__d("useMWEBBackupState",["CometRelay","useMWEBBackupStateQuery.graphql","useMWEBBackupStateUtil"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a,i=t.entrypoint,l=o("CometRelay").useClientQuery(e!==void 0?e:e=n("useMWEBBackupStateQuery.graphql"),{});return r("useMWEBBackupStateUtil")(i,(l==null?void 0:l.viewer)==null,l==null||(a=l.viewer)==null?void 0:a.backup_state)}l.default=s}),98);
__d("useGetOriginalMsgFromBumpMsg",["FBLogger","LSMessagingThreadTypeUtil","MAWFetchExternalIdUsingCache","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchOpenMissingMessage","fetchSecureMissingMessage","isMWBumpMessage","promiseDone","useMWEBBackupState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var l=r("isMWBumpMessage")(t),s=(e||(e=r("useReStore")))(),u=r("useMWEBBackupState")({entrypoint:r("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES}),c=o("ReQLSuspense").useFirst(function(){return a!=null?o("ReQL").fromTableAscending(s.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(a):o("ReQL").empty()},[s,a],i.id+":40"),d=o("ReQLSuspense").useFirst(function(){return n!=null&&l?o("ReQL").fromTableDescending(s.tables.messages.index("messageId")).getKeyRange(n):o("ReQL").empty()},[s.tables.messages,n,l],i.id+":52");if(d==null&&c!=null&&n!=null&&l)if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType)){var m=u===3;r("promiseDone")(o("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(n).then(function(e){e!=null?r("promiseDone")(r("fetchSecureMissingMessage")(s,c.threadKey,e,m,"MAWFetchBumpMessage")):r("FBLogger")("mw_bump_message").warn("[useGetOriginalMsgFromBumpMsg] failed fetch external id, invalid msgId %s",n)}))}else r("promiseDone")(r("fetchOpenMissingMessage")(s,c,n));return d}l.default=s}),98);
__d("useAttachmentData",["useAttachmentDataLS","useGetOriginalMsgFromBumpMsg"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("useGetOriginalMsgFromBumpMsg")(e.replyType,e.replySourceId,e.threadKey),a=n!=null?n:e,i=o("useAttachmentDataLS").useAttachmentDataLS(a),l=i.attachmentCTAs,s=i.attachmentItems,u=i.attachments;return{attachmentCTAs:l,attachmentItems:s,attachments:u}}l.useAttachmentData=e}),98);
__d("MWPAttachmentDataContext",["FBLogger","I64","ReQL","ReQLSuspense","react","useAttachmentData","useAttachmentDataLS","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useContext,_=m({attachmentCTAs:[],attachmentItems:[],attachments:[]});function f(e){var t=e.children,n=e.isSecureMessage,r=e.message,a=o("useAttachmentData").useAttachmentData(r,n);return c.jsx(_.Provider,{value:a,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.attachmentData,n=e.children;return c.jsx(_.Provider,{value:t,children:n})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.children,n=e.message,r=o("useAttachmentDataLS").useAttachmentDataLS(n);return c.jsx(_.Provider,{value:r,children:t})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=p(_).attachments,n=C(e);return t.length===0&&n.length>0?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachments from context, instead retrieved attachments directly from LSDB"),n):t}function C(t){var n=(e||(e=r("useReStore")))();return o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(t.threadKey,t.messageId)},[n,t.messageId,t.threadKey],i.id+":98").toSorted(function(e,t){return(s||(s=o("I64"))).compare(e.attachmentIndex,t.attachmentIndex)})}function b(e){var t,n,a,i=(s||(s=o("I64"))).to_int32(e.attachmentIndex),l=(t=p(_).attachmentCTAs[i])!=null?t:{},u=v(e),c=(l==null?void 0:l.defaultCta)==null&&(u==null?void 0:u.defaultCta)!=null||(l==null?void 0:l.attachmentCta1)==null&&(u==null?void 0:u.attachmentCta1)!=null;if(u!=null&&(n=u.attachmentCta1)!=null&&(n=n.type_)!=null&&n.includes("poll")||l!=null&&(a=l.attachmentCta1)!=null&&(a=a.type_)!=null&&a.includes("poll")){var d,m,f={attachmentIndex:i,contextCta1Type:(l==null||(d=l.attachmentCta1)==null?void 0:d.type_)||"null",contextHasCta1:(l==null?void 0:l.attachmentCta1)!=null,contextHasDefaultCta:(l==null?void 0:l.defaultCta)!=null,lsCta1Type:(u==null||(m=u.attachmentCta1)==null?void 0:m.type_)||"null",lsHasCta1:(u==null?void 0:u.attachmentCta1)!=null,lsHasDefaultCta:(u==null?void 0:u.defaultCta)!=null,messageId:e.messageId||"null",shouldUseFallback:c};r("FBLogger")("messenger_web_media","poll_cta_debug").info("Poll CTA debug: %s",JSON.stringify(f))}return c?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentCTAs from context, instead retrieved attachmentCTAs directly from LSDB"),u):l}function v(t){var n=(e||(e=r("useReStore")))(),o={};return o.defaultCta=S(n,t==null?void 0:t.defaultCtaId),o.attachmentCta1=S(n,t==null?void 0:t.attachmentCta1Id),o.attachmentCta2=S(n,t==null?void 0:t.attachmentCta2Id),o.attachmentCta3=S(n,t==null?void 0:t.attachmentCta3Id),o}function S(e,t){return o("ReQLSuspense").useFirst(function(){return t!=null?o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(t):o("ReQL").empty()},[e,t],i.id+":175")}function R(e){var t,n=(t=p(_).attachmentItems)!=null?t:[],o=L(e);return n.length===0&&o.length>0?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentItems from context, instead retrieved attachmentItems directly from LSDB"),o):n}function L(t){var n=(e||(e=r("useReStore")))();return o("ReQLSuspense").useArray(function(){var e=t.attachmentFbid;return o("ReQL").fromTableAscending(n.tables.attachment_items).getKeyRange(e)},[t,n],i.id+":205")}l.MWPAttachmentDataContext=_,l.MWPAttachmentDataContextProvider=f,l.MWPAttachmentDataContextProviderMAW=g,l.MWPAttachmentDataContextProviderLS=h,l.useMWPGetAttachments=y,l.useMWPGetAttachmentCTAs=b,l.useMWPGetAttachmentItems=R}),98);
__d("IGDXMAAttachmentItemBodyCta.react",["IGDXMAAttachmentItemCtaButton.react","MWPAttachmentDataContext","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x7v7x1q",marginTop:"x14vqqas",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(23),a=t.attachment,i=t.attachmentItem,l=i.cta1IconType,s=i.cta1Title,d=i.cta1Type,m=i.cta2Title,p=i.cta2Type,_=i.cta3Title,f=i.cta3Type,g=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(i),h=g.attachmentCta1,y=g.attachmentCta2,C=g.attachmentCta3;if(d==null||s==null||h==null)return null;var b=i.titleText==null&&i.subtitleText==null,v;n[0]!==b?(v=(e||(e=r("stylex"))).props(c.buttonsWrapper,b?c.buttonsOnly:!1),n[0]=b,n[1]=v):v=n[1];var S;n[2]!==a.messageId||n[3]!==a.threadKey||n[4]!==h||n[5]!==l||n[6]!==s||n[7]!==d?(S=u.jsx(r("IGDXMAAttachmentItemCtaButton.react"),{attachmentCta:h,ctaIconType:l,messageId:a.messageId,threadKey:a.threadKey,title:s,type:d}),n[2]=a.messageId,n[3]=a.threadKey,n[4]=h,n[5]=l,n[6]=s,n[7]=d,n[8]=S):S=n[8];var R;n[9]!==a.messageId||n[10]!==a.threadKey||n[11]!==y||n[12]!==C||n[13]!==l||n[14]!==m||n[15]!==p||n[16]!==_||n[17]!==f?(R=p!=null&&m!=null&&y!=null?u.jsxs(u.Fragment,{children:[u.jsx(r("IGDXMAAttachmentItemCtaButton.react"),{attachmentCta:y,ctaIconType:l,messageId:a.messageId,threadKey:a.threadKey,title:m,type:p}),f!=null&&_!=null&&C!=null?u.jsx(r("IGDXMAAttachmentItemCtaButton.react"),{attachmentCta:C,ctaIconType:l,messageId:a.messageId,threadKey:a.threadKey,title:_,type:f}):null]}):null,n[9]=a.messageId,n[10]=a.threadKey,n[11]=y,n[12]=C,n[13]=l,n[14]=m,n[15]=p,n[16]=_,n[17]=f,n[18]=R):R=n[18];var L;return n[19]!==v||n[20]!==S||n[21]!==R?(L=u.jsxs("div",babelHelpers.extends({},v,{children:[S,R]})),n[19]=v,n[20]=S,n[21]=R,n[22]=L):L=n[22],L}l.default=d}),98);
__d("MNXMASubtitleDecorationType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3,MESSENGER_ICON:4,INSTAGRAM_ICON:5,OCULUS_ICON:6,WHATSAPP_ICON:7,META_AI:8,META_HORIZON_ICON:9,VIBES_ICON:10});i.default=e}),66);
__d("MWPXMAIconParser",["ConstUriUtils","FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:return r("FBLogger")("messenger_web_sharing").mustfix("Unknown Icon color: %s",e),"gray"}}function s(t){if(t!=null){if(t.startsWith("https")||t.startsWith("blob"))return t;if(t.startsWith("ls")){var n=t.replace("ls","http"),r=o("ConstUriUtils").getUri(n);if(r!=null){var a=r.getQueryParam("icon"),i=r.getQueryParam("circleColor");if(typeof a=="string"&&typeof i=="string"){var l=e(i);return{color:l,icon:a}}}}}}l.parse=s}),98);
__d("MWXMAIconParser.react",["ix","FBLogger","FDSAirplaneFilled20Icon","FDSCalendarAddFilled20Icon","FDSCalendarFilled20Icon","FDSCamcorderCrossFilled20Icon","FDSCamcorderFilled20Icon","FDSCamcorderIncomingFilled20Icon","FDSCamcorderOutgoingFilled20Icon","FDSCamcorderPlusFilled20Icon","FDSCheckmarkCircleFilled20Icon","FDSCheckmarkFilled20Icon","FDSCrossFilled20Icon","FDSCurrencyUsdFilled20Icon","FDSDocumentFilled20Icon","FDSFriendConfirmFilled20Icon","FDSFriendRemoveFilled20Icon","FDSFriendRequestFilled20Icon","FDSGroupFilled20Icon","FDSKeyHouseFilled20Icon","FDSLocationFilled20Icon","FDSMapFilled20Icon","FDSPhoneCrossFilled20Icon","FDSPhoneFilled20Icon","FDSPhoneIncomingFilled20Icon","FDSPhoneOutgoingFilled20Icon","FDSPinFilled20Icon","FDSPostClockFilled20Icon","FDSPostSlashFilled20Icon","FDSShieldFilled20Icon","FDSShoppingCartFilled20Icon","FDSTagFilled20Icon","FDSWatchTvFilled20Icon","MWPXMAIconParser","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){switch(e){case"airplane":return r("FDSAirplaneFilled20Icon");case"calendar":return r("FDSCalendarFilled20Icon");case"calendar-add":return r("FDSCalendarAddFilled20Icon");case"camcorder":return r("FDSCamcorderFilled20Icon");case"camcorder-incoming":return r("FDSCamcorderIncomingFilled20Icon");case"camcorder-missed":return r("FDSCamcorderCrossFilled20Icon");case"camcorder-outgoing":return r("FDSCamcorderOutgoingFilled20Icon");case"camcorder-plus":return r("FDSCamcorderPlusFilled20Icon");case"checkmark-circle":return r("FDSCheckmarkCircleFilled20Icon");case"cross-circle":return r("FDSPostSlashFilled20Icon");case"currency-peso":return o("fbicon")._(s("1174630"),20);case"currency-pound":return o("fbicon")._(s("1174587"),20);case"currency-taka":return o("fbicon")._(s("182108"),20);case"currency-thai-baht":return o("fbicon")._(s("876716"),20);case"currency-usd":return r("FDSCurrencyUsdFilled20Icon");case"document-complete":return r("FDSDocumentFilled20Icon");case"friend-generic":return r("FDSFriendRequestFilled20Icon");case"friend-generic-checkmark":return r("FDSFriendConfirmFilled20Icon");case"group":return r("FDSGroupFilled20Icon");case"group-block":return r("FDSFriendRemoveFilled20Icon");case"location":return r("FDSLocationFilled20Icon");case"pin":return r("FDSPinFilled20Icon");case"phone":return r("FDSPhoneFilled20Icon");case"phone-incoming":return r("FDSPhoneIncomingFilled20Icon");case"phone-outgoing":return r("FDSPhoneOutgoingFilled20Icon");case"shield":return r("FDSShieldFilled20Icon");case"phone-missed":return r("FDSPhoneCrossFilled20Icon");case"question-circle":return r("FDSPostClockFilled20Icon");case"tag":return r("FDSTagFilled20Icon");case"watch":return r("FDSWatchTvFilled20Icon");case"map":return r("FDSMapFilled20Icon");case"house-keyhole":return r("FDSKeyHouseFilled20Icon");case"document":return r("FDSDocumentFilled20Icon");case"checkmark":return r("FDSCheckmarkFilled20Icon");case"shopping-cart":return r("FDSShoppingCartFilled20Icon");case"cross":return r("FDSCrossFilled20Icon");default:r("FBLogger")("messenger_web_sharing").mustfix("Unknown XMA Icon: %s",e);return}}function u(t){var n=o("MWPXMAIconParser").parse(t);if(n!=null){if(typeof n=="string")return n;var r=n.color,a=n.icon,i=e(a);if(i!=null)return{color:r,icon:i}}}l.parse=u}),98);
__d("MWXMAAttachmentItemIcon.react",["fbt","FDSImageCover.react","FDSSkittleIcon.react","InteractionTracingMetrics","MWXMAIconParser.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t,n=e.attachment,a=e.attachmentItem,i=e.getFaviconUrlXMA,l=e.mediaRenderQpl,d=o("MWXMAIconParser.react").parse((t=i(n,a,"MWXMAAttachmentItemIconImpl",l))!=null?t:"");return c(function(){l==null||l.addPoint("render-xma-attachment-item-icon",{bool:{has_icon:d!=null}}),d!=null&&r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-icon","AppTiming")})},[d,l]),d==null?null:typeof d=="string"?u.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn",children:u.jsx(r("FDSImageCover.react"),{alt:s._(/*BTDS*/"Icon for this message"),src:d,style:{borderRadius:"50%",height:"36px",width:"36px"}})}):u.jsx("div",{className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn",children:u.jsx(r("FDSSkittleIcon.react"),{color:d.color,icon:d.icon,size:36})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWXMAAttachmentItemIconWithPlaceholder.react",["CometPlaceholder.react","InteractionTracingMetrics","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemIcon.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={loadingPlaceholder:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function d(e){var t=e.attachment,n=e.attachmentItem,o=e.getFaviconUrlXMA,a=e.mediaRenderQpl;return u(function(){a==null||a.addPoint("render-xma-attachment-item-icon-with-placeholder"),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-icon-with-placeholder","AppTiming")})},[a]),s.jsx(r("CometPlaceholder.react"),{fallback:s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",height:36,width:36,xstyle:c.loadingPlaceholder}),name:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",children:s.jsx(r("MWXMAAttachmentItemIcon.react"),{attachment:t,attachmentItem:n,getFaviconUrlXMA:o,mediaRenderQpl:a})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXIcon_DEPRECATED.react",["cr:2058","cr:6570","getMDSIconColorCometFallback","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["backgroundEnabled","color"],u,c=u||(u=o("react"));function d(t){var r=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.backgroundEnabled,l=a.color,u=babelHelpers.objectWithoutPropertiesLoose(a,s);return n("cr:6570")!=null?c.jsx(n("cr:6570"),babelHelpers.extends({color:o("getMDSIconColorCometFallback").getMDSIconColorCometFallback(l),ref:r},u)):n("cr:2058")!=null?c.jsx(n("cr:2058"),babelHelpers.extends({backgroundEnabled:i,color:l,ref:r},u)):null}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["FDSAppThreadsFilled16Icon","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon_DEPRECATED.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=e.subtitleDecorationType;return o("Int64Hooks").useMemoInt64(function(){switch((s||(s=o("LSIntEnum"))).toNumber(t)){case r("MNXMASubtitleDecorationType").THREADS_ICON:return u.jsx(r("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:r("FDSAppThreadsFilled16Icon")});default:return null}},[t])}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("IGDXMAAttachmentItemBodyForCardMainText.react",["I64","IGDSBox.react","IGDSText.react","LSIntEnum","MNXMASubtitleDecorationType","MWXMAAttachmentItemIconWithPlaceholder.react","MWXMAAttachmentSubtitleDecoration.react","MWXMAIconParser.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(37),n=e.attachment,a=e.attachmentItem,i=e.body,l=e.captionBodyText,d=e.favIconUrl,m=e.subtitleDecorationType,p=e.title,_;t[0]!==d?(_=d!=null?o("MWXMAIconParser.react").parse(d):null,t[0]=d,t[1]=_):_=t[1];var f=_,g;t[2]!==n.maxTitleNumOfLines?(g=n.maxTitleNumOfLines!=null?(s||(s=o("I64"))).to_int32(n.maxTitleNumOfLines):3,t[2]=n.maxTitleNumOfLines,t[3]=g):g=t[3];var h=g,y;t[4]!==n.maxSubtitleNumOfLines?(y=n.maxSubtitleNumOfLines!=null?(s||(s=o("I64"))).to_int32(n.maxSubtitleNumOfLines):3,t[4]=n.maxSubtitleNumOfLines,t[5]=y):y=t[5];var C=y,b;t[6]!==f?(b={0:{className:"x6s0dn4 x78zum5 x1q0g3np x1iyjqo2"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x1iyjqo2 xyri2b x1c1uobl"}}[(f!=null)<<0],t[6]=f,t[7]=b):b=t[7];var v;t[8]!==n||t[9]!==a||t[10]!==d||t[11]!==f?(v=f!=null?c.jsx(r("MWXMAAttachmentItemIconWithPlaceholder.react"),{attachment:n,attachmentItem:a,getFaviconUrlXMA:function(){return d!=null?d:void 0},mediaRenderQpl:void 0},"icon"):null,t[8]=n,t[9]=a,t[10]=d,t[11]=f,t[12]=v):v=t[12];var S;t[13]!==f?(S={0:{className:"x78zum5 xdt5ytf"},1:{className:"x78zum5 xdt5ytf xg8j3zb xyqdw3p"}}[(f==null)<<0],t[13]=f,t[14]=S):S=t[14];var R;t[15]!==h||t[16]!==p?(R=!!p&&c.jsx(r("IGDSText.react"),{maxLines:h,size:"footnote",weight:"semibold",children:p}),t[15]=h,t[16]=p,t[17]=R):R=t[17];var L;t[18]!==n.defaultCtaType||t[19]!==l?(L=!!l&&n.defaultCtaType!=="igd_web_post_share"&&c.jsx(r("IGDSText.react"),{maxLines:5,size:"footnote",weight:"normal",children:l},"title"),t[18]=n.defaultCtaType,t[19]=l,t[20]=L):L=t[20];var E;t[21]!==i||t[22]!==C||t[23]!==m||t[24]!==p?(E=!!i&&c.jsxs("div",babelHelpers.extends({},{0:{},1:{className:"x6s0dn4 x78zum5 x1y1aw1k"}}[(p!=null)<<0],{children:[m!=null&&!(s||(s=o("I64"))).equal(m,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMASubtitleDecorationType").DEFAULT))?c.jsx(r("IGDSBox.react"),{marginEnd:2,children:c.jsx(r("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:m})}):null,c.jsx(r("IGDSText.react"),{color:"secondaryText",maxLines:C,size:"footnote",children:i})]})),t[21]=i,t[22]=C,t[23]=m,t[24]=p,t[25]=E):E=t[25];var k;t[26]!==R||t[27]!==L||t[28]!==E?(k=c.jsxs("div",{children:[R,L,E]}),t[26]=R,t[27]=L,t[28]=E,t[29]=k):k=t[29];var I;t[30]!==k||t[31]!==S?(I=c.jsx("div",babelHelpers.extends({},S,{children:k})),t[30]=k,t[31]=S,t[32]=I):I=t[32];var T;return t[33]!==I||t[34]!==b||t[35]!==v?(T=c.jsxs("div",babelHelpers.extends({},b,{children:[v,I]})),t[33]=I,t[34]=b,t[35]=v,t[36]=T):T=t[36],T}l.default=d}),98);
__d("IGDPollFacepile.react",["fbt","BaseTooltipMultilineContent.react","CometPressable.react","FDSTooltip.react","FDSTooltipGroup.react","IGDSAvatar.react","IGDSText.react","intlSummarizeNumber","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={contact:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},contactGapNegative:{marginInlineStart:"x137kccz",$$css:!0},contactGapNormal:{marginInlineStart:"xdwrcjd",$$css:!0},contactLarge:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},contactMedium:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},contactSmall:{height:"xmix8c7",width:"x1xp8n7a",$$css:!0},overflow:{alignItems:"x6s0dn4",backgroundColor:"x1wpzbip",display:"x78zum5",$$css:!0},overflowLarge:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"x10w6t97",marginInlineStart:"x1qfufaz",paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",$$css:!0},overflowMedium:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"x1qx5ct2",marginInlineStart:"xw01apr",paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",$$css:!0},overflowSmall:{borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"x1v9usgg",marginInlineStart:"x165d6jo",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",$$css:!0},photoWrap:{display:"x1rg5ohu",marginBottom:"x4ii5y1",marginTop:"xr1yuqi",position:"x1n2onr6",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(27),a=t.contacts,i=t.contactWithBorderStyle,l=t.countOverride,s=t.direction,u=t.gap,m=t.limit,f=t.onPress,g=t.showTooltip,h=t.size,y=s===void 0?"normal":s,C=u===void 0?"normal":u,b=m===void 0?3:m,v=g===void 0?!0:g,S=l!=null?l:a.length;if(S===0)return null;var R=S<=b?Math.min(b,a.length):b-1,L=S-R,E=L>0,k;n[0]!==a||n[1]!==R||n[2]!==E||n[3]!==L||n[4]!==v||n[5]!==h?(k=E?c.jsx(_,{contacts:a,facepileCount:R,overflowCount:L,showTooltip:v,size:h}):null,n[0]=a,n[1]=R,n[2]=E,n[3]=L,n[4]=v,n[5]=h,n[6]=k):k=n[6];var I=k,T;if(n[7]!==i||n[8]!==a||n[9]!==R||n[10]!==C||n[11]!==E||n[12]!==v||n[13]!==h){var D;n[15]!==i||n[16]!==C||n[17]!==v||n[18]!==h?(D=function(n,o){var t;return c.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.photoWrap,C==="normal"?d.contactGapNormal:d.contactGapNegative,h==="medium"?d.contactMedium:h==="small"?d.contactSmall:d.contactLarge),{key:String(o)}),c.jsx(p,{tooltip:v&&n.name!=null?n.name:null,children:c.jsx(r("IGDSAvatar.react"),{alt:(t=n.name)!=null?t:"",size:h==="medium"?"extraSmall":h==="small"?"micro":"small",src:n.profile_picture_url,xstyle:[d.contact,i]})}))},n[15]=i,n[16]=C,n[17]=v,n[18]=h,n[19]=D):D=n[19],T=a.slice(-(E?R:1e3)).reverse().map(D),n[7]=i,n[8]=a,n[9]=R,n[10]=C,n[11]=E,n[12]=v,n[13]=h,n[14]=T}else T=n[14];var x;n[20]!==I||n[21]!==T?(x=c.jsxs(r("FDSTooltipGroup.react"),{children:[I,T]}),n[20]=I,n[21]=T,n[22]=x):x=n[22];var $=x,P;return n[23]!==y||n[24]!==$||n[25]!==f?(P=f!=null?c.jsx(r("CometPressable.react"),{onPress:f,overlayDisabled:!0,xstyle:[d.root,y==="reversed"?d.rootReversed:null],children:$}):c.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 xl56j7k"},1:{className:"x6s0dn4 x78zum5 xl56j7k x15zctf7"}}[(y==="reversed")<<0],{children:$})),n[23]=y,n[24]=$,n[25]=f,n[26]=P):P=n[26],P}function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.tooltip;if(a==null)return n;var i;return t[0]!==n||t[1]!==a?(i=c.jsx(r("FDSTooltip.react"),{align:"middle",position:"above",tooltip:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function _(t){var n=o("react-compiler-runtime").c(18),a=t.contacts,i=t.facepileCount,l=t.overflowCount,u=t.showTooltip,m=t.size,_;n[0]!==a||n[1]!==i?(_=a.slice(0,-i).reverse().filter(g).map(f),n[0]=a,n[1]=i,n[2]=_):_=n[2];var h=_,y;n[3]!==h?(y=h.length===0?void 0:c.jsx(r("BaseTooltipMultilineContent.react"),{children:h}),n[3]=h,n[4]=y):y=n[4];var C=y,b=u&&C!=null?C:null,v;n[5]!==m?(v=(e||(e=r("stylex"))).props([d.overflow,m==="medium"?d.overflowMedium:m==="small"?d.overflowSmall:d.overflowLarge]),n[5]=m,n[6]=v):v=n[6];var S=m==="medium"?"body":m==="small"?"miniscule":"label",R;n[7]!==l?(R=s._(/*BTDS*/"+{number of users}",[s._param("number of users",r("intlSummarizeNumber")(l))]),n[7]=l,n[8]=R):R=n[8];var L;n[9]!==S||n[10]!==R?(L=c.jsx(r("IGDSText.react"),{color:"primaryText",size:S,textAlign:"center",children:R}),n[9]=S,n[10]=R,n[11]=L):L=n[11];var E;n[12]!==v||n[13]!==L?(E=c.jsx("div",babelHelpers.extends({},v,{children:L})),n[12]=v,n[13]=L,n[14]=E):E=n[14];var k;return n[15]!==b||n[16]!==E?(k=c.jsx(p,{tooltip:b,children:E}),n[15]=b,n[16]=E,n[17]=k):k=n[17],k}function f(e){var t=e.name;return t!=null?t:""}function g(e){return e.name!=null}l.default=m}),226);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.attachment,n=e.renderDefaultListItem,r=e.renderPercentageListItem,a=[{contactUrlExpirationTimestampList:t.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:t.listItemContactUrlFallbackList1,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList1(t),id:t.listItemId1,progressBarFilledPercentage:t.listItemProgressBarFilledPercentage1,titleText:t.listItemTitleText1,totalCount:t.listItemTotalCount1},{contactUrlExpirationTimestampList:t.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:t.listItemContactUrlFallbackList2,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList2(t),id:t.listItemId2,progressBarFilledPercentage:t.listItemProgressBarFilledPercentage2,titleText:t.listItemTitleText2,totalCount:t.listItemTotalCount2},{contactUrlExpirationTimestampList:t.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:t.listItemContactUrlFallbackList3,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList3(t),id:t.listItemId3,progressBarFilledPercentage:t.listItemProgressBarFilledPercentage3,titleText:t.listItemTitleText3,totalCount:t.listItemTotalCount3}],i=[];return a.forEach(function(e){var t=e.contactUrlExpirationTimestampList,n=e.contactUrlFallbackList,r=e.contactUrlList,o=e.id,a=e.progressBarFilledPercentage,l=e.titleText,s=e.totalCount;if(o!=null){var u=r!=null?r.split(","):[],c=t!=null?t.split(","):[],d=n!=null?n.split(","):[];i.push({contacts:u.map(function(e,t){return{url:e,urlExpirationTimestamp:c[t],urlFallback:d[t]}}),id:o,progressBarFilledPercentage:a,titleText:l,totalCount:s})}}),s.jsx(o("react-strict-dom").html.ul,{children:i.map(function(e){var t=e.progressBarFilledPercentage;return t!=null?r(e,t):n(e)})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDXMAAttachmentItemListItems.react",["I64","IGDPollFacepile.react","IGDSText.react","MWLSThreadDisplayContext","MWXMAAttachmentItemListItemsBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c={contactWithBorderStyle:{borderTopColor:"xbhhrqq",borderInlineEndColor:"x14esgxp",borderBottomColor:"x1szfnsn",borderInlineStartColor:"xifc02g",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(5),n=e.attachment,a=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),i;t[0]!==a?(i=function(t,n){return u.jsxs("li",{className:"x14vqqas",children:[u.jsxs("div",{className:"x78zum5 x1qughib",children:[t.titleText!=null?u.jsx(r("IGDSText.react"),{color:"primaryText",maxLines:a==="Inbox"?3:1,size:"body",weight:"semibold",children:t.titleText}):null,u.jsx("div",{className:"x13fj5qh",children:u.jsx(r("IGDPollFacepile.react"),{contacts:t.contacts.map(m),contactWithBorderStyle:c.contactWithBorderStyle,countOverride:t.totalCount!=null?(s||(s=o("I64"))).to_int32(t.totalCount):void 0,direction:"reversed",gap:"negative",size:"small"})})]}),u.jsx("div",{className:"x1wpzbip x1obq294 x5a5i1n xde0f50 x15x8krk xdk7pt xod5an3 x1xmf6yo",children:u.jsx("div",{className:"x1nmnskg x1obq294 x5a5i1n xde0f50 x15x8krk xdk7pt",style:{width:Math.min((s||(s=o("I64"))).to_int32(n),100)+"%"}})})]},s.to_string(t.id))},t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=u.jsx(r("MWXMAAttachmentItemListItemsBase.react"),{attachment:n,renderDefaultListItem:p,renderPercentageListItem:i}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}function m(e){return{name:void 0,profile_picture_url:e.url}}function p(e){return u.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:u.jsxs("div",{children:[u.jsx(r("IGDPollFacepile.react"),{contacts:e.contacts.map(_),contactWithBorderStyle:c.contactWithBorderStyle,countOverride:e.totalCount!=null?(s||(s=o("I64"))).to_int32(e.totalCount):void 0,limit:9,size:"large"}),e.titleText!=null?u.jsx("div",{className:"xdwrcjd x1xmf6yo",children:u.jsx(r("IGDSText.react"),{color:"primaryText",maxLines:2,size:"body",weight:"semibold",children:e.titleText})}):null]})},(s||(s=o("I64"))).to_string(e.id))}p.displayName=p.name+" [from "+i.id+"]";function _(e){return{name:void 0,profile_picture_url:e.url}}l.default=d}),98);
__d("IGDXMAAttachmentItemBodyListItems.react",["IGDSText.react","IGDXMAAttachmentItemListItems.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a;t[0]!==n.listItemsDescriptionText?(a=n.listItemsDescriptionText!=null?s.jsx(c,{listItemsDescriptionText:n.listItemsDescriptionText}):null,t[0]=n.listItemsDescriptionText,t[1]=a):a=t[1];var i;t[2]!==n?(i=n.listItemId1!=null?s.jsx(r("IGDXMAAttachmentItemListItems.react"),{attachment:n}):null,t[2]=n,t[3]=i):i=t[3];var l;t[4]!==n.listItemsSecondaryDescriptionText?(l=n.listItemsSecondaryDescriptionText!=null?s.jsx(d,{listItemsSecondaryDescriptionText:n.listItemsSecondaryDescriptionText}):null,t[4]=n.listItemsSecondaryDescriptionText,t[5]=l):l=t[5];var u;return t[6]!==a||t[7]!==i||t[8]!==l?(u=s.jsxs(s.Fragment,{children:[a,i,l]}),t[6]=a,t[7]=i,t[8]=l,t[9]=u):u=t[9],u}function c(e){var t=o("react-compiler-runtime").c(3),n=e.listItemsDescriptionText,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k x2fvf9"},t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx("div",babelHelpers.extends({},a,{children:s.jsx(r("IGDSText.react"),{color:"primaryText",maxLines:4,size:"label",weight:"bold",children:n})})),t[1]=n,t[2]=i):i=t[2],i}function d(e){var t=o("react-compiler-runtime").c(3),n=e.listItemsSecondaryDescriptionText,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"xod5an3"},t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx("div",babelHelpers.extends({},a,{children:s.jsx(r("IGDSText.react"),{color:"secondaryText",elementType:"h4",maxLines:3,size:"footnote",weight:"semibold",children:n})})),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.previewUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.previewUrlFallback:e.previewUrl}function s(e){var t=e.previewUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.previewUrlFallback:e.previewUrlLarge}function u(e){var t=e.playableUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.playableUrlFallback:e.playableUrl}function c(e){var t=e.faviconUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.faviconUrlFallback:e.faviconUrl}l.previewUrl=e,l.previewUrlLarge=s,l.playableUrl=u,l.faviconUrl=c}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.createContext,p=d.useContext,_=d.useMemo,f=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),g=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),h=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(t){return null}});function y(e){var t=e.attachment,n=e.attachmentItem,r=e.children,a=e.renderPressable,i=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),l=i.hasLSThreadBitOffset,s=l(25),u=l(24),d=t.defaultCtaType,m=n.attachmentCta1Id!=null,p=d!=null?g.has(d)&&!s||f.has(d)&&!u:!1,y=_(function(){return{hasAtLeastOneCta:m,isDisabledRtcXma:p,renderPressable:a}},[a,m,p]);return c.jsx(h.Provider,{value:y,children:!m&&!p?a(r):r})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.children,n=p(h);return n.hasAtLeastOneCta&&!n.isDisabledRtcXma?n.renderPressable(t):t}C.displayName=C.name+" [from "+i.id+"]";var b={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function v(e){var t=e.attachmentItem,n=e.url,a=t.previewHeight,i=t.previewWidth;return c.jsx(o("react-strict-dom").html.div,{style:b.container,children:c.jsx(r("BaseImage.react"),{height:a!=null?(s||(s=o("I64"))).to_int32(a):void 0,src:n,width:i!=null?(s||(s=o("I64"))).to_int32(i):void 0,xstyle:b.image})})}v.displayName=v.name+" [from "+i.id+"]";function S(e){var t,n=e.attachment,r=e.attachmentItem,a=e.description,i=e.getPreviewUrl,l=e.mediaRenderQpl,s=e.preferLargePreview,u=s===void 0?!1:s,c=o("LSMediaUrlAttachmentItem").playableUrl(r),d=o("LSMediaUrlAttachment").previewUrlLarge(n),m=u&&(t=o("LSMediaUrlAttachmentItem").previewUrlLarge(r))!=null?t:o("LSMediaUrlAttachmentItem").previewUrl(r),p=i==null?o("LSMediaUrlAttachment").previewUrl(n):i(n,r,"MWPBaseXMAAttachmentItem.getXMAAttachmentItemPreview - "+a,l),_=u&&d!=null?d:m!=null?m:p,f=r.playableUrlMimeType,g=f!=null?f.includes("video")?"video":f.includes("image")?"image":"unsupported":"unsupported";return g==="video"&&c!=null?{type:"Video",url:c}:_!=null?{type:"Image",url:_}:g==="image"&&c!=null?{type:"Image",url:c}:{hasPlayableUrl:c!=null,hasPreviewUrl:_!=null,mimeType:g,playableUrlMimeType:r.playableUrlMimeType,type:"Unsupported"}}function R(e,t){var n=e.xmaLayoutType!=null&&!(s||(s=o("I64"))).equal(e.xmaLayoutType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").HSCROLL)),a=t.titleText,i=a!=null||!n?a:e.titleText,l=t.subtitleText,c=l!=null||!n?l:e.subtitleText;return[i,c]}l.MWPBaseXMAAttachmentItemPressableContext=h,l.MWPBaseXMAAttachmentItemPressable=y,l.MWPBaseXMAAttachmentItemPressableNested=C,l.MWPBaseXMAAttachmentItemImage=v,l.getXMAAttachmentItemPreview=S,l.useTitleAndSubtitle=R}),98);
__d("IGDXMAAttachmentItemBody.react",["BaseImage.react","I64","IGDSText.react","IGDXMAAttachmentItemBodyCta.react","IGDXMAAttachmentItemBodyForCardMainText.react","IGDXMAAttachmentItemBodyListItems.react","LSIntEnum","LSMediaUrlAttachment","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIconParser","MWSearchPluginUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(12),n=e.attachment,a=e.attachmentItem,i=e.favIconUrl,l=o("MWPBaseXMAAttachmentItem.react").useTitleAndSubtitle(n,a),s=l[0],u=l[1],d=u,f=n.captionBodyText,g=n.subtitleDecorationType,h,y;if(t[0]!==n||t[1]!==a||t[2]!==d||t[3]!==f||t[4]!==i||t[5]!==g||t[6]!==s){y=Symbol.for("react.early_return_sentinel");e:{var C=[];if(s||d){var b=c.jsx(r("IGDXMAAttachmentItemBodyForCardMainText.react"),{attachment:n,attachmentItem:a,body:d,captionBodyText:f,favIconUrl:i,subtitleDecorationType:g,title:s});C.push(b)}var v=o("MWSearchPluginUtils").isSearchSingleBubblePlugin(n);if(v){y=null;break e}if(n.attachmentCta1Id!=null&&(C.push(c.jsx(r("IGDXMAAttachmentItemBodyListItems.react"),{attachment:n})),C.push(c.jsx(r("IGDXMAAttachmentItemBodyCta.react"),{attachment:n,attachmentItem:a}))),C.length===0){y=null;break e}h=C.filter(_).reduce(p,[]).map(m)}t[0]=n,t[1]=a,t[2]=d,t[3]=f,t[4]=i,t[5]=g,t[6]=s,t[7]=h,t[8]=y}else h=t[7],y=t[8];if(y!==Symbol.for("react.early_return_sentinel"))return y;var S=h,R;t[9]===Symbol.for("react.memo_cache_sentinel")?(R={className:"xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},t[9]=R):R=t[9];var L;return t[10]!==S?(L=c.jsx("div",babelHelpers.extends({},R,{children:c.jsx(o("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:S})})),t[10]=S,t[11]=L):L=t[11],L}function m(e,t){return c.jsx(c.Fragment,{children:e},String(t)+"_item")}m.displayName=m.name+" [from "+i.id+"]";function p(e,t){return e.concat(t)}function _(e){return e!=null}var f={image:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x1qx5ct2",width:"xw4jnvo",$$css:!0}};function g(e){var t=o("react-compiler-runtime").c(9),n=e.attachment;if(n.headerTitle==null)return null;var a;t[0]!==n?(a=o("MWPXMAIconParser").parse(o("LSMediaUrlAttachment").headerImageUrl(n)),t[0]=n,t[1]=a):a=t[1];var i=a,l;t[2]!==i?(l=typeof i=="string"?c.jsx(r("BaseImage.react"),{src:i,xstyle:f.image}):null,t[2]=i,t[3]=l):l=t[3];var s;t[4]!==n.headerTitle?(s=c.jsx(r("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",weight:"semibold",children:n.headerTitle}),t[4]=n.headerTitle,t[5]=s):s=t[5];var u;return t[6]!==l||t[7]!==s?(u=c.jsxs(c.Fragment,{children:[l,s]}),t[6]=l,t[7]=s,t[8]=u):u=t[8],u}function h(e){var t=o("react-compiler-runtime").c(7),n=e.attachment,a=e.attachmentItem,i=e.favIconUrl;if(n.xmaLayoutType!=null&&(s||(s=o("I64"))).equal(n.xmaLayoutType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").PORTRAIT))){var l;return t[0]!==n||t[1]!==a?(l=c.jsx(g,{attachment:n,attachmentItem:a}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}var m;return t[3]!==n||t[4]!==a||t[5]!==i?(m=c.jsx(d,{attachment:n,attachmentItem:a,favIconUrl:i}),t[3]=n,t[4]=a,t[5]=i,t[6]=m):m=t[6],m}l.default=h}),98);
__d("IGDXMAAttachmentItemHeaderImage.react",["BaseImage.react","I64","IGDSBox.react","LSIntEnum","MNXMAPreviewImageDecorationType","MWPXMAIconParser","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d={default:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",width:"x1td3qas",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",marginInlineEnd:"x1xegmmw",$$css:!0},small:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x1qx5ct2",width:"xw4jnvo",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(6),n=e.attachment,a=e.getHeaderImageUrlXMA,i;t[0]!==n||t[1]!==a?(i=o("MWPXMAIconParser").parse(a(n)),t[0]=n,t[1]=a,t[2]=i):i=t[2];var l=i;if(typeof l!="string")return null;var m=n.previewImageDecorationType!=null&&(s||(s=o("I64"))).equal(n.previewImageDecorationType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))?d.small:d.default,p;return t[3]!==l||t[4]!==m?(p=c.jsx(r("IGDSBox.react"),{xstyle:d.root,children:c.jsx(r("BaseImage.react"),{src:l,xstyle:m})}),t[3]=l,t[4]=m,t[5]=p):p=t[5],p}l.default=m}),98);
__d("LSVerifiedType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2,VERIFIED_HEADER_TITLE_ONLY:3,VERIFIED_CONTENT_TITLE_ONLY:4});i.default=e}),66);
__d("IGDXMAAttachmentItemHeaderTitleText.react",["I64","IGDSBox.react","IGDSText.react","IGDSVerifiedIcon.react","IGDXMAAttachmentItemUtil","LSIntEnum","LSVerifiedType","PolarisFastLink.react","PolarisGenericStrings","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d={headerText:{maxWidth:"xq8v1hd",$$css:!0},titleTextWithShadow:{textShadow:"x1altmpn",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(22),n=e.attachment,a=e.defaultCta,i=e.overlayingMedia,l=n.verifiedType,m=o("IGDXMAAttachmentItemUtil").getIsOverlayHeaderInternal(n),p=m[0],_=m[1],f=n.headerSubtitleText,g=n.headerTitle,h;t[0]!==l?(h=l!=null?(s||(s=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("LSVerifiedType").DEFAULT)):!1,t[0]=l,t[1]=h):h=t[1];var y=h,C=a!=null&&a.type_==="igd_web_post_share",b=p?"webAlwaysWhite":"primaryText",v;t[2]!==g||t[3]!==b?(v=c.jsx(r("IGDSText.react"),{color:b,maxLines:1,size:"body",weight:"semibold",children:g}),t[2]=g,t[3]=b,t[4]=v):v=t[4];var S=v;if(g==null)return null;var R=i?2:0,L=_?d.titleTextWithShadow:!1,E;t[5]!==S||t[6]!==g||t[7]!==C?(E=C?c.jsx(r("PolarisFastLink.react"),{href:"/"+g+"/",xstyle:d.headerText,children:S}):S,t[5]=S,t[6]=g,t[7]=C,t[8]=E):E=t[8];var k;t[9]!==y||t[10]!==i?(k=y?c.jsx(r("IGDSBox.react"),{marginStart:1,children:c.jsx(r("IGDSVerifiedIcon.react"),{alt:o("PolarisGenericStrings").VERIFIED_TEXT,color:i?"ig-text-on-media":"ig-primary-button",size:14})}):null,t[9]=y,t[10]=i,t[11]=k):k=t[11];var I;t[12]!==R||t[13]!==L||t[14]!==E||t[15]!==k?(I=c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",marginEnd:R,minWidth:0,xstyle:L,children:[E,k]}),t[12]=R,t[13]=L,t[14]=E,t[15]=k,t[16]=I):I=t[16];var T;t[17]!==f?(T=r("isStringNullOrEmpty")(f)?null:c.jsx(r("IGDSBox.react"),{marginTop:1,children:c.jsx(r("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",children:f})}),t[17]=f,t[18]=T):T=t[18];var D;return t[19]!==I||t[20]!==T?(D=c.jsxs(r("IGDSBox.react"),{direction:"column",flex:"grow",children:[I,T]}),t[19]=I,t[20]=T,t[21]=D):D=t[21],D}l.default=m}),98);
__d("IGDXMAAttachmentItemHeader.react",["IGDSBox.react","IGDXMAAttachmentItemHeaderImage.react","IGDXMAAttachmentItemHeaderTitleText.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","MWSearchPluginUtils","PolarisFastLink.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={header:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},overlay:{insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",$$css:!0},searchPluginContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(11),n=e.attachment,a=e.attachmentItem,i=e.children,l=e.defaultCta,c=o("IGDXMAAttachmentItemUtil").getIsOverlayHeaderInternal(n),d=c[0],m=o("MWSearchPluginUtils").isSearchSingleBubblePlugin(n);if(m&&l!=null){var p;return t[0]!==i||t[1]!==l.actionUrl?(p=s.jsx(r("PolarisFastLink.react"),{href:l.actionUrl,target:"_blank",xstyle:u.searchPluginContainer,children:i}),t[0]=i,t[1]=l.actionUrl,t[2]=p):p=t[2],p}var _=d?u.overlay:!1,f;t[3]!==_?(f=[u.header,_],t[3]=_,t[4]=f):f=t[4];var g;t[5]!==a||t[6]!==i?(g=s.jsx(r("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:a,xstyle:u.pressable,children:i}),t[5]=a,t[6]=i,t[7]=g):g=t[7];var h;return t[8]!==f||t[9]!==g?(h=s.jsx(r("IGDSBox.react"),{xstyle:f,children:g}),t[8]=f,t[9]=g,t[10]=h):h=t[10],h}function d(e){var t=o("react-compiler-runtime").c(13),n=e.attachment,a=e.attachmentItem,i=e.getHeaderImageUrlXMA,l=e.overlayingMedia,u=l===void 0?!1:l,d=o("IGDXMAAttachmentItemUtil").useGetAttachmentCta(a.defaultCtaId),m=n.headerTitle;if(m==null)return null;var p;t[0]!==n||t[1]!==i?(p=s.jsx(r("IGDXMAAttachmentItemHeaderImage.react"),{attachment:n,getHeaderImageUrlXMA:i}),t[0]=n,t[1]=i,t[2]=p):p=t[2];var _;t[3]!==n||t[4]!==d||t[5]!==u?(_=s.jsx(r("IGDXMAAttachmentItemHeaderTitleText.react"),{attachment:n,defaultCta:d,overlayingMedia:u}),t[3]=n,t[4]=d,t[5]=u,t[6]=_):_=t[6];var f;return t[7]!==n||t[8]!==a||t[9]!==d||t[10]!==p||t[11]!==_?(f=s.jsxs(c,{attachment:n,attachmentItem:a,defaultCta:d,children:[p,_]}),t[7]=n,t[8]=a,t[9]=d,t[10]=p,t[11]=_,t[12]=f):f=t[12],f}l.default=d}),98);
__d("MWPXMAGatedAttachmentPreview.react",["MWVerticalRhythm","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={tintOverlay:{height:"x5yr21d",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0}},d={4:{filter:"x1qgin71",$$css:!0},8:{filter:"x1wd8k3y",$$css:!0},12:{filter:"x1uo6jdl",$$css:!0}},m={"0.35":{backgroundColor:"x1sag07j",$$css:!0},"0.5":{backgroundColor:"xcpsgoo",$$css:!0}};function p(t){var n=t.blur,o=n===void 0?12:n,a=t.children,i=t.icon,l=t.subtitle,s=t.tint,p=s===void 0?.35:s,_=t.title;return u.jsxs("div",{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6",children:[u.jsxs("div",{className:"x6ikm8r x10wlt62 x1n2onr6 xh8yej3",children:[u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([c.tintOverlay,m[p]]))),u.jsxs("div",babelHelpers.extends({},e.props(d[o]),{children:[" ",a," "]}))]}),u.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d x1o0tod xl56j7k xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x13vifvy xh8yej3 x1vjfegm",children:[i,_!=null&&u.jsx(r("MWVerticalRhythm"),{height:12}),_,l!=null&&u.jsx(r("MWVerticalRhythm"),{height:12}),l]})]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("IGDXMAFalseInformationAttachmentPreview.react",["fbt","IGDSText.react","MWPXMAGatedAttachmentPreview.react","PolarisDirectConstants","PolarisMediaOverlayInfoTypes","PolarisSensitivityOverlayIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.children,a=e.gatingLayoutType;switch(a){case o("PolarisDirectConstants").InformTreatmentTypeValues.WARNING_SCREENS:{var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:o("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.EYE_OFF}),t[0]=i):i=t[0];var l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDSText.react"),{color:"webAlwaysWhite",size:"body",textAlign:"center",children:s._(/*BTDS*/"View post for info")}),t[1]=l):l=t[1];var c;return t[2]!==n?(c=u.jsx(r("MWPXMAGatedAttachmentPreview.react"),{blur:4,icon:i,title:l,children:n}),t[2]=n,t[3]=c):c=t[3],c}default:return null}}l.default=c}),226);
__d("IGDXMAAttachmentItemPreview.react",["fbt","CometObjectFitContainer.react","CometPlaceholder.react","I64","IGDSGlimmer.react","IGDSMediaCarouselFilledIcon.react","IGDXMAFalseInformationAttachmentPreview.react","Int64Hooks","LSIntEnum","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useIGDAttachmentUrl"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDVideoPlayer.react").__setRef("IGDXMAAttachmentItemPreview.react")),p={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(10),n=e.attachmentItem,a=e.children,i;t[0]!==n.previewWidth?(i=n.previewWidth!=null?(u||(u=o("I64"))).to_int32(n.previewWidth):0,t[0]=n.previewWidth,t[1]=i):i=t[1];var l=i,s;t[2]!==n.previewHeight?(s=n.previewHeight!=null?(u||(u=o("I64"))).to_int32(n.previewHeight):0,t[2]=n.previewHeight,t[3]=s):s=t[3];var c=s,m=l!==0&&c!==0?l/c:0,_=c>250&&m<.8,f=_?.8:m,g;t[4]===Symbol.for("react.memo_cache_sentinel")?(g=d.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:d.jsx(r("IGDSGlimmer.react"),{index:0,xstyle:p.glimmer})}),t[4]=g):g=t[4];var h;t[5]!==a?(h=d.jsx(r("CometPlaceholder.react"),{fallback:g,name:"IGDXMAAttachmentItemVideoContainer",children:a}),t[5]=a,t[6]=h):h=t[6];var y;return t[7]!==f||t[8]!==h?(y=d.jsx(r("CometObjectFitContainer.react"),{contentAspectRatio:f,children:h}),t[7]=f,t[8]=h,t[9]=y):y=t[9],y}function f(e){var t=o("react-compiler-runtime").c(3),n,a;return t[0]!==e?(n=function(){if((u||(u=o("I64"))).equal(e,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").COLLAGE)))return d.jsx(r("IGDSMediaCarouselFilledIcon.react"),{alt:s._(/*BTDS*/"Collage").toString(),color:"web-always-white"})},a=[e],t[0]=e,t[1]=n,t[2]=a):(n=t[1],a=t[2]),o("Int64Hooks").useMemoInt64(n,a)}function g(e){var t,n=o("react-compiler-runtime").c(42),a=e.attachment,i=e.attachmentItem,l=e.getPreviewImageUrlXMA,c=e.mediaRenderQpl,p=e.size,g=p===void 0?"large":p,h=(t=a.previewImageDecorationType)!=null?t:(u||(u=o("I64"))).zero,y=f(h),C=o("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(a,!0),b;n[0]!==l||n[1]!==C?(b=function(t,n){return C!=null?C:l(t,n)},n[0]=l,n[1]=C,n[2]=b):b=n[2];var v=g==="large",S;n[3]!==a||n[4]!==i||n[5]!==c||n[6]!==b||n[7]!==v?(S=o("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:a,attachmentItem:i,description:"IGDXMAAttachmentItemPreview",getPreviewUrl:b,mediaRenderQpl:c,preferLargePreview:v}),n[3]=a,n[4]=i,n[5]=c,n[6]=b,n[7]=v,n[8]=S):S=n[8];var R=S,L=null;e:switch(R.type){case"Video":{var E;n[9]!==i.previewWidth?(E=i.previewWidth!=null?(u||(u=o("I64"))).to_int32(i.previewWidth):0,n[9]=i.previewWidth,n[10]=E):E=n[10];var k=E,I;n[11]!==i.previewHeight?(I=i.previewHeight!=null?(u||(u=o("I64"))).to_int32(i.previewHeight):0,n[11]=i.previewHeight,n[12]=I):I=n[12];var T=I,D=a.accessibilitySummaryText,x=a.titleText,$;if(n[13]!==D||n[14]!==x){var P,N=s._(/*BTDS*/"Animated image");$=(P=D!=null?D:x)!=null?P:N.toString(),n[13]=D,n[14]=x,n[15]=$}else $=n[15];var M=$,w;n[16]!==M||n[17]!==a.shouldAutoplayVideo||n[18]!==i.attachmentFbid||n[19]!==R.url||n[20]!==T||n[21]!==c||n[22]!==k?(w=d.jsx(m,{altText:M,fbid:i.attachmentFbid,isGif:a.shouldAutoplayVideo,mediaRenderQpl:c,originalHeight:T,originalWidth:k,sdSrc:R.url}),n[16]=M,n[17]=a.shouldAutoplayVideo,n[18]=i.attachmentFbid,n[19]=R.url,n[20]=T,n[21]=c,n[22]=k,n[23]=w):w=n[23];var A;n[24]!==a||n[25]!==i||n[26]!==w?(A=d.jsx(_,{attachment:a,attachmentItem:i,children:w}),n[24]=a,n[25]=i,n[26]=w,n[27]=A):A=n[27],L=A;break e}case"Image":{var F;n[28]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x1n2onr6"},n[28]=F):F=n[28];var O;n[29]!==y||n[30]!==g?(O=y!=null&&g!=="small"?d.jsx("div",{className:"x1xr83ln xtijo5x xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x10l6tqk x13vifvy x1vjfegm",children:y}):null,n[29]=y,n[30]=g,n[31]=O):O=n[31];var B;n[32]!==i||n[33]!==R.url?(B=d.jsx(o("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemImage,{attachmentItem:i,url:R.url}),n[32]=i,n[33]=R.url,n[34]=B):B=n[34];var W;n[35]!==O||n[36]!==B?(W=d.jsxs("div",babelHelpers.extends({},F,{children:[O,B]})),n[35]=O,n[36]=B,n[37]=W):W=n[37],L=W;break e}case"Unsupported":L=null}if(a.gatingTitle!=null&&a.gatingType!=null&&a.gatingTitle!==""&&a.gatingType!==""){var q;return n[38]!==a.gatingTitle||n[39]!==a.gatingType||n[40]!==L?(q=d.jsx(r("IGDXMAFalseInformationAttachmentPreview.react"),{gatingLayoutType:a.gatingType,gatingTitleType:a.gatingTitle,children:L}),n[38]=a.gatingTitle,n[39]=a.gatingType,n[40]=L,n[41]=q):q=n[41],q}return L}l.default=g}),226);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=2,c={gridImage:{bottom:"x1ey2m1c",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function d(e){var t=e.urls;return s.jsx("ul",{className:"x78zum5 x1a02dak xe9ewy2 x1kgmq87",children:t.map(function(e){return s.jsx("li",{className:"x1yu6fn4",children:s.jsx("div",{className:"xqtp20y xwklpps xr9ek0c x1vrad04 x1n2onr6",children:s.jsx(r("BaseImage.react"),{src:e,xstyle:c.gridImage})})},e)})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c=function(t){var e=t.previewUrl;return e};function d(e){var t=o("react-compiler-runtime").c(5),n=e.attachmentItems,a;t[0]!==n?(a=n.map(c).filter(Boolean),t[0]=n,t[1]=a):a=t[1];var i=a,l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x193iq5w xgqtt45 xdzyupr"},t[2]=l):l=t[2];var u;return t[3]!==i?(u=s.jsx("div",babelHelpers.extends({},l,{children:s.jsx(r("MWPResponsiveImageGrid.react"),{urls:i})})),t[3]=i,t[4]=u):u=t[4],u}l.default=d}),98);
__d("IGDXMAAttachmentCard.react",["I64","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemBody.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIgProfile.react","WAArmadilloXMA.pb","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d={flattenTop:{borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0},reply:{transform:"x1gqj70i",$$css:!0},root:{backgroundColor:"x19g9edo",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(47),n=e.attachment,a=e.attachmentItem,i=e.attachmentItems,l=e.connectBottom,m=e.connectTop,p=e.getFaviconUrlXMA,_=e.getHeaderImageUrlXMA,f=e.getPreviewImageUrlXMA,g=e.hasText,h=e.isReply,y=e.mediaRenderQpl,C=e.outgoing,b=h===void 0?!1:h,v=n.gatingType,S;t[0]===Symbol.for("react.memo_cache_sentinel")?(S=o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),t[0]=S):S=t[0];var R=v===S,L=n.xmaLayoutType,E;t[1]!==L?(E=L!=null?(s||(s=o("I64"))).equal(L,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1,t[1]=L,t[2]=E):E=t[2];var k=E,I;t[3]!==n||t[4]!==a||t[5]!==p?(I=p==null?void 0:p(n,a),t[3]=n,t[4]=a,t[5]=p,t[6]=I):I=t[6];var T=I,D=n.transportKey==="Instamadillo"&&n.subtitleText==="Story",x=!g&&m,$=!k&&g&&!D?d.flattenTop:!1,P=b?d.reply:!1,N;t[7]!==$||t[8]!==P?(N=[d.root,$,P],t[7]=$,t[8]=P,t[9]=N):N=t[9];var M;t[10]!==a||t[11]!==R||t[12]!==b||t[13]!==k?(M=function(t){return c.jsx(r("IGDXMAAttachmentItemPressable.react"),{attachmentItem:a,isPrivatePost:R,isReply:b,isXMAExpired:k,children:t})},t[10]=a,t[11]=R,t[12]=b,t[13]=k,t[14]=M):M=t[14];var w;t[15]!==n||t[16]!==a||t[17]!==_?(w=c.jsx(r("IGDXMAAttachmentItemHeader.react"),{attachment:n,attachmentItem:a,getHeaderImageUrlXMA:_}),t[15]=n,t[16]=a,t[17]=_,t[18]=w):w=t[18];var A;t[19]!==n||t[20]!==a||t[21]!==f||t[22]!==y?(A=c.jsx(r("IGDXMAAttachmentItemPreview.react"),{attachment:n,attachmentItem:a,getPreviewImageUrlXMA:f,mediaRenderQpl:y,size:"large"}),t[19]=n,t[20]=a,t[21]=f,t[22]=y,t[23]=A):A=t[23];var F;t[24]!==i?(F=i.length===6?c.jsx(r("MWPXMAIgProfile.react"),{attachmentItems:i}):null,t[24]=i,t[25]=F):F=t[25];var O;t[26]!==A||t[27]!==F?(O=c.jsxs(o("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:[A,F]}),t[26]=A,t[27]=F,t[28]=O):O=t[28];var B;t[29]!==n||t[30]!==a||t[31]!==T?(B=c.jsx(o("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:c.jsx(r("IGDXMAAttachmentItemBody.react"),{attachment:n,attachmentItem:a,favIconUrl:T})}),t[29]=n,t[30]=a,t[31]=T,t[32]=B):B=t[32];var W;t[33]!==n||t[34]!==a||t[35]!==M||t[36]!==w||t[37]!==O||t[38]!==B?(W=c.jsxs(o("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:n,attachmentItem:a,renderPressable:M,children:[w,O,B]}),t[33]=n,t[34]=a,t[35]=M,t[36]=w,t[37]=O,t[38]=B,t[39]=W):W=t[39];var q;return t[40]!==n.threadKey||t[41]!==l||t[42]!==C||t[43]!==W||t[44]!==x||t[45]!==N?(q=c.jsx(r("IGDXMAAttachmentContainer.react"),{connectBottom:l,connectTop:x,outgoing:C,threadKey:n.threadKey,xstyle:N,children:W}),t[40]=n.threadKey,t[41]=l,t[42]=C,t[43]=W,t[44]=x,t[45]=N,t[46]=q):q=t[46],q}l.default=m}),98);
__d("IGDXMAAttachmentItemDefaultXMAContent.react",["IGDXMAAttachmentItemBody.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPreview.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(21),n=e.attachment,a=e.attachmentItem,i=e.getFaviconUrlXMA,l=e.getHeaderImageUrlXMA,u=e.getPreviewImageUrlXMA,c=e.mediaRenderQpl,d;t[0]!==n||t[1]!==a||t[2]!==i?(d=i==null?void 0:i(n,a),t[0]=n,t[1]=a,t[2]=i,t[3]=d):d=t[3];var m=d,p;t[4]!==n||t[5]!==a||t[6]!==l?(p=s.jsx(r("IGDXMAAttachmentItemHeader.react"),{attachment:n,attachmentItem:a,getHeaderImageUrlXMA:l}),t[4]=n,t[5]=a,t[6]=l,t[7]=p):p=t[7];var _;t[8]!==n||t[9]!==a||t[10]!==u||t[11]!==c?(_=s.jsx(r("IGDXMAAttachmentItemPreview.react"),{attachment:n,attachmentItem:a,getPreviewImageUrlXMA:u,mediaRenderQpl:c}),t[8]=n,t[9]=a,t[10]=u,t[11]=c,t[12]=_):_=t[12];var f;t[13]!==n||t[14]!==a||t[15]!==m?(f=s.jsx(r("IGDXMAAttachmentItemBody.react"),{attachment:n,attachmentItem:a,favIconUrl:m}),t[13]=n,t[14]=a,t[15]=m,t[16]=f):f=t[16];var g;return t[17]!==p||t[18]!==_||t[19]!==f?(g=s.jsxs(s.Fragment,{children:[p,_,f]}),t[17]=p,t[18]=_,t[19]=f,t[20]=g):g=t[20],g}l.default=u}),98);
__d("MWXMAAttachmentVerticalLayout.react",["CometPlaceholder.react","MWLSThreadDisplayContext","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react","react-strict-dom","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={centered:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",$$css:!0},glimmer:{height:"x1m3v4wt",width:"xdzyupr",$$css:!0},glimmerChatTabWidth:{width:"x1t9vceh",$$css:!0},glimmerMissingPreview:{height:"xqvfhly",$$css:!0}};function c(e){var t=e.attachment,n=e.centered,a=n===void 0?!1:n,i=e.children,l=e.connectBottom,c=e.connectTop,d=e.hasText,m=d===void 0?!1:d,p=e.outgoing,_=e.xmaLayout,f=e.xstyle,g=p?"right":"left",h=m,y=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g,connectBottom:l,connectTop:c,flatten:_!==o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&h?"top":"none"}),C=[y,a&&u.centered],b=(t==null?void 0:t.previewHeightLarge)==null&&(t==null?void 0:t.previewHeight)==null,v=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab";return s.jsx(r("CometPlaceholder.react"),{fallback:s.jsx(r("MWXGlimmer.react"),{index:1,xstyle:[u.glimmer,v&&u.glimmerChatTabWidth,b&&u.glimmerMissingPreview].concat(C)}),name:"MWXMAAttachmentVerticalLayout",children:s.jsx(o("react-strict-dom").html.div,{style:[f,C],children:i})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("IGDXMAAttachmentCentered.react",["IGDXMAAttachmentItemDefaultXMAContent.react","MWXMAAttachmentVerticalLayout.react","react","react-compiler-runtime","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={card:{backgroundColor:"xmjcpbm",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",height:"x5yr21d",minWidth:"x1qx9l9d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(13),n=e.attachment,a=e.attachmentItem,i=e.connectBottom,l=e.connectTop,c=e.getFaviconUrlXMA,d=e.getHeaderImageUrlXMA,m=e.getPreviewImageUrlXMA,p=e.mediaRenderQpl,_=e.outgoing,f;t[0]!==n||t[1]!==a||t[2]!==c||t[3]!==d||t[4]!==m||t[5]!==p?(f=s.jsx(r("IGDXMAAttachmentItemDefaultXMAContent.react"),{attachment:n,attachmentItem:a,getFaviconUrlXMA:c,getHeaderImageUrlXMA:d,getPreviewImageUrlXMA:m,mediaRenderQpl:p}),t[0]=n,t[1]=a,t[2]=c,t[3]=d,t[4]=m,t[5]=p,t[6]=f):f=t[6];var g;return t[7]!==n||t[8]!==i||t[9]!==l||t[10]!==_||t[11]!==f?(g=s.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:n,centered:!0,connectBottom:i,connectTop:l,outgoing:_,xmaLayout:o("xmaLayouts").XMA_LAYOUTS.DEFAULT,xstyle:u.card,children:f}),t[7]=n,t[8]=i,t[9]=l,t[10]=_,t[11]=f,t[12]=g):g=t[12],g}l.default=c}),98);
__d("IGDXMAAttachmentExpired.react",["IGDMessageContainerWithHighlightBar.react","IGDSText.react","polarisGetIGFormattedText","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=function(t){return t==null||t===""};function c(e){var t=o("react-compiler-runtime").c(18),n=e.attachment,a=e.formatText,i=e.message,l=e.outgoing,c=n.subtitleText,d=n.titleText,m=i.replySnippet,p=i.text,_;t[0]!==p?(_=u(p),t[0]=p,t[1]=_):_=t[1];var f=!_,g;t[2]!==a||t[3]!==c?(g=u(c)?null:s.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",zeroMargin:!0,children:a?r("polarisGetIGFormattedText")(c!=null?c:""):c})}),t[2]=a,t[3]=c,t[4]=g):g=t[4];var h=g,y;t[5]!==m||t[6]!==h?(y=h===null&&!u(m)?s.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:m})}):null,t[5]=m,t[6]=h,t[7]=y):y=t[7];var C=y,b;t[8]!==f||t[9]!==C||t[10]!==d?(b=!f&&!u(d)?s.jsx("div",{className:"x5yr21d x1nn3v0j x1120s5i",children:s.jsx(r("IGDSText.react"),{color:C?"secondaryText":"primaryText",size:"footnote",children:d})}):null,t[8]=f,t[9]=C,t[10]=d,t[11]=b):b=t[11];var v=b,S;t[12]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x78zum5 xdt5ytf xl56j7k x21xpn4"},t[12]=S):S=t[12];var R;return t[13]!==l||t[14]!==C||t[15]!==h||t[16]!==v?(R=s.jsx("div",babelHelpers.extends({},S,{children:s.jsxs(r("IGDMessageContainerWithHighlightBar.react"),{outgoing:l,children:[C,v,h]})})),t[13]=l,t[14]=C,t[15]=h,t[16]=v,t[17]=R):R=t[17],R}l.default=c}),98);
__d("IGDXMAAttachmentItemBodyForLayered.react",["IGDSText.react","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentItemIconWithPlaceholder.react","MWXMAIconParser.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(23),n=e.attachment,a=e.attachmentItem,i=e.favIconUrl,l=e.outgoing,u=o("MWPBaseXMAAttachmentItem.react").useTitleAndSubtitle(n,a),c=u[0],d=u[1],m=d,p;t[0]!==i?(p=i!=null?o("MWXMAIconParser.react").parse(i):null,t[0]=i,t[1]=p):p=t[1];var _=p,f;t[2]!==l?(f={0:{className:"x6s0dn4 x19g9edo x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x78zum5 x1q0g3np x1iyjqo2 xzbmw64 xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1n2onr6 xwzpupj"},1:{className:"x6s0dn4 x19g9edo x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x78zum5 x1q0g3np x1iyjqo2 xzbmw64 xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1n2onr6 xwzpupj xtrg13t"}}[!!l<<0],t[2]=l,t[3]=f):f=t[3];var g;t[4]!==n||t[5]!==a||t[6]!==i||t[7]!==_?(g=_!=null?s.jsx(r("MWXMAAttachmentItemIconWithPlaceholder.react"),{attachment:n,attachmentItem:a,getFaviconUrlXMA:function(){return i!=null?i:void 0},mediaRenderQpl:void 0},"icon"):null,t[4]=n,t[5]=a,t[6]=i,t[7]=_,t[8]=g):g=t[8];var h;t[9]!==_?(h={0:{className:"x78zum5 xdt5ytf"},1:{className:"x78zum5 xdt5ytf xg8j3zb xyqdw3p"}}[(_==null)<<0],t[9]=_,t[10]=h):h=t[10];var y;t[11]!==m?(y=s.jsx(r("IGDSText.react"),{color:"primaryText",maxLines:3,size:"body",children:m}),t[11]=m,t[12]=y):y=t[12];var C;t[13]!==y||t[14]!==c?(C=s.jsxs(r("IGDSText.react"),{maxLines:3,size:"body",weight:"semibold",children:[c," ",y]}),t[13]=y,t[14]=c,t[15]=C):C=t[15];var b;t[16]!==h||t[17]!==C?(b=s.jsx("div",babelHelpers.extends({},h,{children:C})),t[16]=h,t[17]=C,t[18]=b):b=t[18];var v;return t[19]!==f||t[20]!==g||t[21]!==b?(v=s.jsxs("div",babelHelpers.extends({},f,{children:[g,b]})),t[19]=f,t[20]=g,t[21]=b,t[22]=v):v=t[22],v}l.default=u}),98);
__d("IGDXMAAttachmentLayered.react",["I64","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemBodyForLayered.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","WAArmadilloXMA.pb","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d={flattenTop:{borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0},reply:{transform:"x1gqj70i",$$css:!0},root:{backgroundColor:"x19g9edo",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(51),n=e.attachment,a=e.attachmentItem,i=e.connectBottom,l=e.connectTop,m=e.getFaviconUrlXMA,p=e.getHeaderImageUrlXMA,_=e.getPreviewImageUrlXMA,f=e.hasText,g=e.isReply,h=e.mediaRenderQpl,y=e.outgoing,C=g===void 0?!1:g,b=n.gatingType,v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v=o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),t[0]=v):v=t[0];var S=b===v,R=n.xmaLayoutType,L;t[1]!==R?(L=R!=null?(s||(s=o("I64"))).equal(R,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1,t[1]=R,t[2]=L):L=t[2];var E=L,k;t[3]!==n||t[4]!==a||t[5]!==m?(k=m==null?void 0:m(n,a),t[3]=n,t[4]=a,t[5]=m,t[6]=k):k=t[6];var I=k,T=!f&&l,D=!E&&f?d.flattenTop:!1,x=C?d.reply:!1,$;t[7]!==D||t[8]!==x?($=[d.root,D,x],t[7]=D,t[8]=x,t[9]=$):$=t[9];var P;t[10]!==a||t[11]!==S||t[12]!==C||t[13]!==E?(P=function(t){return c.jsx(r("IGDXMAAttachmentItemPressable.react"),{attachmentItem:a,isPrivatePost:S,isReply:C,isXMAExpired:E,children:t})},t[10]=a,t[11]=S,t[12]=C,t[13]=E,t[14]=P):P=t[14];var N;t[15]!==n||t[16]!==a||t[17]!==p?(N=c.jsx(r("IGDXMAAttachmentItemHeader.react"),{attachment:n,attachmentItem:a,getHeaderImageUrlXMA:p}),t[15]=n,t[16]=a,t[17]=p,t[18]=N):N=t[18];var M;t[19]!==n||t[20]!==a||t[21]!==_||t[22]!==h?(M=c.jsx(o("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:c.jsx(r("IGDXMAAttachmentItemPreview.react"),{attachment:n,attachmentItem:a,getPreviewImageUrlXMA:_,mediaRenderQpl:h,size:"large"})}),t[19]=n,t[20]=a,t[21]=_,t[22]=h,t[23]=M):M=t[23];var w;t[24]!==n||t[25]!==a||t[26]!==P||t[27]!==N||t[28]!==M?(w=c.jsxs(o("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:n,attachmentItem:a,renderPressable:P,children:[N,M]}),t[24]=n,t[25]=a,t[26]=P,t[27]=N,t[28]=M,t[29]=w):w=t[29];var A;t[30]!==n.threadKey||t[31]!==i||t[32]!==y||t[33]!==w||t[34]!==T||t[35]!==$?(A=c.jsx(r("IGDXMAAttachmentContainer.react"),{connectBottom:i,connectTop:T,outgoing:y,threadKey:n.threadKey,xstyle:$,children:w}),t[30]=n.threadKey,t[31]=i,t[32]=y,t[33]=w,t[34]=T,t[35]=$,t[36]=A):A=t[36];var F;t[37]!==n||t[38]!==a||t[39]!==I||t[40]!==y?(F=c.jsx(r("IGDXMAAttachmentItemBodyForLayered.react"),{attachment:n,attachmentItem:a,favIconUrl:I,outgoing:y}),t[37]=n,t[38]=a,t[39]=I,t[40]=y,t[41]=F):F=t[41];var O;t[42]!==a||t[43]!==S||t[44]!==C||t[45]!==E||t[46]!==F?(O=c.jsx(r("IGDXMAAttachmentItemPressable.react"),{attachmentItem:a,isPrivatePost:S,isReply:C,isXMAExpired:E,children:F}),t[42]=a,t[43]=S,t[44]=C,t[45]=E,t[46]=F,t[47]=O):O=t[47];var B;return t[48]!==A||t[49]!==O?(B=c.jsxs("div",{children:[A,O]}),t[48]=A,t[49]=O,t[50]=B):B=t[50],B}l.default=m}),98);
__d("IGDChatEmoji.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={chatEmoji:{fontSize:"xu54ipa",lineHeight:"xb7ehew",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",whiteSpace:"x126k92a",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(5),a=t.text,i=t.xstyle;if(a!=null){var l;n[0]!==i?(l=(e||(e=r("stylex"))).props(c.chatEmoji,i),n[0]=i,n[1]=l):l=n[1];var s;return n[2]!==l||n[3]!==a?(s=u.jsx("span",babelHelpers.extends({},l,{children:a})),n[2]=l,n[3]=a,n[4]=s):s=n[4],s}else return null}l.default=d}),98);
__d("IGDXMAAttachmentReactionItem.react",["IGDChatEmoji.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={overlayReaction:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},overlayReactionIncoming:{insetInlineEnd:"xorogi4",textAlign:"xp4054r",$$css:!0},overlayReactionOutgoing:{insetInlineStart:"xji1vaz",textAlign:"x1yc453h",$$css:!0},reactionIncoming:{paddingInlineStart:"x1g0dm76",textAlign:"x1yc453h",$$css:!0},reactionOutgoing:{paddingInlineEnd:"xpdmqnj",textAlign:"xp4054r",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.isOverlay,i=t.outgoing,l=t.reaction;if(l==null)return null;var s;n[0]!==a||n[1]!==i?(s=(e||(e=r("stylex"))).props(a?[c.overlayReaction,i?c.overlayReactionOutgoing:c.overlayReactionIncoming]:[i?c.reactionOutgoing:c.reactionIncoming]),n[0]=a,n[1]=i,n[2]=s):s=n[2];var d;n[3]!==l?(d=u.jsx(r("IGDChatEmoji.react"),{text:l}),n[3]=l,n[4]=d):d=n[4];var m;return n[5]!==s||n[6]!==d?(m=u.jsx("div",babelHelpers.extends({},s,{children:d})),n[5]=s,n[6]=d,n[7]=m):m=n[7],m}l.default=d}),98);
__d("IGDSReelsFilledIcon.react",["IGDSReelsPanoFilledIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSReelsPanoFilledIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("useXMAPreviewIconDecorator.react",["fbt","IGDSBox.react","IGDSReelsFilledIcon.react","IGDSText.react","LSIntEnum","MNXMAPreviewImageDecorationType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d={liveDecoration:{backgroundColor:"x13klbg6",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"xxk0z11",width:"x187nhsf",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(2);if(e==null)return null;var n=(u||(u=o("LSIntEnum"))).unwrapIntEnum(e);switch(n){case r("MNXMAPreviewImageDecorationType").REEL:{var a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=c.jsx(r("IGDSReelsFilledIcon.react"),{alt:s._(/*BTDS*/"Clip"),color:"web-always-white"}),t[0]=a):a=t[0],a}case r("MNXMAPreviewImageDecorationType").LIVE:{var i;return t[1]===Symbol.for("react.memo_cache_sentinel")?(i=c.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",xstyle:d.liveDecoration,children:c.jsx(r("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",weight:"semibold",children:s._(/*BTDS*/"LIVE")})}),t[1]=i):i=t[1],i}default:return null}}l.default=m}),226);
__d("IGDXMAAttachmentPortrait.react",["I64","IGDSBox.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","IGDXMAAttachmentReactionItem.react","IGDXMAAttachmentUtil","LSIntEnum","LSReplyMessageAttachmentType","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","MWVerticalRhythm","MWXMessageImage.react","WAArmadilloXMA.pb","react","react-compiler-runtime","stylex","useXMAPreviewIconDecorator.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m={container:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},live:{width:"x1g6vzv9",$$css:!0},liveGradient:{backgroundImage:"x1xz74zx",$$css:!0},reel:{width:"xtqaf1t",$$css:!0},reelGradient:{backgroundImage:"x6m44yg",$$css:!0},scrim:{bottom:"x1ey2m1c",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",$$css:!0},story:{width:"xfj1xho",$$css:!0},storyGradient:{backgroundImage:"xu1rcjc",$$css:!0},storyInteraction:{width:"x1exxlbk",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(61),a=t.attachment,i=t.attachmentItem,l=t.connectBottom,s=t.connectTop,p=t.getHeaderImageUrlXMA,_=t.getPreviewImageUrlXMA,f=t.hasText,g=t.loadThreadlineQueries,h=t.mediaRenderQpl,y=t.message,C=t.outgoing,b=a.previewImageDecorationType,v;n[0]!==b?(v=b!=null?[(u||(u=o("I64"))).equal(b,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").REEL)),(u||(u=o("I64"))).equal(b,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON)),(u||(u=o("I64"))).equal(b,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").LIVE))]:[!1,!1],n[0]=b,n[1]=v):v=n[1];var S=v,R=S[0],L=S[1],E=S[2],k=r("useXMAPreviewIconDecorator.react")(b),I=a.gatingType,T;n[2]===Symbol.for("react.memo_cache_sentinel")?(T=o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),n[2]=T):T=n[2];var D=I===T,x=a.defaultCtaId!=null,$;n[3]!==y.text?($=o("IGDXMAAttachmentUtil").isEmojiReaction(y.text),n[3]=y.text,n[4]=$):$=n[4];var P=$,N=P||!1,M;n[5]!==y.timestampMs?(M=(u||(u=o("I64"))).to_float(y.timestampMs),n[5]=y.timestampMs,n[6]=M):M=n[6];var w=M,A;L?A=f||N?m.storyInteraction:m.story:R?A=m.reel:E&&(A=m.live);var F=!(f||N),O=L&&y.replyAttachmentType==null,B=y.text,W;if(n[7]!==y.replyAttachmentType||n[8]!==y.replyMediaPreviewHeight||n[9]!==y.replyMediaPreviewWidth||n[10]!==y.replyMediaUrl||n[11]!==y.replyMediaUrlMimeType||n[12]!==y.replySourceId){var q,U,V;W=y.replySourceId!=null||!(y.replyMediaUrl!=null&&y.replyMediaPreviewWidth!=null&&y.replyMediaPreviewHeight!=null&&y.replyMediaUrlMimeType!=null&&y.replyMediaUrlMimeType==="image/gif"&&y.replyAttachmentType!=null&&(u||(u=o("I64"))).equal(y.replyAttachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF)))?null:d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:6}),d.jsx(r("MWXMessageImage.react"),{alt:void 0,height:(u||(u=o("I64"))).to_float((q=y.replyMediaPreviewHeight)!=null?q:(u||(u=o("I64"))).zero),maxHeight:200,maxWidth:void 0,src:(U=y.replyMediaUrl)!=null?U:"",width:(u||(u=o("I64"))).to_float((V=y.replyMediaPreviewWidth)!=null?V:(u||(u=o("I64"))).zero)})]}),n[7]=y.replyAttachmentType,n[8]=y.replyMediaPreviewHeight,n[9]=y.replyMediaPreviewWidth,n[10]=y.replyMediaUrl,n[11]=y.replyMediaUrlMimeType,n[12]=y.replySourceId,n[13]=W}else W=n[13];var H=W,G;n[14]!==i||n[15]!==D||n[16]!==R||n[17]!==g||n[18]!==w?(G=function(t){return d.jsx(r("IGDXMAAttachmentItemPressable.react"),{attachmentItem:i,isPrivatePost:D,isReel:R,loadThreadlineQueries:g,timestamp:w,children:t})},n[14]=i,n[15]=D,n[16]=R,n[17]=g,n[18]=w,n[19]=G):G=n[19];var z=L&&N?!1:l,j=y.threadKey,K=A,Q;n[20]!==a||n[21]!==i||n[22]!==p||n[23]!==F?(Q=F?d.jsx(r("IGDXMAAttachmentItemHeader.react"),{attachment:a,attachmentItem:i,getHeaderImageUrlXMA:p,overlayingMedia:!0}):null,n[20]=a,n[21]=i,n[22]=p,n[23]=F,n[24]=Q):Q=n[24];var X;n[25]!==a||n[26]!==i||n[27]!==_||n[28]!==h?(X=d.jsx(r("IGDXMAAttachmentItemPreview.react"),{attachment:a,attachmentItem:i,getPreviewImageUrlXMA:_,mediaRenderQpl:h,size:"large"}),n[25]=a,n[26]=i,n[27]=_,n[28]=h,n[29]=X):X=n[29];var Y;n[30]===Symbol.for("react.memo_cache_sentinel")?(Y={className:"x1ey2m1c x1o0tod xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x10l6tqk x1vjfegm"},n[30]=Y):Y=n[30];var J;n[31]!==k?(J=d.jsx("div",babelHelpers.extends({},Y,{children:k})),n[31]=k,n[32]=J):J=n[32];var Z;n[33]!==E||n[34]!==R||n[35]!==L||n[36]!==F?(Z=F?d.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(m.scrim,R?m.reelGradient:!1,L?m.storyGradient:!1,E?m.liveGradient:!1))):null,n[33]=E,n[34]=R,n[35]=L,n[36]=F,n[37]=Z):Z=n[37];var ee;n[38]!==s||n[39]!==y.threadKey||n[40]!==C||n[41]!==Q||n[42]!==X||n[43]!==J||n[44]!==Z||n[45]!==z||n[46]!==O||n[47]!==A?(ee=d.jsxs(r("IGDXMAAttachmentContainer.react"),{connectBottom:z,connectTop:s,outgoing:C,threadKey:j,withHighlightBar:O,xstyle:K,children:[Q,X,J,Z]}),n[38]=s,n[39]=y.threadKey,n[40]=C,n[41]=Q,n[42]=X,n[43]=J,n[44]=Z,n[45]=z,n[46]=O,n[47]=A,n[48]=ee):ee=n[48];var te;n[49]!==N||n[50]!==x||n[51]!==C||n[52]!==B?(te=N&&B!=null&&B!==""?d.jsx(r("IGDXMAAttachmentReactionItem.react"),{isOverlay:x,outgoing:C,reaction:B}):null,n[49]=N,n[50]=x,n[51]=C,n[52]=B,n[53]=te):te=n[53];var ne;return n[54]!==a||n[55]!==i||n[56]!==H||n[57]!==ee||n[58]!==te||n[59]!==G?(ne=d.jsx(r("IGDSBox.react"),{direction:"row",xstyle:m.container,children:d.jsxs(o("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:a,attachmentItem:i,renderPressable:G,children:[ee,te,H]})}),n[54]=a,n[55]=i,n[56]=H,n[57]=ee,n[58]=te,n[59]=G,n[60]=ne):ne=n[60],ne}l.default=p}),98);
__d("MWPBaseXMAAttachment.react",["FBLogger","I64","LSIntEnum","MNLSXMALayoutType","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react"));function m(){return null}function p(e){return{attachmentCta1Id:e.attachmentCta1Id,attachmentCta2Id:e.attachmentCta2Id,attachmentCta3Id:e.attachmentCta3Id,attachmentFbid:e.attachmentFbid,attachmentIndex:e.attachmentIndex,cta1Title:e.cta1Title,cta1Type:e.cta1Type,cta2Title:e.cta2Title,cta2Type:e.cta2Type,cta3Title:e.cta3Title,cta3Type:e.cta3Type,dashManifest:e.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:e.defaultCtaId,defaultCtaTitle:e.defaultCtaTitle,defaultCtaType:e.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:e.faviconUrl,faviconUrlExpirationTimestampMs:e.faviconUrlExpirationTimestampMs,faviconUrlFallback:e.faviconUrlFallback,imageUrl:e.imageUrl,messageId:e.messageId,originalPageSenderId:e.originalPageSenderId,playableUrl:e.playableUrl,playableUrlExpirationTimestampMs:e.playableUrlExpirationTimestampMs,playableUrlFallback:e.playableUrlFallback,playableUrlMimeType:e.playableUrlMimeType,previewHeight:e.previewHeight,previewUrl:e.previewUrl,previewUrlExpirationTimestampMs:e.previewUrlExpirationTimestampMs,previewUrlFallback:e.previewUrlFallback,previewUrlLarge:e.previewUrlLarge,previewUrlMimeType:e.previewUrlMimeType,previewWidth:e.previewWidth,subtitleText:e.subtitleText,threadKey:e.threadKey,titleText:e.titleText}}function _(e,t,n,a){return t.length!==0?(r("FBLogger")("messenger_web_sharing").mustfix("Unknown combination of XMA items and layout. Attachment Items: (%s), Layout: %s, Attachment Type: %s",String(t.length),e.xmaLayoutType==null?"na":(u||(u=o("I64"))).to_string(e.xmaLayoutType),(u||(u=o("I64"))).to_string(e.attachmentType)),n()):a({attachmentItems:[],layoutType:"vertical",preview:p(e)})}function f(e,t,n,a){var i=e.xmaLayoutType,l=t.length;return i==null?_(e,t,n,a):(u||(u=o("I64"))).equal(i,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").EXPIRED_PLACEHOLDER))?a({layoutType:"expired"}):(u||(u=o("I64"))).equal(i,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").PLACEHOLDER))?a({layoutType:"placeholder"}):l===1?a({attachmentItems:t,layoutType:"vertical",preview:t[0]}):(u||(u=o("I64"))).equal(i,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SINGLE))&&l===6||l===7?a({attachmentItems:t,layoutType:"vertical",preview:p(e)}):_(e,t,n,a)}function g(e,t,n,a){var i=e.xmaLayoutType;return i==null?f(e,t,n,a):(u||(u=o("I64"))).equal(i,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").HSCROLL))?a({attachmentItems:t,layoutType:"horizontal"}):(u||(u=o("I64"))).equal(i,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").XCENTER))?a({attachmentItem:t[0],layoutType:"centered"}):f(e,t,n,a)}function h(t){var n=t.attachment,a=t.connectBottom,l=t.connectTop,s=t.hasText,u=t.renderLayout,c=t.renderUnsupportedXMAAttachment,p=c===void 0?m:c,_=(e||(e=r("useReStore")))(),f=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(_.tables.attachment_items).getKeyRange(n.attachmentFbid)},[_,n.attachmentFbid],i.id+":234");return d.jsx("div",{className:"x16it46q",children:g(n,f,p,u)})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("useIssueIGDReceiverFetchTask",["JSResourceForInteraction","PolarisAutomaticPreviewsDisabledContext.react","PolarisDismissEntry","cr:10752","cr:10753","cr:1562","cr:496","promiseDone","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useEffect,d=(e=n("cr:1562"))!=null?e:n("cr:10752"),m=(s=n("cr:496"))!=null?s:n("cr:10753");function p(e,t,n){var a=o("react-compiler-runtime").c(8),i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i=r("JSResourceForInteraction")("IGDAutomaticPreviewNUXModal.react").__setRef("useIssueIGDReceiverFetchTask"),a[0]=i):i=a[0];var l=r("useIGDSLazyDialog")(i),s=l[0],u=o("PolarisAutomaticPreviewsDisabledContext.react").usePolarisIsAutomaticPreviewsDisabled(),p,_;a[1]!==u||a[2]!==t||a[3]!==s||a[4]!==e||a[5]!==n?(p=function(){if(u||n==null){d!=null&&r("promiseDone")(d.renderDefaultPreview(t,n));return}m!=null&&(o("PolarisDismissEntry").isDismissed(o("PolarisDismissEntry").IGD_INSTAMADILLO_AUTOMATIC_PREVIEW_NUX_TYPE)||(s({threadKey:e}),o("PolarisDismissEntry").setDismissEntry(o("PolarisDismissEntry").IGD_INSTAMADILLO_AUTOMATIC_PREVIEW_NUX_TYPE)),r("promiseDone")(m==null?void 0:m.issueReceiverFetchTaskDeidentified(t,n)))},_=[u,t,s,e,n],a[1]=u,a[2]=t,a[3]=s,a[4]=e,a[5]=n,a[6]=p,a[7]=_):(p=a[6],_=a[7]),c(p,_)}l.default=p}),98);
__d("IGDXMAAttachment.react",["I64","IGDPlaceholderMessage.react","IGDXMAAttachmentCard.react","IGDXMAAttachmentCentered.react","IGDXMAAttachmentExpired.react","IGDXMAAttachmentLayered.react","IGDXMAAttachmentPlaceholder.react","IGDXMAAttachmentPortrait.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachment.react","PolarisConfig","react","react-compiler-runtime","useIssueIGDReceiverFetchTask"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(27),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.formatText,d=e.getFaviconUrlXMA,p=e.getHeaderImageUrlXMA,_=e.getPreviewImageUrlXMA,f=e.hasText,g=e.isReply,h=e.loadThreadlineQueries,y=e.mediaRenderQpl,C=e.message,b=e.outgoing,v=l===void 0?!1:l,S=f===void 0?!1:f,R=g===void 0?!1:g;r("useIssueIGDReceiverFetchTask")(C.threadKey,C.messageId,C.xmaReceiverFetchParams);var L;t[0]===Symbol.for("react.memo_cache_sentinel")?(L=o("PolarisConfig").isLoggedOutUser(),t[0]=L):L=t[0];var E=L,k;t[1]!==n||t[2]!==a||t[3]!==i||t[4]!==v||t[5]!==d||t[6]!==p||t[7]!==_||t[8]!==S||t[9]!==R||t[10]!==h||t[11]!==y||t[12]!==C||t[13]!==b?(k=function(t){e:switch(t.layoutType){case"vertical":{var e=t.attachmentItems,l=t.preview,f=e.filter(m),g=n.xmaLayoutType;return g!=null&&(s||(s=o("I64"))).equal(g,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").PORTRAIT))?c.jsx(r("IGDXMAAttachmentPortrait.react"),{attachment:n,attachmentItem:l,connectBottom:a,connectTop:i,getHeaderImageUrlXMA:p,getPreviewImageUrlXMA:_,hasText:S,loadThreadlineQueries:h,mediaRenderQpl:y,message:C,outgoing:b}):g!=null&&(s||(s=o("I64"))).equal(g,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").LAYERED))?c.jsx(r("IGDXMAAttachmentLayered.react"),{attachment:n,attachmentItem:l,connectBottom:a,connectTop:i,getFaviconUrlXMA:d,getHeaderImageUrlXMA:p,getPreviewImageUrlXMA:_,hasText:S,isReply:R,mediaRenderQpl:y,outgoing:b}):c.jsx(r("IGDXMAAttachmentCard.react"),{attachment:n,attachmentItem:l,attachmentItems:f,connectBottom:a,connectTop:i,getFaviconUrlXMA:d,getHeaderImageUrlXMA:p,getPreviewImageUrlXMA:_,hasText:S,isReply:R,mediaRenderQpl:y,outgoing:b})}case"centered":{if(t.attachmentItem!=null&&E)return c.jsx(r("IGDXMAAttachmentCentered.react"),{attachment:n,attachmentItem:t.attachmentItem,connectBottom:a,connectTop:i,getFaviconUrlXMA:d,getHeaderImageUrlXMA:p,getPreviewImageUrlXMA:_,mediaRenderQpl:y,outgoing:b});break e}case"expired":return c.jsx(r("IGDXMAAttachmentExpired.react"),{attachment:n,formatText:v,message:C,outgoing:b});case"placeholder":return c.jsx(r("IGDXMAAttachmentPlaceholder.react"),{attachment:n,mediaRenderQpl:y,outgoing:b})}},t[1]=n,t[2]=a,t[3]=i,t[4]=v,t[5]=d,t[6]=p,t[7]=_,t[8]=S,t[9]=R,t[10]=h,t[11]=y,t[12]=C,t[13]=b,t[14]=k):k=t[14];var I;t[15]!==a||t[16]!==i||t[17]!==y||t[18]!==b?(I=function(){return c.jsx(r("IGDPlaceholderMessage.react"),{connectBottom:a,connectTop:i,mediaRenderQpl:y,outgoing:b,unsupportedType:"unsupported_xma_attachment"})},t[15]=a,t[16]=i,t[17]=y,t[18]=b,t[19]=I):I=t[19];var T;return t[20]!==n||t[21]!==a||t[22]!==i||t[23]!==S||t[24]!==k||t[25]!==I?(T=c.jsx(r("MWPBaseXMAAttachment.react"),{attachment:n,connectBottom:a,connectTop:i,hasText:S,renderLayout:k,renderUnsupportedXMAAttachment:I}),t[20]=n,t[21]=a,t[22]=i,t[23]=S,t[24]=k,t[25]=I,t[26]=T):T=t[26],T}function m(e){return e.previewUrl!=null}l.default=d}),98);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return[(e||(e=o("I64"))).and_((s||(s=o("LSIntEnum"))).ofNumber(1024),t.displayedContentTypes),e.and_(s.ofNumber(2048),t.displayedContentTypes),e.and_(s.ofNumber(536870912),t.displayedContentTypes)].some(function(t){return(e||(e=o("I64"))).to_int32(t)!==0})}l.default=u}),98);
__d("mwpMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t.replySourceTypeV2!=null&&(e||(e=o("LSIntEnum"))).toNumber(t.replySourceTypeV2)!==r("LSMessageReplySourceTypeV2").FORWARD}l.default=s}),98);
__d("mwpMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).to_int32(e.and_((s||(s=o("LSIntEnum"))).ofNumber(32),t.displayedContentTypes))!==0}l.default=u}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageListColumn.react","mwpMessageIsReply","mwpMessageWithAttachmentHasPoll","react","react-strict-dom","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_top_margin:{marginTop:"x1gslohp",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function c(e){var t=e.children,n=e.connectTop,a=e.hasTopMargin,i=a===void 0?!1:a,l=e.message,c=e.outgoing,d=e.paint,m=d===void 0?!0:d,p=e.renderEmphasisRing,_=e.xmaLayout,f=e.xstyle,g=r("MWPMessageHasXMA")(l),h=r("mwpMessageIsReply")(l),y=r("mwpMessageWithAttachmentHasPoll")(l),C=l.text,b=C!=null?C!=="":!1,v=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.container,g?u.container_for_xma:!1,y?u.container_for_poll:!1,i?u.container_for_top_margin:!1,f!==null?f:!1],children:t});return s.jsxs(s.Fragment,{children:[n&&(_===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!g||!b)?s.jsx(o("react-strict-dom").html.div,{style:u.vr}):null,s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!h&&m,children:p!=null?p(v):v})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWPMessageListAttachment.react",["I64","LSIntEnum","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWSearchPluginUtils","MWVerticalRhythm","MessagingAttachmentType","ReQL","ReQLSuspense","gkx","isMWBumpMessage","react","useReStore","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useEffect;function p(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}function _(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))}function f(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))}function g(e){var t,n=e.connectBottom,a=e.connectTop,i=e.mediaRenderQpl,l=e.message,s=e.renderAudioAttachment,g=e.renderEmphasisRing,y=e.renderEphemeralMediaAttachment,C=e.renderFileAttachment,b=e.renderImageAttachment,v=e.renderImageGrid,S=e.renderMultipleAttachments,R=e.renderStickerAttachment,L=e.renderUnsupportedAttachment,E=e.renderUnsupportedMultipleAttachments,k=e.renderVideoAttachment,I=e.renderWrapper,T=e.renderXMAAttachment,D=e.xmaLayout,x=D===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:D,$=o("MWPAttachmentDataContext").useMWPGetAttachments(l),P=h((t=$[0])==null?void 0:t.attachmentCta1Id),N=$.length>0?o("MWSearchPluginUtils").isSearchSingleBubblePlugin($[0]):!1,M=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),w=M.blurMediaEnabled,A=r("gkx")("24098")&&w,F,O=$.length>0?$[0]:null;if(m(function(){O!=null?(i==null||i.addAttachmentAnnotations==null||i.addAttachmentAnnotations(O),i==null||i.addPoint("render-message-list-attachment")):i==null||i.addPoint("missing-message-list-attachment")},[O,i]),r("isMWBumpMessage")(l.replyType))return null;if($.length!==1)if($.length>1&&$.every(p))A?F=$.map(function(e,t){return d.jsxs(d.Fragment,{children:[t!==0?d.jsx(r("MWVerticalRhythm"),{height:2}):null,d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:a,message:l,renderEmphasisRing:g,xmaLayout:x,children:b(e,t!==0,t!==$.length-1,L)})]},e.attachmentFbid)}):F=d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:a,message:l,renderEmphasisRing:g,xmaLayout:x,children:v($)});else{var B=function(t){return t.some(f)},W=function(t){return t.some(function(e){return p(e)||_(e)})};if($.length===2&&B($)&&W($)){var q,U=(q=$.find(function(e){return f(e)}))!=null?q:$[0];return T(U,P)}if($.length>1&&(F=S==null?void 0:S($),F!=null))return F;F=E!=null?E($):void 0}else{var V=$[0],H=V.attachmentType,G=!(u||(u=o("I64"))).equal(H,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)),z=V.attachmentType,j=function(){return i==null||i.endSuccessAfterDelay(),L(V)};F=d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:a,hasTopMargin:N,message:l,paint:G,renderEmphasisRing:g,xmaLayout:x,children:(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?b(V,a,n,L):(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?k(V):(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))?s(V):(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))||(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").THIRD_PARTY_STICKER))?R(V):(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?T(V,P):(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE))?C(V):(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(z,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))?y(V):j()})}return F!=null?I!=null?I(F):F:null}g.displayName=g.name+" [from "+i.id+"]";function h(t){var n=(e||(e=r("useReStore")))();return o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.attachment_ctas).getKeyRange(t!=null?t:(u||(u=o("I64"))).zero)},[n,t],i.id+":252")}l.default=g}),98);
__d("MDSHeadlineWithAddOn.react",["BaseRow.react","BaseRowItem.react","Locale","MDSText.react","isIE11OrGreater","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react")),c={addOn:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginInlineStart:"x13fj5qh",$$css:!0},nonBreakingSpace:{opacity:"xg01cxk",width:"xnalus7",$$css:!0},textFlexFixForIE:{flexBasis:"xdl72j9",$$css:!0}},d={ltr:{direction:"xzt5al7",$$css:!0},rtl:{direction:"xzyj77d",$$css:!0}};function m(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.addOn,l=a.children,s=a.color,m=a.headlineId,p=a.headlineRef,_=a.isSemanticHeading,f=a.numberOfLines,g=a.type;return u.jsx(r("MDSText.react"),{isSemanticHeading:!1,ref:n,type:g,children:u.jsxs(r("BaseRow.react"),{verticalAlign:"center",xstyle:d[o("Locale").isRTL()?"rtl":"ltr"],children:[u.jsx(r("BaseRowItem.react"),{expanding:!0,xstyle:r("isIE11OrGreater")&&c.textFlexFixForIE,children:u.jsx(r("MDSText.react"),{color:s,id:m,isSemanticHeading:_,numberOfLines:f,ref:p,type:g,children:l})}),u.jsx(r("BaseRowItem.react"),{verticalAlign:"top",xstyle:c.addOn,children:u.jsxs(r("BaseRow.react"),{verticalAlign:"center",children:[u.jsx(r("BaseRowItem.react"),{xstyle:c.nonBreakingSpace,children:"\xA0"}),u.jsx(r("BaseRowItem.react"),{children:u.jsx(r("BaseRow.react"),{children:i})})]})})]})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("getMDSTextHierarchyStyle",["memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoizeWithArgs")(function(e,t){switch(e){case 1:return{bodyType:"body1",headlineType:"headlineEmphasized1",metaType:"meta1"};case 2:return{bodyType:"body2",headlineType:"headlineEmphasized2",metaType:"meta2"};case 3:return{bodyType:"body3",headlineType:t===!0?"headline3":"headlineEmphasized3",metaType:"meta3"};default:case 4:return{bodyType:"body4",headlineType:t===!0?"headline4":"headlineEmphasized4",metaType:"meta4"};case"entityHeader1":return{bodyType:"body2",headlineType:"entityHeaderHeadline1",metaType:"entityHeaderMeta1"};case"entityHeader2":return{bodyType:"body2",headlineType:"entityHeaderHeadline2",metaType:"entityHeaderMeta2"}}},function(e,t){return String(e)+(t===!0?"":"e")});l.default=e}),98);
__d("MDSTextPairing.react",["Box.react","MDSHeadlineWithAddOn.react","MDSText.react","getMDSTextHierarchyStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={item:{marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"xs83m0k",marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0}},c={1:{marginBottom:"x11tup63",marginTop:"x16z1lm9",$$css:!0},2:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},entityHeader1:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},entityHeader2:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0}},d={1:{marginBottom:"xwoyzhm",marginTop:"x1rhet7l",$$css:!0},2:{marginBottom:"xzueoph",marginTop:"x1k70j0n",$$css:!0},entityHeader1:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0},entityHeader2:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0}};function m(e){var t=e.body,n=e.bodyColor,o=n===void 0?"primary":n,a=e.bodyId,i=e.bodyLineLimit,l=e.bodyRef,m=e.headline,p=e.headlineAddOn,_=e.headlineColor,f=_===void 0?"primary":_,g=e.headlineId,h=e.headlineLineLimit,y=e.headlineRef,C=e.isPrimaryHeading,b=e.isSemanticHeading,v=e.level,S=e.meta,R=e.metaColor,L=R===void 0?"secondary":R,E=e.metaId,k=e.metaLineLimit,I=e.metaLocation,T=I===void 0?"below":I,D=e.metaRef,x=e.reduceEmphasis,$=x===void 0?!1:x,P=e.testid,N=e.textAlign,M=N===void 0?"start":N,w=r("getMDSTextHierarchyStyle")(v,$),A=w.bodyType,F=w.headlineType,O=w.metaType,B=[u.item,d[v]],W=m!=null&&s.jsx(r("Box.react"),{xstyle:B,children:p!=null?s.jsx(r("MDSHeadlineWithAddOn.react"),{addOn:p,color:f,headlineId:g,headlineRef:y,isPrimaryHeading:C,isSemanticHeading:b,numberOfLines:h,type:F,children:m}):s.jsx(r("MDSText.react"),{align:M,color:f,id:g,isPrimaryHeading:C,isSemanticHeading:b,numberOfLines:h,ref:y,type:F,children:m})}),q=S!=null&&s.jsx(r("Box.react"),{xstyle:B,children:s.jsx(r("MDSText.react"),{align:M,color:L,id:E,isSemanticHeading:!1,numberOfLines:k,ref:D,type:O,children:S})});return s.jsxs(r("Box.react"),{"data-testid":void 0,xstyle:[u.root,c[v]],children:[T==="above"&&q,W,t!=null&&s.jsx(r("Box.react"),{xstyle:B,children:s.jsx(r("MDSText.react"),{align:M,color:o,id:a,isSemanticHeading:!1,numberOfLines:i,ref:l,type:A,children:t})}),T==="below"&&q]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.color,o=e.dataTestId,a=e.inline,i=a===void 0?!1:a,l=e.size,u=l===void 0?24:l,c=e.viewBox,d=c===void 0?"0 0 36 36":c;return s.jsx(r("CometSVGIcon.react"),{color:n,"data-testid":void 0,inline:i,size:u,viewBox:d,children:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(r("MDSSvgIcon.react"),babelHelpers.extends({},e,{children:[s.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),s.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){return s.jsx("div",{className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",children:s.jsx(r("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWChatFilePreview.react",["fbt","FDSImageCover.react","MWChatFileIconV2.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function d(e){var t=e.attachment,n=e.fileName,o=e.isError,a=e.isRetryableError,i=e.onRetry,l=e.withPreview,d=t!=null?t:{},m=d.previewUrl;return o===!0?u.jsx("div",{className:"x1g0dm76",children:u.jsx("div",{className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 x10w6t97 xl56j7k x1td3qas",children:a===!0?u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Retry"),color:"primary",icon:r("MWXIconRefreshAlt"),onPress:i,size:32,testid:void 0,type:"normal"}):u.jsx("div",{"data-testid":void 0,children:u.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconExclamationMarkCircle"),size:20})})})}):m==null||!l?u.jsx("div",{className:"x1g0dm76",children:u.jsx(r("MWChatFileIconV2.react"),{})}):u.jsx(r("FDSImageCover.react"),{alt:n!=null?n:"",src:m,style:c.imageCover})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.onPress,o=e.url,a=e.xstyle;return s.jsx(r("MWXPressable.react"),{children:t,display:"inline",linkProps:o!=null?{download:!0,target:"_blank",url:o}:void 0,onPress:n,overlayDisabled:!0,xstyle:a})}u.displayName=u.name+" [from "+i.id+"]",l.MWFilePressableDirectDownload=u}),98);
__d("useMWFileOnPress",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){return s(function(t){e==null||e(t)},[e])}l.default=u}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","goUriOnNewWindow","react","useMWFileOnPress"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=e.attachmentID,n=e.children,r=e.mediaRenderQpl,a=e.messageID,i=e.onPress,l=e.url,c=e.xstyle;return u(function(){l!=null&&l.length>0?r==null||r.endSuccessAfterDelay():r==null||r.endFailAfterDelay("load-file-error")},[r,l]),a!=null&&a.type==="sent"&&t!=null&&l!=null?s.jsx(d,{children:n,onPress:i,url:l,xstyle:c}):s.jsx(o("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:n,onPress:i,url:l,xstyle:c})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.url,n=e.children,a=e.onPress,i=e.xstyle,l=r("useMWFileOnPress")(a);return s.jsx(r("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(n){var e=n?n.message:"Cannot open file viewer";r("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(e);var a=o("ConstUriUtils").getUri(t);a!=null&&r("goUriOnNewWindow")(a)},children:s.jsx(o("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:n,onPress:l,url:t,xstyle:i})})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.startsWith("blob:");if(t){var n=e.length;return e.substring(5,n)}}i.getBlobUrl=e}),66);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","FBLogger","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWV2ChatAttachmentParserUtils","formatFileSize","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useMemo,p={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function _(t){var n=t.attachment,a=t.getPlayableUrlSecure,i=t.mediaRenderQpl,l=m(function(){var e=n.filename;return e!=null?e:s._(/*BTDS*/"File")},[n]),u=m(function(){var e=n.filesize!=null?(c||(c=o("I64"))).to_int32(n.filesize):void 0;return e!=null?r("formatFileSize")(e):null},[n]),_=m(function(){if(a!=null){var e,t=(e=a(n))!=null?e:"";return o("ConstUriUtils").getUri(t)}else{var i=o("LSMediaUrlAttachment").playableUrl(n);if(i!=null){var l=o("MWV2ChatAttachmentParserUtils").getBlobUrl(i);return l!=null?o("ConstUriUtils").getUri(l):o("ConstUriUtils").getUri(i)}}r("FBLogger")("messenger_web_media").mustfix("Attachment has no playable_url %s",n.attachmentFbid)},[n,a]);return d.jsx(r("MWFilePressable.react"),{attachmentID:n.attachmentFbid,mediaRenderQpl:i,messageID:o("MWChatMessageId").makeSent((c||(c=o("I64"))).to_string(n.threadKey),n.messageId,c.to_string(n.timestampMs)),url:_==null?void 0:_.toString(),children:d.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.root,!1),{"data-testid":void 0,children:[d.jsx(r("MWChatFilePreview.react"),{attachment:n,withPreview:!1}),d.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x13faqbe",children:[d.jsx(r("MDSTextPairing.react"),{headline:l,headlineLineLimit:3,level:4}),d.jsx("div",{className:"x889kno",children:d.jsx(r("MDSTextPairing.react"),{body:u,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})})]})]}))})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("IGDAttachment.react",["EphemeralMediaViewMode","I64","IGDAttachmentAudioPlayer.react","IGDAttachmentUtil","IGDBroadcastChannelLoggerUtils","IGDChatImage.react","IGDChatVideo.react","IGDMediaGrid.react","IGDMessageBubbleSelector.react","IGDMessageContainerWithHighlightBar.react","IGDMessageContentNoLongerAvailablePlaceholder.react","IGDMsysMusicSticker.react","IGDPlaceholderMessage.react","IGDRavenMessage.react","IGDSticker.react","IGDXMAAttachment.react","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MWMediaRenderQplUtils","MWPMessageListAttachment.react","MWV2ChatFileV2.react","MessagingAttachmentType","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useCallback;function m(e){var t=o("react-compiler-runtime").c(65),n=e.connectBottom,a=e.connectTop,i=e.formatText,l=e.hasText,d=e.loadThreadlineQueries,m=e.mediaRenderQpl,y=e.message,C=e.outgoing,b=g,v=f,S=_,R;t[0]===Symbol.for("react.memo_cache_sentinel")?(R={eventName:"media_collection_rendered"},t[0]=R):R=t[0];var L=r("MessengerWebUXLogger").useImpressionLoggerRef(R),E=o("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(y.threadKey),k;t[1]!==m||t[2]!==C?(k=function(t){return c.jsx(r("IGDAttachmentAudioPlayer.react"),{attachment:t,mediaRenderQpl:m,outgoing:C})},t[1]=m,t[2]=C,t[3]=k):k=t[3];var I;t[4]!==n||t[5]!==a||t[6]!==m||t[7]!==y||t[8]!==C?(I=function(t){if(t.ephemeralMediaViewMode){var e=(s||(s=o("LSIntEnum"))).unwrapIntEnum(t.ephemeralMediaViewMode);switch(e){case r("EphemeralMediaViewMode").PERMANENT:return t.igStoryReplyType==="story_selfie_reply"?c.jsx(r("IGDPlaceholderMessage.react"),{connectBottom:n,connectTop:a,mediaRenderQpl:m,outgoing:C,unsupportedType:"story_selfie_reply"}):(u||(u=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))?c.jsx(r("IGDChatVideo.react"),{attachment:t,connectTop:a,mediaRenderQpl:m,message:y,outgoing:C}):c.jsx(r("IGDChatImage.react"),{attachment:t,connectBottom:n,connectTop:a,mediaRenderQpl:m,message:y,outgoing:C});case r("EphemeralMediaViewMode").READ_ONCE:case r("EphemeralMediaViewMode").REPLAYABLE:return c.jsx(r("IGDRavenMessage.react"),{attachment:t,connectBottom:n,connectTop:a,outgoing:C})}}return c.jsx(r("IGDRavenMessage.react"),{attachment:t,connectBottom:n,connectTop:a,outgoing:C})},t[4]=n,t[5]=a,t[6]=m,t[7]=y,t[8]=C,t[9]=I):I=t[9];var T;t[10]!==a||t[11]!==C?(T=function(t){return c.jsx(r("IGDMessageBubbleSelector.react"),{align:C?"right":"left",color:"incoming",connectBottom:!1,connectTop:a,children:c.jsx(r("MWV2ChatFileV2.react"),{attachment:t,mediaRenderQpl:null})})},t[10]=a,t[11]=C,t[12]=T):T=t[12];var D;t[13]!==m||t[14]!==y||t[15]!==C?(D=function(t,n,o){return c.jsx(r("IGDChatImage.react"),{attachment:t,connectBottom:o,connectTop:n,mediaRenderQpl:m,message:y,outgoing:C})},t[13]=m,t[14]=y,t[15]=C,t[16]=D):D=t[16];var x,$;t[17]!==n||t[18]!==a||t[19]!==L||t[20]!==m||t[21]!==y||t[22]!==C?(x=function(t){return c.jsx(r("IGDMediaGrid.react"),{attachments:t,connectBottom:n,connectTop:a,logImpressionEventRef:L,onRenderMedia:function(t){return c.jsx(r("IGDChatImage.react"),{attachment:t,connectTop:!1,inGrid:!0,mediaRenderQpl:m,message:y,outgoing:C})},outgoing:C})},$=function(t){return h(t,y,n,a,C,L,m)},t[17]=n,t[18]=a,t[19]=L,t[20]=m,t[21]=y,t[22]=C,t[23]=x,t[24]=$):(x=t[23],$=t[24]);var P;t[25]!==m?(P=function(t){return c.jsx(r("IGDSticker.react"),{attachment:t,mediaRenderQpl:m})},t[25]=m,t[26]=P):P=t[26];var N;t[27]!==n||t[28]!==a||t[29]!==m||t[30]!==C?(N=function(t){return c.jsx(r("IGDPlaceholderMessage.react"),{connectBottom:n,connectTop:a,mediaRenderQpl:m,outgoing:C,unsupportedType:"unsupported_single_attachment"})},t[27]=n,t[28]=a,t[29]=m,t[30]=C,t[31]=N):N=t[31];var M,w;t[32]!==n||t[33]!==a||t[34]!==m||t[35]!==y||t[36]!==C?(M=function(t){var e=y.displayedContentTypes;return t.length===0&&(u||(u=o("I64"))).equal(e,(u||(u=o("I64"))).zero)?c.jsx(r("IGDMessageContainerWithHighlightBar.react"),{outgoing:C,children:c.jsx(r("IGDMessageContentNoLongerAvailablePlaceholder.react"),{message:y.replySnippet!=null?y:void 0})}):(m==null||m.addAnnotations({string_array:{unsupported_multiple_attachment_types:t.map(p)}}),c.jsx(r("IGDPlaceholderMessage.react"),{connectBottom:n,connectTop:a,mediaRenderQpl:m,outgoing:C,unsupportedType:"unsupported_multiple_attachments"}))},w=function(t){return y.isVideoQuickSend===!0?c.jsx(r("IGDPlaceholderMessage.react"),{connectBottom:n,connectTop:a,mediaRenderQpl:m,outgoing:C,unsupportedType:"quick_send_video"}):c.jsx(r("IGDChatVideo.react"),{attachment:t,connectTop:a,mediaRenderQpl:m,message:y,outgoing:C})},t[32]=n,t[33]=a,t[34]=m,t[35]=y,t[36]=C,t[37]=M,t[38]=w):(M=t[37],w=t[38]);var A;t[39]!==n||t[40]!==a||t[41]!==i||t[42]!==l||t[43]!==E||t[44]!==d||t[45]!==m||t[46]!==y||t[47]!==C?(A=function(t,s){if(o("IGDAttachmentUtil").isUnsupportedXma(t,s,E,y)){var e=o("IGDAttachmentUtil").getUnsupportedXmaType(t,s,E);return e!=null&&(e="xma_"+e,e==="xma_cta"&&(m==null||m.addAnnotations({string:{xma_cta_native_url:s==null?void 0:s.nativeUrl,xma_cta_title:s==null?void 0:s.title}}))),c.jsx(r("IGDPlaceholderMessage.react"),{connectBottom:n,connectTop:a,mediaRenderQpl:m,outgoing:C,unsupportedType:e})}else return o("IGDAttachmentUtil").isStickerXMA(t)?t.stickerType==="music_sticker"?c.jsx(r("IGDMsysMusicSticker.react"),{attachment:t,outgoing:C}):c.jsx(r("IGDSticker.react"),{attachment:t,mediaRenderQpl:m}):c.jsx(r("IGDXMAAttachment.react"),{attachment:t,connectBottom:n,connectTop:a,formatText:i,getFaviconUrlXMA:S,getHeaderImageUrlXMA:b,getPreviewImageUrlXMA:v,hasText:l,loadThreadlineQueries:d,mediaRenderQpl:m,message:y,outgoing:C})},t[39]=n,t[40]=a,t[41]=i,t[42]=l,t[43]=E,t[44]=d,t[45]=m,t[46]=y,t[47]=C,t[48]=A):A=t[48];var F;return t[49]!==n||t[50]!==a||t[51]!==m||t[52]!==y||t[53]!==M||t[54]!==w||t[55]!==A||t[56]!==k||t[57]!==I||t[58]!==T||t[59]!==D||t[60]!==x||t[61]!==$||t[62]!==P||t[63]!==N?(F=c.jsx(r("MWPMessageListAttachment.react"),{connectBottom:n,connectTop:a,mediaRenderQpl:m,message:y,renderAudioAttachment:k,renderEphemeralMediaAttachment:I,renderFileAttachment:T,renderImageAttachment:D,renderImageGrid:x,renderMultipleAttachments:$,renderStickerAttachment:P,renderUnsupportedAttachment:N,renderUnsupportedMultipleAttachments:M,renderVideoAttachment:w,renderXMAAttachment:A}),t[49]=n,t[50]=a,t[51]=m,t[52]=y,t[53]=M,t[54]=w,t[55]=A,t[56]=k,t[57]=I,t[58]=T,t[59]=D,t[60]=x,t[61]=$,t[62]=P,t[63]=N,t[64]=F):F=t[64],F}function p(e){return o("MWMediaRenderQplUtils").getAttachmentTypeString(e)}function _(e,t){var n,r;return(n=(r=o("LSMediaUrlAttachment").faviconUrl(e))!=null?r:o("LSMediaUrlAttachmentItem").faviconUrl(t))!=null?n:void 0}function f(e,t){return o("LSMediaUrlAttachment").previewUrl(e)}function g(e){return o("LSMediaUrlAttachment").headerImageUrl(e)}function h(e,t,n,a,i,l,s){var u=e.every(function(e){return o("IGDAttachmentUtil").isImageAttachment(e)||o("IGDAttachmentUtil").isVideoAttachment(e)});return u?c.jsx(r("IGDMediaGrid.react"),{attachments:e,connectBottom:n,connectTop:a,logImpressionEventRef:l,onRenderMedia:function(n){return o("IGDAttachmentUtil").isImageAttachment(n)?c.jsx(r("IGDChatImage.react"),{attachment:n,connectTop:!1,inGrid:!0,mediaRenderQpl:s,message:t,outgoing:i}):o("IGDAttachmentUtil").isVideoAttachment(n)?c.jsx(r("IGDChatVideo.react"),{attachment:n,connectTop:!1,inGrid:!0,mediaRenderQpl:s,message:t,outgoing:i}):null},outgoing:i}):null}h.displayName=h.name+" [from "+i.id+"]",l.default=m}),98);
__d("IGDBroadcastChannelThreadHeader.react",["fbt","BaseRelativeTimestampUtils","I64","IGDSBox.react","IGDSMiddleDot.react","IGDSText.react","MWPThreadCapabilitiesContext","MWVerticalRhythm","PolarisBigNumber.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react"));function m(t){var n,a=o("react-compiler-runtime").c(5),l=(e||(e=r("useReStore")))(),s,u;a[0]!==l.tables.contacts||a[1]!==l.tables.participants||a[2]!==t?(s=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId","isSuperAdmin"]).getKeyRange(t).filter(p),o("ReQL").fromTableAscending(l.tables.contacts,["username"]))},u=[l.tables.contacts,l.tables.participants,t],a[0]=l.tables.contacts,a[1]=l.tables.participants,a[2]=t,a[3]=s,a[4]=u):(s=a[3],u=a[4]);var c=o("ReQLSuspense").useFirst(s,u,i.id+":33");return c==null||(n=c[1])==null?void 0:n.username}function p(e){return e.isSuperAdmin===!0}function _(e){var t=o("react-compiler-runtime").c(18),n=e.isMobile,a=e.memberCount,i=e.pauseThreadTimestamp,l=e.thread,c=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),p=c.hasLSThreadBitOffset,_;t[0]!==p?(_=p(171),t[0]=p,t[1]=_):_=t[1];var f=_,g=m(l.threadKey),h;t[2]!==n?(h=!n&&d.jsx(r("MWVerticalRhythm"),{height:4}),t[2]=n,t[3]=h):h=t[3];var y;t[4]!==g?(y=g!=null?g:s._(/*BTDS*/"Channel"),t[4]=g,t[5]=y):y=t[5];var C;t[6]!==a?(C=a!==0?d.jsxs(d.Fragment,{children:[d.jsx(r("IGDSMiddleDot.react"),{color:"secondaryText"}),d.jsx(r("PolarisBigNumber.react"),{shortenNumber:!0,value:a}),d.jsx(d.Fragment,{children:" "}),s._(/*BTDS*/"_j{\"*\":\"members\",\"_1\":\"member\"}",[s._plural(a)])]}):null,t[6]=a,t[7]=C):C=t[7];var b;t[8]!==f||t[9]!==i?(b=!f&&i!=null&&(u||(u=o("I64"))).ge(i,(u||(u=o("I64"))).zero)?d.jsxs(d.Fragment,{children:[d.jsx(r("IGDSMiddleDot.react"),{color:"secondaryText"}),s._(/*BTDS*/"Ends {broadcast channel duration}",[s._param("broadcast channel duration",o("BaseRelativeTimestampUtils").getRelativeTimestampInFuture(new Date,new Date((u||(u=o("I64"))).to_int32(i)*1e3),"minimized"))])]}):null,t[8]=f,t[9]=i,t[10]=b):b=t[10];var v;t[11]!==y||t[12]!==C||t[13]!==b?(v=d.jsx(r("IGDSBox.react"),{alignSelf:"start",marginTop:1,children:d.jsxs(r("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:[y,C,b]})}),t[11]=y,t[12]=C,t[13]=b,t[14]=v):v=t[14];var S;return t[15]!==h||t[16]!==v?(S=d.jsxs(r("IGDSBox.react"),{children:[h,v]}),t[15]=h,t[16]=v,t[17]=S):S=t[17],S}l.default=_}),226);
__d("IGDComposerConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1e3;i.IGD_COMPOSER_MAX_LENGTH=e}),66);
__d("IGDComposerEmojiButton.react",["IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","Promise","cr:8230","cr:8238","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("JSResourceForInteraction")("IGDAddEmojiToComposerForLexical").__setRef("IGDComposerEmojiButton.react");function d(t){var a=o("react-compiler-runtime").c(11),i=t.editor,l;a[0]!==i?(l=function(o){r("promiseDone")(c.load().then(function(t){return t(o,i),(e||(e=n("Promise"))).resolve()}))},a[0]=i,a[1]=l):l=a[1];var s=l,d=r("MessengerWebUXLogger").useInteractionLogger(),m=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p;a[2]!==m?(p={eventName:"composer_emoji_picker_button_rendered",flowInstanceId:m},a[2]=m,a[3]=p):p=a[3];var _=r("MessengerWebUXLogger").useImpressionLoggerRef(p),f;a[4]!==m||a[5]!==d?(f=function(){d==null||d({eventName:"composer_open_emoji_picker",flowInstanceId:m})},a[4]=m,a[5]=d,a[6]=f):f=a[6];var g=f,h;return a[7]!==g||a[8]!==_||a[9]!==s?(h=n("cr:8230")?u.jsx(n("cr:8230"),{logClickEvent:g,logImpressionEventRef:_,onSelect:s}):n("cr:8238")?u.jsx(n("cr:8238"),{logClickEvent:g,logImpressionEventRef:_,onSelect:s}):null,a[7]=g,a[8]=_,a[9]=s,a[10]=h):h=a[10],h}l.default=d}),98);
__d("IGDComposerIconSendButton.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSMessagesFilledIcon.react","PolarisUA","qex","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={chatTabSendButtonDesktop:{marginInlineEnd:"x1mpyi22",$$css:!0},sendButton:{alignSelf:"x7fd4wk",backgroundColor:"x5slmwz",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",height:"x90ne7k",marginBottom:"xu06os2",width:"xvni27",$$css:!0},sendButtonDesktop:{marginBottom:"xjpr12u",marginInlineEnd:"xnnr8r",$$css:!0},sendButtonDisabled:{cursor:"x1h6gzvc",opacity:"xuzhngd",$$css:!0},sendButtonIcon:{marginTop:"x1gslohp",$$css:!0},sendButtonOnHover:{":hover_filter":"x1spsku0",$$css:!0},sendButtonPrismIcon:{marginTop:"xdj266r",$$css:!0},sendEditButtonMobile:{marginBottom:"xat24cr",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(9),n=e.hidden,a=e.isDisabled,i=e.isEdit,l=e.onClick,d=e.ref,m=e.testid,p=r("useIsChatTabsDisplay")(),_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=r("qex")._("3938"),t[0]=_):_=t[0];var f=_,g;return t[1]!==n||t[2]!==p||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==d||t[7]!==m?(g=n!==!0&&u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:d,isDisabled:a,label:s._(/*BTDS*/"Send"),onClick:l,xstyle:[c.sendButton,a?c.sendButtonDisabled:c.sendButtonOnHover,i===!0&&(o("PolarisUA").isMobile()?c.sendEditButtonMobile:[c.sendButtonDesktop,p&&c.chatTabSendButtonDesktop])],children:u.jsx(r("IGDSBox.react"),{xstyle:[c.sendButtonIcon,f===!0&&c.sendButtonPrismIcon],children:u.jsx(r("IGDSMessagesFilledIcon.react"),{alt:s._(/*BTDS*/"Send"),color:"web-always-white",size:18})})}),t[1]=n,t[2]=p,t[3]=a,t[4]=i,t[5]=l,t[6]=d,t[7]=m,t[8]=g):g=t[8],g}l.default=d}),226);
__d("IGDGetMessageForLSOptimisticEdit",["LSDatabaseSingleton","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.messageId,r=t.threadKey,a=t.timestampMs,i=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),l=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.messages).getKeyRange(r,a,n));return l}),u.apply(this,arguments)}l.default=s}),98);
__d("IGDRevertOptimisticMessage",["LSDatabaseSingleton","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue();return r.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(t)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":20")}),u.apply(this,arguments)}l.default=s}),98);
__d("IGDWriteOptimisticLSEditMessage",["I64","LSDatabaseSingleton","LSIntEnum","LSMessageSendStatus","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.message,l=t.text,c=yield(e||(e=o("LSDatabaseSingleton"))).getLSDatabaseSingletonPromiseOrValue(),d=a.editCount!=null?(s||(s=o("I64"))).to_float(a.editCount):0,m=d+1,p=babelHelpers.extends({},a,{editCount:(s||(s=o("I64"))).of_float(m),sendStatus:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:u.ofNumber(1),text:l});return c.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield e.messages.put(p)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":42")}),d.apply(this,arguments)}l.default=c}),98);
__d("IGDMAPIEditMessage",["IGDGetMessageForLSOptimisticEdit","IGDMAPIQPLPoints","IGDMessageSendService","IGDRevertOptimisticMessage","IGDWriteOptimisticLSEditMessage","QPLFlow","asyncToGeneratorRuntime","createIGDMessageSendContext","getSafeQplErrorMessage","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=r("createIGDMessageSendContext")(e,t.messageId,t.offlineThreadingId),i=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),{annotations:{string:{type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.EDIT_MESSAGE}},instanceKey:a.instanceKey}),l=n!=null?yield r("IGDGetMessageForLSOptimisticEdit")({messageId:t.messageId,threadKey:n.threadKey,timestampMs:n.timestampMs}):null;try{var s={body:{sensitive_string_value:t.text},offline_threading_id:t.offlineThreadingId,target_message_id:t.messageId,thread_id:t.threadId},u={variables:s};n!=null&&l!=null&&(i.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START),yield r("IGDWriteOptimisticLSEditMessage")({message:l,text:t.text}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END)),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var c=o("IGDMessageSendService").makeMessagePublishService();i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START),yield c.publish({commitMutationConfig:u,type:"edit_message"},a,i),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),i.endSuccess()}catch(e){n!=null&&l!=null&&(i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDRevertOptimisticMessage")(l),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),i.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPIEditMessage=e}),98);
__d("IGDOffMsysComposerUtils",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("842")===!0}l.enableIGDOffMsysComposer=e}),98);
__d("MWXIconDocument",["MWXSvgIcon","SVGIcon","cr:22296","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22296")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:22434","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22434")),r("gkx")("23219"));l.default=e}),98);
__d("MWXVideoStatusListener.react",["getErrorNameFromMediaErrorCode","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=e.onError,n=e.onLoad,o=e.videoRef;return s(function(){var e=o==null?void 0:o.current;function a(){n==null||n()}function i(e){var n=e.currentTarget,o=n.error,a=r("getErrorNameFromMediaErrorCode")(o==null?void 0:o.code);t==null||t(a)}if((e==null?void 0:e.readyState)!=null&&e.readyState>=2){a();return}return e==null||e.addEventListener("canplay",a),e==null||e.addEventListener("error",i),function(){e==null||e.removeEventListener("canplay",a),e==null||e.removeEventListener("error",i)}},[t,n,o]),null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef,p={cancelButton:{insetInlineEnd:"xgvahye",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginInlineEnd:"xbmvrgn",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x18xomjl",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function _(e){var t=e.hasError,n=t===void 0?!1:t,r=e.progress;if(r===1||r==null)return null;var o=4,a=n?"var(--negative)":"var(--chat-composer-button-color, var(--accent))",i=Math.ceil(r*100),l=(o/2).toString(),s="M 0,"+l+" L 100,"+l;return u.jsxs("svg",{"aria-hidden":!0,className:"x15mokao x1ga7v0g xde0f50 x15x8krk x1ey2m1c x1o0tod x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:o.toString()},viewBox:"0 0 100 "+o.toString(),children:[u.jsx("path",{d:s,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:o.toString()}),u.jsx("path",{d:s,stroke:a,strokeLinecap:"round",strokeWidth:(i===0?0:o).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-i).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.children,n=e.hasError,a=n===void 0?!1:n,i=e.onCancel,l=e.progress,c=e.testid;return u.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:p.card,children:[u.jsxs(o("react-strict-dom").html.div,{style:p.contentWrapper,children:[t,u.jsx(_,{hasError:a,progress:l})]}),i!=null&&u.jsx(o("react-strict-dom").html.div,{style:p.cancelButton,children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Cancel"),icon:r("MWXIconCross"),onPress:i,size:24,type:"overlay"})})]})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.hasError,n=t===void 0?!1:t,o=e.onCancel,a=e.onError,i=e.onLoad,l=e.progress,s=e.src;return u.jsx(f,{hasError:n,onCancel:o,progress:l,testid:void 0,children:u.jsx(r("MWXImage.react"),{objectFit:"contain",onError:a,onLoad:i,src:s,xstyle:p.imagePreview})})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.hasError,n=t===void 0?!1:t,a=e.onCancel,i=e.onError,l=e.onLoad,s=e.progress,c=e.src,d=m(null);return u.jsxs(f,{hasError:n,onCancel:a,progress:s,testid:void 0,children:[u.jsx(r("MWXVideoStatusListener.react"),{onError:i,onLoad:l,videoRef:d}),u.jsx("video",{className:"xl1xv1r",height:"48",ref:d,src:c,width:"48"}),u.jsx(o("react-strict-dom").html.div,{style:p.playIcon,children:u.jsx(r("MWXImage.react"),{src:"/images/video/play_24dp.png"})})]})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=e.hasError,n=t===void 0?!1:t,a=e.onCancel,i=e.onLoad,l=e.progress,s=e.title;return d(function(){i==null||i()},[i]),u.jsx(f,{hasError:n,onCancel:a,progress:l,testid:void 0,children:u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:s,children:u.jsxs(o("react-strict-dom").html.div,{style:p.filePreview,children:[u.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconDocument"),isDecorative:!0,size:20}),u.jsx(r("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:s})]})})})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=e.isDisabled,n=e.onPress,o=s._(/*BTDS*/"Upload another file");return u.jsx(f,{children:u.jsx(r("MWXPressable.react"),{"aria-label":o,disabled:t,onPress:n,testid:void 0,xstyle:p.imagePreview,children:u.jsx(r("MWXIconStrict.react"),{color:t?"disabled":"primary",icon:r("MWXIconPhotoPlus"),size:24})})})}C.displayName=C.name+" [from "+i.id+"]",l.MWXComposerImageAttachmentPreview=g,l.MWXComposerVideoAttachmentPreview=h,l.MWXComposerFileAttachmentPreview=y,l.MWXComposerAddAttachmentButton=C}),226);
__d("MWXComposerButtonContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({});l.default=u}),98);
__d("MWXComposerRow.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding12:{paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function c(e){var t=e.children,n=e["data-testid"],r=e.padding,a=r===void 0?0:r,i=e.scrollable,l=e.xStyle;return s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.row,a===12&&u.padding12,a===4&&u.padding4,a===6&&u.padding6,i===!0&&u.scrollable,l],children:t})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingInlineStart:"x1onr9mi",paddingInlineEnd:"x1pic42t",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginInlineStart:"xvc5jky",$$css:!0}},c={color:"secondary",size:24};function d(e){var t=e.bodyText,n=e.bodyTextColor,a=e.bodyTextType,i=e["data-testid"],l=e.hasTopBorder,d=l===void 0?!1:l,m=e.headlineText,p=e.headlineTextType,_=e.leftAddon,f=e.level,g=f===void 0?3:f,h=e.loadingIndicator,y=e.rightAddon,C=e.subtext,b=e.xstyle;return h!=null?s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[u.body],children:h}):s.jsxs(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[u.body,d&&u.border,b],children:[_!=null&&_,(t!=null||C!=null||m!=null)&&s.jsx(r("MWXTextPairing.react"),{body:t!=null&&a!=null?s.jsx(r("MWXText.react"),{color:n,type:a,children:t}):t!=null?s.jsx(r("MWXText.react"),{color:n,type:"body4",children:t}):void 0,headline:m!=null&&p!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:p,children:m}):m!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:m}):void 0,level:g,meta:C}),y!=null&&s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsx(o("react-strict-dom").html.div,{style:u.rightAddon,children:y})})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","disableTooltip","isShown","label","size","type","wrapperStyle","wrapperXStyle"],u,c=u||(u=o("react")),d=u.useContext,m={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",transition:"x1el4u5y",$$css:!0},shown:{transform:"x1158fpu",$$css:!0}};function p(t){var n,a=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=i.color,u=i.disableTooltip,p=i.isShown,f=i.label,g=i.size,h=i.type,y=h===void 0?"deemphasized":h,C=i.wrapperStyle,b=i.wrapperXStyle,v=babelHelpers.objectWithoutPropertiesLoose(i,s),S=d(r("MWXComposerButtonContext.react")),R=S.color,L=S.iconRatio,E=L===void 0?"medium":L,k=S.paddingHorizontal,I=k===void 0?"none":k,T=S.size,D=T===void 0?36:T;return c.jsx(o("react-strict-dom").html.div,{style:[I==="small"&&m.horizontalPaddingSmall,m.layoutWrapper,[b,C],p===!0&&m.shown],children:c.jsx(_,{disableTooltip:u,label:f,children:c.jsx(r("MWXCircleButton.react"),babelHelpers.extends({},v,{"aria-label":f,color:(n=l!=null?l:R)!=null?n:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),iconRatio:E,ref:a,size:g!=null?g:D,type:y}))})})}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.children,n=e.disableTooltip,o=e.label;return n===!0?t:c.jsx(r("MWXTooltip.react"),{position:"above",tooltip:o,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={colors:{backgroundColor:"x16sw7j7",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},c={iconRatio:"large",paddingHorizontal:"none",size:28};function d(e){var t=e.children,n=e.composerRowXStyle,a=e.header,i=e.xstyle;return s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsxs(o("react-strict-dom").html.div,{style:[u.colors,u.flexLayout,i],children:[a,s.jsx(r("MWXComposerRow.react"),{padding:4,xStyle:n,children:t})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-strict-dom","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"],s,u=s||(s=o("react")),c=s.useContext,d={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function m(t){var n=t.color,a=n===void 0?"blue":n,i=t.label,l=t.size,s=t.spinnerSize,m=s===void 0?20:s,p=t.wrapperStyle,_=t.wrapperXStyle,f=babelHelpers.objectWithoutPropertiesLoose(t,e);r("vulture")("KlrXhW9hvp38Mnhm0K63c87LFnQ=");var g=c(r("MWXComposerButtonContext.react")),h=g.paddingHorizontal,y=h===void 0?"none":h,C=g.size,b=C===void 0?36:C,v=(l!=null?l:b)+"px";return u.jsx(o("react-strict-dom").html.div,{style:[y==="small"&&d.horizontalPaddingSmall,d.layoutWrapper,[_,p],[{height:v,width:v}]],children:u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:i,children:u.jsx(r("MWXSpinner.react"),babelHelpers.extends({color:a,size:m},f))})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding:{marginBottom:"x12nagc",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function c(e){var t=e.children,n=e.contentEditableProps,a=e.placeholderText,i=e.testid,l=a==null?{}:{"aria-placeholder":a,placeholder:s.jsx(r("CometLexicalPlaceholder.react"),{children:a})},c=s.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({tabIndex:0,webDriverTestID:i},l,n));return s.jsxs(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:u.padding,children:[s.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:c}),t]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0}};function d(e){var t=e.children,n=e.editor,a=e.header,i=e.testid,l=e.xstyle,d=o("LexicalComposerContext").createLexicalComposerContext(),m=u(function(){return[n,d]},[n,d]);return s.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:m,children:[s.jsxs(o("react-strict-dom").html.div,{style:[c.composer,c.flexLayout],children:[a,s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[c.padding,l],children:t})]}),s.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]})}d.displayName=d.name+" [from "+i.id+"]";var m={Add:o("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:o("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:o("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:o("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};l.Composer=d,l.Button=r("MWXComposerIconButton.react"),l.TextEditor=r("MWXComposerTextEditor.react"),l.InputArea=r("MWXComposerInputArea.react"),l.Header=r("MWXComposerHeader.react"),l.Row=r("MWXComposerRow.react"),l.Spinner=r("MWXComposerSpinner.react"),l.Attachments=m}),98);
__d("issueEditInstamadilloMessage",["IGDBridgedAPI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("IGDBridgedAPI").sendEditMessage(e)}l.default=e}),98);
__d("useIGDMessageLengthExceededToast",["fbt","react-compiler-runtime","useDebounced","useIGDSToaster"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Your message is too long");function u(){var t=o("react-compiler-runtime").c(2),n=r("useIGDSToaster")(),a;t[0]!==n?(a=function(){n.add({message:e,target:"bottom"})},t[0]=n,t[1]=a):a=t[1];var i=r("useDebounced")(a,500,!0);return i}l.default=u}),226);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(12).fetch([[[e[0]]],"messageId"]).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,r[2]=a.editCount,r[1]=t.i64.of_float(Date.now()),t.i64.lt(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,5]))&&t.i64.le(r[1],t.i64.add(a.timestampMs,t.i64.cast([0,9e5])))?t.sequence([function(o){return t.storedProcedure(n("LSEditMessage"),a.messageId,t.i64.cast([0,20]),e[1],t.i64.add(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,1])))},function(o){return r[3]=new t.Map,r[3].set("message_id",e[0]),r[3].set("text",e[1]),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[7]=t.i64.of_float(Date.now()),r[4]=t.i64.add(r[7],t.i64.cast([0,0]))):r[4]=t.i64.cast([0,0]),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"edit_message",t.i64.cast([0,742]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[4],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[6]=t[0],t})},function(e){return t.resolve()}]):t.resolve(0))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure",e.__tables__=["messages","pending_tasks"],a.exports=e}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticEditMessage"),a.messageId,a.text);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=(e||(e=r("useReStore")))();return u(function(e,n){return r("promiseDone")(t.runInTransaction(function(t){return r("LSOptimisticEditMessageStoredProcedure")(r("LSFactory")(t),{messageId:e,text:n})},"readwrite",void 0,void 0,i.id+":27"))},[t])}l.default=c}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isPlatform("Mac OS X"),s=String.fromCodePoint(e?8984:8963);function u(t){return t!==null&&(e?t.metaKey:t.ctrlKey)}l.COMMAND_UNICODE=s,l.hasCommandModifier=u}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useInsertionEffect,d=s.useLayoutEffect,m=s.useRef,p=250;function _(e,t){var n=e.clearReplyState,a=e.editor,i=e.onSend,l=m(null),s=m(t);c(function(){s.current=t},[t]);var _=u(function(){var e=i(s.current);n==null||n(),e&&a.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND)},[i,n,a]);return d(function(){return a.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(e){if(e!=null&&!e.shiftKey&&!e.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();var t=l.current;return t!=null&&e.timeStamp-t<=p&&r("gkx")("15485")?(l.current=e.timeStamp,!0):(_(),l.current=e.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},[a,_]),{onSend:_}}l.default=_}),98);
__d("cometLexicalBaseTheme",[],(function(t,n,r,o,a,i,l){"use strict";var e={ltr:"xdpxx8g",rtl:"x1hr2gdg"},s=e;l.default=s}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e){s(function(){e.update(function(){var t=o("Lexical").$getRoot();if(t.isEmpty()){var n=o("Lexical").$createParagraphNode();t.append(n);var r=document.activeElement;(o("Lexical").$getSelection()!==null||r!==null&&r===e.getRootElement())&&n.select()}})},[e])}l.default=u}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t){t===void 0&&(t=!1),s(function(){return e.registerCommand(o("Lexical").CLEAR_EDITOR_COMMAND,function(){return e.update(function(){var e=o("Lexical").$getRoot(),n=o("Lexical").$getSelection(),r=o("Lexical").$createParagraphNode();e.clear(),e.append(r),n!==null&&(r.select(),t===!0&&o("Lexical").$isRangeSelection(n)&&(n.format=0))}),!0},o("Lexical").COMMAND_PRIORITY_EDITOR)},[t,e])}l.default=u}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode,o("CometLexicalEmojiNode").EmojiNode];function s(){var t=r("useStable")(function(){return o("Lexical").createEditor({namespace:"MWPEditor",nodes:e.filter(Boolean),onError:function(){},theme:babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})});return r("useMWPLexicalClearEditor")(t),r("useLexicalInitializeEditor__DEPRECATED")(t),{editor:t}}l.useMWXLexicalEditor=s}),98);
__d("useMWXLexicalMaxLength",["Lexical","LexicalSelection","LexicalUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=t.maxLength,r=t.onMaxLengthExceeded;s(function(){var t=null;return e.registerNodeTransform(o("Lexical").RootNode,function(a){var i=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(i)||!i.isCollapsed())){var l=e.getEditorState(),s=l.read(function(){return a.getTextContentSize()}),u=a.getTextContentSize();if(s!==u){var c=u-n,d=i.anchor;c>0&&(r==null||r(),s===n&&t!==l?(t=l,o("LexicalUtils").$restoreEditorState(e,l)):o("LexicalSelection").$trimTextContentFromAnchor(e,d,c))}}})},[e,n,r])}l.useMWXLexicalMaxLength=u}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t,n){s(function(){t!=null&&e.update(function(){if(t!=null){var e=o("Lexical").$getRoot(),r=e.getFirstChild();o("Lexical").$isParagraphNode(r)||(r=o("Lexical").$createParagraphNode(),e.append(r));var a=o("Lexical").$createTextNode(t);r.clear(),r.append(a),n===!0&&r.selectEnd()}})},[e])}l.default=u}),98);
__d("useShowNotEditableMessageToast",["fbt","IGDSErrorPanoOutlineIcon.react","PolarisToastConstants","react","react-compiler-runtime","useIGDSToaster"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=o("PolarisToastConstants").TOAST_ANIM_DURATION_S*1e3;function m(){var e=o("react-compiler-runtime").c(2),t=r("useIGDSToaster")(),n;return e[0]!==t?(n=function(){t.add({icon:u.jsx(r("IGDSErrorPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"Error Icon")}),message:s._(/*BTDS*/"Message not edited, sent messages can only be edited for 15 minutes"),target:"bottom-left"},{duration:d})},e[0]=t,e[1]=n):n=e[1],n}l.default=m}),226);
__d("IGDComposerEditContainer.react",["fbt","FBLogger","I64","IGDComposerConstants","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDInstamadilloUtils","IGDMAPIEditMessage","IGDMAPIInterfaceTypes","IGDOffMsysComposerUtils","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MAWEditMessageContext.react","MWXComposer.react","MessengerWebUXLogger","PolarisUA","ReQL","ReQLSuspense","RelayHooks","getErrorSafe","getIsMessageTimeBelowEditThreshold","isStringNullOrEmpty","issueEditInstamadilloMessage","promiseDone","react","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","useMWXLexicalMaxLength","usePrepopulateLexicalEditor","useReStore","useServerTime","useShowNotEditableMessageToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useEffect,g=p.useMemo,h=p.useState,y={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}},C=o("IGDOffMsysComposerUtils").enableIGDOffMsysComposer();function b(t){var n=t.editMessageData,a=t.headerText,l=t.onEditCancelCallback,d=l===void 0?null:l,p=t.onEditTriggerCallback,b=p===void 0?null:p,v=t.threadFbid,S=o("RelayHooks").useRelayEnvironment(),R=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"composer_edit_message"}),L=r("MessengerWebUXLogger").useInteractionLogger(),E=_(o("MAWEditMessageContext.react").Context),k=E.setEditMessageData,I=o("useMWXLexicalEditor").useMWXLexicalEditor(),T=I.editor,D=r("useIGDMessageLengthExceededToast")();o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(T,{maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:D});var x=r("useIsChatTabsDisplay")(),$=(u||(u=r("useReStore")))(),P=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending($.tables.messages).getKeyRange(n==null?void 0:n.threadKey,n==null?void 0:n.timestampMs,n==null?void 0:n.messageId)},[$,n==null?void 0:n.messageId,n==null?void 0:n.threadKey,n==null?void 0:n.timestampMs],i.id+":128"),N=g(function(){var e;return((e=P==null?void 0:P.text)!=null?e:"").trim()},[P==null?void 0:P.text]),M=r("useMAWGetSendEditActionforOpen")(),w=r("useServerTime")(),A=o("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((c||(c=o("I64"))).of_float(w.getTime()),n.timestampMs),F=function(){if(A){var t=T.getEditorState().read(o("LexicalText").$rootTextContent).trim();if(r("isStringNullOrEmpty")(t)||t===N)return!1;if(C&&P!=null&&v!=null){var a;o("IGDMAPIEditMessage").IGDMAPIEditMessage(S,{messageId:(a=o("IGDMAPIInterfaceTypes")).toMessageId(n.messageId),offlineThreadingId:a.toOfflineThreadingId(P.offlineThreadingId),text:a.toMessage(t),threadId:a.toThreadId(v)},{threadKey:n.threadKey,timestampMs:n.timestampMs}).catch(function(t){var n=r("getErrorSafe")(t);r("FBLogger")("igd_web").tags(["OffMSYSComposer"]).catching(t).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to edit message: ",""])),n.message)})}else if(o("IGDInstamadilloUtils").isInstamadilloMessage(P)){var i={messageId:n.messageId,text:t,threadKey:n.threadKey};r("promiseDone")(r("issueEditInstamadilloMessage")(i))}else M(n.messageId,t);return k(null),b&&b(),L==null||L({eventName:"edit_message"}),!0}else return O(),!1},O=r("useShowNotEditableMessageToast")(),B=function(){k(null),L==null||L({eventName:"edit_message_cancel"}),d&&d()};r("useMWXComposerClearAndSendOnEnter")({clearReplyState:null,editor:T,onSend:F});var W=h(!1),q=W[0],U=W[1];return f(function(){return T.registerTextContentListener(function(e){var t=e.trim();U(!r("isStringNullOrEmpty")(t)&&t!==N)})},[T,N]),r("usePrepopulateLexicalEditor")(T,N,!0),m.jsx(r("IGDSBox.react"),{containerRef:R,children:m.jsx(o("MWXComposer.react").Composer,{editor:T,header:m.jsx(o("MWXComposer.react").Header,{bodyText:a!=null?a:s._(/*BTDS*/"Editing message"),bodyTextColor:x?"secondary":"primary","data-testid":void 0,hasTopBorder:!0,rightAddon:m.jsx(r("IGDSIconButton.react"),{label:s._(/*BTDS*/"Cancel edit"),onClick:B,xstyle:y.cancelButton,children:m.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15})}),xstyle:x&&y.chatTabComposerHeader},0),children:m.jsx(o("MWXComposer.react").Row,{children:m.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:x&&y.chatTabInnerComposerContainer,children:m.jsxs(o("MWXComposer.react").InputArea,{xstyle:[y.innerComposer,x&&y.chatTabInnerComposer,o("PolarisUA").isMobile()&&y.mobileInnerComposerContainer],children:[o("PolarisUA").isMobile()?null:m.jsx(r("IGDSBox.react"),{xstyle:[y.emojiButton,x&&y.chatTabEmojiButton],children:m.jsx(r("IGDComposerEmojiButton.react"),{editor:T})}),m.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:s._(/*BTDS*/"Editing message")},testid:void 0}),m.jsx(r("IGDSBox.react"),{children:m.jsx(r("IGDComposerIconSendButton.react"),{isDisabled:!q,isEdit:!0,onClick:function(){F()},testid:void 0})})]})})})})})}b.displayName=b.name+" [from "+i.id+"]",l.default=b}),226);
__d("IGDComposerEditContainerOffMsys_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerEditContainerOffMsys_SlideMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null}],type:"SlideMessageText",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDComposerEditContainerOffMsys.react",["fbt","CometRelay","IGDComposerConstants","IGDComposerEditContainerOffMsys_SlideMessage.graphql","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDEditMessageContext.react","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MWXComposer.react","MessengerWebUXLogger","PolarisUA","getIsMessageTimeBelowEditThresholdOffMsys","isStringNullOrEmpty","react","react-compiler-runtime","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","useMWXLexicalMaxLength","usePrepopulateLexicalEditor","useServerTime","useShowNotEditableMessageToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useMemo,_=d.useState,f={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}};function g(t){var a,i,l,u=o("react-compiler-runtime").c(56),d=t.editMessageData,p=t.headerText,g=t.onEditCancelCallback,h=t.onEditTriggerCallback,y=g===void 0?null:g,C=h===void 0?null:h,b;u[0]===Symbol.for("react.memo_cache_sentinel")?(b={eventName:"composer_edit_message"},u[0]=b):b=u[0];var v=r("MessengerWebUXLogger").useImpressionLoggerRef(b),S=r("MessengerWebUXLogger").useInteractionLogger(),R=o("IGDEditMessageContext.react").useIGDEditSetterContext(),L=R.clearEditMessageData,E=o("useMWXLexicalEditor").useMWXLexicalEditor(),k=E.editor,I=r("useIGDMessageLengthExceededToast")(),T;u[1]!==I?(T={maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:I},u[1]=I,u[2]=T):T=u[2],o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(k,T);var D=r("useIsChatTabsDisplay")(),x=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerEditContainerOffMsys_SlideMessage.graphql"),d.message);(a=x.content)==null||a.text_body;var $=(i=(l=x.content)==null?void 0:l.text_body)!=null?i:"",P;u[3]!==$?(P=$.trim(),u[3]=$,u[4]=P):P=u[4];var N=P,M=r("useMAWGetSendEditActionforOpen")(),w=r("useServerTime")(),A;u[5]!==x.timestamp_ms||u[6]!==w?(A=r("getIsMessageTimeBelowEditThresholdOffMsys")(w.getTime(),Number(x.timestamp_ms)),u[5]=x.timestamp_ms,u[6]=w,u[7]=A):A=u[7];var F=A,O=function(){if(F){var e=k.getEditorState().read(o("LexicalText").$rootTextContent).trim();return r("isStringNullOrEmpty")(e)||e===N?!1:(M(x.message_id,e),L(),C&&C(),S==null||S({eventName:"edit_message"}),!0)}else return B(),!1},B=r("useShowNotEditableMessageToast")(),W;u[8]!==L||u[9]!==S||u[10]!==y?(W=function(){L(),S==null||S({eventName:"edit_message_cancel"}),y&&y()},u[8]=L,u[9]=S,u[10]=y,u[11]=W):W=u[11];var q=W,U;u[12]!==k||u[13]!==O?(U={clearReplyState:null,editor:k,onSend:O},u[12]=k,u[13]=O,u[14]=U):U=u[14],r("useMWXComposerClearAndSendOnEnter")(U);var V=_(!1),H=V[0],G=V[1],z,j;u[15]!==k||u[16]!==N?(z=function(){return k.registerTextContentListener(function(e){var t=e.trim();G(!r("isStringNullOrEmpty")(t)&&t!==N)})},j=[k,N],u[15]=k,u[16]=N,u[17]=z,u[18]=j):(z=u[17],j=u[18]),m(z,j),r("usePrepopulateLexicalEditor")(k,N,!0);var K;u[19]!==p?(K=p!=null?p:s._(/*BTDS*/"Editing message"),u[19]=p,u[20]=K):K=u[20];var Q=D?"secondary":"primary",X;u[21]===Symbol.for("react.memo_cache_sentinel")?(X=s._(/*BTDS*/"Cancel edit"),u[21]=X):X=u[21];var Y;u[22]===Symbol.for("react.memo_cache_sentinel")?(Y=c.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15}),u[22]=Y):Y=u[22];var J;u[23]!==q?(J=c.jsx(r("IGDSIconButton.react"),{label:X,onClick:q,xstyle:f.cancelButton,children:Y}),u[23]=q,u[24]=J):J=u[24];var Z=D&&f.chatTabComposerHeader,ee;u[25]!==K||u[26]!==Q||u[27]!==J||u[28]!==Z?(ee=c.jsx(o("MWXComposer.react").Header,{bodyText:K,bodyTextColor:Q,"data-testid":void 0,hasTopBorder:!0,rightAddon:J,xstyle:Z},0),u[25]=K,u[26]=Q,u[27]=J,u[28]=Z,u[29]=ee):ee=u[29];var te=D&&f.chatTabInnerComposerContainer,ne=D&&f.chatTabInnerComposer,re;u[30]===Symbol.for("react.memo_cache_sentinel")?(re=o("PolarisUA").isMobile()&&f.mobileInnerComposerContainer,u[30]=re):re=u[30];var oe;u[31]!==ne?(oe=[f.innerComposer,ne,re],u[31]=ne,u[32]=oe):oe=u[32];var ae;u[33]!==k||u[34]!==D?(ae=o("PolarisUA").isMobile()?null:c.jsx(r("IGDSBox.react"),{xstyle:[f.emojiButton,D&&f.chatTabEmojiButton],children:c.jsx(r("IGDComposerEmojiButton.react"),{editor:k})}),u[33]=k,u[34]=D,u[35]=ae):ae=u[35];var ie;u[36]===Symbol.for("react.memo_cache_sentinel")?(ie=c.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:s._(/*BTDS*/"Editing message")},testid:void 0}),u[36]=ie):ie=u[36];var le=!H,se;u[37]!==O?(se=function(){O()},u[37]=O,u[38]=se):se=u[38];var ue;u[39]!==le||u[40]!==se?(ue=c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDComposerIconSendButton.react"),{isDisabled:le,isEdit:!0,onClick:se,testid:void 0})}),u[39]=le,u[40]=se,u[41]=ue):ue=u[41];var ce;u[42]!==oe||u[43]!==ae||u[44]!==ue?(ce=c.jsxs(o("MWXComposer.react").InputArea,{xstyle:oe,children:[ae,ie,ue]}),u[42]=oe,u[43]=ae,u[44]=ue,u[45]=ce):ce=u[45];var de;u[46]!==te||u[47]!==ce?(de=c.jsx(o("MWXComposer.react").Row,{children:c.jsx(r("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:te,children:ce})}),u[46]=te,u[47]=ce,u[48]=de):de=u[48];var me;u[49]!==k||u[50]!==ee||u[51]!==de?(me=c.jsx(o("MWXComposer.react").Composer,{editor:k,header:ee,children:de}),u[49]=k,u[50]=ee,u[51]=de,u[52]=me):me=u[52];var pe;return u[53]!==v||u[54]!==me?(pe=c.jsx(r("IGDSBox.react"),{containerRef:v,children:me}),u[53]=v,u[54]=me,u[55]=pe):pe=u[55],pe}l.default=g}),226);
__d("LSContactGenderToGenderConst",["GenderConst","I64","LSContactGender","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").FEMALE))?r("GenderConst").FEMALE_SINGULAR:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").MALE))?r("GenderConst").MALE_SINGULAR:(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactGender").NEUTER))?r("GenderConst").NEUTER_SINGULAR:r("GenderConst").NOT_A_PERSON}l.default=u}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743878"),s=o("FalcoLoggerInternal").create("ls_reply_rendered",e),u=s;l.default=u}),98);
__d("MWChatStrikethroughText.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=e.children;return s.jsx("s",{children:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(t,n,r,o,a,i){var e=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});i.default=e}),66);
__d("MessengerFormattingConfig",[],(function(t,n,r,o,a,i){var e=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"},singleInlineHeaderConfig:{pattern:"(^# ?)(.*?$)",nonCapturingPattern:"^# ?(.*?$)"},linkConfig:{pattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)",nonCapturingPattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)"},bulletedList:{pattern:"(^[-*+])\\s+(.*)",nonCapturingPattern:"(^[-*+])\\s+(.*)"},numberedList:{pattern:"(^(\\d)+\\.)\\s+(.*)",nonCapturingPattern:"(^\\d+\\.)\\s+(.*)"}});i.default=e}),66);
__d("MWChatTextFormattingUtils",["$InternalEnum","FBLogger","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough","Link","BulletedList","NumberedList","InlineHeader"]),u=new Set(Object.values(r("MessageMarkdownCodeblockLanguages"))),c=[s.CodeBlock,s.BlockQuote,s.InlineQuote,s.InlineCode,s.Bold,s.Italics,s.StrikeThrough];function d(e){var t,n=function(t){return t[2]},o=function(t){return new Map},a=1,i=!0,l=function(t){return!0};switch(e){case s.Bold:t=r("MessengerFormattingConfig").boldConfig.pattern;break;case s.Italics:t=r("MessengerFormattingConfig").italicConfig.pattern;break;case s.StrikeThrough:t=r("MessengerFormattingConfig").strikethroughConfig.pattern;break;case s.InlineCode:t=r("MessengerFormattingConfig").codeConfig.pattern;break;case s.BlockQuote:t=r("MessengerFormattingConfig").blockQuoteConfig.pattern,i=!1;break;case s.InlineQuote:l=function(t){return t.trim()!==">"},t=r("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern,i=!1;break;case s.InlineHeader:l=function(t){return t.trim()!=="#"},t=r("MessengerFormattingConfig").singleInlineHeaderConfig.pattern,i=!1;break;case s.CodeBlock:n=function(t){var e,n,r,o=((e=t[3])!=null?e:"").trim().toLowerCase(),a=(n=t[4])!=null?n:t[5],i=(r=t[2])!=null?r:"";return o===""||u.has(o)?a:i+a},t=r("MessengerFormattingConfig").codeBlockV2Config.pattern,i=!1;break;case s.Link:n=function(t){return t[1]},o=function(t){return new Map([["link",t[2]]])},t=r("MessengerFormattingConfig").linkConfig.pattern,i=!1;break;case s.BulletedList:t=r("MessengerFormattingConfig").bulletedList.pattern,i=!1;break;case s.NumberedList:t=r("MessengerFormattingConfig").numberedList.pattern,i=!1,n=function(t){return t[3]},o=function(t){return new Map([["index",t[2]]])};break}if(t==null)throw r("FBLogger")("messenger_web").mustfixThrow("No formatting config found for given format");return{getCleanText:n,getExtraData:o,hasClosingTag:i,regExp:new RegExp(t,"gm"),tagIndex:a,validator:l}}function m(t,n,r,a){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1);var i=[],l=c;return n&&(l=l.concat(s.Link)),r&&(l=l.concat([s.BulletedList,s.NumberedList])),a&&(l=l.concat(s.InlineHeader)),l.forEach(function(n){var r=d(n),a=r.getCleanText,l=r.getExtraData,s=r.hasClosingTag,u=r.regExp,c=r.tagIndex,m=r.validator,p;if(m(t))for(var _=function(){if(p==null)return 0;var r=(e||(e=o("UnicodeUtils"))).substr(t,0,p.index),u=r.length-e.strlen(r),d=p.index-u,m=e.strlen(p[0]);s&&(d+=p[c].length,m-=p[c].length);var _=function(t){var e=d+m,n=t.offset+t.length;return e>t.offset&&d<n},f=a(p),g=l(p);if(!i.find(_)){var h,y;if(i.length>0){var C=i[i.length-1];if(C.entity.format===n&&C.offset+C.length+1===d)return C.entity.text+="\n"+f,C.length+=m+1,1}var b=(h=(y=g.get("link"))==null?void 0:y.includes("from_ads_ai=1"))!=null?h:!1;i.push({entity:{__typename:b?"AdsAILinkFormatting":"MessengerTextFormatting",extraData:g,format:n,text:f},length:m,offset:d})}},f;(p=u.exec(t))!=null&&(f=_(),f!==0););}),i}l.MessengerTextFormattingEntity=s,l.getFormattingRanges=m}),98);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:6023","cr:820","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","encryptedLink"],s,u=s||(s=o("react"));function c(t){var r=t.ref,a=t.encryptedLink,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=o("E2EEMessagingLinkContext.react").useE2EEMessagingLink(),s=l.isSecure,c=s||a===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{};return n("cr:6023")?u.jsx(n("cr:6023"),babelHelpers.extends({},i,c,{ref:r})):n("cr:820")?u.jsx(n("cr:820"),babelHelpers.extends({},i,c,{ref:r})):null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXMessageBlockQuote.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={forwarded:{height:"x5yr21d",marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},fullLine:{bottom:"x19ip775",top:"xnfr1j",$$css:!0},line:{borderStartStartRadius:"xqbdsaf",borderStartEndRadius:"xpf24wh",borderEndEndRadius:"x14a4ghu",borderEndStartRadius:"x1a4jp9x",bottom:"xbfrwjf",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"xndqk7f",width:"xfo62xy",$$css:!0},lineIncomingColor:{backgroundColor:"xtyxhl7",$$css:!0},lineOutgoingColor:{backgroundColor:"xppy7ju",$$css:!0},secondaryTextIncoming:{color:"xi81zsa",$$css:!0},secondaryTextOutgoing:{color:"xkxfvhb",$$css:!0}};function c(e){var t=e.children,n=e.fullLine,r=n===void 0?!1:n,a=e.outgoing,i=a===void 0?!0:a,l=e.xstyle;return s.jsxs(o("react-strict-dom").html.blockquote,{style:[u.forwarded,l],children:[s.jsx(o("react-strict-dom").html.div,{style:[u.line,r?u.fullLine:void 0,i?u.lineOutgoingColor:u.lineIncomingColor]}),s.jsx(o("react-strict-dom").html.div,{style:[i?u.secondaryTextOutgoing:u.secondaryTextIncoming],children:t})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWChatTextFormatting",["MWChatStrikethroughText.react","MWChatTextFormattingUtils","MWXLink.react","MWXMessageBlockQuote.react","MWXText.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={codeBlock:{backgroundColor:"xmjcpbm",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",whiteSpace:"x126k92a",$$css:!0},codeInline:{$$css:!0}};function c(e,t){switch(t.format){case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Bold:return s.jsx(o("react-strict-dom").html.b,{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Italics:return s.jsx(o("react-strict-dom").html.i,{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.StrikeThrough:return s.jsx(r("MWChatStrikethroughText.react"),{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.CodeBlock:return s.jsx(o("react-strict-dom").html.div,{style:u.codeBlock,children:s.jsx(r("MWXText.react"),{type:"body4",children:s.jsx(o("react-strict-dom").html.code,{children:t.text})})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineCode:return s.jsx(o("react-strict-dom").html.code,{style:u.codeInline,children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!0,children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineHeader:return s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headlineEmphasized3",children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Link:return s.jsx(r("MWXLink.react"),{href:t.extraData.get("link"),rel:"external",target:"_blank",children:s.jsx("u",{children:t.text})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BulletedList:return s.jsx("ul",{className:"x1rg5ohu xtaz4m5 xdj266r x14z9mp xat24cr x1lziwak x1nhbasn",children:t.text.split("\n").map(function(e,t){return s.jsx("li",{children:e},t)})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.NumberedList:return s.jsx("ol",{className:"x1rg5ohu x3yw8vx xdj266r x14z9mp xat24cr x1lziwak x1nhbasn",start:t.extraData.get("index"),children:t.text.split("\n").map(function(e,t){return s.jsx("li",{children:e},t)})})}}c.displayName=c.name+" [from "+i.id+"]";function d(e,t){switch(t.format){case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!1,children:t.text});default:return c(e,t)}}d.displayName=d.name+" [from "+i.id+"]",l.messageRenderer=c,l.messageIncomingRenderer=d}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["seeLessLinkProps","seeMoreLinkProps"],s=["color_DEPRECATED"],u=["color_DEPRECATED"],c,d=c||(c=o("react"));function m(t){if(n("cr:5671")!=null)return d.jsx(n("cr:5671"),babelHelpers.extends({},t));if(n("cr:5867")!=null){var r=t.seeLessLinkProps,o=t.seeMoreLinkProps,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=r!=null?r:{},l=i.color_DEPRECATED,c=babelHelpers.objectWithoutPropertiesLoose(i,s),m=o!=null?o:{},p=m.color_DEPRECATED,_=babelHelpers.objectWithoutPropertiesLoose(m,u);return d.jsx(n("cr:5867"),babelHelpers.extends({seeLessLinkProps:babelHelpers.extends({color_DEPRECATED:l==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers.extends({color_DEPRECATED:p==="primary"?"primary":void 0},_)},a))}return null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t,a,i,l=e.isBumpMessage,d=l===void 0?!1:l,m=e.isHotLike,p=m===void 0?!1:m,_=e.mentionIds,f=e.ranges,g=e.text,h=e.threadKey,y=e.transformEmoticons,C=y===void 0?!0:y,b=c(function(){var e;return new Set((e=_==null||_.split==null?void 0:_.split(","))!=null?e:[])},[_]),v=n("cr:2472")==null?g:n("cr:2472").unvault(g),S=(t=(a=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(v,[],b,h))==null?void 0:a.textWithSubstitutions)!=null?t:v,R=(i=o("useStringWithSubstitutions").useStringWithSubstitutions(v,h))!=null?i:v,L=s._(/*BTDS*/"Sticker").toString(),E=p?L:d?R:S;return u.jsx("div",{className:"xi81zsa",dir:"auto",children:u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:f,renderers:{MessengerTextFormatting:[o("MWChatTextFormatting").messageRenderer]},text:E,transforms:C?o("MWChatTextTransform").textTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("IGDComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","getFBTSafeGenderFromGenderConst","isStringNullOrEmpty","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.useContext,f=p.useEffect,g={cancelButton:{paddingTop:"xexx8yu",$$css:!0}};function h(e,t,n){var a=e.isUnsent,i=e.text,l=t||{},u=l.attachmentType,p=!r("isStringNullOrEmpty")(i);return a?s._(/*BTDS*/"Removed message"):p?m.jsx(r("MWChatReplyText.react"),{isHotLike:n,mentionIds:null,text:i!=null?i:s._(/*BTDS*/"Message").toString(),transformEmoticons:!1}):u?(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?s._(/*BTDS*/"Image"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))?s._(/*BTDS*/"Sticker"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?s._(/*BTDS*/"Video"):(c||(c=o("I64"))).equal(u,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?s._(/*BTDS*/"GIF"):s._(/*BTDS*/"Attachment"):s._(/*BTDS*/"Message")}h.displayName=h.name+" [from "+i.id+"]";function y(e,t){if(t)return s._(/*BTDS*/"Replying to yourself");if(e){var n;return s._(/*BTDS*/"_j{\"*\":\"Replying to {name}\"}",[s._param("name",m.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",children:(n=e.firstName)!=null?n:e.name}),[1,r("getFBTSafeGenderFromGenderConst")(r("LSContactGenderToGenderConst")(e.gender))])])}else return s._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[s._param("Placeholder for an unknown user on Instagram","Instagram User")])}function C(t){var n=o("react-compiler-runtime").c(34),a=t.isArmadilloSecureThread,l=t.message,s=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),p=l.hotEmojiSize,_=l.messageId,g=l.senderId,C=l.text,v=l.threadKey,S=(c||(c=o("I64"))).equal(g,u),R;n[0]!==s.tables.contacts||n[1]!==g?(R=function(){return o("ReQL").fromTableAscending(s.tables.contacts).getKeyRange(g)},n[0]=s.tables.contacts,n[1]=g,n[2]=R):R=n[2];var L;n[3]!==s||n[4]!==g?(L=[s,g],n[3]=s,n[4]=g,n[5]=L):L=n[5];var E=o("ReQLSuspense").useFirst(R,L,i.id+":206"),k;n[6]!==s.tables.attachments||n[7]!==_||n[8]!==v?(k=function(){return o("ReQL").fromTableAscending(s.tables.attachments).getKeyRange(v,_)},n[6]=s.tables.attachments,n[7]=_,n[8]=v,n[9]=k):k=n[9];var I;n[10]!==s||n[11]!==_||n[12]!==v?(I=[s,_,v],n[10]=s,n[11]=_,n[12]=v,n[13]=I):I=n[13];var T=o("ReQLSuspense").useFirst(k,I,i.id+":211"),D;n[14]===Symbol.for("react.memo_cache_sentinel")?(D=[],n[14]=D):D=n[14],f(b,D);var x;n[15]!==p||n[16]!==a||n[17]!==C?(x=p!=null?C!=null&&C==="\uD83D\uDC4D"&&((c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL))||(c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM))||(c||(c=o("I64"))).equal(p,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))&&a:!1,n[15]=p,n[16]=a,n[17]=C,n[18]=x):x=n[18];var $=x,P;n[19]===Symbol.for("react.memo_cache_sentinel")?(P={className:"x1sa5p1d"},n[19]=P):P=n[19];var N=r("MDSTextPairing.react"),M=r("IGDSText.react"),w="body",A=y(E,S),F;n[20]!==M||n[21]!==A?(F=m.jsxs(M,{size:w,children:[A," "]}),n[20]=M,n[21]=A,n[22]=F):F=n[22];var O;n[23]!==T||n[24]!==$||n[25]!==l?(O=h(l,T,$),n[23]=T,n[24]=$,n[25]=l,n[26]=O):O=n[26];var B;n[27]!==N||n[28]!==F||n[29]!==O?(B=m.jsx(N,{body:F,level:3,meta:O}),n[27]=N,n[28]=F,n[29]=O,n[30]=B):B=n[30];var W;return n[31]!==B||n[32]!==P?(W=m.jsx("div",babelHelpers.extends({},P,{children:B})),n[31]=B,n[32]=P,n[33]=W):W=n[33],W}function b(){r("LsReplyRenderedFalcoEvent").log(v)}function v(){return{funnel:{entry_point:o("LsFalcoEventEntryPoint").messageActions}}}function S(e){var t=o("react-compiler-runtime").c(15),n=e.isArmadilloSecureThread,a=e.message,i=a.threadKey,l=_(o("MWPReplyContext.react").MWPReplyContext),u=l.clearReply,c=_(r("CometTriggerAccessibilityAlertContext")),d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x1cy8zhl xvbhtw8 x5ur3kl x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno"},t[0]=d):d=t[0];var p;t[1]!==n||t[2]!==a?(p=m.jsx(r("CometErrorBoundary.react"),{fallback:R,children:m.jsx(C,{isArmadilloSecureThread:n,message:a})}),t[1]=n,t[2]=a,t[3]=p):p=t[3];var f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Cancel reply"),t[4]=f):f=t[4];var h;t[5]!==u||t[6]!==i||t[7]!==c?(h=function(){u(i,!0),c(s._(/*BTDS*/"Replying to message has been canceled."),{assertive:!1})},t[5]=u,t[6]=i,t[7]=c,t[8]=h):h=t[8];var y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y=m.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel reply"),color:"ig-primary-text",size:12}),t[9]=y):y=t[9];var b;t[10]!==h?(b=m.jsx(r("IGDSIconButton.react"),{label:f,onClick:h,xstyle:g.cancelButton,children:y}),t[10]=h,t[11]=b):b=t[11];var v;return t[12]!==p||t[13]!==b?(v=m.jsxs("div",babelHelpers.extends({},d,{"data-testid":void 0,children:[p,b]})),t[12]=p,t[13]=b,t[14]=v):v=t[14],v}function R(){return m.jsx(r("IGDSText.react"),{size:"body",children:s._(/*BTDS*/"Replying to message")})}R.displayName=R.name+" [from "+i.id+"]";function L(t){var n=o("react-compiler-runtime").c(15),a=t.messageId,l=t.messageTimestamp,s=t.thread,u=(e||(e=r("useReStore")))(),c=s.threadKey,d=s.threadType,p;n[0]!==d?(p=o("LSMessagingThreadTypeUtil").isArmadilloSecure(d),n[0]=d,n[1]=p):p=n[1];var _=p,f;n[2]!==u.tables.messages||n[3]!==a||n[4]!==l||n[5]!==c?(f=function(){return o("ReQL").fromTableAscending(u.tables.messages).getKeyRange(c,l,a)},n[2]=u.tables.messages,n[3]=a,n[4]=l,n[5]=c,n[6]=f):f=n[6];var g;n[7]!==u||n[8]!==a||n[9]!==l||n[10]!==c?(g=[u,c,a,l],n[7]=u,n[8]=a,n[9]=l,n[10]=c,n[11]=g):g=n[11];var h=o("ReQLSuspense").useFirst(f,g,i.id+":325"),y;return n[12]!==_||n[13]!==h?(y=h?m.jsx(S,{isArmadilloSecureThread:_,message:h}):null,n[12]=_,n[13]=h,n[14]=y):y=n[14],y}l.default=L}),226);
__d("IGDComposerAttachmentButton.react",["fbt","BaseFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","promiseDone","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m=r("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function p(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);if(t.length>0)return e(t)},t[0]=e,t[1]=n):n=t[1],n}function _(t){var n=o("react-compiler-runtime").c(11),a=t.multiple,i=t.onAttachmentsAdded,l=t.supportedFileTypes,u=t.threadKey,d=a===void 0?!0:a,_=(e||(e=r("useReStore")))(),f=o("MWPActor.react").useActor(),g=p(i),h=r("MessengerWebUXLogger").useInteractionLogger(),y=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),C;n[0]!==f||n[1]!==_||n[2]!==y||n[3]!==h||n[4]!==u?(C=function(t){return c.jsx(r("IGDSIconButton.react"),{onClick:function(){h==null||h({eventName:"composer_open_file_picker",flowInstanceId:y}),t(),m.onReady(function(e){return r("promiseDone")(e.log(_,void 0,u,"composer","attach",void 0,void 0,void 0,void 0,"image",f))})},children:c.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:s._(/*BTDS*/"Add Photo or Video"),color:"ig-primary-text"})})},n[0]=f,n[1]=_,n[2]=y,n[3]=h,n[4]=u,n[5]=C):C=n[5];var b;return n[6]!==d||n[7]!==g||n[8]!==l||n[9]!==C?(b=c.jsx(r("BaseFileSelector.react"),{accept:l,multiple:d,onFilesSelected:g,children:C}),n[6]=d,n[7]=g,n[8]=l,n[9]=C,n[10]=b):b=n[10],b}l.default=_}),226);
__d("IGDSMediaOutlineIcon.react",["IGDSMediaPanoOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSMediaPanoOutlineIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDComposerMediaStaging.react",["fbt","BaseFileSelector.react","CometImage.react","FDSImageCover.react","I64","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","IGDSTooltip.react","IGDSXPanoFilledIcon.react","LSIntEnum","MWMediaComposerRenderQpl","MWMediaManager","MessagingAttachmentType","cr:105","react","react-compiler-runtime","useCurrentDisplayMode","useIGDMediaMangerUploadFailedToast"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState,g={stackingUploadButton:{height:"x1peatla",width:"x1fu8urw",$$css:!0},uploadButton:{backgroundColor:"x1a4onnt",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"xnxb3zj",position:"x1n2onr6",width:"xo5x3gg",$$css:!0}},h=s._(/*BTDS*/"Remove attachment"),y=s._(/*BTDS*/"Upload another photo\/video"),C=s._(/*BTDS*/"Image cover for attached media"),b=s._(/*BTDS*/"File Icon for non photo\/video file");function v(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);t.length>0&&e(t)},t[0]=e,t[1]=n):n=t[1],n}function S(e){var t=o("react-compiler-runtime").c(16),n=e.isStacking,a=e.multiple,i=e.onAttachmentsAdded,l=e.supportedFileTypes,s=a===void 0?!0:a,u=v(i),c=f(!1),m=c[0],p=c[1],_=r("useCurrentDisplayMode")()==="dark",h;t[0]!==n?(h={0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(n===!0)<<0],t[0]=n,t[1]=h):h=t[1];var C=_?"primary":"black",b;t[2]!==n?(b=function(t){return d.jsx(r("IGDSIconButton.react"),{label:y,onClick:t,onHoverEnd:function(){return p(!1)},onHoverStart:function(){return p(!0)},xstyle:[g.uploadButton,n===!0&&g.stackingUploadButton],children:d.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:y,color:"ig-primary-text"})})},t[2]=n,t[3]=b):b=t[3];var S;t[4]!==s||t[5]!==u||t[6]!==l||t[7]!==b?(S=d.jsx(r("BaseFileSelector.react"),{accept:l,multiple:s,onFilesSelected:u,children:b}),t[4]=s,t[5]=u,t[6]=l,t[7]=b,t[8]=S):S=t[8];var R;t[9]!==C||t[10]!==S||t[11]!==m?(R=d.jsx(r("IGDSTooltip.react"),{align:"middle",color:C,isVisible:m,position:"above",tooltip:y,children:S}),t[9]=C,t[10]=S,t[11]=m,t[12]=R):R=t[12];var L;return t[13]!==h||t[14]!==R?(L=d.jsx("div",babelHelpers.extends({},h,{children:R})),t[13]=h,t[14]=R,t[15]=L):L=t[15],L}function R(e){var t=o("react-compiler-runtime").c(17),n=e.isStacking,a=e.mediaStagingItem,i=e.onPress,l=r("useCurrentDisplayMode")()==="dark",u=f(!1),c=u[0],m=u[1],p;t[0]!==n?(p={0:{className:"x1euzuty x10l6tqk xtu2xtp"},1:{className:"x10l6tqk xtijo5x x13vifvy"}}[(n===!0)<<0],t[0]=n,t[1]=p):p=t[1];var _=l?"primary":"black",g;t[2]!==a.filename?(g=s._(/*BTDS*/"Remove attachment: {file-name}",[s._param("file-name",a.filename)]),t[2]=a.filename,t[3]=g):g=t[3];var y,C;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=function(){return m(!1)},C=function(){return m(!0)},t[4]=y,t[5]=C):(y=t[4],C=t[5]);var b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=d.jsx("div",{className:"x6s0dn4 xnz67gz x6zrd4h x1f58dfg x903dn5 xis42z1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 x1qx5ct2 xl56j7k xw4jnvo x9ro6w8",children:d.jsx(r("IGDSXPanoFilledIcon.react"),{alt:h,size:9})}),t[6]=b):b=t[6];var v;t[7]!==i||t[8]!==g?(v=d.jsx(r("IGDSIconButton.react"),{label:g,onClick:i,onHoverEnd:y,onHoverStart:C,padding:0,children:b}),t[7]=i,t[8]=g,t[9]=v):v=t[9];var S;t[10]!==_||t[11]!==v||t[12]!==c?(S=d.jsx(r("IGDSTooltip.react"),{align:"middle",color:_,isVisible:c,position:"above",tooltip:h,children:v}),t[10]=_,t[11]=v,t[12]=c,t[13]=S):S=t[13];var R;return t[14]!==p||t[15]!==S?(R=d.jsx("div",babelHelpers.extends({},p,{children:S})),t[14]=p,t[15]=S,t[16]=R):R=t[16],R}var L=function(t){return t.mimeType==="image/gif"||t.mimeType==="image/webp"};function E(e){var t=o("react-compiler-runtime").c(30),n=e.mediaStagingItem,a=n.attachmentType,i=n.previewUrl||"",l=o("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(n),s,m;t[0]!==l?(s=function(){l==null||l.addPoint("staging-item-render")},m=[l],t[0]=l,t[1]=s,t[2]=m):(s=t[1],m=t[2]),_(s,m);var p;t[3]!==l?(p=function(t,n){l==null||l.endFailAfterDelay(t,n)},t[3]=l,t[4]=p):p=t[4];var f=p,g;t[5]!==l?(g=function(){l==null||l.endSuccessAfterDelay()},t[5]=l,t[6]=g):g=t[6];var h=g;if(L(n)){if(i!==""){var y;return t[7]!==i?(y=d.jsx(r("FDSImageCover.react"),{alt:C,src:i}),t[7]=i,t[8]=y):y=t[8],y}}else if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){if(i!==""){var b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b={className:"xl1xv1r"},t[9]=b):b=t[9];var v;t[10]!==f?(v=function(t){return f("load-video-error",{string:{video_error_name:t.type}})},t[10]=f,t[11]=v):v=t[11];var S;t[12]===Symbol.for("react.memo_cache_sentinel")?(S=d.jsx("track",{kind:"captions"}),t[12]=S):S=t[12];var R;t[13]!==h||t[14]!==i||t[15]!==v?(R=d.jsx("video",babelHelpers.extends({},b,{height:"70",onError:v,onLoadedData:h,src:i,width:"70",children:S})),t[13]=h,t[14]=i,t[15]=v,t[16]=R):R=t[16];var E;t[17]===Symbol.for("react.memo_cache_sentinel")?(E=d.jsx("div",{className:"xbudbmw x18xomjl x7wgvq7 x10l6tqk xwa60dl",children:d.jsx(r("CometImage.react"),{src:"/images/video/play_24dp.png"})}),t[17]=E):E=t[17];var k;return t[18]!==R?(k=d.jsxs(d.Fragment,{children:[R,E]}),t[18]=R,t[19]=k):k=t[19],k}}else if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&i!==""){var T;t[20]!==f?(T=function(){return f("load-image-error")},t[20]=f,t[21]=T):T=t[21];var D;t[22]===Symbol.for("react.memo_cache_sentinel")?(D={userSelect:"none"},t[22]=D):D=t[22];var x;return t[23]!==h||t[24]!==i||t[25]!==T?(x=d.jsx(r("FDSImageCover.react"),{alt:"",onError:T,onLoad:h,src:i,style:D}),t[23]=h,t[24]=i,t[25]=T,t[26]=x):x=t[26],x}var $;return t[27]!==l||t[28]!==n?($=d.jsx(I,{mediaRenderQpl:l,mediaStagingItem:n}),t[27]=l,t[28]=n,t[29]=$):$=t[29],$}function k(e){var t=o("react-compiler-runtime").c(24),n=e.isStacking,a=e.mediaStagingItem,i=e.onAttachmentRemoved,l;t[0]!==a.offlineAttachmentId||t[1]!==i?(l=function(){i(a.offlineAttachmentId)},t[0]=a.offlineAttachmentId,t[1]=i,t[2]=l):l=t[2];var s=l,m;t[3]!==a?(m=!(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))&&!(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&!L(a),t[3]=a,t[4]=m):m=t[4];var p=m,_;t[5]!==p||t[6]!==n?(_={0:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 xo5x3gg"},2:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 x2pejg6"},1:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"},3:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"}}[!!p<<1|(n===!0)<<0],t[5]=p,t[6]=n,t[7]=_):_=t[7];var f;t[8]!==p||t[9]!==n?(f={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 xo5x3gg"},2:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 x1ybostu x2pejg6"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1peatla x1fu8urw"},3:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1ybostu x1peatla x1fu8urw"}}[!!p<<1|(n===!0)<<0],t[8]=p,t[9]=n,t[10]=f):f=t[10];var g;t[11]!==a?(g=d.jsx(E,{mediaStagingItem:a}),t[11]=a,t[12]=g):g=t[12];var h;t[13]!==f||t[14]!==g?(h=d.jsx("div",babelHelpers.extends({},f,{children:g})),t[13]=f,t[14]=g,t[15]=h):h=t[15];var y;t[16]!==n||t[17]!==a||t[18]!==s?(y=d.jsx(R,{isStacking:n,mediaStagingItem:a,onPress:s}),t[16]=n,t[17]=a,t[18]=s,t[19]=y):y=t[19];var C;return t[20]!==_||t[21]!==h||t[22]!==y?(C=d.jsxs("div",babelHelpers.extends({},_,{children:[h,y]})),t[20]=_,t[21]=h,t[22]=y,t[23]=C):C=t[23],C}function I(e){var t=o("react-compiler-runtime").c(8),n=e.mediaRenderQpl,a=e.mediaStagingItem,i,l;t[0]!==n?(i=function(){n==null||n.endSuccessAfterDelay()},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),_(i,l);var s,u,c;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},u=d.jsx(r("IGDSMediaOutlineIcon.react"),{alt:b}),c={className:"x1iyjqo2"},t[3]=s,t[4]=u,t[5]=c):(s=t[3],u=t[4],c=t[5]);var m;return t[6]!==a.filename?(m=d.jsxs("div",babelHelpers.extends({},s,{children:[u,d.jsx("div",babelHelpers.extends({},c,{children:d.jsxs(r("IGDSText.react"),{maxLines:2,weight:"light",children:[" ",a.filename," "]})}))]})),t[6]=a.filename,t[7]=m):m=t[7],m}function T(e){var t=o("react-compiler-runtime").c(28),a=e.hideUploadPlaceholder,i=e.isStacking,l=e.metaMediaCloudEnabled,s=e.multiple,u=e.supportedFileTypes,c=e.thread,m=a===void 0?!1:a,p=l===void 0?!1:l,_=s===void 0?!0:s,f=r("useIGDMediaMangerUploadFailedToast")(),g;t[0]!==f||t[1]!==c?(g={showUploadFailureToast:f,thread:c},t[0]=f,t[1]=c,t[2]=g):g=t[2];var h=o("MWMediaManager").useMediaManager(g),y=h.handleFileRemove,C=h.handleFileSelect,b=h.mediaStaging;if(b.length===0){var v;return t[3]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(d.Fragment,{}),t[3]=v):v=t[3],v}else{var R;t[4]!==i?(R={0:{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj x1g0dm76 x18d9i69 xh8yej3"},1:{className:"x6s0dn4 x9f619 x78zum5 x1nhvcw1 xw2csxc x18d9i69 x1a02dak xzueoph xoo30xy xyri2b x1c1uobl x1iorvi4 x1mk2rj3"}}[(i===!0)<<0],t[4]=i,t[5]=R):R=t[5];var L;t[6]!==C||t[7]!==m||t[8]!==i||t[9]!==_||t[10]!==u?(L=m?null:d.jsx(S,{isStacking:i,multiple:_,onAttachmentsAdded:C,supportedFileTypes:u}),t[6]=C,t[7]=m,t[8]=i,t[9]=_,t[10]=u,t[11]=L):L=t[11];var E;t[12]!==C||t[13]!==i||t[14]!==p||t[15]!==c?(E=p&&n("cr:105")!=null?d.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(i===!0)<<0],{children:d.jsx(n("cr:105"),{onAttachmentsAdded:C,threadKey:c.threadKey})})):null,t[12]=C,t[13]=i,t[14]=p,t[15]=c,t[16]=E):E=t[16];var I;t[17]!==b?(I=Array.from(b),t[17]=b,t[18]=I):I=t[18];var T;t[19]!==y||t[20]!==i||t[21]!==I?(T=I.map(function(e){return d.jsx(k,{isStacking:i,mediaStagingItem:e,onAttachmentRemoved:y},e.offlineAttachmentId)}),t[19]=y,t[20]=i,t[21]=I,t[22]=T):T=t[22];var D;return t[23]!==R||t[24]!==L||t[25]!==E||t[26]!==T?(D=d.jsxs("div",babelHelpers.extends({},R,{children:[L,E,T]})),t[23]=R,t[24]=L,t[25]=E,t[26]=T,t[27]=D):D=t[27],D}}l.default=T}),226);
__d("IGDComposerSavedReplyTrayQuery$Parameters",["IGDComposerSavedReplyTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDComposerSavedReplyTrayQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerSavedReplyTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerSavedReplyTray.entrypoint",["IGDComposerSavedReplyTrayQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{SavedReplyQueryRef:{parameters:r("IGDComposerSavedReplyTrayQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("IGDComposerSavedReplyTray.react").__setRef("IGDComposerSavedReplyTray.entrypoint")};l.default=e}),98);
__d("IGDComposerSavedReplyButton.react",["fbt","FDSPopoverLoadingState.react","IGDComposerSavedReplyTray.entrypoint","IGDSBox.react","IGDSEntryPointPopoverTrigger.react","IGDSIconButton.react","IGDSSmsPanoOutlineIcon.react","IGDSavedReplyPersonalizationUtils","Lexical","react","react-compiler-runtime","useContactReachabilityStatus","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m={button:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function p(t){var a,i,l,u,d=o("react-compiler-runtime").c(14),p=t.editor,_=t.thread,f;d[0]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Choose a saved reply").toString(),d[0]=f):f=d[0];var g=f,h=(e||(e=r("useReStore")))(),y=o("useContactReachabilityStatus").useOtherUser(h,_.threadKey,_.threadType),C=(a=y==null||(i=y[1])==null?void 0:i.firstName)!=null?a:null,b=(l=y==null||(u=y[1])==null?void 0:u.name)!=null?l:null,v;d[1]!==p||d[2]!==C||d[3]!==b?(v=function(t){var e=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders(t,C,b);p&&e&&p.update(function(){var t=n("Lexical"),r=t.$createParagraphNode,o=t.$createTextNode,a=t.$getRoot,i=t.$getSelection,l=r(),s=o(e);l.append(s);var u=a();u.clear(),u.append(l);var c=i();c!=null&&l.selectEnd(),p.focus()})},d[1]=p,d[2]=C,d[3]=b,d[4]=v):v=d[4];var S=v,R,L;d[5]===Symbol.for("react.memo_cache_sentinel")?(R={},L=c.jsx(r("FDSPopoverLoadingState.react"),{withArrow:!0}),d[5]=R,d[6]=L):(R=d[5],L=d[6]);var E;d[7]!==S||d[8]!==C||d[9]!==b?(E={onClick:S,otherUserFirstName:C,otherUserFullName:b},d[7]=S,d[8]=C,d[9]=b,d[10]=E):E=d[10];var k;d[11]===Symbol.for("react.memo_cache_sentinel")?(k=function(t,n,o,a,i,l){return c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:t,onClick:function(){n()},onHoverEnd:i,onHoverStart:a,onPressStart:l,xstyle:m.button,children:c.jsx(r("IGDSSmsPanoOutlineIcon.react"),{alt:g,color:"ig-primary-text"})})})},d[11]=k):k=d[11];var I;return d[12]!==E?(I=c.jsx(r("IGDSEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:R,fallback:L,otherProps:E,popoverEntryPoint:r("IGDComposerSavedReplyTray.entrypoint"),position:"above",preloadTrigger:"button",children:k}),d[12]=E,d[13]=I):I=d[13],I}l.default=p}),226);
__d("IGDComposerSavedReplyLocalStorage",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="igd_saved_reply_suggestion_opt_out";function u(){try{var t,n=(t=(e||(e=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(s);return n==="true"}catch(e){return!1}}function c(t){try{var n;(n=(e||(e=r("WebStorage"))).getLocalStorage())==null||n.setItem(s,t.toString())}catch(e){}}l.getIsOptedOut=u,l.setIsOptedOut=c}),98);
__d("IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24995145283423757"}),null);
__d("IGDComposerSavedReplySuggestionTrayQuery.graphql",["IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerSavedReplySuggestionTrayQuery",selections:[{alias:null,args:null,concreteType:"IGSavedRepliesResponse",kind:"LinkedField",name:"xig_get_saved_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"IGSavedReply",kind:"LinkedField",name:"saved_replies",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerSavedReplySuggestionTray_savedReplies"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDComposerSavedReplySuggestionTrayQuery",selections:[{alias:null,args:null,concreteType:"IGSavedRepliesResponse",kind:"LinkedField",name:"xig_get_saved_replies",plural:!1,selections:[{alias:null,args:null,concreteType:"IGSavedReply",kind:"LinkedField",name:"saved_replies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortcut",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("IGDComposerSavedReplySuggestionTrayQuery_instagramRelayOperation"),metadata:{},name:"IGDComposerSavedReplySuggestionTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDComposerSavedReplySuggestionTray_savedReplies.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"IGDComposerSavedReplySuggestionTray_savedReplies",selections:[{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"usage_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shortcut",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],type:"IGSavedReply",abstractKey:null};a.exports=e}),null);
__d("IGDComposerSavedReplySuggestionTray.react",["fbt","CometPressable.react","CometRelay","IGDComposerSavedReplyLocalStorage","IGDComposerSavedReplySettingsDialog.entrypoint","IGDComposerSavedReplySuggestionTrayQuery.graphql","IGDComposerSavedReplySuggestionTray_savedReplies.graphql","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSavedReplyPersonalizationUtils","Lexical","react","react-compiler-runtime","useContactReachabilityStatus","useIGDSEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g=p.useState,h={pressableItem:{width:"xh8yej3",$$css:!0}},y=function(t,n){if(!t.trim()||n.length===0)return[];var e=t.toLowerCase();return n.filter(function(t){if(t.text){var n=t.text.trim().replace(/\s+/g," ").toLowerCase(),r=e.trim().replace(/\s+/g," ");if(n===r)return!1}if(t.shortcut&&t.shortcut.toLowerCase().trim()===e)return!0;if(t.text&&e.length>=5){var o=t.text.toLowerCase();if(o.includes(e))return!0}return!1}).sort(function(t,n){var r,o,a=t.shortcut&&t.shortcut.toLowerCase()===e,i=n.shortcut&&n.shortcut.toLowerCase()===e;return a&&!i?-1:!a&&i?1:((r=n.usage_count)!=null?r:0)-((o=t.usage_count)!=null?o:0)}).slice(0,5)},C=function(t,n){if(!n)return m.jsx("span",{className:"x1roi4f4",children:t});var e=n.toLowerCase(),r=t.toLowerCase(),o=r.indexOf(e);if(o===-1)return m.jsx("span",{className:"x1roi4f4",children:t});var a=t.substring(0,o),i=t.substring(o,o+n.length),l=t.substring(o+n.length);return m.jsxs(m.Fragment,{children:[a&&m.jsx("span",{className:"x1roi4f4",children:a}),m.jsx("span",{className:"x1qz8m4s x117nqv4",children:i}),l&&m.jsx("span",{className:"x1roi4f4",children:l})]})};function b(e){var t=o("react-compiler-runtime").c(24),n=e.currentInput,a=e.editor,i=e.matchingSavedReplies,l=e.onDismiss,u=e.onOptOut,c=e.otherUserFirstName,d=e.otherUserFullName,p;t[0]!==a||t[1]!==l||t[2]!==c||t[3]!==d?(p=function(t){if(a&&t.text){var e=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders(t.text,c,d);a.update(function(){var t=o("Lexical").$createParagraphNode(),n=o("Lexical").$createTextNode(e);t.append(n);var r=o("Lexical").$getRoot();r.clear(),r.append(t),t.selectEnd(),a.focus()})}l()},t[0]=a,t[1]=l,t[2]=c,t[3]=d,t[4]=p):p=t[4];var _=p,f;t[5]!==u?(f=function(t){t.stopPropagation(),u()},t[5]=u,t[6]=f):f=t[6];var g=f;if(i.length===0)return null;var y;t[7]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Saved replies"),t[7]=y):y=t[7];var b=y,v;t[8]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xgf5ljw x1i5p2am x1whfx0g xr2y4jy x1ihp6rs x1yvgwvq x13fuv20 x178xt8z x10w3d4m x78zum5 xdt5ytf xtijo5x x1o0tod x1e56ztr x1hkcv85 x1odjw0f x10l6tqk"},t[8]=v):v=t[8];var S;if(t[9]!==n||t[10]!==g||t[11]!==_||t[12]!==i||t[13]!==c||t[14]!==d){var R;t[16]!==n||t[17]!==g||t[18]!==_||t[19]!==c||t[20]!==d?(R=function(t,a){var e,i,l=o("IGDSavedReplyPersonalizationUtils").replacePersonalizationPlaceholders((e=t.text)!=null?e:"",c,d),u=t.shortcut?t.shortcut+" \u2022 "+l:l,p=a===0;return m.jsx(r("CometPressable.react"),{onPress:function(){return _(t)},xstyle:h.pressableItem,children:m.jsxs("div",{className:"x1cy8zhl x1ixjvfu x1q0q8m5 xso031l x1ypdohk x78zum5 x1q0g3np x1f6kntn x1y1aw1k xwib8y2 x1g0dm76 xpdmqnj xh8yej3 x2nact x1t1lzn6",children:[m.jsxs("div",{className:"x1iyjqo2",children:[m.jsx("div",{className:"x1roi4f4 x1pg5gke xzueoph",children:b}),C(u,n)]}),p&&m.jsx("div",{className:"x6s0dn4 x1roi4f4 x1ypdohk x78zum5 x1c3i2sq xl56j7k xmzvs34 xf159sx x134bqvu x1o9uer x1de710j xbtwl55 x1k1bblp",onClick:g,role:"button",tabIndex:0,children:m.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"More options"),color:"ig-primary-text",size:20})})]})},(i=t.uuid)!=null?i:t.text)},t[16]=n,t[17]=g,t[18]=_,t[19]=c,t[20]=d,t[21]=R):R=t[21],S=i.map(R),t[9]=n,t[10]=g,t[11]=_,t[12]=i,t[13]=c,t[14]=d,t[15]=S}else S=t[15];var L;return t[22]!==S?(L=m.jsx("div",babelHelpers.extends({},v,{children:S})),t[22]=S,t[23]=L):L=t[23],L}function v(t){var a,i,l,s,d,p,_=o("react-compiler-runtime").c(22),h=t.editor,C=t.thread,v=g(""),R=v[0],L=v[1],E;_[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],_[0]=E):E=_[0];var k=g(E),I=k[0],T=k[1],D=g(!1),x=D[0],$=D[1],P=o("IGDComposerSavedReplyLocalStorage").getIsOptedOut(),N;_[1]===Symbol.for("react.memo_cache_sentinel")?(N={},_[1]=N):N=_[1];var M=r("useIGDSEntryPointDialog")(r("IGDComposerSavedReplySettingsDialog.entrypoint"),N,"button"),w=M[0],A=(c||(c=r("useReStore")))(),F=o("useContactReachabilityStatus").useOtherUser(A,C.threadKey,C.threadType),O=(a=F==null||(i=F[1])==null?void 0:i.firstName)!=null?a:null,B=(l=F==null||(s=F[1])==null?void 0:s.name)!=null?l:null,W=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("IGDComposerSavedReplySuggestionTrayQuery.graphql"),{}),q=(d=(p=W.xig_get_saved_replies)==null?void 0:p.saved_replies)!=null?d:[],U=o("CometRelay").useFragment(u!==void 0?u:u=n("IGDComposerSavedReplySuggestionTray_savedReplies.graphql"),q),V,H;_[2]!==U?(V=function(){if(U){var e=U.map(S);T(e)}},H=[U],_[2]=U,_[3]=V,_[4]=H):(V=_[3],H=_[4]),f(V,H);var G,z;_[5]!==h||_[6]!==x?(G=function(){var e=h.registerUpdateListener(function(e){var t=e.editorState;t.read(function(){var e=o("Lexical").$getRoot(),t=e.getTextContent().trim();L(t),!t&&x&&$(!1)})});return e},z=[h,x],_[5]=h,_[6]=x,_[7]=G,_[8]=z):(G=_[7],z=_[8]),f(G,z);var j;_[9]!==w?(j=function(){$(!0),w({})},_[9]=w,_[10]=j):j=_[10];var K=j,Q;_[11]===Symbol.for("react.memo_cache_sentinel")?(Q=function(){$(!0)},_[11]=Q):Q=_[11];var X=Q,Y;_[12]!==R||_[13]!==I?(Y=y(R,I),_[12]=R,_[13]=I,_[14]=Y):Y=_[14];var J=Y;if(P||x)return null;var Z;return _[15]!==R||_[16]!==h||_[17]!==K||_[18]!==J||_[19]!==O||_[20]!==B?(Z=m.jsx(b,{currentInput:R,editor:h,matchingSavedReplies:J,onDismiss:X,onOptOut:K,otherUserFirstName:O,otherUserFullName:B}),_[15]=R,_[16]=h,_[17]=K,_[18]=J,_[19]=O,_[20]=B,_[21]=Z):Z=_[21],Z}function S(e){var t,n,r,o;return{creation_time:(t=e.creation_time)!=null?t:0,label:e.label,shortcut:(n=e.shortcut)!=null?n:"",text:(r=e.text)!=null?r:"",usage_count:(o=e.usage_count)!=null?o:0,uuid:e.uuid}}l.default=v}),226);
__d("IGDComposerThemeConfigOverride",[],(function(t,n,r,o,a,i){"use strict";var e={dark:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},light:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},type:"VARIABLES"},l=e;i.default=l}),66);
__d("IGDComposerViewSendButton.react",["fbt","IGDComposerIconSendButton.react","IGDEntryPoints","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","WebStorage","qex","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useCallback,p={sendTextButton:{alignSelf:"x7fd4wk",marginBottom:"x1sfzahb",marginInlineEnd:"xnnr8r",$$css:!0}},_=(e=r("qex")._("917"))!=null?e:!1;function f(e){var t=o("react-compiler-runtime").c(14),n=e.hidden,a=e.onClick,i=r("MessengerWebUXLogger").useInteractionLogger(),l=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),c=r("useIsChatTabsDisplay")(),m=String(c),f;t[0]!==m?(f={isChatTab:m},t[0]=m,t[1]=f):f=t[1];var g;t[2]!==l||t[3]!==f?(g={eventName:"composer_send_button_rendered",extraData:f,flowInstanceId:l},t[2]=l,t[3]=f,t[4]=g):g=t[4];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g),y;t[5]!==l||t[6]!==i||t[7]!==a?(y=function(){a();var e=(u||(u=r("WebStorage"))).getSessionStorage(),t=(e==null?void 0:e.getItem("isFromBusinessChats"))==="true";i==null||i({entryPoint:t?o("IGDEntryPoints").IGDEntryPoints.BUSINESS_CHATS:o("IGDEntryPoints").IGDEntryPoints.UNKNOWN,eventName:"send_message",flowInstanceId:l}),t&&(e==null||e.removeItem("isFromBusinessChats"))},t[5]=l,t[6]=i,t[7]=a,t[8]=y):y=t[8];var C=y,b=c||_,v;return t[9]!==n||t[10]!==h||t[11]!==C||t[12]!==b?(v=b?d.jsx(r("IGDComposerIconSendButton.react"),{hidden:n,isDisabled:n===!0,onClick:C,ref:h,testid:void 0}):d.jsx(r("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:n,label:s._(/*BTDS*/"Send"),onClick:C,ref:h,variant:"primary_link",xstyle:p.sendTextButton}),t[9]=n,t[10]=h,t[11]=C,t[12]=b,t[13]=v):v=t[13],v}l.default=f}),226);
__d("createComposerDeferredPlugin",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState;function p(e){function t(t){var n=d(e.getModuleIfRequireable()),r=m(n.current!=null),o=r[0],a=r[1];if(c(function(){var t=e.onReady(function(e){n.current=e,a(!0)});return function(){return t.remove()}},[]),n.current!=null){var i=n.current;return s.jsx(i,babelHelpers.extends({},t))}return null}return s.memo(t)}l.default=p}),98);
__d("IGDMentionsComposerPlugin.react",["CometPlaceholder.react","createComposerDeferredPlugin","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("createComposerDeferredPlugin")(r("requireDeferred")("IGDMentionsPluginForLexical.react").__setRef("IGDMentionsComposerPlugin.react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.editor,a=e.isAiBotMentionsEnabled,l=e.threadKey,c;return t[0]!==n||t[1]!==a||t[2]!==l?(c=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(u,{editor:n,isAiBotMentionsEnabled:a,threadKey:l})}),t[0]=n,t[1]=a,t[2]=l,t[3]=c):c=t[3],c}l.default=c}),98);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n,a,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),i=s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),l=s.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):(n=t[0],a=t[1],i=t[2],l=t[3]);var u;return t[4]!==e?(u=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a,i,l]})),t[4]=e,t[5]=u):u=t[5],u}var c=s.memo(u);l.default=c}),98);
__d("IGDVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={voiceClip:{paddingInlineEnd:"x1icxu4v",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(10),n=e.voiceRecorder,a=r("MessengerWebUXLogger").useInteractionLogger(),i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;t[0]!==i?(l={eventName:"composer_audio_button_rendered",flowInstanceId:i},t[0]=i,t[1]=l):l=t[1];var u=r("MessengerWebUXLogger").useImpressionLoggerRef(l),d;t[2]!==i||t[3]!==a||t[4]!==n?(d=function(){navigator.mediaDevices&&r("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){n.start(e)})),a==null||a({eventName:"composer_record_audio",flowInstanceId:i})},t[2]=i,t[3]=a,t[4]=n,t[5]=d):d=t[5];var m=d,p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("IGDSMicrophonePanoOutline24Icon.react"),{alt:o("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),t[6]=p):p=t[6];var _;return t[7]!==u||t[8]!==m?(_=s.jsx(r("IGDSIconButton.react"),{innerRef:u,onClick:m,xstyle:c.voiceClip,children:p}),t[7]=u,t[8]=m,t[9]=_):_=t[9],_}l.default=d}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(t,n,r,o,a,i,l){"use strict";var e;l.MWChatComposerIconsGif=(e=n("cr:2809")).Gif,l.MWChatComposerIconsSticker=e.Sticker,l.MWChatComposerIconsPhoto=e.Photo,l.MWChatComposerIconsMoreActions=e.MoreActions,l.MWChatComposerIconsEmoji=e.Emoji}),98);
__d("MWPCometComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","react","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p=r("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("MWPCometComposerInner.react"),_={editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},f=s._(/*BTDS*/"Message").toString();function g(e){var t=e.ariaDescribedBy,n=e.contentEditableRef,a=e.editor,i=e.handlePastedFiles,l=e.placeholderText,s=e.policyProduct,c=e.surface,g=e.testId,h=r("useDeferredModuleOnReady")(p),y=o("LexicalComposerContext").createLexicalComposerContext(),C=m(function(){return[a,y]},[a,y]),b=d(function(e){var t=e==null?null:e;n.current=t},[n,a]),v=u.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({ariaDescribedBy:t,ariaLabel:f},l==null?{}:{"aria-placeholder":l,placeholder:u.jsx(r("CometLexicalPlaceholder.react"),{children:l})},{contentEditableRef:b,spellCheck:!0,tabIndex:0,webDriverTestID:g,xstyle:_.editor}));return u.jsxs("div",{className:"x1n2onr6",children:[u.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:C,children:[u.jsx(r("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:s,surface:c}),u.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:v}),u.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]}),h==null||i===void 0?null:u.jsx(h,{editor:a,handlePastedFiles:i})]})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("WAGetUserMedia",[],(function(t,n,r,o,a,i){"use strict";function e(){var e=navigator.mediaDevices;return e==null?null:function(t){return e.getUserMedia(t)}}var l=e();i.getUserMedia=l}),66);
__d("WAPttComposerOpusRecorder",["$InternalEnum","Promise","WAGetUserMedia","WANullthrows","WAOpusRecorderWorkerClient","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s={bitRate:16e3,bufferLength:4096,numberOfChannels:1,encoderSampleRate:16e3,maxBuffersPerPage:40,encoderApplication:2048,encoderFrameSize:20,streamOptions:{optional:[],mandatory:{googEchoCancellation:!1,googAutoGainControl:!1,googNoiseSuppression:!1,googHighpassFilter:!1}}},u=n("$InternalEnum").Mirrored(["INACTIVE","RECORDING","PAUSED","STOPPED"]),c=(function(){function t(t){var o=this;if(this._duration=0,this._recordedPages=[],this._state=u.INACTIVE,this._isFirstBuffer=!1,this._requestCount=0,this._pendingFlushResolvers=new Map,this._handleEncoderMessage=function(e){var t=e.data;switch(t.message){case"page":o._storePage(t.page);break;case"flushed":o._handleFlushed(t.requestId);break;default:throw r("err")("Invalid message event type: "+t.message)}},!m())throw r("err")("Recording is not supported in this browser");this._createStream=t.createStream,this._onDuration=t.onDuration,this._onPause=t.onPause,this._onResume=t.onResume,this._onStart=t.onStart,this._onStop=t.onStop,this._handlePage=t.onPage,this._completeRecordingPromise=new(e||(e=n("Promise")))(function(e){o._resolveCompleteRecordingPromise=e}),this._audioContext=new AudioContext,this._encoderNode=this._audioContext.createScriptProcessor(s.bufferLength,s.numberOfChannels,s.numberOfChannels),this._encoderNode.onaudioprocess=function(e){o._encodeBuffers(e.inputBuffer)},this._monitorNode=this._audioContext.createGain()}var a=t.prototype;return a.getState=function(){return this._state},a.start=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e,t;switch(this._state){case u.RECORDING:return!0;case u.STOPPED:return!1;case u.PAUSED:return this.resume();case u.INACTIVE:break}this._recordedPages=[],this._isFirstBuffer=!0,this._duration=0;var n=o("WAOpusRecorderWorkerClient").getOpusEncoderWorker();this._encoder=n,n.addEventListener("message",this._handleEncoderMessage);var r=yield this._startRecording();return r?((e=this._onStart)==null||e.call(this),(t=this._onDuration)==null||t.call(this,this._duration),n.postMessage({command:"encode-init",config:babelHelpers.extends({},s,{originalSampleRate:this._audioContext.sampleRate})}),this._encoderNode.connect(this._audioContext.destination),!0):!1});function t(){return e.apply(this,arguments)}return t})(),a.stop=function(){var e,t;this._state!==u.STOPPED&&(this._state=u.STOPPED,(e=this._recordingAbortController)==null||e.abort(),this._audioContext.close&&this._audioContext.close(),this._monitorNode.disconnect(),this._encoderNode.disconnect(),(t=this._encoder)==null||t.postMessage({command:"encode-done"}))},a.pause=function(){var e,t;this._state===u.RECORDING&&(this._state=u.PAUSED,(e=this._recordingAbortController)==null||e.abort(),(t=this._onPause)==null||t.call(this))},a.resume=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;switch(this._state){case u.RECORDING:return!0;case u.STOPPED:return!1;case u.INACTIVE:throw r("err")("Attempting to resume recording that hasn't started");case u.PAUSED:break}var t=yield this._startRecording();return t?((e=this._onResume)==null||e.call(this),!0):!1});function t(){return e.apply(this,arguments)}return t})(),a.getDuration=function(){return this._duration},a.getMonitorNode=function(){return this._monitorNode},a._encodeBuffers=function(t){var e;if(this._isFirstBuffer){this._isFirstBuffer=!1;return}if(this._state===u.RECORDING){for(var n=[],o=0;o<t.numberOfChannels;o++)n[o]=t.getChannelData(o);var a=r("WANullthrows")(this._encoder);a.postMessage({command:"encode",buffers:n}),this._duration+=t.duration,(e=this._onDuration)==null||e.call(this,this._duration)}},a._getNextRequestId=function(){return this._requestCount++,this._requestCount},a._startRecording=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){this._state=u.RECORDING,this._recordingAbortController=new AbortController;var e=yield p(this._createStream,this._audioContext,[this._encoderNode,this._monitorNode],this._recordingAbortController.signal);return e?!0:(this.stop(),!1)});function t(){return e.apply(this,arguments)}return t})(),a._storePage=function(t){var e;if(this._recordedPages.push(t),t[5]&4){var n,o;(n=this._handlePage)==null||n.call(this,t,!0);var a=r("WANullthrows")(this._encoder);a.removeEventListener("message",this._handleEncoderMessage),this._resolveCompleteRecordingPromise(d(this._recordedPages)),this._recordedPages=[],(o=this._onStop)==null||o.call(this);return}(e=this._handlePage)==null||e.call(this,t,!1)},a._handleFlushed=function(t){var e=r("WANullthrows")(this._pendingFlushResolvers.get(t));this._pendingFlushResolvers.delete(t),e(d(this._recordedPages))},a.getPartialRecording=function(){var t=this,o=this._getNextRequestId(),a=new(e||(e=n("Promise")))(function(e){t._pendingFlushResolvers.set(o,e)}),i=r("WANullthrows")(this._encoder);return i.postMessage({command:"flush",requestId:o}),a},a.getCompleteRecording=function(){return this._completeRecordingPromise},t})();function d(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;for(var o of e)n.set(o,r),r+=o.length;return new Blob([n],{type:"audio/ogg; codecs=opus"})}function m(){return!!(window.AudioContext&&o("WAGetUserMedia").getUserMedia)}function p(e,t,n,r){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var o=yield e(r);if(r.aborted||o==null)return!1;var a=t.createMediaStreamSource(o);return n.forEach(function(e){a.connect(e)}),r.addEventListener("abort",function(){o.getTracks().forEach(function(e){e.stop()}),a.disconnect()},{once:!0}),!0}),_.apply(this,arguments)}l.OpusRecorderState=u,l.OpusRecorder=c}),98);
__d("WAPttComposerRecorderPollableTimer",[],(function(t,n,r,o,a,i){var e=(function(){function e(){}var t=e.prototype;return t.start=function(){this.$1=Date.now()},t.stop=function(){this.$2=Date.now()},t.pause=function(){this.stop()},t.resume=function(){this.$1=Date.now()-this.getTime(),this.$2=null},t.getTime=function(){var e,t=this.$1;if(t==null)return 0;var n=(e=this.$2)!=null?e:Date.now();return n-t},e})();i.default=e}),66);
__d("WAStartAnimationLoop",[],(function(t,n,r,o,a,i){function e(e,t){var n=t!=null?t:{},r=n.delay,o=r===void 0?0:r,a,i,l,s=function(){i=!0,window.cancelAnimationFrame(a)},u=function(n){(l==null||n-l>=o)&&(e(n),l=n),!i&&(a=window.requestAnimationFrame(u))};return a=window.requestAnimationFrame(u),s}i.startAnimationLoop=e}),66);
__d("WAPttComposerWaveformRecorder",["WANullthrows","WAPttComposerRecorderPollableTimer","WAPttComposerScaleWaveform","WAStartAnimationLoop"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){var n=this;this.$2=new(r("WAPttComposerRecorderPollableTimer")),this.$3=[],this.$4=[],this.$5=0,this.$10=function(){n.$5=Math.max(n.$5,n.$11());var e=n.$3.length/n.$1,t=Math.floor((n.getDuration()-e)*n.$1);if(t!==0){for(var r=0;r<t;r++)n.$3.push(n.$5);n.$5=0}},this.$12=0,this.$7=s(e),e.connect(this.$7),this.$1=t}var t=e.prototype;return t.start=function(){this.$2.start(),this.$9()},t.stop=function(){var e;this.$2.stop(),(e=this.$6)==null||e.call(this)},t.pause=function(){var e;this.$2.pause(),(e=this.$6)==null||e.call(this)},t.resume=function(){this.$2.resume(),this.$9()},t.$9=function(){this.$6=o("WAStartAnimationLoop").startAnimationLoop(this.$10)},t.$11=function(){var e,t=r("WANullthrows")(this.$7);this.$8=(e=this.$8)!=null?e:new Uint8Array(t.frequencyBinCount);var n=this.$8;return t.getByteFrequencyData(n),Math.max.apply(Math,Array.from(n))/255},t.commitSamples=function(t){var e=Math.floor(t*this.$1),n=e-this.$4.length,o=this.$3.length-this.$12;if(!(n===0||o===0)){var a=this.$3.slice(this.$12,this.$3.length),i=r("WAPttComposerScaleWaveform")(a,n);for(var l of i)this.$4.push(l);this.$12=this.$3.length}},t.getSamples=function(){return this.$3},t.getDuration=function(){var e,t=(e=this.$2.getTime())!=null?e:0;return t/1e3},t.getCorrectedSamples=function(){return this.$4},e})();function s(e){var t=e.context.createAnalyser();return t.fftSize=32,t.smoothingTimeConstant=0,t.minDecibels=-60,t.maxDecibels=-10,t}l.default=e}),98);
__d("WAPttComposerRecorder",["WAPttComposerOpusRecorder","WAPttComposerWaveformRecorder","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){var t=this;this._handleOpusRecorderDuration=function(){t._waveformRecorder.commitSamples(t.getDuration()),t._onDuration==null||t._onDuration(t.getDuration())},this._onDuration=e.onDuration,this._opusRecorder=new(o("WAPttComposerOpusRecorder")).OpusRecorder({createStream:e.createStream,onDuration:this._handleOpusRecorderDuration,onPage:function(n,r){e.onPage==null||e.onPage(n,r)}}),this._waveformRecorder=new(r("WAPttComposerWaveformRecorder"))(this._opusRecorder.getMonitorNode(),e.waveformSampleRate)}var t=e.prototype;return t.start=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield this._opusRecorder.start();return e?(this._waveformRecorder.start(),!0):!1});function t(){return e.apply(this,arguments)}return t})(),t.stop=function(){this._opusRecorder.stop(),this._waveformRecorder.stop()},t.pause=function(){this._opusRecorder.pause(),this._waveformRecorder.pause()},t.resume=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield this._opusRecorder.resume();return e?(this._waveformRecorder.resume(),!0):!1});function t(){return e.apply(this,arguments)}return t})(),t.getDuration=function(){return this._opusRecorder.getDuration()},t.getPreciseDuration=function(){var e;return(e=this._waveformRecorder.getDuration())!=null?e:0},t.getLiveWaveformSamples=function(){return this._waveformRecorder.getSamples()},t.getCorrectedWaveformSamples=function(){return this._waveformRecorder.getCorrectedSamples()},t.getPartialRecording=function(){return this._opusRecorder.getPartialRecording()},t.getCompleteRecording=function(){return this._opusRecorder.getCompleteRecording()},e})();l.default=e}),98);
__d("MWPUseVoiceRecorderV2",["FBLogger","MAWAudioUtils","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAMaybeTranscodeOggOpusToWavForPlayback","WAPttComposerRecorder","asyncToGeneratorRuntime","clearTimeout","emptyFunction","err","getSafeQplErrorMessage","gkx","react","setTimeout","useIsMountedRef","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useCallback,h=f.useEffect,y=f.useReducer,C=f.useRef,b=function(){return r("FBLogger")("wmi").tags(["audio"])};function v(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function S(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function R(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.duration;case"Recorded":case"Playing":return Math.max(e.duration-e.currentTime,0)}}function L(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.recordingTimeout;case"Recorded":case"Playing":return e.duration}}function E(e){switch(e.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return e.currentTime}}function k(e){switch(e.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function I(e){return e.stage==="Recorded"?e.currentTime===0:!1}function T(e){switch(e.stage){case"Recording":return o("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return o("MWPAudioPlayerLabels").playLabel;case"Playing":return o("MWPAudioPlayerLabels").pauseLabel}}function D(e,t){switch(e.stage){case"Recording":return _.jsx(o("MWPAudioPlayerIcons.react").StopIcon,{color:t});case"Unopen":case"Recorded":return _.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:t});case"Playing":return _.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:t})}}D.displayName=D.name+" [from "+i.id+"]";function x(e,t){switch(t.type){case"Start":return{duration:0,mediaStream:t.mediaStream,recordingTimeout:t.recordingTimeout,stage:"Recording"};case"Toggle":{switch(e.stage){case"Unopen":return e;case"Recording":return{currentTime:0,duration:e.duration,stage:"Recorded"};case"Recorded":return{currentTime:e.currentTime,duration:e.duration,stage:"Playing"};case"Playing":return{currentTime:e.currentTime,duration:e.duration,stage:"Recorded"}}break}case"UpdateDuration":{if(e.duration!=null&&t.duration<e.duration)return e;var n=t.duration;switch(e.stage){case"Unopen":return e;case"Recording":return{duration:n,mediaStream:e.mediaStream,recordingTimeout:e.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:e.currentTime,duration:n,stage:"Recorded"};case"Playing":return{currentTime:e.currentTime,duration:n,stage:"Playing"}}break}case"UpdateTime":{var r=t.currentTime;switch(e.stage){case"Unopen":case"Recording":return e;case"Recorded":{var o=e.duration;return r===o?{currentTime:0,duration:o,stage:"Recorded"}:{currentTime:r,duration:o,stage:"Recorded"}}case"Playing":{var a=e.duration;return r===a?{currentTime:0,duration:a,stage:"Recorded"}:{currentTime:r,duration:a,stage:"Playing"}}}break}case"RecordingTimeout":return{currentTime:0,duration:t.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var $={stage:"Unopen"};function P(t){var a=t.maxDuration,i=a===void 0?60:a,l=t.logClickStartRecording,p=l===void 0?r("emptyFunction"):l,_=t.logBrowserDenyAccess,f=_===void 0?r("emptyFunction"):_,v=t.createVoiceRecordQpl,S=y(x,$),R=S[0],L=S[1],E=r("useIsMountedRef")(),k=C(),I=C(),T=C(),D=C(),P=C(),N=C(r("emptyFunction")),M=g((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t[0],a=t[1],i=t[2];if(E.current){var l=new Date().getTime(),s=Math.round(a*1e3),u="audioclip-"+l+"-"+s+".ogg",c=new File([n],u,{type:"audio/ogg"}),d=URL.createObjectURL(yield o("WAMaybeTranscodeOggOpusToWavForPlayback").maybeTranscodeOggOpusToWavForPlayback(n));T.current=d;var m=new Audio(d);m.addEventListener("error",function(){var t,n;b().MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["audioElement error code: ",". message: ",""])),(t=m.error)==null?void 0:t.code,(n=m.error)==null?void 0:n.message)}),m.addEventListener("canplay",function(){var e;I.current=m;var t=m.duration;L({duration:t,type:"UpdateDuration"});var n=r("gkx")("20216")?{amplitudes:o("MAWAudioUtils").recomputeWaveform(i),sampling_freq:t>0?o("MAWAudioUtils").WAVEFORM_TARGET_SIZE/t:0}:{amplitudes:i,sampling_freq:o("MAWAudioUtils").WAVEFORM_SAMPLE_RATE},a={duration:t,file:c,waveformData:n};D.current=a,N.current(a),(e=P.current)==null||e.endSuccess()}),m.addEventListener("timeupdate",function(){var e,t=(e=I.current)==null?void 0:e.currentTime;t!=null&&L({currentTime:t,type:"UpdateTime"})}),m.addEventListener("durationchange",function(){var e,t=(e=I.current)==null?void 0:e.duration;t!=null&&!Number.isNaN(t)&&L({duration:t,type:"UpdateDuration"})})}});return function(e){return t.apply(this,arguments)}})(),[E]);h(function(){if(R.stage==="Recording"){p();var e=R.mediaStream;return(m||(m=n("Promise"))).resolve().then(function(){var t=new(r("WAPttComposerRecorder"))({createStream:function(){return(m||(m=n("Promise"))).resolve(e)},waveformSampleRate:o("MAWAudioUtils").WAVEFORM_SAMPLE_RATE});return k.current=t,t.start()}).then(function(e){if(e){b().INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["PTT recording start successfully"])));return}return(m||(m=n("Promise"))).reject(r("err")("PTT recording start failed"))}).catch(function(e){var t;b().MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["PTT recording start Error ",""])),e),(t=P.current)==null||t.endFail("start-error",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}),function(){var e;(e=k.current)==null||e.stop()}}},[p,R.mediaStream,R.stage]);var w=r("usePrevious")(R);h(function(){if((w==null?void 0:w.stage)==="Recording"&&R.stage==="Recorded"){var e=k.current;if(e==null)return;e.stop(),(m||(m=n("Promise"))).all([e.getCompleteRecording(),e.getCorrectedWaveformSamples()]).then(function(t){var n=t[0],r=t[1],o=e.getDuration();return M([n,o,r])}).catch(function(e){var t;b().MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["PTT recording stop Error ",""])),e),(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})})}},[M,w==null?void 0:w.stage,R.stage]),h(function(){if(R.stage==="Recording"){var e=Date.now(),t,n=function(){var o=(Date.now()-e)/1e3;if(o>=i){L({recordingTimeout:i,type:"RecordingTimeout"});return}L({duration:o,type:"UpdateDuration"}),t=r("setTimeout")(n,1e3)};return t=r("setTimeout")(n,1e3),function(){t!=null&&r("clearTimeout")(t)}}},[i,R.stage]);var A=g(function(e){var t=v==null?void 0:v();P.current=t,t==null||t.start({startInfo:{isOpusRecorder:!0}}),L({mediaStream:e,recordingTimeout:i,type:"Start"})},[i,v]),F=g(function(){var e,t;(e=P.current)==null||e.endCancel(),L({type:"Reset"}),(t=I.current)==null||t.pause(),I.current=void 0,D.current=void 0;var n=T.current;n!=null&&(URL.revokeObjectURL(n),T.current=void 0)},[]),O=g(function(){var e=function(){L({maxDuration:i,type:"Toggle"})},t=I.current;if(t==null){e();return}switch(R.stage){case"Unopen":{e();break}case"Recording":{var n;(n=P.current)==null||n.addPoint("stop-recording"),e();break}case"Recorded":{var r;(r=P.current)==null||r.addPoint("play-audio"),t.play().then(e).catch(function(e){var t;b().MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["PTT recording play Error ",""])),e),(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}}),f()});break}case"Playing":{var a;(a=P.current)==null||a.addPoint("pause-playing"),t.pause(),e();break}}},[f,R.stage,i]),B=g(function(){return new(m||(m=n("Promise")))(function(e){var t=D.current;if(t!=null)return e(t);if(N.current=e,R.stage==="Recording")return O()})},[R,O]);return{audioEl:I,getVoiceClip:B,reset:F,start:A,state:R,toggle:O}}l.showScreenReaderLabel=v,l.hasScrubber=S,l.getTimerTime=R,l.getDuration=L,l.getCurrentTime=E,l.isProgressing=k,l.isCompleted=I,l.getPlaybackLabel=T,l.getPlaybackIcon=D,l.useVoiceRecorder=P}),98);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(25302342,"1531"),s=600*1e3;function u(){var t=o("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:t})},addPoint:function(o,a){r("QPLUserFlow").addPoint(e,o,{data:a,instanceKey:t})},endCancel:function(o,a){r("QPLUserFlow").endCancel(e,{annotations:a,cancelReason:o,instanceKey:t})},endFail:function(o,a){r("QPLUserFlow").endFailure(e,o,{annotations:a,instanceKey:t})},endSuccess:function(o){r("QPLUserFlow").endSuccess(e,{annotations:o,instanceKey:t})},start:function(o){var n=o.startInfo.isOpusRecorder;r("QPLUserFlow").start(e,{annotations:{bool:{isOpusAudioAbTestEnabled:r("gkx")("3053"),isOpusAudioEnabled:r("gkx")("3054"),isOpusRecorder:n}},cancelOnUnload:!0,instanceKey:t,timeoutInMs:s})}}}l.event=e,l.createVoiceRecordQpl=u}),98);
__d("useShouldShowTextOnlyComposerForInvite",["IGDInviteModelUtils","LSMessagingThreadTypeUtil","WebDriverConfig","react-compiler-runtime","useContactReachabilityStatus"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(7),a=o("useContactReachabilityStatus").useContactReachabilityStatus(e,t),i;n[0]!==t?(i=o("LSMessagingThreadTypeUtil").isOneToOne(t),n[0]=t,n[1]=i):i=n[1];var l=i,s;n[2]!==a||n[3]!==l?(s=!r("WebDriverConfig").isJestE2ETestRun&&l&&(o("IGDInviteModelUtils").shouldShowTextOnlyComposer(a)||o("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(a)),n[2]=a,n[3]=l,n[4]=s):s=n[4];var u=s,c;return n[5]!==u?(c=u&&(o("IGDInviteModelUtils").shouldUseInviteModelV2()||o("IGDInviteModelUtils").shouldUseInviteModel()),n[5]=u,n[6]=c):c=n[6],c}l.default=e}),98);
__d("IGDComposerView.react",["fbt","BaseTheme.react","CurrentUser","I64","IGDAiAgentsUtils","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerMediaStaging.react","IGDComposerSavedReplyButton.react","IGDComposerSavedReplySuggestionTray.react","IGDComposerThemeConfigOverride","IGDComposerViewSendButton.react","IGDMAPIInterfaceTypes","IGDMentionsComposerPlugin.react","IGDSBox.react","IGDSIconButton.react","IGDVoiceClipButton.react","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPActor.react","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWPUseVoiceRecorderV2","MWVoiceRecordQpl","MessengerWebUXLogger","PolarisUA","Promise","RelayHooks","cr:21207","cr:213","cr:599","cr:9307","deferredLoadComponent","emptyFunction","promiseDone","qex","react","react-compiler-runtime","requireDeferred","useCurrentDisplayMode","useIsChatTabsDisplay","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=c||(c=o("react")),p=c.useCallback,_=r("deferredLoadComponent")(r("requireDeferred")("IGDAudioRecorderSelector.react").__setRef("IGDComposerView.react")),f={chatTabComposerInnerContainer:{width:"xc5o50y",$$css:!0},composerInnerContainer:{paddingBottom:"xs9asl8",$$css:!0},mobileComposerInnerContainer:{paddingBottom:"xwib8y2",$$css:!0}},g=(e=r("qex")._("917"))!=null?e:!1;function h(e){var t,a=o("react-compiler-runtime").c(109),i=e.attachmentsSupported,l=e.editor,c=e.editorElementRef,p=e.hasStuffToSend,h=e.hideUploadPlaceholder,y=e.multiple,C=e.onAttachmentsAdded,b=e.onSendMessage,v=e.policyProduct,S=e.sendMessage,R=e.supportedFileTypes,L=e.surface,E=e.thread,k=h===void 0?!1:h,I=y===void 0?!0:y,T=(t=e.emojisSupported)!=null?t:!0,D=E.threadKey,x=E.threadSubtype,$=E.threadType,P;a[0]!==x?(P=o("IGDAiAgentsUtils").isAiThread(x),a[0]=x,a[1]=P):P=a[1];var N=P,M=r("useIsChatTabsDisplay")(),w=M,A=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),F=A.hasLSThreadBitOffset,O;a[2]!==F?(O=F(56),a[2]=F,a[3]=O):O=a[3];var B=O,W;a[4]!==F?(W=F(109),a[4]=F,a[5]=W):W=a[5];var q=W,U;a[6]!==F?(U=F(43),a[6]=F,a[7]=U):U=a[7];var V=U,H;a[8]!==E.threadType?(H=o("LSMessagingThreadTypeUtil").isGroup(E.threadType),a[8]=E.threadType,a[9]=H):H=a[9];var G=H,z=o("RelayHooks").useRelayEnvironment(),j;a[10]===Symbol.for("react.memo_cache_sentinel")?(j=r("CurrentUser").getEIMU(),a[10]=j):j=a[10];var K=j,Q;a[11]!==E.consistentThreadFbid?(Q=E.consistentThreadFbid!=null?o("IGDMAPIInterfaceTypes").toThreadId((d||(d=o("I64"))).to_string(E.consistentThreadFbid)):null,a[11]=E.consistentThreadFbid,a[12]=Q):Q=a[12];var X=Q,Y=o("MWPActor.react").useActor(),J;a[13]!==F?(J=F(14)&&(!o("PolarisUA").isMobile()||r("qex")._("443")===!0),a[13]=F,a[14]=J):J=a[14];var Z=J,ee;a[15]!==i||a[16]!==F?(ee=F(2)&&i===!0,a[15]=i,a[16]=F,a[17]=ee):ee=a[17];var te=ee,ne;a[18]!==te?(ne=te&&r("qex")._("4")===!0,a[18]=te,a[19]=ne):ne=a[19];var re=ne,oe;a[20]===Symbol.for("react.memo_cache_sentinel")?(oe=r("qex")._("499"),a[20]=oe):oe=a[20];var ae=oe===!0,ie;if(a[21]===Symbol.for("react.memo_cache_sentinel")){var le;ie=!o("PolarisUA").isMobile()&&((le=r("qex")._("1358"))!=null?le:!1),a[21]=ie}else ie=a[21];var se=ie,ue;a[22]!==i||a[23]!==F?(ue=F(4)&&F(3)&&i===!0,a[22]=i,a[23]=F,a[24]=ue):ue=a[24];var ce=ue,de;a[25]===Symbol.for("react.memo_cache_sentinel")?(de={createVoiceRecordQpl:o("MWVoiceRecordQpl").createVoiceRecordQpl,maxDuration:void 0},a[25]=de):de=a[25];var me=o("MWPUseVoiceRecorderV2").useVoiceRecorder(de),pe=me.state.stage!=="Unopen",_e;a[26]!==b||a[27]!==me?(_e=function(){return r("promiseDone")(me.getVoiceClip().then(function(e){return me.reset(),b(void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDComposerView.onSendVoiceClip"),(u||(u=n("Promise"))).resolve()}))},a[26]=b,a[27]=me,a[28]=_e):_e=a[28];var fe=_e,ge=r("useCurrentDisplayMode")(),he=ge==="dark"?"var(--always-white)":"var(--chat-composer-button-color)",ye=he,Ce;a[29]!==S?(Ce=function(){return S()},a[29]=S,a[30]=Ce):Ce=a[30];var be=Ce,ve=r("useShouldShowTextOnlyComposerForInvite")(D,$),Se;a[31]!==E.threadKey||a[32]!==E.threadType?(Se={eventName:"composer_view",threadKey:E.threadKey,threadType:E.threadType},a[31]=E.threadKey,a[32]=E.threadType,a[33]=Se):Se=a[33];var Re=r("MessengerWebUXLogger").useImpressionLoggerRef(Se),Le;a[34]!==l||a[35]!==E?(Le=se&&m.jsx(r("IGDComposerSavedReplySuggestionTray.react"),{editor:l,thread:E}),a[34]=l,a[35]=E,a[36]=Le):Le=a[36];var Ee;a[37]!==w?(Ee={0:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq"},1:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq x25sj25"}}[!!w<<0],a[37]=w,a[38]=Ee):Ee=a[38];var ke;a[39]!==k||a[40]!==w||a[41]!==re||a[42]!==I||a[43]!==R||a[44]!==E?(ke=m.jsx(r("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:k,isStacking:w,metaMediaCloudEnabled:re,multiple:I,supportedFileTypes:R,thread:E}),a[39]=k,a[40]=w,a[41]=re,a[42]=I,a[43]=R,a[44]=E,a[45]=ke):ke=a[45];var Ie;a[46]!==l||a[47]!==G||a[48]!==V||a[49]!==D?(Ie=V&&G?m.jsx(r("IGDMentionsComposerPlugin.react"),{editor:l,threadKey:D}):null,a[46]=l,a[47]=G,a[48]=V,a[49]=D,a[50]=Ie):Ie=a[50];var Te;a[51]!==p||a[52]!==M||a[53]!==pe?(Te={0:{className:"x6s0dn4 x78zum5 x1gg8mnh xv54qhq x1iwz3mf"},1:{className:"x6s0dn4 x78zum5 x1gg8mnh x1iwz3mf x11lfxj5"}}[!!((p||pe)&&(M||g))<<0],a[51]=p,a[52]=M,a[53]=pe,a[54]=Te):Te=a[54];var De;a[55]!==l||a[56]!==T||a[57]!==pe?(De=T&&!pe?m.jsx("div",{className:"xpvyfi4 xzueoph x1v0swvf",children:m.jsx(r("IGDComposerEmojiButton.react"),{editor:l})}):null,a[55]=l,a[56]=T,a[57]=pe,a[58]=De):De=a[58];var xe;a[59]!==ye||a[60]!==l||a[61]!==c||a[62]!==M||a[63]!==pe||a[64]!==C||a[65]!==fe||a[66]!==v||a[67]!==ve||a[68]!==L||a[69]!==me?(xe=pe?m.jsxs(m.Fragment,{children:[m.jsx(r("IGDSIconButton.react"),{"aria-label":s._(/*BTDS*/"Close Button"),onClick:function(){return me.reset()},children:m.jsx(o("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:ye,isRotated:!0,size:20})}),m.jsx(r("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:m.jsx(_,{voiceRecorder:me})}),m.jsx(r("IGDComposerViewSendButton.react"),{onClick:fe})]}):m.jsx(r("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,marginTop:2,xstyle:[M&&f.chatTabComposerInnerContainer,f.composerInnerContainer,o("PolarisUA").isMobile()&&f.mobileComposerInnerContainer],children:m.jsx(r("MWPCometComposerInner.react"),{ariaDescribedBy:s._(/*BTDS*/"Message").toString(),contentEditableRef:c,editor:l,handlePastedFiles:ve?r("emptyFunction"):C,placeholderText:s._(/*BTDS*/"Message...").toString(),policyProduct:v,surface:L})}),a[59]=ye,a[60]=l,a[61]=c,a[62]=M,a[63]=pe,a[64]=C,a[65]=fe,a[66]=v,a[67]=ve,a[68]=L,a[69]=me,a[70]=xe):xe=a[70];var $e;a[71]!==Y||a[72]!==l||a[73]!==Z||a[74]!==z||a[75]!==B||a[76]!==p||a[77]!==q||a[78]!==N||a[79]!==M||a[80]!==pe||a[81]!==te||a[82]!==re||a[83]!==I||a[84]!==C||a[85]!==be||a[86]!==b||a[87]!==ce||a[88]!==ve||a[89]!==R||a[90]!==E||a[91]!==X||a[92]!==D||a[93]!==me?($e=pe?null:m.jsxs(m.Fragment,{children:[m.jsx(r("IGDComposerViewSendButton.react"),{hidden:!p,onClick:be}),m.jsxs("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5"},1:{className:"x6s0dn4 x1s85apg"}}[!!(p||ve)<<0],{children:[Z?m.jsx(r("IGDVoiceClipButton.react"),{thread:E,voiceRecorder:me}):null,te?m.jsx(r("IGDComposerAttachmentButton.react"),{disabled:!B,multiple:I,onAttachmentsAdded:C,supportedFileTypes:R,threadKey:D}):null,re&&n("cr:213")!=null?m.jsx(n("cr:213"),{onAttachmentsAdded:C,threadKey:D}):null,ae&&n("cr:599")!=null?m.jsx(n("cr:599"),{actor:Y,environment:z,senderId:K,threadId:X,threadKey:D}):null,se?m.jsx(r("IGDComposerSavedReplyButton.react"),{editor:l,thread:E}):null,n("cr:21207")&&ce&&!N?m.jsx(n("cr:21207"),{threadKey:D}):null,q&&!M?n("cr:9307")&&m.jsx(n("cr:9307"),{onSendMessage:b,thread:E}):null]}))]}),a[71]=Y,a[72]=l,a[73]=Z,a[74]=z,a[75]=B,a[76]=p,a[77]=q,a[78]=N,a[79]=M,a[80]=pe,a[81]=te,a[82]=re,a[83]=I,a[84]=C,a[85]=be,a[86]=b,a[87]=ce,a[88]=ve,a[89]=R,a[90]=E,a[91]=X,a[92]=D,a[93]=me,a[94]=$e):$e=a[94];var Pe;a[95]!==Re||a[96]!==Te||a[97]!==De||a[98]!==xe||a[99]!==$e?(Pe=m.jsxs("div",babelHelpers.extends({},Te,{ref:Re,children:[De,xe,$e]})),a[95]=Re,a[96]=Te,a[97]=De,a[98]=xe,a[99]=$e,a[100]=Pe):Pe=a[100];var Ne;a[101]!==Ee||a[102]!==ke||a[103]!==Ie||a[104]!==Pe?(Ne=m.jsxs("div",babelHelpers.extends({},Ee,{children:[ke,Ie,Pe]})),a[101]=Ee,a[102]=ke,a[103]=Ie,a[104]=Pe,a[105]=Ne):Ne=a[105];var Me;return a[106]!==Le||a[107]!==Ne?(Me=m.jsxs(r("BaseTheme.react"),{config:r("IGDComposerThemeConfigOverride"),children:[Le,Ne]}),a[106]=Le,a[107]=Ne,a[108]=Me):Me=a[108],Me}l.default=h}),226);
__d("IGDDisappearingMessagesStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e="https://help.instagram.com/491565145294150/",u=s._(/*BTDS*/"Disappearing messages and calls are secured with end-to-end encryption.");l.LEARN_MORE_LINK=e,l.DM_SECURITY_NOTICE=u}),226);
__d("IGDDMModeContextProvider",["DisappearingMessagesMode","FBLogger","I64","IGDAWAdminWriteMsgTxn","IGDDisappearingMessagesStrings","Int64Hooks","MAWEphemeralConsts","MWLSThread","MWPActor.react","MessengerWebUXLogger","PolarisDirectAPI","PolarisDismissEntry","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getErrorSafe","isE2EEAttributedInstamadillo","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useCallback,_=d.useEffect,f=d.useMemo,g=d.useState,h=m({dmMode:r("DisappearingMessagesMode").OFF,lastSetTtlSec:o("MAWEphemeralConsts").oneDayInSeconds,setLastSetTtlSec:function(){},toggleDMMode:function(){}});function y(e){var t=o("react-compiler-runtime").c(6),n=g(e),r=n[0],a=n[1],i=g(e),l=i[0],s=i[1];l!==e&&(s(e),a(e));var u;t[0]!==e||t[1]!==r?(u=function(){r!==e&&a(e)},t[0]=e,t[1]=r,t[2]=u):u=t[2];var c=u,d;return t[3]!==r||t[4]!==c?(d=[r,a,c],t[3]=r,t[4]=c,t[5]=d):d=t[5],d}function C(t){var a=t.children,l=t.threadKey,u=(e||(e=r("useReStore")))(),d=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(u.tables.ig_thread_info,["igDmSettingsMode","igThreadId","igDmSettingsLastSetActorId","igDmSettingsLastSetTimestampMs","igDmSettingsTtlSec"]).getKeyRange(l).map(function(e){var t=e.igDmSettingsLastSetActorId,n=e.igDmSettingsLastSetTimestampMs,r=e.igDmSettingsMode,o=e.igDmSettingsTtlSec,a=e.igThreadId;return{authoritativeDMMode:r,igDmSettingsLastSetActorId:t,igDmSettingsLastSetTimestampMs:n,igDmSettingsTtlSec:o,igThreadId:a}})},[u,l],i.id+":89"),m=f(function(){return(d==null?void 0:d.authoritativeDMMode)!=null&&(s||(s=o("I64"))).to_int32(d==null?void 0:d.authoritativeDMMode)===r("DisappearingMessagesMode").ON?r("DisappearingMessagesMode").ON:r("DisappearingMessagesMode").OFF},[d]),p=f(function(){if((d==null?void 0:d.igDmSettingsTtlSec)==null)return o("MAWEphemeralConsts").oneDayInSeconds;var e=(s||(s=o("I64"))).to_float(d==null?void 0:d.igDmSettingsTtlSec);return e>0?e:o("MAWEphemeralConsts").oneDayInSeconds},[d]),g=f(function(){return(d==null?void 0:d.igDmSettingsLastSetTimestampMs)!=null?(s||(s=o("I64"))).to_float(d==null?void 0:d.igDmSettingsLastSetTimestampMs):void 0},[d]),C=y(m),b=C[0],v=C[1],S=C[2],R=y(p),L=R[0],E=R[1],k=R[2],I=y(g),T=I[0],D=I[1],x=I[2],$=y(d==null?void 0:d.igDmSettingsLastSetActorId),P=$[0],N=$[1],M=$[2],w=o("MWPActor.react").useActor(),A=r("MessengerWebUXLogger").useInteractionLogger(),F=o("Int64Hooks").useCallbackInt64(function(){var e=b===r("DisappearingMessagesMode").ON?r("DisappearingMessagesMode").OFF:r("DisappearingMessagesMode").ON;v(e),D(new Date().getTime()),N(w),(d==null?void 0:d.igThreadId)!=null&&r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("PolarisDirectAPI").setDisappearingMessagesSettings(d==null?void 0:d.igThreadId,e,L);t.statusCode!==200&&(r("FBLogger")("igd_web").warn("Toggle DM Network Request failed",t.toString()),S(),x(),M())}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("igd_web").warn("Toggle DM Network Request failed",n.message),S(),x(),M()}})()),r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("MWLSThread").getThreadAsync(u,l);e&&(A==null||A({eventName:b===r("DisappearingMessagesMode").ON?"direct_disappearing_messages_toggle_off":"direct_disappearing_messages_toggle_on",extraData:{dm_duration:String(L)}}))})())},[w,u,b,L,A,S,M,x,v,N,D,d==null?void 0:d.igThreadId,l]),O=o("Int64Hooks").useCallbackInt64(function(e){if(e!==p){E(e),D(new Date().getTime()),N(w);var t=d!=null?d:{},a=t.authoritativeDMMode,i=t.igThreadId;i!=null&&a!=null&&r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("PolarisDirectAPI").setDisappearingMessagesSettings(i,b,e);t.statusCode!==200&&(r("FBLogger")("ig_web").warn("DM TTL Network Request failed",t.toString()),k(),x(),M())}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("ig_web").warn("DM TTL Network Request failed",n.message),k(),x(),M()}})()),r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("MWLSThread").getThreadAsync(u,l);t&&(A==null||A({eventName:"direct_disappearing_messages_ttl_changed",extraData:{new_dm_duration:String(e),old_dm_duration:String(L)}}))})())}},[u,L,A,w,b,M,x,k,N,D,E,d,l,p]);_(function(){m===r("DisappearingMessagesMode").ON&&!o("PolarisDismissEntry").isInstamadilloNuxDismissed(o("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE)&&r("isE2EEAttributedInstamadillo")()&&(o("PolarisDismissEntry").setInstamadilloNuxSessionTimes(o("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE),r("promiseDone")(u.runInTransaction(function(e){return o("IGDAWAdminWriteMsgTxn").writeAdminMessageTxn(e,{ctaType:"admin_msg_ig_dm_learn_more",senderId:w,text:o("IGDDisappearingMessagesStrings").DM_SECURITY_NOTICE.toString(),threadKey:l,timestampMs:d==null?void 0:d.igDmSettingsLastSetTimestampMs})},"readwrite",void 0,void 0,i.id+":319")))},[m,w,u,d==null?void 0:d.igDmSettingsLastSetTimestampMs,l]);var B=f(function(){return{dmMode:b,lastSetActorId:P,lastSetTimestampMs:T,lastSetTtlSec:L,setLastSetTtlSec:O,toggleDMMode:F}},[b,P,T,L,O,F]);return c.jsx(h.Provider,{value:B,children:a})}C.displayName=C.name+" [from "+i.id+"]",l.IGDDMModeContext=h,l.IGDDMModeContextProvider=C}),98);
__d("IGDEqualityUtils",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return Array.isArray(e)&&e.length===2&&Number.isInteger(e[0])&&Number.isInteger(e[1])}function u(t,n){return t!==n&&s(t)&&s(n)?(e||(e=o("I64"))).equal(t,n):t===n}function c(e,t){return d(e,t,u)}function d(e,t,n){if(n===void 0&&(n=function(t,n){return t===n}),n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!n(e[r[a]],t[r[a]],r[a]))return!1;return!0}l.shallowEqualI64=c,l.shallowEqual=d}),98);
__d("IGDOffMsysComposerReplyView_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerReplyView_SlideMessage",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null}],type:"SlideMessageText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_sticker",storageKey:null}],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerReplyView_XDTUserDict.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerReplyView_XDTUserDict",selections:[{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("IGDOffMsysComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","CurrentUser","IGDOffMsysComposerReplyView_SlideMessage.graphql","IGDOffMsysComposerReplyView_XDTUserDict.graphql","IGDReplyContext.react","IGDSBox.react","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","MDSTextPairing.react","isStringNullOrEmpty","react","react-compiler-runtime","react-relay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useContext,p={cancelButton:{paddingTop:"xexx8yu",$$css:!0},container:{backgroundColor:"xvbhtw8",borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",justifyContent:"x1qughib",paddingBottom:"xg8j3zb",paddingInlineEnd:"x1q3ajuy",paddingInlineStart:"x1gx403c",paddingTop:"x889kno",$$css:!0},message:{marginInlineEnd:"x1sa5p1d",$$css:!0}};function _(e,t){var n,o,a=e.content,i=e.content_type,l=!r("isStringNullOrEmpty")(a==null?void 0:a.text_body),u=a==null||(n=a.animated_media)==null?void 0:n.at(0),c=(o=u==null?void 0:u.is_sticker)!=null?o:!1;if(t)return s._(/*BTDS*/"Removed message");if(l){var m,p;return d.jsx(r("IGDSText.react"),{children:(m=(p=e.content)==null?void 0:p.text_body)!=null?m:s._(/*BTDS*/"Message").toString()})}switch(i){case"IMAGES":return s._(/*BTDS*/"Image");case"VIDEOS":return s._(/*BTDS*/"Video");case"STORE_STICKER":return s._(/*BTDS*/"Sticker");case"INSTAGRAM_MESSAGING_ANIMATED_IMAGE":return c?s._(/*BTDS*/"Sticker"):s._(/*BTDS*/"GIF");case"GIFS":return s._(/*BTDS*/"GIF");case"AUDIOS":return s._(/*BTDS*/"Voice Message");case"CLIP":case"GENERIC_XMA":case"PROFILE":case"REEL_SHARE":case"STORY_SHARE":case"MESSAGE_INLINE_SHARE":case"CUTOUT_STICKER_XMA":case"XMA":return s._(/*BTDS*/"Attachment \ud83d\udcce");default:return s._(/*BTDS*/"Message")}}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t,n=r("CurrentUser").getEIMU(),o=e==null?void 0:e.interop_messaging_user_fbid;if(n===o)return s._(/*BTDS*/"Replying to yourself");var a=(t=e==null?void 0:e.full_name)!=null?t:e==null?void 0:e.username;return a==null?s._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[s._param("Placeholder for an unknown user on Instagram","Instagram User")]):s._(/*BTDS*/"Replying to {name}",[s._param("name",d.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",children:a}))])}function g(t){var a=o("react-compiler-runtime").c(21),i=t.reply,l=o("IGDReplyContext.react").useIGDReplySetterContext(),c=l.clearReply,g=m(r("CometTriggerAccessibilityAlertContext")),y;a[0]===Symbol.for("react.memo_cache_sentinel")?(y=e!==void 0?e:e=n("IGDOffMsysComposerReplyView_SlideMessage.graphql"),a[0]=y):y=a[0];var C=o("react-relay").useFragment(y,i.message),b;a[1]===Symbol.for("react.memo_cache_sentinel")?(b=u!==void 0?u:u=n("IGDOffMsysComposerReplyView_XDTUserDict.graphql"),a[1]=b):b=a[1];var v=o("react-relay").useFragment(b,i.sender),S;a[2]!==v?(S=f(v),a[2]=v,a[3]=S):S=a[3];var R;a[4]!==S?(R=d.jsx(r("IGDSText.react"),{size:"body",children:S}),a[4]=S,a[5]=R):R=a[5];var L;a[6]!==C?(L=_(C,!1),a[6]=C,a[7]=L):L=a[7];var E;a[8]!==R||a[9]!==L?(E=d.jsx(r("IGDSBox.react"),{xstyle:p.message,children:d.jsx(r("MDSTextPairing.react"),{body:R,level:3,meta:L})}),a[8]=R,a[9]=L,a[10]=E):E=a[10];var k;a[11]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Cancel reply"),a[11]=k):k=a[11];var I;a[12]!==c||a[13]!==g?(I=function(){c(),g(s._(/*BTDS*/"Replying to message has been canceled."),{assertive:!1})},a[12]=c,a[13]=g,a[14]=I):I=a[14];var T;a[15]===Symbol.for("react.memo_cache_sentinel")?(T=d.jsx(r("IGDSXFilledIcon.react"),{alt:s._(/*BTDS*/"Cancel reply"),color:"ig-primary-text",size:12}),a[15]=T):T=a[15];var D;a[16]!==I?(D=d.jsx(r("IGDSIconButton.react"),{label:k,onClick:I,xstyle:p.cancelButton,children:T}),a[16]=I,a[17]=D):D=a[17];var x;return a[18]!==D||a[19]!==E?(x=d.jsx(r("IGDSBox.react"),{"data-testid":void 0,direction:"row",xstyle:p.container,children:d.jsxs(r("CometErrorBoundary.react"),{fallback:h,children:[E,D]})}),a[18]=D,a[19]=E,a[20]=x):x=a[20],x}function h(){return d.jsx(r("IGDSText.react"),{size:"body",children:s._(/*BTDS*/"Replying to message")})}h.displayName=h.name+" [from "+i.id+"]",l.default=g}),226);
__d("IGDSupportedFileTypes",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e?[".png",".jpg",".jpeg"]:["audio/*",".mp4",".mov",".png",".jpg",".jpeg"]}var l=["audio/*",".mp4",".mov",".png",".jpg",".jpeg"],s=[".png",".jpg",".jpeg"];i.getIGDSupportedFileTypes=e,i.IGD_WEB_SUPPORTED_FILE_TYPES=l,i.IGD_MOBILE_SUPPORTED_FILE_TYPES=s}),66);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(t,n,r,o,a,i,l){var e="scraperLastPermissiveMatch",s=(function(t){function n(e,n){var r;return r=t.call(this)||this,r.input=e,r.enable(),r.getValueFn=n,r}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.reset=function(){o("DataStore").set(this.input,e,null)},a.enable=function(){if(!this.events){var e=function(t){window.setTimeout(this.check.bind(this,t),30)};this.events=r("Event").listen(this.input,{paste:e.bind(this,!1),keydown:e.bind(this,!0)})}},a.disable=function(){if(this.events){for(var e in this.events)this.events[e].remove();this.events=null}},a.check=function(r){var t=this.getValueFn?this.getValueFn():this.input.value;if(!(r&&n.trigger(t))){var a=n.match(t),i=o("URLMatcher").permissiveMatch(t);i&&i!=o("DataStore").get(this.input,e)&&(o("DataStore").set(this.input,e,i),this.inform("match",{url:a||i,alt_url:i}))}},n})(r("mixin")(r("ArbiterMixin")));Object.assign(s,o("URLMatcher")),l.default=s}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){for(var n=[],a=0;;){var i=(s||(s=o("UnicodeUtils"))).substr(t,a),l=r("URLScraper").match(i);if(!l||!(e||(e=r("URI"))).isValidURI(l))break;var u=l;/^[a-z][a-z0-9\-+.]+:\/\//i.test(l)||(u="http://"+l);var c=i.indexOf(l),d=s.strlen(i.substr(0,c));a+=d;var m=l.length;n.push({offset:a,length:l.length,entity:{url:u}}),a+=m}return n}l.default=u}),98);
__d("MAWFindFirstUrl",["getURLRanges"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("getURLRanges")(e);return t.length===0?[]:t}l.findFirstUrl=e}),98);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MWHasLinksUtil","cr:5710","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map,u=void 0;function c(){return Array.from(s.values()).some(function(e){return e.messageText.trim()!==""})}function d(e,t){return s.get(y(e,t))}function m(){n("cr:5710")==null||u!=null||(u=n("cr:5710").onBeforeUnload(function(){if(c())return"You have pending messages. Please wait for them to be sent before closing the window."}))}function p(e){var t=e.deleteLinkPreviewXMATableData,n=e.fetchAndWriteLinkPreviewXMA,a=e.message,i=e.subthreadParentMessageId,l=e.threadKey,c=e.threadType;if(a==null){if(s.delete(y(l,i)),s.size===0){var d;(d=u)==null||d.remove(),u=void 0}return}if(s.has(y(l,i)))_(l,a,i);else{var p=r("uuidv4")();s.set(y(l,i),{id:p,linkPreviewAbortToken:null,linkPreviewURL:null,messageText:a})}var g=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c);g&&f(l,a,n,t,i),m()}function _(e,t,n){var o=d(e,n);if(o==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in updateDraftMessageText");return}s.set(y(e,n),babelHelpers.extends({},o,{messageText:t}))}function f(e,t,n,a,i){var l,s,u,c=d(e,i);if(c==null){r("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var m=c==null?void 0:c.linkPreviewURL,p=c==null?void 0:c.linkPreviewAbortToken,_=(l=o("MAWFindFirstUrl").findFirstUrl(t))!=null?l:[],f=o("MWHasLinksUtil").getHasLinks(t),y=f&&(s=(u=_[0])==null?void 0:u.entity.url)!=null?s:null;if(m!==y){if(y==null){a&&a({draftId:c.id}),p==null||p.abort(),g({linkPreviewURL:null,subthreadParentMessageId:i,threadKey:e}),h({linkPreviewAbortToken:null,subthreadParentMessageId:i,threadKey:e});return}g({linkPreviewURL:y,subthreadParentMessageId:i,threadKey:e});var C=n&&n({draftId:c.id,urls:_})||null;h({linkPreviewAbortToken:C,subthreadParentMessageId:i,threadKey:e})}}function g(e){var t=e.linkPreviewURL,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewURL:t}))}function h(e){var t=e.linkPreviewAbortToken,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewAbortToken:t}))}function y(t,n){return n!=null&&n!==""?n:(e||(e=o("I64"))).to_string(t)}l.getDraftMessage=d,l.updateDraftMessage=p,l.getNonEmptyDraftMessageKey=y}),98);
__d("MWDraftMessages.react",["MWPComposerDraftMessages","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useState,_=c(),f=c();function g(e){var t=e.children,n=p(new Map),r=n[0],a=n[1],i=d(function(e,t){var n=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(e,t);return r.has(n)?r.get(n):null},[r]),l=d(function(e,t,n){var r=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(e,n);a(function(e){var n=new Map(e);return t==null||t===""?n.delete(r):n.set(r,t),n})},[a]),u=_.Provider,c=f.Provider;return s.jsx(u,{value:i,children:s.jsx(c,{value:l,children:t})})}g.displayName=g.name+" [from "+i.id+"]";function h(){return m(_)}function y(){return m(f)}l.MWDraftProvider=g,l.useMWGetDraft=h,l.useMWUpdateDraft=y}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:11494"],(function(t,n,r,o,a,i,l){"use strict";var e={getRanges:function(t){var e=[],r=0;return t.getEditorState().read(function(){var t=o("Lexical").$getRoot().getFirstChild();t instanceof o("Lexical").ElementNode&&t.getChildren().forEach(function(t){if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)){var a=t.getEntity();e.push({id:a.id,length:t.getTextContent().length,offset:r,type:o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)?t.getRangeType():"p"})}if(n("cr:11494")!=null&&t instanceof n("cr:11494").MessengerLexicalCommandNode){var i=t.getEntity();e.push({id:i.commandId,length:t.getTextContent().length,offset:r,type:t.getRangeType()})}r+=t.getTextContent().length})}),e}},s=e;l.default=s}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({});function _(e){var t=e.children,n=e.onMessageSendAttempt,r=d(p),o=r.onMessageSendAttempt,a=m(function(){return{onMessageSendAttempt:function(t){o==null||o(t),n==null||n(t)}}},[o,n]);return s.jsx(p.Provider,{value:a,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.MWV2ComposerActionsContext=p,l.MWV2ComposerActionsListener=_}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({hasContentRef:void 0});function f(e){var t=e.children,n=p(!1),r=m(function(){return{hasContentRef:n}},[n]);return s.jsx(_.Provider,{value:r,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWV2ComposerHasContentContextProvider=f,l.useComposerHasContext=g}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","mlcErrorHandler__INTERNAL"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,o("CometLexicalEmojiNode").EmojiNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode],s=babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function u(t){var n,a,i=o("Lexical").createEditor({namespace:"MWPEditor",nodes:(n=t==null?void 0:t.nodes)!=null?n:e.filter(Boolean),onError:function(t){return r("mlcErrorHandler__INTERNAL")(t,i,function(e){r("FBLogger")("messenger_web").catching(t).mustfix("Lexical Error MWP: %s",e)})},theme:(a=t==null?void 0:t.theme)!=null?a:s});return i}l.default=u}),98);
__d("useIsMessengerPWA",["ExecutionEnvironment","isMessengerPWA","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useState;function m(){var t=d(r("isMessengerPWA")),n=t[0],o=t[1];return c(function(){if(!(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||!matchMedia)){var t=matchMedia("(display-mode: standalone)"),n=function(t){o(t.matches)};return t.addListener(n),function(){t.removeListener(n)}}},[]),n}l.default=m}),98);
__d("useMWIsOffline",["CometSSRRenderingStateHooks","NetworkStatus","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(){var e=o("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating(),t=c(!r("NetworkStatus").isOnline()&&!e),n=t[0],a=t[1];return u(function(){var e=r("NetworkStatus").onChange(function(e){var t=e.online;a(!t)});return function(){e.remove()}},[]),n}l.default=d}),98);
__d("MWChatFocusComposerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({focusComposer:void 0,setFocusComposer:function(){}});function f(e){var t=e.children,n=p(),r=n.current,o=m(function(){return{focusComposer:r,setFocusComposer:function(t){n.current=t}}},[r]);return s.jsx(_.Provider,{value:o,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWChatFocusComposerContextProvider=f,l.useMWChatFocusComposer=g}),98);
__d("MWInboxFocusTarget",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({THREAD_VIEW_AND_OR_COMPOSER:0,THREAD_LIST:1,YOU_MAY_KNOW:2}),l=e;i.default=l}),66);
__d("useMWGetInboxFocusTargetFromRoute",["CometRouteParams","MWInboxFocusTarget"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("CometRouteParams").useRouteParams(),t=e.focus_target;if(t!=null){var n,a=Number(t);return(n=r("MWInboxFocusTarget").cast(a))!=null?n:0}return 0}l.default=e}),98);
__d("useMWPComposerAutoFocus",["HiddenSubtreePassiveContext","IGDReplyContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","useMWGetInboxFocusTargetFromRoute","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect;function m(e,t){var n,r=t.getCurrentState(),o=r.hiddenOrBackgrounded;if(!o){var a=(n=document.activeElement)==null||(n=n.attributes.getNamedItem("id"))==null?void 0:n.value;if(!(a!=null&&a.includes("prevent-composer-focus-steal")))return e.focus(function(){})}}function p(e){var t=e.editor,n=e.focusEditorDelayed,a=e.hasUnsentAttachments,i=a===void 0?!1:a,l=e.isPreviewThread,s=l===void 0?!1:l,p=e.isQuickchat,_=c(r("HiddenSubtreePassiveContext")),f=o("MWChatFocusComposerContext").useMWChatFocusComposer(),g=f.setFocusComposer,h=c(o("MWPReplyContext.react").MWPReplyContext),y=h.reply,C=r("usePrevious")(y),b=o("IGDReplyContext.react").useIGDReplyContext(),v=r("usePrevious")(b);d(function(){((C==null?y!=null:!r("deepEquals")(C,y))||(v==null?b!=null:!r("deepEquals")(v,b)))&&(p&&n?n(t):m(t,_))},[t,y,C,n,p,_,v,b]);var S=r("useMWGetInboxFocusTargetFromRoute")(),R=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),L=S===0&&R&&!s;d(function(){L&&(p&&n?n(t):m(t,_))},[t,L,n,p,_]),d(function(){i&&(p&&n?n(t):m(t,_))},[t,i,n,p,_]),g(u(function(){p&&n?n(t):m(t,_)},[t,n,_,p]))}l.default=p}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useRef,p=c();function _(e){var t=e.children,n=m("");return s.jsx(p.Provider,{value:n,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(){return d(p)}l.MWPNewMessageDraftContextProvider=_,l.useNewMessageDraftContext=f}),98);
__d("MWPreloadedText",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({text:null});l.default=u}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","getErrorSafe","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("useAsyncReStore")(),a=e!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e);return o("Int64Hooks").useCallbackInt64((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var o=e.draftId;if(a){var l=yield t,s=yield l.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=null;return yield e.e2ee_composer_draft_link_preview.get(o).then(function(e){var n,r=JSON.parse((n=e==null?void 0:e.data)!=null?n:"{}");t=r.iframeMediaURL}),yield e.e2ee_composer_draft_link_preview.delete(o),t});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":41");if(s!=null)try{URL.revokeObjectURL(s)}catch(e){var u=r("getErrorSafe")(e);r("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",u.message)}}});return function(t){return e.apply(this,arguments)}})())}l.default=e}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","Promise","asyncToGeneratorRuntime","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[],u=["image/png","image/jpeg","image/jpg"],c=2e3;function d(t){return new(e||(e=n("Promise")))(function(e){return r("setTimeout")(e,t)})}function m(t){return(e||(e=n("Promise"))).race([t,d(c)])}function p(e){if(e==null)return null;var t=null,n=e.find(function(e){return Object.values(S).some(function(n){var r=n.schemes,o=n.url,a=r.some(function(t){return t.test(e.entity.url)});return a&&(t=o),a})});return n==null||t==null?null:{oEmbedRequest:t+"?url="+encodeURIComponent(n.entity.url)+"&format=json",oEmbedUrl:n.entity.url}}function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.fallbackUrl,a=e.qplEvent,i=e.request,l=(t=window.frames["maw-intermediate-iframe"])!=null?t:null;if(l==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}}),r("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}try{var s=yield m(o("MAWOembedIframeContainer.react").requestUrl(i,o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,l));if(s==null||s instanceof Blob){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return y({fallbackUrl:n,rawResponse:s})}catch(e){a==null||a.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}}),r("FBLogger")("messenger_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}}),f.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a,i=t.qplEvent,l=t.xmaData;if(l==null)return(e||(e=n("Promise"))).resolve();var u=R(l.url),c=s.includes(u);if(c)return(e||(e=n("Promise"))).resolve();var d=l==null?void 0:l.thumbnail_url;if(d==null||!d)return i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}}),(e||(e=n("Promise"))).resolve();var p=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;if(p==null&&(o("MAWOembedIframeContainer.react").createMAWOembedIframeContainer(),window.frames["maw-intermediate-iframe"]==null)){i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}}),r("FBLogger")("messenger_web").warn("[external link] Cannot find the iframe to request image blob response.");return}var _=yield m(o("MAWOembedIframeContainer.react").requestUrl(d,o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,p));return _ instanceof Blob?_:(i==null||i.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}}),r("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. "),(e||(e=n("Promise"))).resolve())}),h.apply(this,arguments)}function y(e){var t,n=e.fallbackUrl,o=e.rawResponse;if(o.version!=="1.0")throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response version from oEmbed API");if(o.type==="photo"&&o.url==null)throw r("FBLogger")("messenger_web").mustfixThrow("Unsupported response from oEmbed API: photo does not have url field");return{author_name:o.author_name!=null?decodeURIComponent(o.author_name):void 0,height:o.height,thumbnail_height:o.thumbnail_height,thumbnail_url:o.thumbnail_url,thumbnail_width:o.thumbnail_width,title:o.title!=null?decodeURIComponent(o.title):void 0,type:o.type,url:(t=o.url)!=null?t:n,width:o.width}}function C(e){var t=v.some(function(t){return t.test(e)});return t?!0:Object.values(S).some(function(t){var n=t.url;return e.startsWith(n)})}var b=new RegExp("^http(?:s)?:\\/\\/i\\.ytimg\\.com.+$"),v=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$"),b],S={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function R(e){return Object.keys(S).find(function(t){return S[t].schemes.some(function(t){return t.test(e)})})}l.allowedPreviewTypes=u,l.findFirstAvailableOembedUrlAndRequestPair=p,l.getOembedResponse=_,l.getImageBlobResponse=g,l.isAllowedRequestForFbsbx=C}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["facebook.com","messenger.com","instagram.com","internalfb.com"];function s(e){if(e==null||typeof e!="object")return null;var t=e.requestURL,n=e.requestMessageType;if(typeof n!="string"||typeof t!="string"||!o("ConstUriUtils").isValidUri(t))return null;var r=c.cast(n);return r==null||r!==c.OEMBED_REQUEST_URL&&r!==c.THUMBNAIL_URL?null:[r,t]}function u(){var t=null,n=new(r("SecureMessageListener"))(window);function a(e){t=e.origin;var n=e.data,a=s(n);if(a!=null){var l=a[0],u=a[1];o("MAWExternalLinkUtil").isAllowedRequestForFbsbx(u)&&r("promiseDone")(window.fetch(u).then(function(e){switch(e.status!==200&&r("FBLogger")("messenger_web").mustfix("[external link] fbsbx page fetching for the response is not successful."),l){case c.OEMBED_REQUEST_URL:return e.json();case c.THUMBNAIL_URL:return e.blob()}}).then(function(e){i({type:l,url:u,value:e})}).catch(function(){r("FBLogger")("messenger_web").warn("[external link] Failed to fetch response in helper js.")}))}}n.setEventHandler(a).setSupportedOrigins(e),n.beginListening();function i(e,n){var o=n!=null?n:1;if(t==null){o<=3&&window.setTimeout(function(){i(e,o+1)},250*Math.pow(2,o*o));return}r("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,e,t)}}var c=n("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);l.init=u,l.MAWOembedIFrameMessageType=c}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("MAWOembedIframeContainer.react",["ConstUriUtils","CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return"https://www.fbsbx.com"}var u=new Map,c=null;function d(t,a,i){var l=u.get(t);if(l!=null)return l.promise;var s=f();if(s==null)return(e||(e=n("Promise"))).resolve();r("SecurePostMessage").sendMessageToSpecificOrigin(i.contentWindow,{requestMessageType:a,requestURL:t},s);var c=new(o("WAResolvable")).Resolvable;return u.set(t,c),c.promise}function m(e){if(e==null||typeof e!="object")return null;var t=e.url,n=e.value,a=e.type;if(t==null||n==null||a==null||typeof a!="string")return null;var i=o("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof t=="string"&&i!=null){if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&n instanceof Blob)return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:t,value:n};if(i===o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof n=="object"&&n.title!=null&&n.thumbnail_url!=null){var l={author_name:typeof n.author_name=="string"?n.author_name:void 0,height:typeof n.height=="number"?n==null?void 0:n.height:150,thumbnail_height:typeof n.thumbnail_height=="number"?n.thumbnail_height:void 0,thumbnail_url:typeof n.thumbnail_url=="string"?n.thumbnail_url:void 0,thumbnail_width:typeof n.thumbnail_width=="number"?n.thumbnail_width:void 0,title:typeof n.title=="string"?n.title:void 0,type:typeof n.type=="string"?n.type:"photo",version:typeof n.version=="string"?n.version:"1.0",width:typeof n.width=="number"?n.width:200};return{type:o("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:t,value:l}}}return r("FBLogger")("messenger_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a),null}var p=function(t){var e=m(t.data);if(e!=null){var n=e.url,o=e.value,a=u.get(n);if(a==null){r("FBLogger")("messenger_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}a.resolve(o)}};function _(){var e,t,n=(e=window.frames["maw-intermediate-iframe"])!=null?e:null,o=f();if(n!=null){var a;return(a=c)==null||a.beginListening(),c}if(o==null){r("FBLogger")("messenger_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}var i=document.createElement("iframe");return i.style.display="none",i.className="MAWOembedIframe",i.id="maw-intermediate-iframe",i.src=o,(t=document.body)==null||t.appendChild(i),c=new(r("SecureMessageListener"))(window).setEventHandler(p).setSupportedOrigins(["fbsbx.com"]),c.beginListening(),c}function f(){var e,t;return(e=r("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(t=r("CookieConsentIFrameConfig").consent_param)!=null?t:""}).qualifyDomain(o("ConstUriUtils").getUri(s())))==null?void 0:e.toString()}l.requestUrl=d,l.createMAWOembedIframeContainer=_}),98);
__d("MAWPreProcessLinkPreviewQPL",["MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(1056840460,"718");function s(t){var n=t.draftId,a=t.url,i=n.concat(a),l=o("MAWLoggerUtils").getInstanceKeyFromId(i),s=r("justknobx")._("2714");return r("QPLUserFlow").start(e,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:l,timeoutInMs:s}),{addAnnotations:function(n){r("QPLUserFlow").addAnnotations(e,n,{instanceKey:l})},addPoint:function(n,o){r("QPLUserFlow").addPoint(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endCancel:function(n,o){r("QPLUserFlow").endCancel(e,{annotations:n,cancelReason:o,instanceKey:l})},endFail:function(n,o){r("QPLUserFlow").endFailure(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endSuccess:function(){r("QPLUserFlow").endSuccess(e,{instanceKey:l})}}}l.startMediaPreProcessLinkPreviewQpl=s}),98);
__d("useXMAPreviewsDisabledSetting",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.messaging_privacy_settings).getKeyRange(a)},[n,a],i.id+":26");return l==null?r("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(t=l==null?void 0:l.e2eeXmaPreviewsDisabled)!=null?t:!1}l.default=s}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","asyncToGeneratorRuntime","getErrorSafe","getRequestConstUri","isFacebookURI","promiseDone","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){var e=!1;return{abort:function(){e=!0},isAborted:function(){return e}}};function u(e){var t=e.threadKey,a=e.threadType,i=r("useAsyncReStore")(),l=a!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),u=r("useMAWDeleteLinkPreviewXMATableData")(a),m=r("getRequestConstUri")(),_=r("useXMAPreviewsDisabledSetting")();return o("Int64Hooks").useCallbackInt64(function(e){var a=e.draftId,f=e.urls,g=s(),h=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l){var e=o("ConstUriUtils").getUri(f[0].entity.url);if(e!=null){var n=o("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:a,url:e.toString()}),s=r("isFacebookURI")(e),h=r("isFacebookURI")(m),y=s&&h;if(s&&_){c({abortToken:g,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_fb_disabled",status:r("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:t,xmaData:null}),n.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}c({abortToken:g,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_loading_status",status:r("E2EELinkPreviewXMADataStatus").LOADING,threadKey:t,xmaData:{title:e.getDomain(),url:e.toString()}}),n.addAnnotations({bool:{should_fetch_from_og:y},string:{link_type:s?"facebook":"external"}});var C=y?yield d(e.toString(),n):yield p(f,n),b=C.dataType,v=C.xmaData;c({abortToken:g,dataType:b,dbPromise:i,deleteLinkPreviewXMATableData:u,draftId:a,qplEvent:n,qplSubspanPoint:"write_xma_data",status:r("E2EELinkPreviewXMADataStatus").LOADED,threadKey:t,xmaData:v})}}});return function(){return e.apply(this,arguments)}})();return h(),g})}function c(t){var n=t.abortToken,a=t.dataType,l=t.dbPromise,s=t.deleteLinkPreviewXMATableData,u=t.draftId,c=t.qplEvent,d=t.qplSubspanPoint,m=t.status,p=t.xmaData;if(c.addAnnotations({int:{data_type:a}}),n.isAborted()){c.endCancel({string:{cancel_reason:"fetch_aborted"}},706);return}c.addPoint(d+"_start"),r("promiseDone")(l,function(t){return t.runInTransaction(function(t){return t.e2ee_composer_draft_link_preview.put({data:p!=null?JSON.stringify(p):void 0,dataType:a!=null?(e||(e=o("I64"))).of_int32(a):void 0,draftId:u,status:(e||(e=o("I64"))).of_int32(m)})},"readwrite",void 0,void 0,i.id+":214").then(function(e){n.isAborted()&&(c.endCancel({string:{cancel_reason:"fetch_aborted_delete"}},706),s({draftId:e[0]})),c.addPoint(d+"_success"),d==="write_xma_data"&&c.endSuccess()}).catch(function(e){c.endFail(d+"_failed",{string:{data_status:String(m),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+e}}),r("FBLogger")("messenger_web_sharing").catching(e).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,a;t.addPoint("fetch_fb_og_data_start");var i=(n=(a=o("ConstUriUtils").getUri(e))==null?void 0:a.getDomain())!=null?n:e;try{var l,s,u;t.addPoint("http_request_start");var c=yield window.fetch(e,{credentials:"omit",referrerPolicy:"no-referrer"});if(t.addPoint("http_response_end"),!c.ok)return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(c.status),xma_data_returned:"fallback"}}),f(i,e);var d=yield c.text(),m=new DOMParser,p=m.parseFromString(d,"text/html");p.querySelector("parsererror")&&t.addPoint("html_parsererror");var _=(l=p.querySelector('meta[property="og:image"]'))==null?void 0:l.getAttribute("content"),g=(s=p.querySelector('meta[name="description"]'))==null?void 0:s.getAttribute("content"),h=(u=p.querySelector('meta[property="og:title"]'))==null?void 0:u.getAttribute("content");return _==null&&g==null&&h==null?(t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}}),f(i,e)):(t.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:g!=null?g:void 0,iframeMediaURL:_,thumbnail_url:_!=null?_:void 0,title:h!=null?h:i,url:e}})}catch(n){return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}}),f(i,e)}}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){var a,i,l;n.addPoint("fetch_external_link_oembed_data_start");var s=o("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(e),u=e[0].entity.url,c=null;if(s!=null){u=s.oEmbedUrl;try{n.addPoint("get_oembed_response_start"),c=yield o("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:u,qplEvent:n,request:s.oEmbedRequest}),n.addPoint("get_oembed_response_success")}catch(e){var d=r("getErrorSafe")(e);n.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+d.message}}),n.addPoint("get_oembed_response_end"),r("FBLogger")("messenger_web_sharing").catching(d).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}var m=(a=o("ConstUriUtils").getUri(u))==null?void 0:a.getDomain();if(c==null)return n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}}),f(m!=null?m:u,u);n==null||n.addPoint("get_image_blob_response_start");var p=yield o("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:n,xmaData:c}),_=null;if(p!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(p.type)){var g=new File([p],"preview",{type:p.type});_=t.URL.createObjectURL(g)}return n==null||n.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:_==null}}),n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers.extends({iframeMediaURL:_},c,{title:(i=c.title)!=null?i:m,url:(l=c.url)!=null?l:u})}}),_.apply(this,arguments)}function f(e,t){return{dataType:r("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:e,url:t}}}l.default=u}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWDraftMessages.react","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","justknobx","react","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("justknobx")._("3119");function c(e){var t=e.editor,n=e.isPreviewThread,a=e.subthreadParentMessageId,i=e.threadKey,l=e.threadType,c=o("MWDraftMessages.react").useMWUpdateDraft(),d=u,m=r("useMAWFetchAndWriteLinkPreviewXMATableData")({threadKey:i,threadType:l}),p=r("useMAWDeleteLinkPreviewXMATableData")(l),_=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),f=s(function(e){n&&_!=null?_.current=e:(c==null||c(i,e,a),o("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:p,fetchAndWriteLinkPreviewXMA:m,message:e,subthreadParentMessageId:a,threadKey:i,threadType:l}))},[c,p,m,n,_,i,l,a]);o("Int64Hooks").useEffectInt64(function(){t.registerUpdateListener(r("CometDebounce")(function(e){var t=e.editorState,n=t.read(function(){return o("LexicalText").$rootTextContent()});if(r("isStringNullOrEmpty")(n)){f(n);return}f(n)},{wait:d}))},[d,t,f])}l.default=c}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(e){var t,n=e.editor,a=e.isPreviewThread,i=a===void 0?!1:a,l=e.isQuickchat,u=l===void 0?!1:l,c=e.subthreadParentMessageId,d=e.threadKey,m=e.threadType,p=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),_=s(r("MWPreloadedText")),f=_.text!=null?_.text:p!=null?p.current:(t=o("MWPComposerDraftMessages").getDraftMessage(d,c))==null?void 0:t.messageText;return r("useMWLSSaveDrafts")({editor:n,isPreviewThread:i,subthreadParentMessageId:c,threadKey:d,threadType:m}),r("usePrepopulateLexicalEditor")(n,u?void 0:f,!0),f}l.default=u}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useRef,d=250;function m(e,t){var n=c(null);u(function(){return e.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(a){var i=a;if(o("MLCKeyBindingUtil").hasCommandModifier(i)&&r("gkx")("13931")&&!r("gkx")("23402"))return!1;if(i!=null&&!i.shiftKey&&!i.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(i))){i.preventDefault();var l=n.current;return l!=null&&i.timeStamp-l<=d&&r("gkx")("15485")?(n.current=i.timeStamp,!0):(e.dispatchCommand(o("MLCInstrumentationCommands").COMMIT_COMMAND,"create"),t(),n.current=i.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},[e,t])}l.default=m}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){return e.getEditorState().read(o("LexicalText").$isRootTextContentEmptyCurry(e.isComposing()))}function _(e){var t=m(function(){return!p(e)}),n=t[0],r=t[1];return c(function(){return e.registerUpdateListener(function(){r(!p(e))})},[e]),n}function f(e){"use no forget";var t=e.editor,n=e.initialValue,r=d(n);return{useHasText:u(function(){var e,n=d((e=r.current)!=null?e:!1);return c(function(){n.current=!1},[]),_(t)||n.current},[t])}}function g(e){var t,n=e.editor,r=e.initialValue,o=d(r),a=d((t=o.current)!=null?t:!1);return c(function(){a.current=!1},[]),_(n)||a.current}l.useMWXLexicalHasText_DEPRECATED=f,l.useMWXLexicalHasText=g}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo;function d(e,t,n){var a=t!=null?t:!1;return u(function(){if(a){var t=o("Run").onUnload(function(){return e(!1)});return function(){return t.remove()}}},[a,e]),c(function(){var t={contents:!1},o=r("debounce")(function(){if(!t.contents)return e(!1)},n|0),a=r("CometThrottle")(function(){return e(!0)},3e3,{leading:!0,trailing:!1}),i=function(){e(!1),t.contents=!0},l=function(){return a(),o()};return[l,i]},[e,n])}l.useLatch=d}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=e.editor,n=e.onTypingStateChanged,r=o("MWXUseLatch").useLatch(n,!0,5e3),a=r[0],i=r[1],l=c("");return u(function(){var e=function(t){var e=t.editorState.read(function(){return o("LexicalText").$rootTextContent()});if(e!==l.current)return l.current=e,e===""?i():a()};return t.registerUpdateListener(e)},[a,i,t]),{}}l.default=d}),98);
__d("useMWPComposerEditor",["Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWDraftMessages.react","MWFBLogger","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","cr:7101","emptyFunction","mwpLexicalCreateEditor","react","useIsMessengerPWA","useLexicalInitializeEditor__DEPRECATED","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useMemo,m=s.useRef;function p(e){}var _=n("cr:7101")==null?p:n("cr:7101").useMWComposerKeyCommandFocusRegister,f=[],g=function(t){return t.read(function(){return o("LexicalText").$rootTextContent()})};function h(e){var t=e.customizedRanges,n=e.getTextFromEditorState,a=n===void 0?g:n,i=e.isPreviewThread,l=i===void 0?!1:i,s=e.isSendDisabled,p=s===void 0?!1:s,h=e.mediaStaging,y=h===void 0?f:h,C=e.onSendMessage,b=e.onTypingStateChanged,v=e.threadKey,S=e.clearFormatAfterSend,R=e.isQuickchat,L=R===void 0?!1:R,E=e.focusEditorDelayed,k=e.editorNodes,I=e.editorTheme,T=e.threadType,D=e.composerEntrypointForLogging,x=e.subthreadParentMessageId,$=m(null),P=d(function(){return r("mwpLexicalCreateEditor")({nodes:k,theme:I})},[k,I]),N=y.length>0;r("useLexicalInitializeEditor__DEPRECATED")(P),r("useMWPLexicalClearEditor")(P,S),r("useMWPComposerAutoFocus")({editor:P,focusEditorDelayed:E,hasUnsentAttachments:N,isPreviewThread:l,isQuickchat:L});var M=r("useMWPComposerEditorDraftText")({editor:P,isPreviewThread:l,isQuickchat:L,subthreadParentMessageId:x,threadKey:v,threadType:T}),w=o("MWDraftMessages.react").useMWUpdateDraft(),A=o("useMWXLexicalHasText").useMWXLexicalHasText({editor:P,initialValue:M!=null&&M!==""}),F=A||N,O=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),B=O.hasContentRef;c(function(){B!=null&&(B.current=A)},[A,B]),r("useMWXLexicalOnTypingChanged")({editor:P,onTypingStateChanged:b});var W=u(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),q=W.onMessageSendAttempt,U=r("useMWIsOffline")(),V=r("useIsMessengerPWA")(),H=U&&V,G=o("Int64Hooks").useCallbackInt64(function(){var e;if(!H){var n=(e=o("MWPComposerDraftMessages").getDraftMessage(v,x))==null?void 0:e.id;if(o("MWPComposerDraftMessages").updateDraftMessage({message:null,subthreadParentMessageId:x,threadKey:v}),w==null||w(v,null,x),q==null||q(F),!!F){o("MWChatMessagesOnChatTabLoadTracker").trackSendFor(v),o("MWFBLogger").MWLogger().tags(["MWPComposerEditor","Composer"]).debug("Calling onSendMessage");var i=t!=null?t(P,o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(v,x)):r("MWV2ChatComposerGetViewContent").getRanges(P),l=P.getEditorState(),s=a(l);P.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND),C(s,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,D),P.focus()}}},[w,H,q,F,P,v,t,a,C,D,x]),z=p?r("emptyFunction"):G;return r("useMWPLexicalCommitMessageOnEnter")(P,z),_($.current),{editor:P,editorElementRef:$,hasStuffToSend:F,sendMessage:z}}l.default=h}),98);
__d("MWMediaManagerFileSizeLimit",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=25;function s(t){return t?r("justknobx")._("3563"):e}l.getMWMaxAttachmentSizeInMB=s}),98);
__d("useFileDragEvents",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t,n){t===void 0&&(t=document.documentElement);var r=d(0),o=m(!1),a=o[0],i=o[1],l=u(function(t){if(i(!1),(n==null||n(t))&&e!=null){t.preventDefault();var o=t.dataTransfer;if(o!=null){var a=o.files;e(a,t)!==!1&&t.stopPropagation()}else t.stopPropagation();r.current=0}},[e,n]),s=u(function(e){var t,o=(t=e.dataTransfer)==null?void 0:t.files;(n==null||n(e))&&o!=null&&(e.preventDefault(),r.current++,i(!0))},[n]),p=u(function(e){var t,o=(t=e.dataTransfer)==null?void 0:t.files;(n==null||n(e))&&o!=null&&--r.current===0&&i(!1)},[n]),_=u(function(e){var t,n=(t=e.dataTransfer)==null?void 0:t.files;e.dataTransfer!=null&&(e.dataTransfer.dropEffect="copy"),n!=null&&e.preventDefault()},[]);return c(function(){if(t!=null)return t.addEventListener("drop",l,!0),t.addEventListener("dragenter",s,!0),t.addEventListener("dragleave",p,!0),t.addEventListener("dragover",_,!0),function(){t.removeEventListener("drop",l,!0),t.removeEventListener("dragenter",s,!0),t.removeEventListener("dragleave",p,!0),t.removeEventListener("dragover",_,!0)}},[s,p,_,l,t]),a}l.default=p}),98);
__d("MWV2FileDropzone.react",["fbt","FBLogger","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMediaManagerFileSizeLimit","MWXTextPairing.react","cometIsMimeTypeForMedia","promiseDone","react","stylex","useFileDragEvents","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.createContext,_=m.useCallback,f=m.useRef,g=p({current:{enabled:!0,handler:null}});function h(e){var t=e.children,n=e.fileUploadHandlerConfigRef,r=g.Provider;return d.jsx(r,{value:n,children:t})}h.displayName=h.name+" [from "+i.id+"]";var y={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function C(e){if(e==null)return[];var t=e.dataTransfer;return t==null?[]:t.types}function b(e){switch(e){case 0:return;case 1:return s._(/*BTDS*/"Certain file types are unsupported in this chat.").toString();default:return s._(/*BTDS*/"Some files are unsupported and cannot be shared to this chat").toString()}}function v(e,t){var n=b(t);n!=null&&r("promiseDone")(e.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:n,errorTitleText:n})},"readwrite",void 0,void 0,i.id+":122"))}function S(e){var t=e.type;return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(t)||o("cometIsMimeTypeForMedia").isMimeTypeForVideo(t)?!0:t.startsWith("audio/")}var R=new Set(["text/plain","text/html","text/uri-list"]);function L(t){var n=t.children,a=t.getMaxAttachmentSizeInMBFunc,i=a===void 0?o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB:a,l=t.isDisabled,c=t.isMediaOnly,m=t.thread,p=t.xstyle,g=f({enabled:!1,handler:null}),b=f(null),L=(e||(e=r("useReStore")))(),E=m!=null?(o("MWCMThreadTypes.react").isBroadcastThread(m.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(m.threadType)||o("LSMessagingThreadTypeUtil").isAiBot(m.threadType))&&!o("LSThreadBitOffset").has(56,m):!1,k=m!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType):!1,I=l===!0||E,T=function(t){var e;return((e=g.current)==null?void 0:e.handler)==null?!1:!C(t).some(function(e){return R.has(e)})},D=r("useFileDragEvents")(function(){return!1},void 0,T),x=_(function(e){var t,n;if(((t=g.current)==null?void 0:t.enabled)!==!1){var o=(n=g.current)==null?void 0:n.handler;if(o==null){E||r("FBLogger")("messenger_web_media").mustfix(g.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file");return}var a=Array.from(e),i=c?a.filter(S):a;a.length!==i.length&&v(L,a.length),!I&&i.length!==0&&o(i)}},[c,I,E,L]);return r("useFileDragEvents")(x,b.current,function(e){return!0}),d.jsxs("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(y.root,p!=null?p:!1),{ref:b,children:[d.jsx(h,{fileUploadHandlerConfigRef:g,children:n}),!I&&D?d.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy x1vjfegm",children:d.jsx(r("MWXTextPairing.react"),{body:s._(/*BTDS*/"max {fileSizeLimit} MB",[s._param("fileSizeLimit",String(i(k)))]),bodyColor:"secondary",headline:s._(/*BTDS*/"Drop files here"),level:4,textAlign:"center"})}):null]}))}L.displayName=L.name+" [from "+i.id+"]",l.mWV2FileDropzoneContext=g,l.MWV2FileDropzone=L}),226);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.messaging_privacy_settings).getKeyRange(a)},[n,a],i.id+":22");return l==null?r("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(t=l==null?void 0:l.e2eeHdMediaEnabled)!=null?t:!1}l.default=s}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){var t=u(o("MWV2FileDropzone.react").mWV2FileDropzoneContext),n=r("useMWIsHDMediaEnabled")();c(function(){var r={enabled:!0,handler:function(r){return e(r,n)}};return t.current=r,function(){r.enabled=!1,r.handler=null}},[t,e,n])}l.default=d}),98);
__d("LSContactListConversionAttributionStore",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t){return t!=null?e.get(t):null}function s(t,n){t!=null&&e.set(t,n)}function u(t){t!=null&&e.delete(t)}i.getAttribution=l,i.setAttribution=s,i.resetAttribution=u}),66);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s=r("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),c=s("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),d=s("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=s("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),p=s("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),_=s("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),f=s("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),g=s("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function h(e){switch(e.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function y(t,n,a){m.onReady(function(i){i.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:a,other_user_id:n,request_id:void 0,thread_folder:h(t),thread_id:a!=null?a:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function C(t,n){f.onReady(function(a){a.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:n,request_id:void 0,thread_folder:h(t),thread_id:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function b(t,n,a,i){_.onReady(function(l){l.log(function(){return{action:n,extra_data_map:void 0,group_thread_id:i,other_user_id:a,request_id:void 0,thread_folder:h(t),thread_id:i!=null?i:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function v(t,n,a,i){p.onReady(function(l){l.log(function(){return{action:n,extra_data_map:void 0,group_thread_id:i,other_user_id:a,request_id:void 0,thread_folder:h(t),thread_id:i!=null?i:(e||(e=o("I64"))).to_string(t.threadKey),thread_type:r("coerceMessagingThreadTypeToLSThreadType")(t.threadType)}})})}function S(e,t){g.onReady(function(n){n.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:e,folder:t,request_id:void 0}})})}function R(e,t,n,r,o){d.onReady(function(a){a.log(function(){return{action:r,actioned_thread_count:t.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:n.toString(),entry_point:e,folder:o,request_id:void 0}})})}function L(e,t,n,r,o){u.onReady(function(a){a.log(function(){return{action:r,actioned_thread_count:t.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:n.toString(),entry_point:e,folder:o,request_id:void 0}})})}function E(e,t,n){c.onReady(function(r){r.log(function(){return{action:t,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:e,folder:n,request_id:void 0}})})}l.logMessageRequestInfoShown=y,l.logDenialOptionsTapped=C,l.logActionTapped=b,l.logActionConfirmed=v,l.logMessageRequestsView=S,l.logMessageRequestsBulkActionTapped=R,l.logMessageRequestsBulkActionConfirmed=L,l.logMessageRequestsBulkActionEdit=E}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function c(t,n){var a=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),u=(e||(e=o("I64"))).to_int32(n!=null?n:(e||(e=o("I64"))).zero),c=u===1||u===15,d=o("ReQLSuspense").useArray(function(){return c&&t!=null?o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t):o("ReQL").empty()},[a,t,c],i.id+":72");if(t==null)return null;if(c){var m=d.map(function(t){return(e||(e=o("I64"))).to_string(t.contactId)}).filter(function(t){return t!==(e||(e=o("I64"))).to_string(l)})[0];return m}else return(e||(e=o("I64"))).to_string(t)}l.EventTypeEnum=u,l.useGetUniqueThreadID=c}),98);
__d("MessengerInboxTrayConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3905"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3476"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayConversionClickEventFalcoEvent","MessengerInboxTrayEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function s(e,t){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION,t)}function u(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function c(e,t,n){var a=e.id,i=e.isOnline,l=e.messageThreadId,s=e.position,u=e.storyIds,c=e.surface,d=e.targetType,m=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)m="one_px_impression";else return;var p={event_type:m,surface:{entry_point:c.entry_point,major_surface:c.major_surface,minor_surface:c.minor_surface},target:{ranking:{absolute_position:s!=null?s.toString():"-1"},type:d,user:{id:a}}};if(i!=null&&(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{presence:{status:i?1:0}})})),(u==null?void 0:u.firstCardId)!=null&&(u==null?void 0:u.bucketId)!=null){var _,f=atob(u.firstCardId),g=null;f!=null&&f.includes("S:_ISC:")&&(g=f.split("S:_ISC:")[1]),p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{story:{bucket_id:(_=u.bucketId)!=null?_:null,first_card_id:g!=null?g:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerInboxTrayEventFalcoEvent").log(function(){return p}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{button:n!=null?{type:n}:void 0,message_thread:l!=null?{consistent_thread_fbid:l}:void 0})}),r("MessengerInboxTrayConversionClickEventFalcoEvent").log(function(){return p})):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerInboxTrayEventFalcoEvent").log(function(){return p})}l.logClickEvent=e,l.logConversionClickEvent=s,l.logImpressionEvent=u}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2305"),s=o("FalcoLoggerInternal").create("messenger_sidebar_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2306"),s=o("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2307"),s=o("FalcoLoggerInternal").create("messenger_sidebar_impression_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e={scrollMargin:-33};function s(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function u(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function c(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function d(e,t){var n=e.id,a=e.isOnline,i=e.position,l=e.storyIds,s=e.surface,u=e.targetType,c=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)c="vpvd_impression";else return;var d={event_type:c,surface:{entry_point:s.entry_point,major_surface:s.major_surface,minor_surface:s.minor_surface},target:{ranking:{absolute_position:i!=null?i.toString():"-1"},type:u,user:{id:n}}};if(a!=null&&(d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{presence:{status:a?1:0}})})),(l==null?void 0:l.firstCardId)!=null&&(l==null?void 0:l.bucketId)!=null){var m,p=atob(l.firstCardId),_=null;p!=null&&p.includes("S:_ISC:")&&(_=p.split("S:_ISC:")[1]),d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{story:{bucket_id:(m=l.bucketId)!=null?m:null,first_card_id:_!=null?_:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerSidebarClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?r("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerSidebarImpressionEventFalcoEvent").log(function(){return d})}l.IMPRESSION_LOG_OPTIONS=e,l.logClickEvent=s,l.logConversionClickEvent=u,l.logImpressionEvent=c}),98);
__d("useIGDChatTabsMessagingSource.react",["I64","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","MWLSThreadDisplayContext","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=o("IGDChatTabsStateContext.react").useIGDChatTabsState();if(r==="ChatTab"){var i,l;n[0]!==(a==null?void 0:a.openedTabs)||n[1]!==t?(l=a==null?void 0:a.openedTabs.get((e||(e=o("I64"))).to_string(t)),n[0]=a==null?void 0:a.openedTabs,n[1]=t,n[2]=l):l=n[2];var s=l;return(i=s==null?void 0:s.source)!=null?i:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.Unknown}return null}l.default=s}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=r("useReStore")))();return o("Int64Hooks").useCallbackInt64(function(){r("promiseDone")(n.runInTransaction(function(e){return r("LSOptimisticAcceptMessageRequestStoredProcedure")(r("LSFactory")(e),{threadKey:t})},"readwrite",void 0,void 0,i.id+":25"))},[n,t])}l.default=s}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mw_sent_message";function u(){return r("justknobx")._("1630")}function c(){(e||(e=r("WebStorage"))).setItemGuarded(e.getLocalStorage(),s,String(Date.now()))}function d(){var t=(e||(e=r("WebStorage"))).getLocalStorage();return Date.now()-Number(t==null?void 0:t.getItem(s))<u()}l.sentMessage=c,l.hasSentMessagesRecently=d}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=a.isCommunityEvent,l=a.isMessageRequest,s=a.source,u=a.threadType,c=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(t.getTraceId());o("MWChatInteraction").set(n,c);var d={entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(s),is_community_event:i===!0?"true":"false",is_message_request:l===!0?"true":"false",thread_type:u==null?"unknown":(e||(e=o("I64"))).to_string(u)};return Object.entries(d).forEach(function(e){var n=e[0],r=e[1];t.addMetadata(n,String(r))}),o("MessengerIntent").sentMessage(),t.onComplete(function(){delete o("MWChatInteraction").interactions[n]})}l.logSentHeroInteraction=s}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedS2SBaseAnnotations","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","gkx","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){o("sendToSentQPLLogger").markSendToSentPoint(e,"received_successful_server_ack"),o("sendToSentQPLLogger").markSendToSentSuccess(e),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function c(e,t){o("sendToSentQPLLogger").markSendToSentFail(e,"send_message_server_error",r("err")("send_message_server_error")),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function d(e){o("sendToSentQPLLogger").markSendToSentPoint(e,"sending_message")}function m(t){var a=t.db,i=t.isCommunityEvent,l=t.isFirstMessage,m=l===void 0?!1:l,p=t.isMessageRequest,_=t.isWorkChat,f=_===void 0?!1:_,g=t.s2sInstanceKey,h=t.sendFirstMessageSeparately,y=h===void 0?!1:h,C=t.source,b=t.threadType,v=t.traceSendMessageAPI,S={isCommunityEvent:i,isMessageRequest:p,mwVersion:o("MWVersion").v2,source:C,threadType:b};return function(t){o("MWLSLogSend").logSentHeroInteraction(v,t,S),o("MWChatInteraction").set(o("MWChatInteraction").s2sKey(t),String(g)),o("sendToSentQPLLogger").addSendToSentAnnotations(g,{bool:{subscription_points_gk:!0},string:{entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(C),is_community_event:i===!0?"true":"false",is_first_message:m===!0?"true":"false",is_message_request:p===!0?"true":"false",offline_threading_id:f&&r("gkx")("9326")?t:null,send_first_message_separately:y===!0?"true":"false",thread_type:b==null?"unknown":(e||(e=o("I64"))).to_string(b)}});var l=!1,_=o("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(t),h=o("ReQLSubscribe").subscribeToFirst(_,function(n){n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(2))?(l=!0,u(g,t),h()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(4))?(l=!0,c(g,t),h()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(1))&&d(g)});window.setTimeout(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!l){var e=yield o("ReQL").firstAsync(_);l||o("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{status_after_10s:e?""+(s||(s=o("LSIntEnum"))).toNumber(e.sendStatusV2):"none"}})}}),1e4),window.setTimeout(function(){h()},12e4)}}l.default=m}),98);
__d("MessengerSurfaceType",[],(function(t,n,r,o,a,i){"use strict";var e="MESSENGER",l="WORK_QUIKCHAT",s="WORK_CHAT",u="WORKROOMS",c="WORKROOMS_IN_CALL",d="WORK_MEETINGS_IN_CALL",m="OTHER";i.messenger=e,i.workQuickchat=l,i.workChat=s,i.workrooms=u,i.workroomsInCall=c,i.workMeetingsInCall=d,i.other=m}),66);
__d("WorkGalahadMWChatTabContext.react",["MessengerSurfaceType","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({surface:o("MessengerSurfaceType").messenger});l.context=u}),98);
__d("useEnabledForWorkchatOnly",["MessengerSurfaceType","WorkGalahadMWChatTabContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(){var e=u(o("WorkGalahadMWChatTabContext.react").context);return c(function(){return e.surface===o("MessengerSurfaceType").workQuickchat||e.surface===o("MessengerSurfaceType").workChat||e.surface===o("MessengerSurfaceType").workMeetingsInCall},[e])}l.default=d}),98);
__d("mapSlideMessageSendStatusToLSStatusV2",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e==="OPTIMISTIC"?1:e==="AUTHORITATIVE"?2:e==="ERROR"?t===!0?5:4:e==="UNKNOWN"?2:e==null?0:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}i.default=e}),66);
__d("useIGDReplyOnLS",["I64","IGDReplyContext.react","LSIntEnum","MWPReplyContext.react","mapSlideMessageSendStatusToLSStatusV2","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(){var e=o("react-compiler-runtime").c(2),t=c(o("MWPReplyContext.react").MWPReplyContext),n=t.reply,r=o("IGDReplyContext.react").useIGDReplyContext();if(n==null&&r==null)return null;if(n!=null)return n;var a;return e[0]!==r?(a=m(r),e[0]=r,e[1]=a):a=e[1],a}function m(e){var t,n,a;return e==null?null:{isReported:(t=e.message.is_reported)!=null?t:!1,messageId:e.message.message_id,offlineThreadingId:e.message.offline_threading_id,sendStatusV2:(s||(s=o("LSIntEnum"))).ofNumber(r("mapSlideMessageSendStatusToLSStatusV2")(e.message.client__send_status)),text:(n=(a=e.message.content)==null?void 0:a.text_body)!=null?n:"",threadKey:(u||(u=o("I64"))).of_string(e.message.thread_fbid),timestampMs:u.of_string(e.message.timestamp_ms)}}l.default=d}),98);
__d("useMWLSDefaultThreadSourceWithResetBasedOnThreadType",["LSThreadAttributionTypeUtil","MWGenAIUtils","react","useLSMessagingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=r("useLSMessagingSource")();return s(function(t){return o("MWGenAIUtils").isMetaAIThread(t)?o("LSThreadAttributionTypeUtil").getSourceWithoutReset(t,e):o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,e)},[e])}l.default=u}),98);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","asyncToGeneratorRuntime","isInstamadillo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return t?u(e,t):n()}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(!r("isInstamadillo")())return{openEb:!1,pluginType:void 0};var a=yield t.messages.index("messageId").get(n.messageId);if(!o("IGDInstamadilloUtils").isInstamadilloMessage(a))return{openEb:!1,pluginType:void 0};var i=yield t.e2ee_igMessageAuxiliaryInfo.get(n.messageId),l=!!(i!=null&&i.openEb);return{openEb:l,pluginType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO)}}),c.apply(this,arguments)}l.IGDGetMessagePluginInfo=s}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function u(t,n,a,i,l,u,c,d,m,p,_,f){var g=p!=null&&(e||(e=o("LSIntEnum"))).unwrapIntEnum(p)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO,h=g?1:0;s.onReady(function(e){return e.log(t,{actor:i,additionalTags:g?["armadillo_express"]:void 0,attachmentFbids:u,attachmentType:d,backend:h,ephemeralDurationInSec:f,hasReply:m,isInstamadilloTTLC:_,offlineThreadingId:l,sendType:0,source:c,threadKey:n,threadType:a})})}l.log=u}),98);
__d("createOptimisticTextSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"You").toString();function u(t){var n=t.offlineThreadingId,r=t.optimisticMessageId,o=t.repliedToMessageId,a=t.senderFbid,i=t.text,l=t.threadFbid,s=t.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:s,content:{__isSlideMessageContent:"SlideMessageText",__typename:"SlideMessageText",text_body:i},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:e+": "+i,is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:i,thread_fbid:l,timestamp_ms:s};return u}l.default=u}),226);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","ChatGeminiDisplayContextProvider.react","CometRelay","I64","IGDGetMessagePluginInfo","IGDReplyContext.react","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","ODS","Promise","ReQL","ReQLSuspense","WATimeUtils","asyncToGeneratorRuntime","createOptimisticTextSlideMessage","gkx","isMWBumpMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=(d||(d=o("react"))).useContext;function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){n!=null&&r("gkx")("23995")&&(yield r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(m||(m=o("I64"))).minus_one,tags:t}))}),f.apply(this,arguments)}function g(t){var a=t.authorityLevel,l=t.disableMarkRead,d=t.ephemeralDurationInSec,f=t.onOptimisticMessageCreation,g=t.skipUrlPreviewGen,h=t.threadKey,y=t.threadType,C=o("MWPActor.react").useActor(),b=p(o("MWPReplyContext.react").MWPReplyContext),v=b.reply,S=p(o("IGDReplyContext.react").IGDReplyContext),R=o("CometRelay").useRelayEnvironment(),L=r("useLSMessagingInitiatingSource")(),E=(s||(s=r("useReStore")))(),k=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),I=k.sideChatMainMessageId,T=o("ReQLSuspense").useFirst(function(){return(v==null?void 0:v.messageId)==null?o("ReQL").empty():o("ReQL").fromTableAscending(E.tables.messages.index("messageId")).getKeyRange(v.messageId)},[v==null?void 0:v.messageId,E.tables.messages],i.id+":149"),D=r("isMWBumpMessage")(T==null?void 0:T.replyType)?T==null?void 0:T.replySourceId:v==null?void 0:v.messageId,x=S==null?void 0:S.message.message_id;return o("Int64Hooks").useCallbackInt64(function(t,i){var s=i.accessibilityLabel,p=i.afterSend,b=i.attributionAppId,E=i.dataclassParams,k=i.dataTraceId,T=i.externalAttachmentUrl,$=i.hotEmojiSize,P=i.logSendPoint,N=i.mentionData,M=i.messageText,w=i.messageTypeParams,A=i.multitabEnv,F=i.optimisticAttachmentPreview,O=i.platformToken,B=i.pluginType,W=i.profileRanges,q=i.richTextFormatType,U=i.s2sInstanceKey,V=i.setupS2SLogging,H=i.source,G=i.sticker,z=i.traceSendMessageAPI,j=i.transaction;return K(j);function K(e){return Q.apply(this,arguments)}function Q(){return Q=n("asyncToGeneratorRuntime").asyncToGenerator(function*(i){var K=r("LSFactory")(i),Q=r("gkx")("24135");yield _(i,(m||(m=o("I64"))).to_string(h),k);var X=w.hasAttachment,Y=X===void 0?!1:X,J=w.hasGif,Z=J===void 0?!1:J,ee=w.hasHotEmoji,te=ee===void 0?!1:ee,ne=w.hasLinks,re=ne===void 0?!1:ne,oe=w.hasSticker,ae=oe===void 0?!1:oe,ie=w.hasText,le=ie===void 0?!1:ie,se=yield i.threads.get(h),ue=re?o("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(se):o("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(se),ce=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(i,v,function(){return(e||(e=n("Promise"))).resolve({openEb:ue,pluginType:ue?(u||(u=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):B})}),de=ce.openEb,me=ce.pluginType,pe=yield r("LSOptimisticSendMessageV2StoredProcedure")(K,{dataclassParams:E!=null?JSON.stringify(E):void 0,extraSendMessageParams:o("LSShape").ofRecord({attribution_app_id:b,calculate_denormalizations:!1,data_trace_id:k!=null?k:void 0,ephemeral_duration_in_sec:d,external_attachment_url:T,hot_emoji_size:$,initiating_source:L,is_exclusive_to_subthread:I!=null,mark_read:l===!0?!1:(m||(m=o("I64"))).ge(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),mention_data:N,multitab_env:A,openEb:de,optimistic_attachment_preview:F,platform_token:O,plugin_type:me,power_up_style:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),qpl_instance_key:U.toString(),reply_source_id:D!=null?D:x,reply_source_type:v!=null||S!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:v!=null||S!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:q,skip_url_preview_gen:g,source:H,sticker_id:G==null?void 0:G.stickerId,subthread_parent_message_id:I!=null?I:void 0,text_has_links:re&&Q}),mailboxType:u.ofNumber(r("LSMailboxType").MESSENGER),metadataDataclass:JSON.stringify({media_accessibility_metadata:{alt_text:Z?s:null}}),senderId:C,text:M,threadKey:h,threadType:y});(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","optimistic_message_created");var _e=pe[0],fe=se==null?void 0:se.consistentThreadFbid;if(se!=null&&(m||(m=o("I64"))).equal(se.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&fe==null&&(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","consistent_thread_fbid_null_for_authoritative_thread"),fe!=null&&M!=null){P("create_igd_relay_optimistic_message");var ge=o("WATimeUtils").millisTime(),he=r("createOptimisticTextSlideMessage")({offlineThreadingId:_e,optimisticMessageId:"mid.$"+_e,repliedToMessageId:x,senderFbid:(m||(m=o("I64"))).to_string(C),text:M,threadFbid:m.to_string(fe),timestampMs:ge.toString()});r("IGDWriteOptimisticRelayMessage")(R,he),(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","igd_relay_optimistic_message_created")}return P("create_optimistic_message_end"),o("MWPSendMessageLogger").log(t,h,y,C,void 0,[],H,r("MessagingAttachmentType").NONE,v!=null||S!=null,me,ue,d),(!Y||Z||ae||te)&&(V(_e),z.addAnnotationBoolean("is_instamadillo_ttlc",ue&&de===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(U,{bool:{is_instamadillo_ttlc:ue&&de===!0}})),f!=null&&f({TAG:0,hasHotEmoji:te,hasLink:re,hasMention:W!=null&&W.length>0,isGIF:Z,isReply:!!(v&&v.messageId!==""),isSticker:ae,isText:le,offlineThreadingId:pe[0]}),p!=null&&(yield p(j)),pe}),Q.apply(this,arguments)}},[h,v,d,L,I,l,a,D,x,S,g,C,y,f,R])}l.default=g}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.disableMarkRead,n=e.ephemeralDurationInSec,o=e.onOptimisticMessageCreation,a=e.skipUrlPreviewGen,i=e.thread;return r("useMWV2SendOpenMessageImplShared")({authorityLevel:i.authorityLevel,disableMarkRead:t,ephemeralDurationInSec:n,onOptimisticMessageCreation:o,skipUrlPreviewGen:a,threadKey:i.threadKey,threadType:i.threadType})}l.default=e}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=o("I64"))).to_int32(t);switch(n){case r("MessagingAttachmentType").NONE:return 1;case r("MessagingAttachmentType").STICKER:return 4;case r("MessagingAttachmentType").IMAGE:return 8;case r("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case r("MessagingAttachmentType").VIDEO:return 10;case r("MessagingAttachmentType").AUDIO:return 11;case r("MessagingAttachmentType").FILE:return 9;case r("MessagingAttachmentType").XMA:return 13;case r("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case r("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case r("MessagingAttachmentType").SELFIE_STICKER:return 22;case r("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}l.convertI64ToAttachmentType=s}),98);
__d("createOptimisticImageSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.image,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageImageContent",__typename:"SlideMessageImageContent",attachments:[{__isSlideMessagingMediaAttachment:"XFBSlideAttachment",__typename:"XFBSlideAttachment",attachment_cdn_fallback_url:t.url,attachment_cdn_url:t.url,attachment_fbid:null,attachment_type:2,preview_cdn_fallback_url:t.url,preview_cdn_url:t.url,preview_height:t.height,preview_width:t.width}]},content_type:"IMAGES",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a photo").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("createOptimisticVideoSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.offlineThreadingId,n=e.optimisticMessageId,r=e.repliedToMessageId,o=e.senderFbid,a=e.threadFbid,i=e.timestampMs,l=e.video,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:i,content:{__isSlideMessageContent:"SlideMessageVideosContent",__typename:"SlideMessageVideosContent",videos:[{__typename:"XFBSlideVideoAttachment",attachment_cdn_url:l.url,attachment_fbid:null,attachment_type:4,preview_cdn_url:l.url,preview_height:l.height,preview_width:l.width}]},content_type:"VIDEOS",id:n,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a video").toString(),is_reported:!1,message_id:n,offline_threading_id:t,reactions:[],replied_to_message:null,replied_to_message_id:r,sender_fbid:o,text_body:"",thread_fbid:a,timestamp_ms:i};return u}l.default=e}),226);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(e||(e=o("I64"))).zero,initTimestampMs:o("MAWTimeUtils").toTimestamp(o("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:n,traceType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").TASK)})}function c(t,n,a,i){return u(t,n).then(function(){return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:n,syncChannel:(e||(e=o("I64"))).neg_one,tags:e.to_string(a)+","+e.to_string(i)})})}l.logMediaSendStart=c}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","Promise","asyncToGeneratorRuntime","gkx","updateAndFlushLSDataTrace"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n,r){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){t!=null&&(yield o("MWMediaTraceHandler").logMediaSendStart(e,t,n,(s||(s=o("I64"))).of_int32(r)))}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){n!=null&&r("gkx")("23995")&&(yield r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(s||(s=o("I64"))).minus_one,tags:t}))}),m.apply(this,arguments)}function p(e,t,n,r,o){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,c){var m=r("LSGenerateTraceId")(),p=c[0],_=o("MessagingLoggingUtils").convertI64ToAttachmentType(p.attachmentType);yield u(t,m,(s||(s=o("I64"))).of_int32(l.length),_);var f=0,g=l.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){yield r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:e.attachment_type,inMessageIndex:(s||(s=o("I64"))).of_int32(n),isSecure:!1,offlineAttachmentId:e.attachment_fbid,offlineThreadingId:i,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}),yield o("MWPOpenComposerUtils").updateMediaStaging(t,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})});var l=c.find(function(t){return t.offlineAttachmentId===e.offline_attachment_id});if(l!=null){var u=l.fbid;u!=null&&(yield r("LSMarkSubJobCompletedV2StoredProcedure")(r("LSFactory")(t),{fbid:u,offlineAttachmentId:e.attachment_fbid}),yield o("MWPOpenComposerUtils").deleteMediaStaging(t,e.attachment_fbid),yield o("MWPOpenComposerUtils").updateAttachment(t,a,i,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{attachmentFbid:(s||(s=o("I64"))).to_string(u)})}),f++)}r("gkx")("24136")&&(yield o("MWPOpenComposerUtils").updateAttachment(t,a,i,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{previewHeight:void 0,previewWidth:void 0})}))});return function(t,n){return e.apply(this,arguments)}})());return yield(e||(e=n("Promise"))).allSettled(g),yield o("MWPOpenComposerUtils").resumeSendJob(r("LSFactory")(t),i,m),yield d(t,s.to_string(a),m),yield r("updateAndFlushLSDataTrace")(t,m),{sentWithAllFilesUploaded:f===l.length}}),_.apply(this,arguments)}l.default=p}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","Promise","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){r("promiseDone")(r("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:i}));var l=a.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("MWPOpenComposerUtils").updateMediaStaging(t,e.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})})});return function(t){return e.apply(this,arguments)}})());yield(e||(e=n("Promise"))).allSettled(l)}),u.apply(this,arguments)}l.default=s}),98);
__d("useMWV2SendOpenStagedMedia",["CometRelay","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMsgMediaTypeLogUtils","MWPActor.react","MWPComposerMediaUploadUtil","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","MessengerWebUXLogger","Promise","WATimeUtils","asyncToGeneratorRuntime","createOptimisticImageSlideMessage","createOptimisticVideoSlideMessage","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,a,i,l){var c=o("CometRelay").useRelayEnvironment(),m=o("MWPActor.react").useActor(),p=r("useIGDReplyOnLS")(),_=r("useLSMessagingInitiatingSource")(),f=o("LSThreadBitOffset").has(40,i),g=r("MessengerWebUXLogger").useInteractionLogger();return o("Int64Hooks").useCallbackInt64((function(){var h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(h,y){var C=y.isFirstMessage,b=C===void 0?!1:C,v=y.isFirstMessageText,S=y.mediaStagings,R=y.metadataDataclass,L=y.pluginType,E=y.s2sInstanceKey,k=y.sendFirstMessageSeparately,I=k===void 0?!1:k,T=y.setupS2SLogging,D=y.source,x=y.traceSendMessageAPI,$=y.transaction;if(S.length!==0){var P=!1;if(S.length===1){var N=S[0];(u||(u=o("I64"))).to_int32(N.attachmentType)===r("MessagingAttachmentType").IMAGE?P=o("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(i):(u||(u=o("I64"))).to_int32(N.attachmentType)===r("MessagingAttachmentType").VIDEO&&(P=o("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(i))}for(var M=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo($,p,function(){return(e||(e=n("Promise"))).resolve({openEb:P,pluginType:P?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):L})}),w=M.openEb,A=M.pluginType,F=S[0],O=o("MessagingLoggingUtils").convertI64ToAttachmentType(F.attachmentType),B=o("MWPComposerMediaUploadUtil").createPartitionedAttachments(S,f,l),W=!0,q=0;q<B.length;q++)if(!b||!I||q===0&&b&&!v){var U=B[q],V=yield r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(r("LSFactory")($),{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray(U.map(o("LSShape").ofRecord)),ephemeral_duration_in_sec:t,external_attachment_url:void 0,initiating_source:_,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:A,reply_source_id:p==null?void 0:p.messageId,reply_source_type:p!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:p!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:D}),senderId:m,threadKey:i.threadKey,threadType:i.threadType}),H=V[0],G=i==null?void 0:i.consistentThreadFbid;if(G!=null)for(var z of U){var j=null,K=o("WATimeUtils").millisTime(),Q=(s||(s=o("LSIntEnum"))).unwrapIntEnum(z.attachment_type),X={offlineThreadingId:H,optimisticMessageId:"mid.$"+H,repliedToMessageId:p==null?void 0:p.messageId,senderFbid:(u||(u=o("I64"))).to_string(m),threadFbid:u.to_string(G),timestampMs:K.toString()};if(Q===r("MessagingAttachmentType").IMAGE){var Y,J,Z;j=r("createOptimisticImageSlideMessage")(babelHelpers.extends({},X,{image:{height:(u||(u=o("I64"))).to_float((Y=z.preview_height)!=null?Y:(u||(u=o("I64"))).zero),url:(J=z.preview_url)!=null?J:"",width:u.to_float((Z=z.preview_width)!=null?Z:(u||(u=o("I64"))).zero)}}))}else if(Q===r("MessagingAttachmentType").VIDEO){var ee,te,ne;j=r("createOptimisticVideoSlideMessage")(babelHelpers.extends({},X,{video:{height:(u||(u=o("I64"))).to_float((ee=z.preview_height)!=null?ee:(u||(u=o("I64"))).zero),url:(te=z.preview_url)!=null?te:"",width:u.to_float((ne=z.preview_width)!=null?ne:(u||(u=o("I64"))).zero)}}))}j&&r("IGDWriteOptimisticRelayMessage")(c,j)}if(q===0&&(T(H),x.addAnnotationBoolean("is_instamadillo_ttlc",P&&w===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(E,{bool:{is_instamadillo_ttlc:P&&w===!0}})),yield $.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:_,markThreadRead:!1,messageId:void 0,metadataDataclass:R,offlineThreadingId:H,openEb:w,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(u||(u=o("I64"))).of_string(H),threadAttributionSource:D,threadKey:i.threadKey}),a==null||a({TAG:2,attachmentType:d(U),numberOfAttachments:U.length,offlineThreadingId:H}),A!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(A)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO)yield r("issueSendInstamadilloMediaMessage")($,U,H);else{var re=yield r("issueLSMediaSendJobs")($,i.threadKey,H,U,S);W=W&&re.sentWithAllFilesUploaded}o("MWPSendMessageLogger").log(h,i.threadKey,i.threadType,m,H,U.map(function(e){return e.attachment_fbid}),D,O,p!=null,A,P,t)}f===!1&&(g==null||g({eventName:"media_collection_message_sent"}));var oe=(u||(u=o("I64"))).to_string(i.threadKey),ae=o("LSMessagingThreadTypeUtil").isGroup(i.threadType)?[oe,null]:[null,oe],ie=ae[0],le=ae[1];r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:W?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:le,thread_fbid:ie}})}});return function(e,t){return h.apply(this,arguments)}})(),[p,f,l,i,t,_,m,a,c,g])}function d(e){if(e.length===0)return o("MWMsgMediaTypeLogUtils").AttachmentType.None;var t=e[0].playable_url_mime_type;return t==null?o("MWMsgMediaTypeLogUtils").AttachmentType.None:t.indexOf("image")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Image:t.indexOf("video")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Video:t.indexOf("application")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.File:o("MWMsgMediaTypeLogUtils").AttachmentType.None}l.default=c}),98);
__d("createOptimisticAudioSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.audioAttachment,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageAudiosContent",__typename:"SlideMessageAudiosContent",audio_attachments:[{attachment_cdn_url:URL.createObjectURL(t.file),attachment_fbid:null,playable_duration_ms:t.playableDurationMs,waveform_data:t.waveformData}]},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a voice message").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPAttachmentUploadQplFlow","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){if(e!=null&&e.startsWith("blob:")){var a={contents:function(){}};a.contents=o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(r).subscribe(function(n,r){if(r.operation==="put"){var o=r.value;if(o.attachmentFbid!==t.toString())return;var i=o.playableUrl;i!=null&&!i.startsWith("blob:")&&(a.contents(),URL.revokeObjectURL(e))}})}}function u(e,t,n,r,o,a,i,l,s,u,d,m){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,l,u,c,d,m,p,_,f,g,h){yield r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:m.attachment_type,inMessageIndex:(e||(e=o("I64"))).zero,isSecure:!1,offlineAttachmentId:c,offlineThreadingId:d,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});var y=function(l,p){if(!(p==null||p.length===0)){var t=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield r("LSDatabaseSingletonLazyWrapper")();return t.runInTransaction((function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var i=r("LSFactory")(n);yield r("LSMarkSubJobCompletedV2StoredProcedure")(i,{fbid:(e||(e=o("I64"))).of_string(p),offlineAttachmentId:c}),yield o("MWPOpenComposerUtils").resumeSendJob(i,d,u),s(m.playable_url,p,t,a)});return function(e){return i.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":101")});return function(){return t.apply(this,arguments)}})();r("promiseDone")(t(),function(){f==null||f(l)})}},C=function(t,n){var e;g==null||g((e=n.response.getErrorDescriptionString())!=null?e:"unknown_upload_failure",t)},b=h==="IGDComposer"?o("MWPAttachmentUploadQplFlow").createAttachmentUploadIdToQplFlowMap([{attachmentType:"audio",entryPoint:h,fileSize:p.file.size,platform:"igd",uploadId:c}]):null;yield o("MWPComposerMediaUploadUtil").startUpload(_,void 0,y,C,!0,[p.file],[c],void 0,void 0,p.waveformData,void 0,e.to_string(l),b)}),c.apply(this,arguments)}l.default=u}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MessagingLoggingUtils","OfflineThreadingId","Promise","RelayHooks","WATimeUtils","asyncToGeneratorRuntime","createOptimisticAudioSlideMessage","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n,r){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){t!=null&&(yield o("MWMediaTraceHandler").logMediaSendStart(e,t,n,(u||(u=o("I64"))).of_int32(r)))}),d.apply(this,arguments)}function m(t){var a=t.entryPoint,i=t.ephemeralDurationInSec,l=t.onOptimisticMessageCreation,d=t.onUploadFailure,m=t.onUploadStart,p=t.onUploadSuccess,_=t.sendMessageLogger,f=t.skipUrlPreviewGen,g=t.threadKey,h=t.threadType,y=o("MWPActor.react").useActor(),C=r("useLSMessagingInitiatingSource")(),b=o("RelayHooks").useRelayEnvironment(),v=r("useIGDReplyOnLS")();return o("Int64Hooks").useCallbackInt64((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,S){var R=S.dataTraceId,L=S.pluginType,E=S.s2sInstanceKey,k=S.setupS2SLogging,I=S.source,T=S.traceSendMessageAPI,D=S.transaction,x=S.voiceClip,$=r("LSFactory")(D),P=o("OfflineThreadingId").createOfflineThreadingID(),N=o("MWPComposerMediaUploadUtil").getAudioAttachment(P,x.file,x.duration,x.waveformData);yield c(D,R,(u||(u=o("I64"))).one,2);var M=yield D.threads.get(g),w=o("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(M),A=yield o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(D,v,function(){return(e||(e=n("Promise"))).resolve({openEb:w,pluginType:w?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):L})}),F=A.openEb,O=A.pluginType,B=yield r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")($,{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray([o("LSShape").ofRecord(N)]),ephemeral_duration_in_sec:i,external_attachment_url:void 0,initiating_source:C,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:O,reply_source_id:v==null?void 0:v.messageId,reply_source_type:v!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:v!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:I}),senderId:y,threadKey:g,threadType:h}),W=B[0],q=M==null?void 0:M.consistentThreadFbid;if(q!=null){var U=o("WATimeUtils").millisTime(),V=r("createOptimisticAudioSlideMessage")({audioAttachment:{file:x.file,playableDurationMs:x.duration*1e3,waveformData:[].concat(x.waveformData.amplitudes)},offlineThreadingId:W,optimisticMessageId:"mid.$"+W,repliedToMessageId:v==null?void 0:v.messageId,senderFbid:(u||(u=o("I64"))).to_string(y),threadFbid:u.to_string(q),timestampMs:U.toString()});r("IGDWriteOptimisticRelayMessage")(b,V)}k(W),T.addAnnotationBoolean("is_instamadillo_ttlc",w&&F===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(E,{bool:{is_instamadillo_ttlc:w&&F===!0}}),yield D.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:C,markThreadRead:!1,messageId:void 0,offlineThreadingId:W,openEb:F,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:f,taskId:u.of_string(W),threadAttributionSource:I,threadKey:g}),l!=null&&l({TAG:1,offlineThreadingId:W}),O!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(O)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO?yield r("issueSendInstamadilloMediaMessage")(D,[N],W):yield r("issueLSAudioMediaSendJob")(D,g,y,R,P,W,N,x,m,p,d,a),_(t,{actor:y,attachmentFbids:[N.attachment_fbid],attachmentType:o("MessagingLoggingUtils").convertI64ToAttachmentType(N.attachment_type),hasReply:v!=null,isInstamadilloTTLC:F,key:g,offlineThreadingId:W,pluginType:O,source:I,type:h})});return function(e,n){return t.apply(this,arguments)}})(),[g,v,i,C,y,h,f,l,_,b,m,p,d,a])}l.default=m}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.entryPoint,n=e.ephemeralDurationInSec,a=e.onOptimisticMessageCreation,i=e.onUploadFailure,l=e.onUploadStart,s=e.onUploadSuccess,u=e.skipUrlPreviewGen,c=e.thread,d=o("Int64Hooks").useCallbackInt64(function(e,t){var r=t.actor,a=t.attachmentFbids,i=t.attachmentType,l=t.hasReply,s=t.isInstamadilloTTLC,u=t.key,c=t.offlineThreadingId,d=t.pluginType,m=t.source,p=t.type;r!=null&&o("MWPSendMessageLogger").log(e,u,p,r,c,a,m,i,l,d,s,n)},[n]);return r("useMWV2SendOpenVoiceClipImplShared")({entryPoint:t,ephemeralDurationInSec:n,onOptimisticMessageCreation:a,onUploadFailure:i,onUploadStart:l,onUploadSuccess:s,sendMessageLogger:d,skipUrlPreviewGen:u,threadKey:c.threadKey,threadType:c.threadType})}l.default=e}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","asyncToGeneratorRuntime","react","sendToSentQPLLogger","useAsyncReStore","useEnabledForWorkchatOnly","useIGDReplyOnLS","useIsMessengerPWA","useMWLSDefaultThreadSourceWithResetBasedOnThreadType","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e){var t=e.disableMarkRead,a=e.entryPoint,l=e.ephemeralDurationInSec,d=e.isIGDW,m=e.onOptimisticMessageCreation,p=e.onUploadFailure,_=e.onUploadStart,f=e.onUploadSuccess,g=e.pluginType,h=e.skipUrlPreviewGen,y=e.thread,C=r("useAsyncReStore")(),b=r("useIsMessengerPWA")(),v=r("useIGDReplyOnLS")(),S=r("useMWLSDefaultThreadSourceWithResetBasedOnThreadType")(),R=r("useMWV2SendOpenVoiceClip")({entryPoint:a,ephemeralDurationInSec:l,onOptimisticMessageCreation:m,onUploadFailure:p,onUploadStart:_,onUploadSuccess:f,skipUrlPreviewGen:h,thread:y}),L=r("useMWV2SendOpenStagedMedia")(l,m,y,d),E=r("useMWV2SendOpenMessageImpl")({disableMarkRead:t!=null?t:!1,ephemeralDurationInSec:l,onOptimisticMessageCreation:m,skipUrlPreviewGen:h,thread:y}),k=o("LSMessagingThreadTypeUtil").isMessageRequest(y),I=r("useEnabledForWorkchatOnly")(),T=c(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),D=T.onMessageSendAttempt;return o("Int64Hooks").useCallbackInt64((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,l,c,d,m,p,_,f,h,T,x,$,P,N,M,w,A,F){h===void 0&&(h=!1),T===void 0&&(T=!1);var O=!1;D==null||D(!0);function B(e){x.addMarkerPoint(e,"AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint($,e)}var W=S(y.threadKey),q=r("LSGenerateTraceId")(),U={contents:1},V=y.eventStartTimestampMs!=null,H=y.threadType,G=yield C,z=r("MWV2SetupS2SLoggingShared")({db:G,isCommunityEvent:V,isFirstMessage:T,isMessageRequest:k,isWorkChat:I,s2sInstanceKey:$,sendFirstMessageSeparately:h,source:(s||(s=o("LSIntEnum"))).unwrapIntEnum(W),threadType:H,traceSendMessageAPI:x}),j=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(G.tables.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,y.threadKey)})),K=o("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers.extends({externalAttachmentUrl:d,hotEmojiSize:l,mediaStagings:j,messageText:e,sticker:a,threadType:y.threadType,voiceClip:p},v!=null?{reply:v}:{})),Q=yield o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:K,isPwa:b,source:s.unwrapIntEnum(W),thread:y}),X=yield o("MultipleTabsLogger").hasMultipleTabs();return G.runInTransaction((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){if(o("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(x,K,y),o("sendToSentQPLLogger").addSendToSentAnnotations($,Q),p!=null){(h===!1||T===!0)&&(yield R(G,{dataTraceId:q,pluginType:g,s2sInstanceKey:$,setupS2SLogging:z,source:W,traceSendMessageAPI:x,transaction:n,voiceClip:p}));return}var r=K.hasGif,i=r===void 0?!1:r,s=K.hasHotEmoji,C=s===void 0?!1:s,b=K.hasSticker,v=b===void 0?!1:b,S=K.hasText,k=S===void 0?!1:S;v||C?U.contents=4:i&&(U.contents=6);var I=t!=null?o("LSShape").ofRecord({mention_ids:t.map(function(e){return e.id}).join(","),mention_lengths:t.map(function(e){return String(e.length)}).join(","),mention_offsets:t.map(function(e){return String(e.offset)}).join(","),mention_types:t.length!==0?t.map(function(e){return e.type}).join(","):void 0}):void 0;if(B("create_optimistic_message_start"),k||v||C||i){if(O=!0,(h===!1||T===!0)&&(B("send_message_impl"),yield E(G,{accessibilityLabel:F,afterSend:f,attributionAppId:c,dataclassParams:A,dataTraceId:q,externalAttachmentUrl:d,hotEmojiSize:l,logSendPoint:B,mentionData:I,messageText:e,messageTypeParams:K,multitabEnv:X,optimisticAttachmentPreview:m,platformToken:_,pluginType:g,profileRanges:t,richTextFormatType:N,s2sInstanceKey:$,setupS2SLogging:z,source:W,sticker:a,traceSendMessageAPI:x,transaction:n}),h===!0)){B("send_first_message_separately_return");return}}else f!=null&&(yield f(n));!v&&!i&&!C&&(yield L(G,{isFirstMessage:T,isFirstMessageText:O,mediaStagings:yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,y.threadKey)})),pluginType:g,s2sInstanceKey:$,sendFirstMessageSeparately:h,setupS2SLogging:z,source:W,traceSendMessageAPI:x,transaction:n}))});return function(e){return r.apply(this,arguments)}})(),"readwrite","ui",void 0,i.id+":250")});return function(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b){return e.apply(this,arguments)}})(),[D,S,y,C,k,I,v,b,R,g,E,L])}l.default=d}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDReplyContext.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactListConversionAttributionStore","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useCometRouteTracePolicy","useIGDChatTabsMessagingSource.react","useMWLSAcceptMessageRequest","useMWV2SendOpenMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useContext,m=c.useMemo;function p(e){var t=e.afterSendMessage,a=e.checkWAStorageForLogging,i=e.disableMarkRead,l=e.entryPoint,c=e.ephemeralDurationInSec,p=e.isIGDW,_=e.onOptimisticMessageCreation,f=e.onUploadFailure,g=e.onUploadStart,h=e.onUploadSuccess,y=e.pluginType,C=e.skipUrlPreviewGen,b=e.thread,v=o("MWPActor.react").useActor(),S=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(b.threadKey,b.threadType),R=d(o("MWPReplyContext.react").MWPReplyContext),L=R.clearReply,E=d(o("IGDReplyContext.react").IGDReplySetterContext),k=E.clearReply,I=b.threadSubtype,T=m(function(){return{is_community_event:(b.eventStartTimestampMs!=null).toString(),is_cutover:"false",is_secure:"false",sender_id:p===!0?(s||(s=o("I64"))).to_string(v):null,thread_id:(s||(s=o("I64"))).to_string(b.threadKey),thread_subtype:I!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(I)?(s||(s=o("I64"))).to_string(I):"",thread_type:s.to_string(b.threadType)}},[v,p,b.eventStartTimestampMs,b.threadKey,b.threadType,I]),D=r("useMWLSAcceptMessageRequest")(b.threadKey),x=r("useCometInteractionTracing")(r("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,T),$=r("useMWV2SendOpenMessage")({disableMarkRead:i,entryPoint:l,ephemeralDurationInSec:c,isIGDW:p,onOptimisticMessageCreation:_,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,pluginType:y,skipUrlPreviewGen:C,thread:b}),P=r("MessengerWebUXLogger").useInteractionLogger(),N=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),M=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=r("useIGDChatTabsMessagingSource.react")(b.threadKey),A=r("useCometRouteTracePolicy")();return o("Int64Hooks").useCallbackInt64(function(e,i,l,c,d,m,_,f,g,h,y,C,R,E,F,O,B,W){y===void 0&&(y=!1),C===void 0&&(C=!1);var q=o("LSMessagingThreadTypeUtil").isMessageRequest(b);if(p===!0){var U={displayContext:M!=null?M:"UNKNOWN",isMessageRequest:String(q),thread_type:(s||(s=o("I64"))).to_string(b.threadType),threadSubtype:I!=null?(s||(s=o("I64"))).to_string(I):"UNKNOWN",tracePolicy:A},V=M==="ChatTab"&&w!=null?babelHelpers.extends({},U,{messaging_source:String(w)}):babelHelpers.extends({},U);P==null||P({eventName:"send_message",extraData:V,flowInstanceId:N})}x(function(p){var R,I=o("sendToSentQPLLogger").markSendToSentStart(a);o("sendToSentQPLLogger").addSendToSentAnnotations(I,{int:{message_text_length_int:(R=e==null?void 0:e.length)!=null?R:0},string:T}),r("promiseDone")($(e,i,l,c,d,m,_,f,g,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t;if(h==null||h(),!!o("LSMessagingThreadTypeUtil").isOneToOne(b.threadType)){var n=(t=yield o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.participants,[]).getKeyRange(b.threadKey),o("ReQL").fromTableAscending(e.contacts)).filter(function(e){var t=e[0],n=e[1];return!(s||(s=o("I64"))).equal(n.id,v)})))==null?void 0:t[1];n!=null&&!(s||(s=o("I64"))).to_float(n.contactViewerRelationship)!==r("LSContactViewerRelationship").CONTACT_OF_VIEWER&&(yield e.contacts.put(babelHelpers.extends({},n,{contactViewerRelationship:(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)})))}});return function(t){return e.apply(this,arguments)}})(),y,C,p,I,void 0,E,F,O,B,W),function(){var e=o("LSContactListConversionAttributionStore").getAttribution(S);e!=null&&(e.surface.entry_point==="comet_home_sidebar"?o("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(e):e.surface.entry_point==="inbox_tray"&&o("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(e),o("LSContactListConversionAttributionStore").resetAttribution(S)),t(),L(b.threadKey,!1),k(),q&&(D(),o("MessageRequestsLog").logActionConfirmed(b,1))})})},[p,b,x,M,I,A,w,P,N,a,T,$,v,S,t,L,k,D])}l.default=p}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=["typing","_",t.i64.to_string(e[0])].join(""),t.sequence([function(e){return t.forEach(t.filter(t.db.table(5).fetch(),function(e){return r[0]===e.queueName}),function(e){return e.delete()})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[7]=n.syncGroup,t.i64.neq(r[7],void 0)?r[6]=r[7]:r[6]=t.i64.cast([0,1]),r[1]=r[6])})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[3]=void 0:(t=o.item,r[3]=t.threadType)})},function(o){return r[5]=new t.Map,r[5].set("thread_key",e[0]),r[5].set("is_group_thread",e[1]),r[5].set("is_typing",e[2]),r[5].set("attribution",t.i64.cast([0,0])),r[5].set("sync_group",r[1]),r[5].set("thread_type",r[3]),r[6]=t.toJSON(r[5]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),r[0],t.i64.cast([0,3]),r[6])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure",e.__tables__=["threads","pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSendTypingIndicator"),a.threadKey,a.isGroupThread,a.isTyping);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSTypingIndicatorSettingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});i.default=e}),66);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e,t,n,r){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,i){if((u||(u=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(1))&&!(u||(u=o("I64"))).equal(t,i)){var l=yield(s||(s=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads,["typingIndicatorDisabled"]).getKeyRange(t)),o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.tables.participants).getKeyRange(t),o("ReQL").fromTableAscending(e.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(e){var t=e[0],n=e[1];return!(u||(u=o("I64"))).equal(t.contactId,i)}))]),d=l[0],m=l[1],p=d==null?void 0:d.typingIndicatorDisabled,_=p!=null?(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("LSTypingIndicatorSettingState").DISABLED),p):!1;return m!=null&&!_}else return!r("mwCMIsAnyCMThread")(a)}),m.apply(this,arguments)}function p(t){var n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=r("MessengerWebUXLogger").useInteractionLogger();return o("Int64Hooks").useCallbackInt64(function(e){(u||(u=o("I64"))).ge(t.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("promiseDone")(d(n,t.threadKey,t.threadType,a).then(function(a){if(a)return l==null||l({eventName:"send_typing_indicators",threadKey:t.threadKey,threadType:t.threadType}),n.runInTransaction(function(n){return r("LSSendTypingIndicatorStoredProcedure")(r("LSFactory")(n),{isGroupThread:o("LSMessagingThreadTypeUtil").isGroup(t.threadType),isTyping:e,threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":134")}))},[t.authorityLevel,t.threadKey,t.threadType,n,a,l])}l.default=p}),98);
__d("IGDComposer.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","DisappearingMessagesMode","I64","IGDAiAgentsUtils","IGDChatTabsStateContext.react","IGDComposerConstants","IGDComposerEditContainer.react","IGDComposerEditContainerOffMsys.react","IGDComposerReplyView.react","IGDComposerView.react","IGDDMModeContextProvider","IGDEditMessageContext.react","IGDEqualityUtils","IGDInstamadilloUtils","IGDOffMsysComposerReplyView.react","IGDReplyContext.react","IGDSupportedFileTypes","IGDThreadlineContext","LSIntEnum","LSPendingTasksPluginType","MAWEditMessageContext.react","MWMediaManager","MWPReplyContext.react","PolarisUA","react","react-compiler-runtime","useIGDMediaMangerUploadFailedToast","useIGDMessageLengthExceededToast","useIsChatTabsDisplay","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage","useMWXLexicalMaxLength","useOnTypingStateChanged","useStableCallback","useStableValue"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useContext,f=m.useMemo;function g(e){var t=o("react-compiler-runtime").c(66),n=e.onSendMessage,a=e.thread,i=_(o("MWPReplyContext.react").MWPReplyContext),l=i.clearReply,c=i.reply,m=o("IGDReplyContext.react").useIGDReplyContext(),p=o("IGDReplyContext.react").useIGDReplySetterContext(),f=p.clearReply,g=o("IGDEditMessageContext.react").useIGDEditContext(),y=o("IGDEditMessageContext.react").useIGDEditSetterContext(),C=y.clearEditMessageData,b=_(o("MAWEditMessageContext.react").Context),v=b.editMessageData,S=b.setEditMessageData,R=_(o("IGDThreadlineContext").ThreadlineIsComposerFocusedContext),L=R.isThreadlineComposerFocused,E=r("useIGDMediaMangerUploadFailedToast")(),k;t[0]!==E||t[1]!==a?(k={showUploadFailureToast:E,thread:a},t[0]=E,t[1]=a,t[2]=k):k=t[2];var I=o("MWMediaManager").useMediaManager(k),T=I.handleFileSelect,D=r("useOnTypingStateChanged")(a),x=a.threadSubtype,$;t[3]!==x?($=o("IGDAiAgentsUtils").isAiThread(x),t[3]=x,t[4]=$):$=t[4];var P=$;r("useMWV2FileDropzoneRegisterHandler")(T);var N;t[5]!==I.mediaStaging||t[6]!==n||t[7]!==D||t[8]!==a.threadKey?(N={composerEntrypointForLogging:"IGDOpenComposer",isPreviewThread:!1,mediaStaging:I.mediaStaging,onSendMessage:n,onTypingStateChanged:D,threadKey:a.threadKey},t[5]=I.mediaStaging,t[6]=n,t[7]=D,t[8]=a.threadKey,t[9]=N):N=t[9];var M=r("useMWPComposerEditor")(N),w=M.editor,A=M.editorElementRef,F=M.hasStuffToSend,O=M.sendMessage,B=r("useIGDMessageLengthExceededToast")(),W;t[10]!==B?(W={maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:B},t[10]=B,t[11]=W):W=t[11],o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(w,W);var q;t[12]!==w||t[13]!==n?(q=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=t;n.apply(void 0,o),w.focus(h)},t[12]=w,t[13]=n,t[14]=q):q=t[14];var U=q,V=a.threadKey,H=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),G=r("useIsChatTabsDisplay")(),z;t[15]!==C||t[16]!==l||t[17]!==f||t[18]!==H||t[19]!==v||t[20]!==g||t[21]!==G||t[22]!==c||t[23]!==m||t[24]!==S||t[25]!==V?(z=function(){if(!(c||m)&&!(v||g))if(G)H==null||H({threadKey:(u||(u=o("I64"))).to_string(V),type:"close_tab"});else return;v||g?(S(null),C()):(c||m)&&(l(V,!0),f())},t[15]=C,t[16]=l,t[17]=f,t[18]=H,t[19]=v,t[20]=g,t[21]=G,t[22]=c,t[23]=m,t[24]=S,t[25]=V,t[26]=z):z=t[26];var j=z,K;t[27]===Symbol.for("react.memo_cache_sentinel")?(K={key:r("CometKeys").ESCAPE},t[27]=K):K=t[27];var Q;t[28]!==v||t[29]!==g||t[30]!==G||t[31]!==c||t[32]!==m?(Q=!(c||m)&&G&&s._(/*BTDS*/"Close chat tab")||(c||m)&&s._(/*BTDS*/"Cancel reply")||(v||g)&&s._(/*BTDS*/"Cancel edit")||"",t[28]=v,t[29]=g,t[30]=G,t[31]=c,t[32]=m,t[33]=Q):Q=t[33];var X;t[34]!==j||t[35]!==Q?(X=[{command:K,description:Q,handler:j,triggerFromInputs:!0}],t[34]=j,t[35]=Q,t[36]=X):X=t[36];var Y=X,J;t[37]!==L||t[38]!==c||t[39]!==a?(J=c!=null&&!L?d.jsx(r("IGDComposerReplyView.react"),{messageId:c.messageId,messageTimestamp:c.timestampMs,thread:a}):null,t[37]=L,t[38]=c,t[39]=a,t[40]=J):J=t[40];var Z;t[41]!==L||t[42]!==m?(Z=m!=null&&!L?d.jsx(r("IGDOffMsysComposerReplyView.react"),{reply:m}):null,t[41]=L,t[42]=m,t[43]=Z):Z=t[43];var ee;t[44]!==v?(ee=v!=null&&d.jsx(r("IGDComposerEditContainer.react"),{editMessageData:v}),t[44]=v,t[45]=ee):ee=t[45];var te;t[46]!==g?(te=g!=null?d.jsx(r("IGDComposerEditContainerOffMsys.react"),{editMessageData:g}):null,t[46]=g,t[47]=te):te=t[47];var ne;t[48]!==v||t[49]!==g||t[50]!==w||t[51]!==A||t[52]!==F||t[53]!==P||t[54]!==T||t[55]!==U||t[56]!==O||t[57]!==a?(ne=v==null&&g==null?d.jsx(r("IGDComposerView.react"),{attachmentsSupported:!0,editor:w,editorElementRef:A,emojisSupported:!o("PolarisUA").isMobile()&&!P,hasStuffToSend:F,onAttachmentsAdded:T,onSendMessage:U,policyProduct:"messaging_lightswitch",sendMessage:O,supportedFileTypes:o("IGDSupportedFileTypes").getIGDSupportedFileTypes(o("PolarisUA").isMobile()),surface:"mwp_igd_composer",thread:a}):null,t[48]=v,t[49]=g,t[50]=w,t[51]=A,t[52]=F,t[53]=P,t[54]=T,t[55]=U,t[56]=O,t[57]=a,t[58]=ne):ne=t[58];var re;return t[59]!==Y||t[60]!==Z||t[61]!==ee||t[62]!==te||t[63]!==ne||t[64]!==J?(re=d.jsx("div",{children:d.jsxs(r("CometComponentWithKeyCommands.react"),{commandConfigs:Y,children:[J,Z,ee,te,ne]})}),t[59]=Y,t[60]=Z,t[61]=ee,t[62]=te,t[63]=ne,t[64]=J,t[65]=re):re=t[65],re}function h(){}function y(e){var t=o("react-compiler-runtime").c(19),n=e.afterSendMessage,a=e.thread,i=_(o("IGDDMModeContextProvider").IGDDMModeContext),l=i.dmMode,s=i.lastSetTtlSec,m;t[0]!==a?(m=o("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a)?(c||(c=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0,t[0]=a,t[1]=m):m=t[1];var p=m,f;t[2]!==l||t[3]!==s?(f=l===r("DisappearingMessagesMode").ON&&s!=null?(u||(u=o("I64"))).of_int32(s):void 0,t[2]=l,t[3]=s,t[4]=f):f=t[4];var h=C(a,n,p,f),y;t[5]!==a.authorityLevel||t[6]!==a.capabilities||t[7]!==a.capabilities2||t[8]!==a.capabilities3||t[9]!==a.capabilities4||t[10]!==a.capabilities5||t[11]!==a.consistentThreadFbid||t[12]!==a.threadKey||t[13]!==a.threadSubtype||t[14]!==a.threadType?(y={authorityLevel:a.authorityLevel,capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,capabilities5:a.capabilities5,consistentThreadFbid:a.consistentThreadFbid,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},t[5]=a.authorityLevel,t[6]=a.capabilities,t[7]=a.capabilities2,t[8]=a.capabilities3,t[9]=a.capabilities4,t[10]=a.capabilities5,t[11]=a.consistentThreadFbid,t[12]=a.threadKey,t[13]=a.threadSubtype,t[14]=a.threadType,t[15]=y):y=t[15];var b=o("useStableValue").useStableValue(y,o("IGDEqualityUtils").shallowEqualI64),v;return t[16]!==h||t[17]!==b?(v=d.jsx(g,{onSendMessage:h,thread:b}),t[16]=h,t[17]=b,t[18]=v):v=t[18],v}function C(e,t,n,a){var i=o("react-compiler-runtime").c(5),l;i[0]!==t||i[1]!==a||i[2]!==n||i[3]!==e?(l={afterSendMessage:t,entryPoint:"IGDComposer",ephemeralDurationInSec:a,isIGDW:!0,pluginType:n,skipUrlPreviewGen:!1,thread:e},i[0]=t,i[1]=a,i[2]=n,i[3]=e,i[4]=l):l=i[4];var s=r("useMWV2OnSendOpenMessage")(l);return r("useStableCallback")(s)}l.default=y}),226);
__d("IGDComposerAttachmentButtonOffMsys.react",["fbt","BaseFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);if(t.length>0)return e(t)},t[0]=e,t[1]=n):n=t[1],n}function m(e){var t=o("react-compiler-runtime").c(7),n=e.onAttachmentsAdded,a=e.supportedFileTypes,i=d(n),l=r("MessengerWebUXLogger").useInteractionLogger(),c=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),m;t[0]!==c||t[1]!==l?(m=function(t){return u.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,onClick:function(){l==null||l({eventName:"composer_open_file_picker",flowInstanceId:c}),t()},children:u.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:s._(/*BTDS*/"Add Photo or Video"),color:"ig-primary-text"})})},t[0]=c,t[1]=l,t[2]=m):m=t[2];var p;return t[3]!==i||t[4]!==a||t[5]!==m?(p=u.jsx(r("BaseFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:i,children:m}),t[3]=i,t[4]=a,t[5]=m,t[6]=p):p=t[6],p}l.default=m}),226);
__d("IGDComposerCommonPlaceholder.react",["IGDSBox.react","IGDSSpinner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={placeholder:{borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.height,a=e.showSpinner,i=a===void 0?!1:a,l=n,c;t[0]!==i?(c=i&&s.jsx(r("IGDSSpinner.react"),{}),t[0]=i,t[1]=c):c=t[1];var d;return t[2]!==l||t[3]!==c?(d=s.jsx(r("IGDSBox.react"),{alignItems:"center",height:l,justifyContent:"center",xstyle:u.placeholder,children:c}),t[2]=l,t[3]=c,t[4]=d):d=t[4],d}l.default=c}),98);
__d("IGDComposerBlockBoundary.react",["IGDComposerCommonPlaceholder.react","PolarisSuspenseWithErrorBoundary.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("IGDComposerCommonPlaceholder.react"),{height:128,showSpinner:!0}),t[0]=a):a=t[0];var l;return t[1]!==n?(l=s.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{errorRenderer:c,loadingRenderer:a,name:i.id,children:n}),t[1]=n,t[2]=l):l=t[2],l}function c(){return s.jsx(r("IGDComposerCommonPlaceholder.react"),{height:128})}c.displayName=c.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerBlockCannesOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDRestrictedUserComposerBlockOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDBlockedUserComposerBlockOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDHiddenChatComposerOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDMessageRequestComposerBannerOffMsys_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDComposerBlockForThreadOffMsys.react",["CometRelay","IGDComposerBlockBoundary.react","IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDComposerBlockCannesOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),d=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDLeftGroupComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDPartnershipDisabledComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),p=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDFallbackComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),_=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDBroadcastChannelEndedComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),f=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInstamadilloTLCComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),g=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInstamadilloDMComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),h=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDRestrictedUserComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),y=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDBlockedUserComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),C=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDUnreachableInviteComposerBlockOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),b=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDHiddenChatComposerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),v=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDMessageRequestComposerBannerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react")),S=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDSupportThreadComposerOffMsys.react").__setRef("IGDComposerBlockForThreadOffMsys.react"));function R(t){var a=o("react-compiler-runtime").c(5),i=t.composerBlockType,l=t.viewerThreadRef,s=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread.graphql"),l),R;a[0]!==i||a[1]!==s?(R=i==="cannes_composer_block"?u.jsx(c,{viewerThreadRef:s}):i==="input_mode_disabled_for_group_thread"?u.jsx(d,{}):i==="input_mode_partnership_thread_disabled_for_creator"?u.jsx(m,{}):i==="broadcast_channel_ended"?u.jsx(_,{}):i==="instamadillo_tlc_block"?u.jsx(f,{}):i==="instamadillo_dm_block"?u.jsx(g,{}):i==="1on1_restricted_user"?u.jsx(h,{viewerThreadRef:s}):i==="1on1_blocked_user"?u.jsx(y,{viewerThreadRef:s}):i==="1on1_unreachable_invite_model"?u.jsx(C,{}):i==="hidden_group_chat_in_spam_folder"?u.jsx(b,{viewerThreadRef:s}):i==="support_thread_composer_block"?u.jsx(S,{}):i==="message_request"?u.jsx(v,{viewerThreadRef:s}):i==="fallback"?u.jsx(p,{}):(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+i)})(),a[0]=i,a[1]=s,a[2]=R):R=a[2];var L=R,E;return a[3]!==L?(E=u.jsx(r("IGDComposerBlockBoundary.react"),{children:L}),a[3]=L,a[4]=E):E=a[4],E}l.default=R}),98);
__d("Link.react",["AbstractLink.react","ClickIDParameterUtils","Href","LinkshimHandlerConfig","Random","URI","gkx","isLinkshimURI","isTrustedDestination","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["allowunsafehref","s","href","linkRef","target"],s,u,c=u||(u=o("react"));function d(e){return e.getDomain().endsWith(".onion")}var m=/^(#|\/\w)/;function p(e){if(m.test(e.toString()))return!1;var t=e.getProtocol();return t!=="http"&&t!=="https"?!1:!r("isTrustedDestination")(e)}function _(e){var t="#",n=null;if(e!=null){var a=o("Href").getTypedHref(e);a.type==="legacy"?(t=a.value.url.toString(),n=a.value.shimhash?a.value.shimhash.toString():n):typeof a.value=="string"?a.value!==""&&a.value!=="#"&&(t=a.value):t=a.value.toString()}return(s||(s=r("URI"))).isValidURI(t)?[new(s||(s=r("URI")))(t),n]:[null,n]}var f=new RegExp("^(l|lm|h)\\..*$","i");function g(e){return e.getProtocol()!=="http"||!r("isTrustedDestination")(e)||f.test(e.getDomain())?null:e.setProtocol("https")}function h(e){return!(e.getProtocol()===""||e.getDomain()===""&&e.getPort()==="")}function y(e){if(!h(e))return!1;var t=r("LinkshimHandlerConfig").current_domain;if(t===""){var n="."+t;return e.getDomain().endsWith(n)}return!0}function C(e,t){var n=null,o=!1,a=e!==null&&e instanceof(s||(s=r("URI")))?e:new(s||(s=r("URI")))("#"),i=y(a),l=i===!0,u=t||(i===!0?"_blank":null),c=r("LinkshimHandlerConfig").use_rel_no_referrer&&u==="_blank";return[a,l,c,u,n,o,i]}function b(e,t,n,a){if(e!==null&&e instanceof(s||(s=r("URI")))){if(r("isLinkshimURI")(e)){var i=e.getQueryData()[r("LinkshimHandlerConfig").linkshim_url_param],l=e.getQueryData()[r("LinkshimHandlerConfig").linkshim_enc_param];(s||(s=r("URI"))).isValidURI(i)&&(e=new(s||(s=r("URI")))(i),t==null&&(t=l))}var u=r("LinkshimHandlerConfig").click_ids;if(u!=null&&u.length>0){var c=Math.floor(r("Random").random()*u.length),m=u[c];e=o("ClickIDParameterUtils").appendClickIDQueryParam(e,m)}var _=r("LinkshimHandlerConfig").aggr_ids;if(r("gkx")("18296")&&_!=null&&_.length>0){var f=Math.floor(r("Random").random()*_.length),h=_[f];e=o("ClickIDParameterUtils").appendBRIDQueryParam(e,h)}}else e=new(s||(s=r("URI")))("#");t==null&&p(e)&&(t=r("LinkshimHandlerConfig").link_react_default_hash);var C=g(e);C!=null&&(e=C);var b=t!=null,v=n||(t!==null?"_blank":null),S=!!a;r("LinkshimHandlerConfig").onion_always_shim&&d(e)&&(S=!1);var R=r("LinkshimHandlerConfig").use_rel_no_referrer&&t!==null&&v==="_blank",L=y(e);return[e,b,R,v,t,S,L]}var v=(function(t){function n(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.render=function(){var t=this.props,n=t.allowunsafehref,o=t.s,a=t.href,i=t.linkRef,l=t.target,s=babelHelpers.objectWithoutPropertiesLoose(t,e),u=_(a),d=u[0],m=u[1],p=r("LinkshimHandlerConfig").is_linkshim_supported?b(d,m,l,o):C(d,l),f=p[0],g=p[1],h=p[2],y=p[3],v=p[4],S=p[5],R=p[6],L=null;return!r("LinkshimHandlerConfig").is_linkshim_supported&&R&&(L=r("LinkshimHandlerConfig").non_linkshim_lnfb_mode),c.jsx(r("AbstractLink.react"),babelHelpers.extends({},s,{href:f,linkRef:i,nofollow:g,noreferrer:h,shimhash:v,target:y,isSafeToSkipShim:S,dataLnfbMode:L,isLinkshimSupported:r("LinkshimHandlerConfig").is_linkshim_supported}))},n})(c.Component);l.default=v}),98);
__d("IGDReachableInviteBanner.react",["fbt","FBLogger","I64","IGDInviteModelUtils","Link.react","MWPActor.react","MWXComposerBanner.react","MessengerWebUXLogger","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react"));function m(t){var n,a=o("react-compiler-runtime").c(13),l=t.loggingEventName,c=t.threadKey,m=(e||(e=r("useReStore")))(),p=o("MWPActor.react").useActor(),_=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(m.tables.participants).getKeyRange(c).filter(function(e){var t=e.contactId;return!(u||(u=o("I64"))).equal(t,p)}),o("ReQL").fromTableAscending(m.tables.contacts))},[m.tables.contacts,m.tables.participants,c,p],i.id+":36"))!=null?n:[null,null],f=_[1],g;a[0]!==l?(g={eventName:l},a[0]=l,a[1]=g):g=a[1];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g);if(f==null)return r("FBLogger")("igd_web").mustfix("Contact data is null in IGDReachableInviteBanner"),null;var y;if(a[2]===Symbol.for("react.memo_cache_sentinel")){var C;y=(C=r("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"477434105621119"}).setDomain("help.instagram.com"))==null||(C=C.setProtocol("https"))==null?void 0:C.toString(),a[2]=y}else y=a[2];var b=y,v;a[3]!==f.name||a[4]!==f.secondaryName?(v=s._(/*BTDS*/"Invite {name} ({secondaryName}) to chat",[s._param("name",f.name),s._param("secondaryName",f.secondaryName)]),a[3]=f.name,a[4]=f.secondaryName,a[5]=v):v=a[5];var S=v,R;a[6]!==b?(R=s._(/*BTDS*/"You can only send one message in this invite. Remember to follow our {link} and be respectful when messaging others for the first time.",[s._param("link",d.jsx(r("Link.react"),{href:b,children:"Community Standards"}))]),a[6]=b,a[7]=R):R=a[7];var L=R,E;a[8]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"You can send one message in this request. Once they accept, you can send more messages."),a[8]=E):E=a[8];var k=E,I=o("IGDInviteModelUtils").shouldUseInviteModelV2(),T=I?k:L,D=I?void 0:S,x;return a[9]!==h||a[10]!==T||a[11]!==D?(x=d.jsx(r("MWXComposerBanner.react"),{bodyText:T,headerText:D,ref:h}),a[9]=h,a[10]=T,a[11]=D,a[12]=x):x=a[12],x}l.default=m}),226);
__d("LSNullstateCTAType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});i.default=e}),66);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){return u.jsx("div",{className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc x1a4sjiy xvahy20 x889kno",children:u.jsx(r("MDSTextPairing.react"),{headline:s._(/*BTDS*/"Something isn't working."),headlineColor:"secondary",level:4,meta:u.jsx(r("MWXText.react"),{numberOfLines:2,type:"meta3",children:s._(/*BTDS*/"This may be because of a technical error we're working to fix.")}),reduceEmphasis:!0,textAlign:"center"})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("usePrecompileURLMatcher",["URLMatcher","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=!1;function c(){var e=o("react-compiler-runtime").c(1),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[0]=t):t=e[0],s(d,t)}function d(){u||(u=!0,r("URLMatcher").compilePermissiveHostPathMatcher())}l.default=c}),98);
__d("IGDComposerCommon.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","I64","IGDComposer.react","IGDInviteModelUtils","IGDReachableInviteBanner.react","JSResourceForInteraction","LSContactBitOffset","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateCTAType","MWV2ErrorComposer.react","ReQL","ReQLSuspense","WebUXLoggingSurfaceContextProvider","lazyLoadComponent","react","react-compiler-runtime","useContactReachabilityStatus","usePrecompileURLMatcher","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDUnavailableComposer.react").__setRef("IGDComposerCommon.react")),p=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDInviteSentComposer.react").__setRef("IGDComposerCommon.react"));function _(e){var t=o("react-compiler-runtime").c(9),n=e.afterSendMessage,a=e.showReachableInviteBanner,l=e.thread,s;t[0]!==a||t[1]!==l?(s=a&&d.jsx(r("IGDReachableInviteBanner.react"),{loggingEventName:"igd_invite_model_reachable_banner",threadKey:l.threadKey}),t[0]=a,t[1]=l,t[2]=s):s=t[2];var u;t[3]!==n||t[4]!==l?(u=d.jsx(r("IGDComposer.react"),{afterSendMessage:n,thread:l}),t[3]=n,t[4]=l,t[5]=u):u=t[5];var c;return t[6]!==s||t[7]!==u?(c=d.jsx(r("CometErrorBoundary.react"),{fallback:f,children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsxs(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_chat_composer",children:[s,u]})})}),t[6]=s,t[7]=u,t[8]=c):c=t[8],c}function f(){return d.jsx(r("MWV2ErrorComposer.react"),{})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=o("react-compiler-runtime").c(3),n=e.afterSendMessage,r=e.thread,a;return t[0]!==n||t[1]!==r?(a=d.jsx(_,{afterSendMessage:n,showReachableInviteBanner:!1,thread:r}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function h(e){var t=o("react-compiler-runtime").c(9),n=e.afterSendMessage,a=e.otherUser,i=e.thread,l=o("LSContactBitOffset").has(0,a),s=o("LSContactBitOffset").has(1,a),f=!l||!s,g=a.blockedSinceTimestampMs!=null?!1:f,h=a.contactReachabilityStatusType,y;t[0]!==h?(y=o("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(h),t[0]=h,t[1]=y):y=t[1];var C=y,b=o("IGDInviteModelUtils").shouldShowBlockComposer(h),v=o("IGDInviteModelUtils").shouldShowTextOnlyComposer(h),S=h!=null?(u||(u=o("I64"))).equal((c||(c=o("LSIntEnum"))).ofNumber(r("LSContactReachabilityStatusType").REACHABLE),h)||C||v||b:!0;if(S)if(g){var R;return t[2]===Symbol.for("react.memo_cache_sentinel")?(R=d.jsx(m,{}),t[2]=R):R=t[2],R}else if(b&&(o("IGDInviteModelUtils").shouldUseInviteModelV2()||o("IGDInviteModelUtils").shouldUseInviteModel())){var L;return t[3]===Symbol.for("react.memo_cache_sentinel")?(L=d.jsx(p,{loggingEventName:"igd_invite_model_invite_sent"}),t[3]=L):L=t[3],L}else{var E;return t[4]!==n||t[5]!==C||t[6]!==i?(E=d.jsx(_,{afterSendMessage:n,showReachableInviteBanner:C,thread:i}),t[4]=n,t[5]=C,t[6]=i,t[7]=E):E=t[7],E}else{var k;return t[8]===Symbol.for("react.memo_cache_sentinel")?(k=d.jsx(m,{}),t[8]=k):k=t[8],k}}function y(t){var n=o("react-compiler-runtime").c(16),a=t.afterSendMessage,l=t.hasActivity,s=t.thread,m=(e||(e=r("useReStore")))(),p;n[0]!==m.tables.thread_nullstate||n[1]!==s.threadKey?(p=function(){return o("ReQL").fromTableAscending(m.tables.thread_nullstate).getKeyRange(s.threadKey)},n[0]=m.tables.thread_nullstate,n[1]=s.threadKey,n[2]=p):p=n[2];var _;n[3]!==m||n[4]!==s.threadKey?(_=[m,s.threadKey],n[3]=m,n[4]=s.threadKey,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":270"),y;n[6]!==f?(y=f!=null?(u||(u=o("I64"))).equal(f.ctaType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").GET_STARTED)):!1,n[6]=f,n[7]=y):y=n[7];var C=y,b=l,v=o("useContactReachabilityStatus").useOtherUser(m,s.threadKey,s.threadType),S;n[8]!==a||n[9]!==C||n[10]!==b||n[11]!==v||n[12]!==s?(S=C&&!b?null:o("LSMessagingThreadTypeUtil").isOneToOne(s.threadType)?v!=null?d.jsx(h,{afterSendMessage:a,otherUser:v[1],thread:s}):r("FBLogger")("igd_web").mustfix("Missing contact row"):d.jsx(g,{afterSendMessage:a,thread:s}),n[8]=a,n[9]=C,n[10]=b,n[11]=v,n[12]=s,n[13]=S):S=n[13];var R;return n[14]!==S?(R=d.jsx(d.Fragment,{children:S}),n[14]=S,n[15]=R):R=n[15],R}function C(t){var n=o("react-compiler-runtime").c(12),a=t.afterSendMessage,l=t.thread,s=(e||(e=r("useReStore")))();r("usePrecompileURLMatcher")();var c;n[0]!==s.tables.threads||n[1]!==l.threadKey?(c=function(){return o("ReQL").fromTableAscending(s.tables.threads,["lastActivityTimestampMs"]).getKeyRange(l.threadKey).map(v)},n[0]=s.tables.threads,n[1]=l.threadKey,n[2]=c):c=n[2];var m;n[3]!==s||n[4]!==l.threadKey?(m=[s,l.threadKey],n[3]=s,n[4]=l.threadKey,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(c,m,i.id+":343"),_;n[6]!==p?(_=p!=null?!(u||(u=o("I64"))).equal(p,(u||(u=o("I64"))).zero):!0,n[6]=p,n[7]=_):_=n[7];var f=_,g;return n[8]!==a||n[9]!==f||n[10]!==l?(g=d.jsx(r("CometErrorBoundary.react"),{fallback:b,children:d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsx(y,{afterSendMessage:a,hasActivity:f,thread:l})})}),n[8]=a,n[9]=f,n[10]=l,n[11]=g):g=n[11],g}function b(){return d.jsx(r("MWV2ErrorComposer.react"),{})}b.displayName=b.name+" [from "+i.id+"]";function v(e){return e.lastActivityTimestampMs}l.default=C}),98);
__d("IGDComposerForCannes_Slide.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__IGDEnableOffMsysComposerQErelayprovider"}],kind:"Fragment",metadata:null,name:"IGDComposerForCannes_Slide",selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useIGDComposerBlockType_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"IGDComposerBlockForThreadOffMsys_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread"},{condition:"__relay_internal__pv__IGDEnableOffMsysComposerQErelayprovider",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDOffMsysComposer_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"viewer_thread_for_composer"}]}],storageKey:null}],type:"SlideThread",abstractKey:null};a.exports=e}),null);
__d("IGDMessageRequestComposerLayout.react",["CometColumn.react","CometColumnItem.react","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={header:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(25),n=e.messageRequestAccept,a=e.messageRequestBlockLeave,i=e.messageRequestDelete,l=e.messageRequestFootnote,c=e.messageRequestHeader,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x5ur3kl x13fuv20 x178xt8z"},t[0]=d):d=t[0];var m;t[1]!==c?(m=s.jsx(r("CometColumnItem.react"),{align:"center",children:c}),t[1]=c,t[2]=m):m=t[2];var p;t[3]!==l?(p=s.jsx(r("CometColumnItem.react"),{align:"center",paddingTop:12,children:l}),t[3]=l,t[4]=p):p=t[4];var _;t[5]!==m||t[6]!==p?(_=s.jsxs(r("CometColumn.react"),{paddingHorizontal:16,paddingVertical:16,xstyle:u.header,children:[m,p]}),t[5]=m,t[6]=p,t[7]=_):_=t[7];var f,g;t[8]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 xyamay9 xv54qhq x1l90r2v xf7dkkf"},g={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},t[8]=f,t[9]=g):(f=t[8],g=t[9]);var h;t[10]!==a?(h=s.jsx("li",babelHelpers.extends({},g,{children:a})),t[10]=a,t[11]=h):h=t[11];var y,C;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx("li",{"aria-hidden":!0,className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"}),C={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},t[12]=y,t[13]=C):(y=t[12],C=t[13]);var b;t[14]!==i?(b=s.jsx("li",babelHelpers.extends({},C,{children:i})),t[14]=i,t[15]=b):b=t[15];var v;t[16]!==n?(v=n!=null?s.jsxs(s.Fragment,{children:[s.jsx("li",{"aria-hidden":!0,className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"}),s.jsx("li",{className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8",children:n})]}):null,t[16]=n,t[17]=v):v=t[17];var S;t[18]!==b||t[19]!==v||t[20]!==h?(S=s.jsxs("ul",babelHelpers.extends({},f,{children:[h,y,b,v]})),t[18]=b,t[19]=v,t[20]=h,t[21]=S):S=t[21];var R;return t[22]!==S||t[23]!==_?(R=s.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:s.jsxs("div",babelHelpers.extends({},d,{children:[_,S]}))}),t[22]=S,t[23]=_,t[24]=R):R=t[24],R}l.default=c}),98);
__d("IGDMessageRequestComposerBannerLoading.react",["IGDMessageRequestComposerLayout.react","IGDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmerButton:{height:"x1v9usgg",maxWidth:"x193iq5w",width:"x9fslfs",$$css:!0},glimmerFootnote:{height:"x6w4g8m",maxWidth:"x7ep2pv",width:"xh8yej3",$$css:!0},glimmerHeader:{height:"x1v9usgg",maxWidth:"x256u9z",width:"xh8yej3",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(1),t;if(e[0]===Symbol.for("react.memo_cache_sentinel")){var n;t=s.jsx(r("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:s.jsx(n=r("IGDSGlimmer.react"),{index:1,xstyle:u.glimmerButton}),messageRequestBlockLeave:s.jsx(n,{index:1,xstyle:u.glimmerButton}),messageRequestDelete:s.jsx(n,{index:1,xstyle:u.glimmerButton}),messageRequestFootnote:s.jsx(n,{index:1,xstyle:u.glimmerFootnote}),messageRequestHeader:s.jsx(n,{index:1,xstyle:u.glimmerHeader})}),e[0]=t}else t=e[0];return t}l.default=c}),98);
__d("IGDComposerMsys.react",["CometPlaceholder.react","IGDComposerCommon.react","IGDMessageRequestComposerBannerLoading.react","LSMessagingThreadTypeUtil","MessengerWebUXLogger","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDComposerMsys.react"));function c(e){var t=o("react-compiler-runtime").c(15),n=e.afterSendMessage,a=e.thread,l=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(a),c;t[0]!==a.threadKey||t[1]!==a.threadType?(c={eventName:"composer_rendered",threadKey:a.threadKey,threadType:a.threadType},t[0]=a.threadKey,t[1]=a.threadType,t[2]=c):c=t[2];var d=r("MessengerWebUXLogger").useImpressionLoggerRef(c);if(l){var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(r("IGDMessageRequestComposerBannerLoading.react"),{}),t[3]=m):m=t[3];var p;t[4]!==a?(p=s.jsx(r("CometPlaceholder.react"),{fallback:m,name:i.id,children:s.jsx(u,{thread:a})}),t[4]=a,t[5]=p):p=t[5];var _;return t[6]!==d||t[7]!==p?(_=s.jsx("div",{ref:d,children:p}),t[6]=d,t[7]=p,t[8]=_):_=t[8],_}var f;t[9]!==n||t[10]!==a?(f=s.jsx(r("IGDComposerCommon.react"),{afterSendMessage:n,thread:a}),t[9]=n,t[10]=a,t[11]=f):f=t[11];var g;return t[12]!==d||t[13]!==f?(g=s.jsx("div",{ref:d,children:f}),t[12]=d,t[13]=f,t[14]=g):g=t[14],g}l.default=c}),98);
__d("IGDOffMsysComposerInner_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerInner_XFBIGDirectViewerThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDOffMsysComposerView_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDMediaStagingConstants",[],(function(t,n,r,o,a,i){"use strict";var e="IGDOffMsysComposer",l="igd",s=25;i.IGD_COMPOSER_OFF_MSYS_HANDLE_FILE_SELECT_ENTRYPOINT=e,i.IGD_HANDLE_FILE_SELECT_PLATFORM=l,i.IGD_DEFAULT_MAX_ATTACHMENT_SIZE_MB=s}),66);
__d("WmiHandleFileSelect",["GetAttachmentTypeFromFile","GetPreviewDimension","MWChatFileUploadErrorDialog.react","MWPAttachmentUploadQplFlow","Promise","WAResolvable","WmiMediaStagingTypes","WmiMediaUpload","asyncToGeneratorRuntime","emptyFunction","promiseDone","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a,i,l){return(e||(e=n("Promise"))).all(t.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e,n=r("uuidv4")(),s=yield o("GetAttachmentTypeFromFile").getAttachmenTypeFromFile(t),u=URL.createObjectURL(t),c=yield t.type.includes("video/")?o("GetPreviewDimension").getVideoPreviewDimensions(u):o("GetPreviewDimension").getPreviewDimensions(u),d={attachmentType:s,fbidResolvable:new(o("WAResolvable")).Resolvable,filename:o("WmiMediaStagingTypes").toFileName(t.name),filesize:t.size,isSent:!1,mimeType:t.type,offlineAttachmentId:o("WmiMediaStagingTypes").toOfflineAttachmentFbid(n),previewHeight:c==null?void 0:c.previewHeight,previewUrl:u,previewWidth:c==null?void 0:c.previewWidth,progress:0,threadFbid:a,uploadQplFlow:o("MWPAttachmentUploadQplFlow").startAttachmentUploadQplFlow({attachmentType:s,entryPoint:i,fileSize:t.size,platform:l})};return d});return function(t){return e.apply(this,arguments)}})()))}function u(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.size>t*1024*1024)return t}return null}function c(e,t,n,a,i,l,c,d,m,p){var _=m.onInvalidFileTypeCallback,f=m.onUploadFailureCallback,g=e.some(function(e){return e.type==="application/zip"||e.type==="application/x-zip-compressed"});if(g){_();return}if(p!=null){var h=p.maxFileSize,y=p.showErrorDialog,C=u(e,h);if(C!=null&&y!=null){y(o("MWChatFileUploadErrorDialog.react").maxFileSizeExceeded(C),r("emptyFunction"));return}}r("promiseDone")(s(e,t,c,d),function(t){return n(t),o("WmiMediaUpload").wmiUploadStagedMedia({files:e,getMediaStaging:i,mediaStagings:t,onUploadFailureCallback:f,removeMediaStaging:l,updatedMediaStaging:a})})}l.wmiHandleFileSelect=c}),98);
__d("useMediaStagingErrorCallbacks",["fbt","react-compiler-runtime","useIGDMediaMangerUploadFailedToast"],(function(t,n,r,o,a,i,l,s){"use strict";function e(){var e=o("react-compiler-runtime").c(2),t=r("useIGDMediaMangerUploadFailedToast")(),n;return e[0]!==t?(n={onInvalidFileTypeCallback:function(){t(s._(/*BTDS*/"_j[\"Invalid file format\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]"),s._(/*BTDS*/"The file you have selected is not a valid format."))},onUploadFailureCallback:function(){t(s._(/*BTDS*/"Upload failed"))}},e[0]=t,e[1]=n):n=e[1],n}l.useMediaStagingErrorCallbacks=e}),226);
__d("WmiMediaStagingManagerClient",["uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map,this.$2=new Map,this.$3=new Map}var t=e.prototype;return t.$4=function(){this.$2.forEach(function(e){e.listener()})},t.$5=function(t){this.$2.forEach(function(e){e.threadFbid===t&&e.listener()})},t.getMediaStagingsForThread=function(t){var e,n,r=this.$3.get(t);if(r!=null)return r;var o=Array.from((e=(n=this.$1.get(t))==null?void 0:n.values())!=null?e:[]);return this.$3.set(t,o),o},t.getMediaStaging=function(t,n){var e,r;return(e=(r=this.$1.get(t))==null?void 0:r.get(n))!=null?e:null},t.setMediaStaging=function(t,n){var e,r=new Map((e=this.$1.get(t))!=null?e:[]);r.set(n.offlineAttachmentId,n),this.$1.set(t,r),this.$3.delete(t),this.$5(t)},t.updateMediaStaging=function(t,n,r){var e=this.getMediaStaging(t,n);if(e==null)return"no-staging";this.setMediaStaging(t,babelHelpers.extends({},e,r))},t.removeMediaStaging=function(t,n){var e;(e=this.$1.get(t))==null||e.delete(n),this.$3.delete(t),this.$5(t)},t.subscribe=function(t,n){var e=this,o=r("uuidv4")();return this.$2.set(o,{listener:n,threadFbid:t}),function(){e.$2.delete(o)}},t.cleanup=function(){this.$4(),this.$3.clear(),this.$1.clear()},e})();l.WmiMediaStagingManagerClient=e}),98);
__d("IGDMediaStagingContext",["WmiMediaStagingManagerClient","react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useEffect,m=c(null);function p(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=r("useStable")(_),i,l;t[0]!==a?(i=function(){return(function(){a==null||a.cleanup()})},l=[a],t[0]=a,t[1]=i,t[2]=l):(i=t[1],l=t[2]),d(i,l);var u;return t[3]!==n||t[4]!==a?(u=s.jsx(m.Provider,{value:a,children:n}),t[3]=n,t[4]=a,t[5]=u):u=t[5],u}function _(){return new(o("WmiMediaStagingManagerClient")).WmiMediaStagingManagerClient}l.IGDMediaStagingClientContext=m,l.IGDMediaStagingContextProvider=p}),98);
__d("useMediaStagingForThread",["IGDMediaStagingContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useSyncExternalStore,m=[];function p(e){var t=o("react-compiler-runtime").c(6),n=c(o("IGDMediaStagingContext").IGDMediaStagingClientContext),r;t[0]!==n||t[1]!==e?(r=function(r){return n?n.subscribe(e,r):f},t[0]=n,t[1]=e,t[2]=r):r=t[2];var a=r,i;t[3]!==n||t[4]!==e?(i=function(){if(!n)return m;var t=n.getMediaStagingsForThread(e);return t.length===0?m:t},t[3]=n,t[4]=e,t[5]=i):i=t[5];var l=i;return d(a,l,_)}function _(){return m}function f(){}l.useMediaStagingForThread=p}),98);
__d("useMediaStagingManagerClient",["IGDMediaStagingContext","WmiMediaStagingTypes","react","react-compiler-runtime","useMediaStagingForThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(e){var t=o("react-compiler-runtime").c(7),n=u(o("IGDMediaStagingContext").IGDMediaStagingClientContext),r=o("useMediaStagingForThread").useMediaStagingForThread(e),a;e:{if(!n){var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={getMediaStaging:f,removeMediaStaging:_,setMediaStaging:p,updateMediaStaging:m},t[0]=i):i=t[0],a=i;break e}var l;t[1]!==n||t[2]!==e?(l={getMediaStaging:function(r){var t=o("WmiMediaStagingTypes").toOfflineAttachmentFbid(r);return n.getMediaStaging(e,t)},removeMediaStaging:function(r){var t=o("WmiMediaStagingTypes").toOfflineAttachmentFbid(r);n.removeMediaStaging(e,t)},setMediaStaging:function(r){n.setMediaStaging(e,r)},updateMediaStaging:function(r,o){n.updateMediaStaging(e,r,o)}},t[1]=n,t[2]=e,t[3]=l):l=t[3],a=l}var s=a,c;return t[4]!==s||t[5]!==r?(c=babelHelpers.extends({mediaStagings:r},s),t[4]=s,t[5]=r,t[6]=c):c=t[6],c}function m(){}function p(){}function _(){}function f(){return null}l.useMediaStagingManagerClient=d}),98);
__d("IGDComposerMediaStagingOffMsys.react",["fbt","BaseFileSelector.react","CometImage.react","FDSImageCover.react","IGDMediaStagingConstants","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","IGDSTooltip.react","IGDSXPanoFilledIcon.react","WmiHandleFileSelect","react","react-compiler-runtime","useCurrentDisplayMode","useMWXAlertDialog","useMediaStagingErrorCallbacks","useMediaStagingManagerClient"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p=c.useState,_={stackingUploadButton:{height:"x1peatla",width:"x1fu8urw",$$css:!0},uploadButton:{backgroundColor:"x1a4onnt",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"xnxb3zj",position:"x1n2onr6",width:"xo5x3gg",$$css:!0}},f=s._(/*BTDS*/"Remove attachment"),g=s._(/*BTDS*/"Upload another photo\/video"),h=s._(/*BTDS*/"Image cover for attached media"),y=s._(/*BTDS*/"File Icon for non photo\/video file");function C(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){var t=Array.from(n);t.length>0&&e(t)},t[0]=e,t[1]=n):n=t[1],n}function b(e){var t=o("react-compiler-runtime").c(16),n=e.isStacking,a=e.multiple,i=e.onAttachmentsAdded,l=e.supportedFileTypes,s=a===void 0?!0:a,c=C(i),d=p(!1),m=d[0],f=d[1],h=r("useCurrentDisplayMode")()==="dark",y;t[0]!==n?(y={0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[(n===!0)<<0],t[0]=n,t[1]=y):y=t[1];var b=h?"primary":"black",v;t[2]!==n?(v=function(t){return u.jsx(r("IGDSIconButton.react"),{label:g,onClick:t,onHoverEnd:function(){return f(!1)},onHoverStart:function(){return f(!0)},xstyle:[_.uploadButton,n===!0&&_.stackingUploadButton],children:u.jsx(r("IGDSPhotoOutlineIcon.react"),{alt:g,color:"ig-primary-text"})})},t[2]=n,t[3]=v):v=t[3];var S;t[4]!==s||t[5]!==c||t[6]!==l||t[7]!==v?(S=u.jsx(r("BaseFileSelector.react"),{accept:l,multiple:s,onFilesSelected:c,children:v}),t[4]=s,t[5]=c,t[6]=l,t[7]=v,t[8]=S):S=t[8];var R;t[9]!==b||t[10]!==S||t[11]!==m?(R=u.jsx(r("IGDSTooltip.react"),{align:"middle",color:b,isVisible:m,position:"above",tooltip:g,children:S}),t[9]=b,t[10]=S,t[11]=m,t[12]=R):R=t[12];var L;return t[13]!==y||t[14]!==R?(L=u.jsx("div",babelHelpers.extends({},y,{children:R})),t[13]=y,t[14]=R,t[15]=L):L=t[15],L}function v(e){var t=o("react-compiler-runtime").c(17),n=e.isStacking,a=e.mediaStagingItem,i=e.onPress,l=r("useCurrentDisplayMode")()==="dark",c=p(!1),d=c[0],m=c[1],_;t[0]!==n?(_={0:{className:"x1euzuty x10l6tqk xtu2xtp"},1:{className:"x10l6tqk xtijo5x x13vifvy"}}[(n===!0)<<0],t[0]=n,t[1]=_):_=t[1];var g=l?"primary":"black",h;t[2]!==a.filename?(h=s._(/*BTDS*/"Remove attachment: {file-name}",[s._param("file-name",a.filename)]),t[2]=a.filename,t[3]=h):h=t[3];var y,C;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=function(){return m(!1)},C=function(){return m(!0)},t[4]=y,t[5]=C):(y=t[4],C=t[5]);var b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx("div",{className:"x6s0dn4 xnz67gz x6zrd4h x1f58dfg x903dn5 xis42z1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 x1qx5ct2 xl56j7k xw4jnvo x9ro6w8",children:u.jsx(r("IGDSXPanoFilledIcon.react"),{alt:f,size:9})}),t[6]=b):b=t[6];var v;t[7]!==i||t[8]!==h?(v=u.jsx(r("IGDSIconButton.react"),{label:h,onClick:i,onHoverEnd:y,onHoverStart:C,padding:0,children:b}),t[7]=i,t[8]=h,t[9]=v):v=t[9];var S;t[10]!==g||t[11]!==v||t[12]!==d?(S=u.jsx(r("IGDSTooltip.react"),{align:"middle",color:g,isVisible:d,position:"above",tooltip:f,children:v}),t[10]=g,t[11]=v,t[12]=d,t[13]=S):S=t[13];var R;return t[14]!==_||t[15]!==S?(R=u.jsx("div",babelHelpers.extends({},_,{children:S})),t[14]=_,t[15]=S,t[16]=R):R=t[16],R}var S=function(t){return t.mimeType==="image/gif"||t.mimeType==="image/webp"};function R(e){var t=o("react-compiler-runtime").c(17),n=e.mediaStagingItem,a=n.attachmentType,i=n.previewUrl,l=null,s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=[null],t[0]=s):s=t[0],m(k,s);var c=E,d=L;if(S(n)){if(i!=null){var p;return t[1]!==i?(p=u.jsx(r("FDSImageCover.react"),{alt:h,src:i}),t[1]=i,t[2]=p):p=t[2],p}}else if(a==="video"){if(i!=null){var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xl1xv1r"},t[3]=_):_=t[3];var f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=function(t){return c("load-video-error",{string:{video_error_name:t.type}})},t[4]=f):f=t[4];var g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx("track",{kind:"captions"}),t[5]=g):g=t[5];var y;t[6]!==i?(y=u.jsx("video",babelHelpers.extends({},_,{height:"70",onError:f,onLoadedData:d,src:i,width:"70",children:g})),t[6]=i,t[7]=y):y=t[7];var C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx("div",{className:"xbudbmw x18xomjl x7wgvq7 x10l6tqk xwa60dl",children:u.jsx(r("CometImage.react"),{src:"/images/video/play_24dp.png"})}),t[8]=C):C=t[8];var b;return t[9]!==y?(b=u.jsxs(u.Fragment,{children:[y,C]}),t[9]=y,t[10]=b):b=t[10],b}}else if(a==="image"&&i!=null){var v;t[11]===Symbol.for("react.memo_cache_sentinel")?(v=function(){return c("load-image-error")},t[11]=v):v=t[11];var R;t[12]===Symbol.for("react.memo_cache_sentinel")?(R={userSelect:"none"},t[12]=R):R=t[12];var I;return t[13]!==i?(I=u.jsx(r("FDSImageCover.react"),{alt:"",onError:v,onLoad:d,src:i,style:R}),t[13]=i,t[14]=I):I=t[14],I}var D;return t[15]!==n?(D=u.jsx(T,{mediaRenderQpl:null,mediaStagingItem:n}),t[15]=n,t[16]=D):D=t[16],D}function L(){var e;(e=null)==null||e.endSuccessAfterDelay()}function E(e,t){var n;(n=null)==null||n.endFailAfterDelay(e,t)}function k(){var e;(e=null)==null||e.addPoint("staging-item-render")}function I(e){var t=o("react-compiler-runtime").c(24),n=e.isStacking,r=e.mediaStagingItem,a=e.onAttachmentRemoved,i;t[0]!==r.offlineAttachmentId||t[1]!==a?(i=function(){a(r.offlineAttachmentId)},t[0]=r.offlineAttachmentId,t[1]=a,t[2]=i):i=t[2];var l=i,s;t[3]!==r?(s=r.attachmentType!=="video"&&r.attachmentType!=="image"&&!S(r),t[3]=r,t[4]=s):s=t[4];var c=s,d;t[5]!==c||t[6]!==n?(d={0:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 xo5x3gg"},2:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 x2pejg6"},1:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"},3:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"}}[!!c<<1|(n===!0)<<0],t[5]=c,t[6]=n,t[7]=d):d=t[7];var m;t[8]!==c||t[9]!==n?(m={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 xo5x3gg"},2:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 x1ybostu x2pejg6"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1peatla x1fu8urw"},3:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1ybostu x1peatla x1fu8urw"}}[!!c<<1|(n===!0)<<0],t[8]=c,t[9]=n,t[10]=m):m=t[10];var p;t[11]!==r?(p=u.jsx(R,{mediaStagingItem:r}),t[11]=r,t[12]=p):p=t[12];var _;t[13]!==m||t[14]!==p?(_=u.jsx("div",babelHelpers.extends({},m,{children:p})),t[13]=m,t[14]=p,t[15]=_):_=t[15];var f;t[16]!==n||t[17]!==r||t[18]!==l?(f=u.jsx(v,{isStacking:n,mediaStagingItem:r,onPress:l}),t[16]=n,t[17]=r,t[18]=l,t[19]=f):f=t[19];var g;return t[20]!==d||t[21]!==_||t[22]!==f?(g=u.jsxs("div",babelHelpers.extends({},d,{children:[_,f]})),t[20]=d,t[21]=_,t[22]=f,t[23]=g):g=t[23],g}function T(e){var t=o("react-compiler-runtime").c(8),n=e.mediaRenderQpl,a=e.mediaStagingItem,i,l;t[0]!==n?(i=function(){n==null||n.endSuccessAfterDelay()},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),m(i,l);var s,c,d;t[3]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},c=u.jsx(r("IGDSMediaOutlineIcon.react"),{alt:y}),d={className:"x1iyjqo2"},t[3]=s,t[4]=c,t[5]=d):(s=t[3],c=t[4],d=t[5]);var p;return t[6]!==a.filename?(p=u.jsxs("div",babelHelpers.extends({},s,{children:[c,u.jsx("div",babelHelpers.extends({},d,{children:u.jsxs(r("IGDSText.react"),{maxLines:2,weight:"light",children:[" ",a.filename," "]})}))]})),t[6]=a.filename,t[7]=p):p=t[7],p}function D(e){var t=o("react-compiler-runtime").c(25),n=e.hideUploadPlaceholder,a=e.isStacking,i=e.multiple,l=e.supportedFileTypes,s=e.threadId,c=n===void 0?!1:n,d=i===void 0?!0:i,m=o("useMediaStagingManagerClient").useMediaStagingManagerClient(s),p=m.getMediaStaging,_=m.mediaStagings,f=m.removeMediaStaging,g=m.setMediaStaging,h=m.updateMediaStaging,y;t[0]!==g?(y=function(t){for(var e of t)g(e)},t[0]=g,t[1]=y):y=t[1];var C=y,v;t[2]!==h?(v=function(t,n){h(t,n)},t[2]=h,t[3]=v):v=t[3];var S=v,R=_.filter(x),L=r("useMWXAlertDialog")(),E=o("useMediaStagingErrorCallbacks").useMediaStagingErrorCallbacks();if(R.length===0)return null;var k;t[4]!==a?(k={0:{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj x1g0dm76 x18d9i69 xh8yej3"},1:{className:"x6s0dn4 x9f619 x78zum5 x1nhvcw1 xw2csxc x18d9i69 x1a02dak xzueoph xoo30xy xyri2b x1c1uobl x1iorvi4 x1mk2rj3"}}[(a===!0)<<0],t[4]=a,t[5]=k):k=t[5];var T;t[6]!==C||t[7]!==E||t[8]!==p||t[9]!==c||t[10]!==a||t[11]!==d||t[12]!==f||t[13]!==L||t[14]!==l||t[15]!==s||t[16]!==S?(T=c?null:u.jsx(b,{isStacking:a,multiple:d,onAttachmentsAdded:function(t){o("WmiHandleFileSelect").wmiHandleFileSelect(t,s,C,S,p,f,o("IGDMediaStagingConstants").IGD_COMPOSER_OFF_MSYS_HANDLE_FILE_SELECT_ENTRYPOINT,o("IGDMediaStagingConstants").IGD_HANDLE_FILE_SELECT_PLATFORM,E,{maxFileSize:o("IGDMediaStagingConstants").IGD_DEFAULT_MAX_ATTACHMENT_SIZE_MB,showErrorDialog:L})},supportedFileTypes:l}),t[6]=C,t[7]=E,t[8]=p,t[9]=c,t[10]=a,t[11]=d,t[12]=f,t[13]=L,t[14]=l,t[15]=s,t[16]=S,t[17]=T):T=t[17];var D;t[18]!==a||t[19]!==f?(D=function(t){return u.jsx(I,{isStacking:a,mediaStagingItem:t,onAttachmentRemoved:f},t.offlineAttachmentId)},t[18]=a,t[19]=f,t[20]=D):D=t[20];var $=R.map(D),P;return t[21]!==k||t[22]!==T||t[23]!==$?(P=u.jsxs("div",babelHelpers.extends({},k,{children:[T,$]})),t[21]=k,t[22]=T,t[23]=$,t[24]=P):P=t[24],P}function x(e){return!e.isSent}l.default=D}),226);
__d("IGDComposerVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c={voiceClip:{paddingInlineEnd:"x1icxu4v",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(10),n=e.voiceRecorder,a=r("MessengerWebUXLogger").useInteractionLogger(),i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;t[0]!==i?(l={eventName:"composer_audio_button_rendered",flowInstanceId:i},t[0]=i,t[1]=l):l=t[1];var u=r("MessengerWebUXLogger").useImpressionLoggerRef(l),d;t[2]!==i||t[3]!==a||t[4]!==n?(d=function(){navigator.mediaDevices&&r("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(e){n.start(e)})),a==null||a({eventName:"composer_record_audio",flowInstanceId:i})},t[2]=i,t[3]=a,t[4]=n,t[5]=d):d=t[5];var m=d,p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("IGDSMicrophonePanoOutline24Icon.react"),{alt:o("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),t[6]=p):p=t[6];var _;return t[7]!==u||t[8]!==m?(_=s.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:u,onClick:m,xstyle:c.voiceClip,children:p}),t[7]=u,t[8]=m,t[9]=_):_=t[9],_}l.default=d}),98);
__d("IGDOffMsysComposerRichContentButton.react",["IGDComposerRichContentButtonPopoverTrigger.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.threadFbid,a;return t[0]!==n?(a=s.jsx(r("IGDComposerRichContentButtonPopoverTrigger.react"),{enableOffMsysComposer:!0,threadFbid:n}),t[0]=n,t[1]=a):a=t[1],a}l.default=u}),98);
__d("IGDOffMsysComposerView_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposerView_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{args:null,kind:"FragmentSpread",name:"IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"useComposerFeatures_XFBIGDirectViewerThread"},{args:null,kind:"FragmentSpread",name:"usePublishTypingIndicator_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDComposerOffMsysMentionsViewItem.react",["fbt","CometSearchMentionsBaseViewItem.react","IGDSAvatar.react","IGDSText.react","IGDSTextPairing.react","IGDSUsersPanoOutline24Icon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["entry"],u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(18),a,i;n[0]!==t?(a=t.entry,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,u=l.handle,d=l.rawData,m=d.profilePictureUrl,p=d.source,_=d.subtitle,f;n[3]!==m||n[4]!==p?(f=p==="all"?c.jsx(r("IGDSUsersPanoOutline24Icon.react"),{alt:s._(/*BTDS*/"Mention everyone")}):c.jsx(r("IGDSAvatar.react"),{alt:s._(/*BTDS*/"Instagram Avatar Profile Picture"),size:"small",src:m!=null?m:""}),n[3]=m,n[4]=p,n[5]=f):f=n[5];var g=f,h;n[6]!==u?(h=c.jsx(r("IGDSText.react"),{color:"primaryText",size:"label",children:u}),n[6]=u,n[7]=h):h=n[7];var y;n[8]!==_?(y=c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:_}),n[8]=_,n[9]=y):y=n[9];var C;n[10]!==h||n[11]!==y?(C=c.jsx(r("IGDSTextPairing.react"),{body:h,bodyLineLimit:1,level:"operational",meta:y,metaLineLimit:1,textAlign:"start"}),n[10]=h,n[11]=y,n[12]=C):C=n[12];var b;return n[13]!==g||n[14]!==a||n[15]!==i||n[16]!==C?(b=c.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},i,{entry:a,itemStartContent:g,children:C})),n[13]=g,n[14]=a,n[15]=i,n[16]=C,n[17]=b):b=n[17],b}l.default=d}),226);
__d("IGDMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){return o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:e.key,text:r("cometMentionsDataEntryText")(e)})}),s=e;l.default=s}),98);
__d("IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{args:null,kind:"FragmentSpread",name:"useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("IGDComposerTypeaheadUtil",["fbt","MWChatComposerMentionsUtils"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"everyone").toString();function u(t,n,r,a,i){var l=t.query,u=[],c=[];if(n.forEach(function(e){var t=e.id,n=e.isBlockedByViewer,r=e.nickname,a=e.primaryName,i=e.profilePictureUrl,s=e.secondaryName;if(!n){var c=null;if(s!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(s,l)?c="secondaryName":o("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,l)?c="name":r!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(r,l)&&(c="nickname"),c!=null&&i!=null){var d=s;d==null&&(d=s!=null?s:c==="nickname"&&r!=null?r:a),u.push({decorType:"regular",handle:d,key:t+" "+c,label:a,rawData:{profilePictureUrl:i,source:c,subtitle:s!=null?s:r},type:"entry"})}}}),o("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,l)){var d=s._(/*BTDS*/"Mention everyone in this chat").toString();c.push({decorType:"regular",handle:e,key:""+r,label:e,rawData:{source:"all",subtitle:d},type:"entry"})}var m=[].concat(u.slice(0,i),c);return m.length<i&&a&&a(l,i-m.length),{entries:m,params:t}}l.fetchCacheComposerMentionsTypeahead=u}),226);
__d("IGDOffMsysComposerMentionsTypeaheadDataSource",["IGDComposerTypeaheadUtil","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=6,u=(function(){function t(e,t,n){this.$1=[],this.$1=e,this.$2=t,this.$3=n!=null?n:null}var r=t.prototype;return r.bootstrap=function(){},r.fetchCache=function(t){return o("IGDComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(t,this.$1,this.$2,this.$3,s)},r.fetchNetwork=function(r){return(e||(e=n("Promise"))).resolve(this.fetchCache(r))},t})();l.default=u}),98);
__d("useIGDMentionsDataSourceResolverConfig",["IGDOffMsysComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e){var t=o("react-compiler-runtime").c(7),n=e.participants,a=e.threadFBID,i=e.triggerParticipantsSearch,l;t[0]!==n||t[1]!==a||t[2]!==i?(l=new(r("IGDOffMsysComposerMentionsTypeaheadDataSource"))(n,a,i),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3];var s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=r("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0}),t[4]=s):s=t[4];var u;t[5]!==l?(u=[{dataSource:l,matchStrategy:s}],t[5]=l,t[6]=u):u=t[6];var c=u;return r("useCometMentionsDataSourceResolverConfig")(c,!0)}l.default=u}),98);
__d("useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useViewerThreadNicknames_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDOffMsysMentionCandidates",["CometRelay","react-compiler-runtime","useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread.graphql","useViewerThreadNicknames"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("react-compiler-runtime").c(5),i=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDOffMsysMentionCandidates_XFBIGDirectViewerThread.graphql"),t),l=r("useViewerThreadNicknames")(i),s;if(a[0]!==i.users){var u;s=(u=i.users)!=null?u:[],a[0]=i.users,a[1]=s}else s=a[1];var c=s,d;a[2]!==l||a[3]!==c?(d=c.map(function(e){var t,n,r,o,a,i=l.get(e.id);return{id:e.interop_messaging_user_fbid,isBlockedByViewer:(t=(n=e.friendship_status)==null?void 0:n.blocking)!=null?t:!1,nickname:i,primaryName:(r=e.full_name)!=null?r:"",profilePictureUrl:(o=e.profile_pic_url)!=null?o:"",secondaryName:(a=e.username)!=null?a:""}}),a[2]=l,a[3]=c,a[4]=d):d=a[4];var m=d;return m}l.default=s}),98);
__d("IGDOffMsysMentionsPluginForLexical.react",["CometMentionsForLexical.react","CometRelay","IGDComposerOffMsysMentionsViewItem.react","IGDMentionsLayoutStrategy.react","IGDMentionsLexicalCreateNodeStrategy","IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread.graphql","IGDThreadListNewMessageLoggingDataContext","Lexical","MessengerWebUXLogger","react","react-compiler-runtime","useCometMentionsViewListStrategy","useIGDMentionsDataSourceResolverConfig","useIGDOffMsysMentionCandidates"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo,p={root:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",marginTop:"xdj266r",marginBottom:"xat24cr",minWidth:"x1jzhcrs",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function _(t){var a=o("react-compiler-runtime").c(13),i=t.editor,l=t.viewerThreadData,s=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDOffMsysMentionsPluginForLexical_XFBIGDirectViewerThread.graphql"),l),c=s.thread_fbid,d=r("useIGDOffMsysMentionCandidates")(s),m;a[0]!==d||a[1]!==c?(m={participants:d,threadFBID:c},a[0]=d,a[1]=c,a[2]=m):m=a[2];var p=m,_=r("useIGDMentionsDataSourceResolverConfig")(p),h;a[3]===Symbol.for("react.memo_cache_sentinel")?(h={viewItemStrategyRenderer:g},a[3]=h):h=a[3];var y=r("useCometMentionsViewListStrategy")(h),C=r("MessengerWebUXLogger").useInteractionLogger(),b=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),v;a[4]!==i||a[5]!==b||a[6]!==C?(v=function(){C==null||C({eventName:"mentions_recipient_selected",flowInstanceId:b}),i.update(f)},a[4]=i,a[5]=b,a[6]=C,a[7]=v):v=a[7];var S=v,R;return a[8]!==_||a[9]!==i||a[10]!==S||a[11]!==y?(R=u.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:r("IGDMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:_,editor:i,layoutStrategyRenderer:r("IGDMentionsLayoutStrategy.react"),onMentionsEntrySelected:S,position:"above",viewStrategyRenderer:y}),a[8]=_,a[9]=i,a[10]=S,a[11]=y,a[12]=R):R=a[12],R}function f(){var e=o("Lexical").$getSelection();o("Lexical").$isRangeSelection(e)&&e.insertText(" ")}function g(e){return u.jsx(r("IGDComposerOffMsysMentionsViewItem.react"),babelHelpers.extends({},e,{xstyle:p.root}))}g.displayName=g.name+" [from "+i.id+"]",l.default=_}),98);
__d("useComposerFeatures_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"useComposerFeatures_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,concreteType:"XFBIGThreadCapabilitiesBitVector",kind:"LinkedField",name:"ig_thread_capabilities",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"capabilities_0",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"capabilities_1",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useComposerFeatures",["CometRelay","IGDThreadCapabilitiesUtils","PolarisUA","qex","react-compiler-runtime","useComposerFeatures_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return e>=o("IGDThreadCapabilitiesUtils").MAX_SUPPORTED_THREAD_CAPABILITY_OFFSET?(o("IGDThreadCapabilitiesUtils").reportOutOfBoundBitOffset(o("IGDThreadCapabilitiesUtils").MAX_SUPPORTED_THREAD_CAPABILITY_OFFSET,e),!1):e>=64?o("IGDThreadCapabilitiesUtils").checkCapability1(e,n):o("IGDThreadCapabilitiesUtils").checkCapability0(e,t)}function u(t,a){var i=o("react-compiler-runtime").c(34),l=o("CometRelay").useFragment(e!==void 0?e:e=n("useComposerFeatures_XFBIGDirectViewerThread.graphql"),a),u;i[0]===Symbol.for("react.memo_cache_sentinel")?(u=o("PolarisUA").isMobile(),i[0]=u):u=i[0];var c=u,d=l.is_group,m=l.ig_thread_capabilities.capabilities_0,p=l.ig_thread_capabilities.capabilities_1,_=t==="IG_AI_BOT_ONE_TO_ONE",f;i[1]!==m||i[2]!==p?(f=!c&&s(56,m,p),i[1]=m,i[2]=p,i[3]=f):f=i[3];var g=f,h;i[4]!==m||i[5]!==p?(h=s(55,m,p),i[4]=m,i[5]=p,i[6]=h):h=i[6];var y=h,C;i[7]!==m||i[8]!==p?(C=s(60,m,p),i[7]=m,i[8]=p,i[9]=C):C=i[9];var b=C,v;i[10]!==b?(v=b&&r("qex")._("4")===!0,i[10]=b,i[11]=v):v=i[11];var S=v,R;i[12]===Symbol.for("react.memo_cache_sentinel")?(R=r("qex")._("499"),i[12]=R):R=i[12];var L=R===!0,E;i[13]!==m||i[14]!==p?(E=s(57,m,p),i[13]=m,i[14]=p,i[15]=E):E=i[15];var k=E,I;i[16]!==m||i[17]!==p?(I=s(58,m,p),i[16]=m,i[17]=p,i[18]=I):I=i[18];var T=I,D=k&&T&&!_,x=d,$;i[19]!==m||i[20]!==p?($=s(42,m,p),i[19]=m,i[20]=p,i[21]=$):$=i[21];var P=$,N=!_,M;if(i[22]===Symbol.for("react.memo_cache_sentinel")){var w;M=!c&&((w=r("qex")._("1358"))!=null?w:!1),i[22]=M}else M=i[22];var A=M,F;return i[23]!==N||i[24]!==g||i[25]!==y||i[26]!==P||i[27]!==_||i[28]!==d||i[29]!==b||i[30]!==x||i[31]!==S||i[32]!==D?(F={crossAppSavesEnabled:L,emojisSupported:N,enableVoiceClip:g,filePickerEnabled:y,hotlikeStickerEnabled:P,isAiThread:_,isGroupThread:d,mediaPickerEnabled:b,mentionsEnabled:x,metaMediaCloudEnabled:S,pollCreationEnabled:!1,richContentEnabled:D,savedReplyEnabled:A},i[23]=N,i[24]=g,i[25]=y,i[26]=P,i[27]=_,i[28]=d,i[29]=b,i[30]=x,i[31]=S,i[32]=D,i[33]=F):F=i[33],F}l.default=u}),98);
__d("IGDMessageState",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.addMessageDraftStateForThread=function(t,n){var e={text:n};this.$1.set(t,e)},t.maybeGetMessageDraftForThread=function(t){return this.$1.get(t)},t.removeMessageDraftStateForThread=function(t){this.$1.delete(t)},e})(),l;function s(){return l==null&&(l=new e),l}i.getOrInitMessageStateHandler=s}),66);
__d("MAWSecureComposerText",["Lexical","LexicalText","MAWJids","MessengerLexicalActorNode","MessengerLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.read(function(){var e=o("Lexical").$getRoot().getFirstChild();return e instanceof o("Lexical").ElementNode?e.getChildren().reduce(function(e,t){var n=o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)&&t.getRangeType()==="t";if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)&&!n){var r=t.getEntity();return e+("@"+o("MAWJids").toUserJid(r.id))}return e+t.getTextContent()},""):o("LexicalText").$rootTextContent()})}l.getTextFromEditorState=e}),98);
__d("useIGDDraftMessages",["IGDMAPIInterfaceTypes","IGDMessageState","Lexical","MAWSecureComposerText","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=o("react-compiler-runtime").c(4),r,a;n[0]!==t||n[1]!==e?(r=function(){var n=o("IGDMessageState").getOrInitMessageStateHandler(),r=n.maybeGetMessageDraftForThread(e);if(r!=null&&r.text!=null){var a=r.text;n.removeMessageDraftStateForThread(e),t.focus(function(){t.update(function(){var e=o("Lexical").$createTextNode(a);o("Lexical").$insertNodes([e])})})}return(function(){var r=t.getEditorState(),a=o("MAWSecureComposerText").getTextFromEditorState(r);n.addMessageDraftStateForThread(e,o("IGDMAPIInterfaceTypes").toMessage(a))})},a=[e,t],n[0]=t,n[1]=e,n[2]=r,n[3]=a):(r=n[2],a=n[3]),s(r,a)}l.useIGDDraftMessage=u}),98);
__d("useIGDOffMsysComposerAutoFocus",["IGDReplyContext.react","IGDThreadlineContext","MWPReplyContext.react","deepEquals","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){return e.focus(function(){})}function m(e){var t=o("react-compiler-runtime").c(12),n=e.editor,a=e.hasUnsentAttachments,i=a===void 0?!1:a,l=o("IGDReplyContext.react").useIGDReplyContext(),s=r("usePrevious")(l),m=u(o("MWPReplyContext.react").MWPReplyContext),p=m.reply,_=r("usePrevious")(p),f=u(o("IGDThreadlineContext").ThreadlineShouldShowContext),g=f.shouldShowThreadline,h,y;t[0]!==n||t[1]!==p||t[2]!==_||t[3]!==s||t[4]!==l||t[5]!==g?(h=function(){if(!g){var e=s==null?l!=null:!r("deepEquals")(s,l),t=_==null?p!=null:!r("deepEquals")(_,p);(e||t)&&d(n)}},y=[n,l,s,p,_,g],t[0]=n,t[1]=p,t[2]=_,t[3]=s,t[4]=l,t[5]=g,t[6]=h,t[7]=y):(h=t[6],y=t[7]),c(h,y);var C,b;t[8]!==n||t[9]!==i?(C=function(){i&&d(n)},b=[n,i],t[8]=n,t[9]=i,t[10]=C,t[11]=b):(C=t[10],b=t[11]),c(C,b)}l.default=m}),98);
__d("IGDMAPISendMediaMessage",["IGDCreateOptimisticLSAttachment","IGDMAPIQPLPoints","IGDMessageSendService","IGDWriteOptimisticLSErrorMessage","IGDWriteOptimisticLSMessage","IGDWriteOptimisticRelayMessage","QPLFlow","WAMediaQplHelper","asyncToGeneratorRuntime","createIGDMessageSendContext","createOptimisticImageSlideMessage","createOptimisticVideoSlideMessage","getSafeQplErrorMessage","qex","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=r("createIGDMessageSendContext")(e),i=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),{annotations:{int:{file_size:t.mediaStaging.filesize},string:{attachment_type:t.mediaStaging.attachmentType,file_size_bucket:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(t.mediaStaging.filesize),mimeType:t.mediaStaging.mimeType,type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.MEDIA}},instanceKey:a.instanceKey});try{var l;if(r("qex")._("2197")){var s,u,c,d,m;i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_START);var p={offlineThreadingId:a.offlineThreadingId,optimisticMessageId:a.optimisticMessageId,repliedToMessageId:((s=t.repliedMessageContent)==null?void 0:s.messageId)!=null?(u=t.repliedMessageContent)==null?void 0:u.messageId:null,senderFbid:t.senderId,threadFbid:t.threadId,timestampMs:a.timestamp.toString()},_={height:(c=t.mediaStaging.previewHeight)!=null?c:0,url:(d=t.mediaStaging.previewUrl)!=null?d:"",width:(m=t.mediaStaging.previewWidth)!=null?m:0},f=t.mediaStaging.attachmentType==="video"?r("createOptimisticVideoSlideMessage")(babelHelpers.extends({},p,{video:_})):r("createOptimisticImageSlideMessage")(babelHelpers.extends({},p,{image:_}));r("IGDWriteOptimisticRelayMessage")(e,f),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_END)}else if(n!=null){i.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START);var g=o("IGDCreateOptimisticLSAttachment").createLSOptimisticMediaAttachment({mediaStaging:t.mediaStaging,offlineThreadingId:a.offlineThreadingId,senderId:n==null?void 0:n.senderId,threadKey:n.threadKey,timestamp:a.timestamp});yield o("IGDWriteOptimisticLSMessage").writeOptimisticLSMessageWithAttachments({attachment:g,messageArgs:babelHelpers.extends({offlineThreadingId:a.offlineThreadingId},n,{timestampMs:a.timestamp,type:2})}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END)}i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var h=o("IGDMessageSendService").makeMessagePublishService();i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START);var y={attachment_fbid:null,offline_threading_id:a.offlineThreadingId,reply_to_message_id:(l=t.repliedMessageContent)==null?void 0:l.messageId,thread_id:t.threadId},C={variables:y};yield h.publish({commitMutationConfig:C,mediaStaging:t.mediaStaging,type:"media"},a,i),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),i.endSuccess()}catch(e){n!=null&&(i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDWriteOptimisticLSErrorMessage")(a.offlineThreadingId,n.threadKey,a.timestamp),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),i.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPISendMediaMessage=e}),98);
__d("IGDMAPISendTextMessage",["IGDMAPIQPLPoints","IGDMessageSendService","IGDWriteOptimisticLSErrorMessage","IGDWriteOptimisticLSMessage","IGDWriteOptimisticRelayMessage","QPLFlow","asyncToGeneratorRuntime","createIGDMessageSendContext","createOptimisticTextSlideMessage","getSafeQplErrorMessage","qex","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i,l,s=r("createIGDMessageSendContext")(e),u=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),babelHelpers.extends({},a,{annotations:babelHelpers.extends({},a==null?void 0:a.annotations,{string:babelHelpers.extends({},a==null||(i=a.annotations)==null?void 0:i.string,{type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.TEXT})}),instanceKey:(l=a==null?void 0:a.instanceKey)!=null?l:s.instanceKey}));try{var c=t.repliedMessageContent,d=c!=null?c.messageId:null;u.addAnnotations({bool:{hasCommands:t.commands!=null,hasMentions:t.mentions!=null,hasReply:d!=null}});var m={commands:t.commands,ig_thread_igid:t.threadId,mentioned_user_ids:t.mentionedUserIds,mentions:t.mentions,offline_threading_id:s.offlineThreadingId,replied_to_item_id:t.repliedToItemId!=null?t.repliedToItemId:null,reply_to_message_id:d,text:{sensitive_string_value:t.text}},p={variables:m};if(r("qex")._("2197")){var _,f;u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_START);var g=r("createOptimisticTextSlideMessage")({offlineThreadingId:s.offlineThreadingId,optimisticMessageId:s.optimisticMessageId,repliedToMessageId:((_=t.repliedMessageContent)==null?void 0:_.messageId)!=null?(f=t.repliedMessageContent)==null?void 0:f.messageId:null,senderFbid:t.senderId,text:t.text,threadFbid:t.threadId,timestampMs:s.timestamp.toString()});r("IGDWriteOptimisticRelayMessage")(e,g),u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_END)}else n!=null&&(u.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START),yield o("IGDWriteOptimisticLSMessage").writeOptimisticLSMessageWithAttachments({attachment:void 0,messageArgs:babelHelpers.extends({message:t.text,offlineThreadingId:s.offlineThreadingId},n,{timestampMs:s.timestamp,type:1})}),u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END));u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var h=o("IGDMessageSendService").makeMessagePublishService();u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START),yield h.publish({commitMutationConfig:p,type:"text"},s,u),u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),u.endSuccess()}catch(e){n!=null&&(u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDWriteOptimisticLSErrorMessage")(s.offlineThreadingId,n.threadKey,s.timestamp),u.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),u.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPISendTextMessage=e}),98);
__d("IGDMAPISendVoiceClip",["IGDCreateOptimisticLSAttachment","IGDMAPIQPLPoints","IGDMessageSendService","IGDWriteOptimisticLSErrorMessage","IGDWriteOptimisticLSMessage","IGDWriteOptimisticRelayMessage","QPLFlow","WAMediaQplHelper","asyncToGeneratorRuntime","createIGDMessageSendContext","createOptimisticAudioSlideMessage","getSafeQplErrorMessage","qex","qpl","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=r("createIGDMessageSendContext")(e),i=o("QPLFlow").startQPLFlow(r("qpl")._(354954279,"1622"),{annotations:{int:{file_size:t.file.size},string:{attachment_type:"audio",file_size_bucket:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(t.file.size),mimeType:t.file.type,type:o("IGDMAPIQPLPoints").IGDMAPIQPLSendType.AUDIO}},instanceKey:a.instanceKey});try{var l;if(r("qex")._("2197")){var s,u;i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_START);var c=r("createOptimisticAudioSlideMessage")({audioAttachment:{file:t.file,playableDurationMs:t.duration*1e3,waveformData:[].concat(t.amplitudes)},offlineThreadingId:a.offlineThreadingId,optimisticMessageId:a.optimisticMessageId,repliedToMessageId:((s=t.repliedMessageContent)==null?void 0:s.messageId)!=null?(u=t.repliedMessageContent)==null?void 0:u.messageId:null,senderFbid:t.senderId,threadFbid:t.threadId,timestampMs:a.timestamp.toString()});r("IGDWriteOptimisticRelayMessage")(e,c),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.OPTIMISTIC_WRITE_END)}else if(n!=null){i.addAnnotations({bool:{hasLSOptimisticMessage:!0}}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_START);var d=o("IGDCreateOptimisticLSAttachment").createLSOptimisticVoiceClipAttachment({duration:t.duration,offlineAttachmentId:r("uuidv4")(),offlineThreadingId:a.offlineThreadingId,senderId:n==null?void 0:n.senderId,threadKey:n.threadKey,timestamp:a.timestamp,voiceClipWaveformData:{amplitudes:t.amplitudes,sampling_freq:t.sampling_freq}});yield o("IGDWriteOptimisticLSMessage").writeOptimisticLSMessageWithAttachments({attachment:d,messageArgs:babelHelpers.extends({offlineThreadingId:a.offlineThreadingId},n,{timestampMs:a.timestamp,type:4})}),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.LS_OPTIMISTIC_WRITE_END)}i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_START);var m=o("IGDMessageSendService").makeMessagePublishService();i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MAKE_OR_GET_MSS_END),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_START);var p={attachment_fbid:null,offline_threading_id:a.offlineThreadingId,reply_to_message_id:(l=t.repliedMessageContent)==null?void 0:l.messageId,thread_id:t.threadId},_={variables:p};yield m.publish({amplitudes:t.amplitudes,commitMutationConfig:_,file:t.file,sampling_freq:t.sampling_freq,type:"audio"},a,i),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLPoints.MSS_PUBLISH_END),i.endSuccess()}catch(e){n!=null&&(i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_START),yield r("IGDWriteOptimisticLSErrorMessage")(a.offlineThreadingId,n.threadKey,a.timestamp),i.addPoint(o("IGDMAPIQPLPoints").IGDMAPICommonQPLErrorPoints.LS_OPTIMISTIC_ERROR_WRITE_END)),i.endFail("runtime-error",{string:{error:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}})}}),s.apply(this,arguments)}l.IGDMAPISendVoiceClip=e}),98);
__d("IGDTransformReplyContext",["IGDMAPIInterfaceTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e!=null)return{isReported:e.isReported||!1,messageId:o("IGDMAPIInterfaceTypes").toMessageId(e.messageId),textBody:e.text!=null?o("IGDMAPIInterfaceTypes").toMessage(e.text):null}}l.transformLSRepliedMessageContent=e}),98);
__d("IGDRepliedMessageContext",["IGDTransformReplyContext"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(e!=null)return e;if(t!=null)return o("IGDTransformReplyContext").transformLSRepliedMessageContent(t)}l.getRepliedMessageContent=e}),98);
__d("useIGDOffMsysComposerSend",["IGDMAPIInterfaceTypes","IGDMAPISendMediaMessage","IGDMAPISendTextMessage","IGDMAPISendVoiceClip","IGDRepliedMessageContext","LexicalText","MWV2ChatComposerGetViewContent","Promise","promiseDone","react-compiler-runtime","useMWXComposerClearAndSendOnEnter"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){var i=o("react-compiler-runtime").c(32),l=t.afterSendMessage,s=t.clearReply,m=t.editor,p=t.environment,_=t.isVoiceRecorderOpen,f=t.mediaStagings,g=t.removeMediaStaging,h=t.reply,y=t.senderId,C=t.threadFbid,b=t.threadId,v=t.threadSubtype,S=t.unsentMediaStagings,R=t.updateMediaStaging,L=t.voiceRecorder,E=a.actor,k=a.lsClearReply,I=a.lsReply,T=a.threadKey,D;if(i[0]!==I||i[1]!==h||i[2]!==C){var x,$,P,N=(h==null?void 0:h.message)!=null&&C===h.message.thread_fbid?{isReported:(x=h.message.is_reported)!=null?x:!1,messageId:o("IGDMAPIInterfaceTypes").toMessageId(h.message.message_id),textBody:(($=h.message.content)==null?void 0:$.text_body)!=null?o("IGDMAPIInterfaceTypes").toMessage((P=h.message.content)==null?void 0:P.text_body):null}:null;D=o("IGDRepliedMessageContext").getRepliedMessageContent(N,I),i[0]=I,i[1]=h,i[2]=C,i[3]=D}else D=i[3];var M=D,w;i[4]!==s||i[5]!==k||i[6]!==T?(w=function(){s(),k(T,!1)},i[4]=s,i[5]=k,i[6]=T,i[7]=w):w=i[7];var A;i[8]!==E||i[9]!==l||i[10]!==m||i[11]!==p||i[12]!==_||i[13]!==I||i[14]!==f||i[15]!==g||i[16]!==M||i[17]!==y||i[18]!==C||i[19]!==b||i[20]!==T||i[21]!==v||i[22]!==S||i[23]!==R||i[24]!==L?(A=function(){var t=[],a=u(m.getEditorState()),i=r("MWV2ChatComposerGetViewContent").getRanges(m);if(a!=null&&a!==""){var s,h=d(C,i),k=h.commands,D=h.mentionedUserIds,x=h.mentions;t.push(o("IGDMAPISendTextMessage").IGDMAPISendTextMessage(p,{commands:k,forwardedFromThreadId:null,mentionedUserIds:D,mentions:x,repliedMessageContent:M,repliedToItemId:null,senderId:o("IGDMAPIInterfaceTypes").toSenderId(y),text:o("IGDMAPIInterfaceTypes").toMessage(a),threadId:b},{reply:I,senderId:E,threadKey:T},{annotations:{int:{message_text_length:(s=a==null?void 0:a.length)!=null?s:0},string:{threadType:v}}}))}return f.length>0&&(t=t.concat(c({environment:p,removeMediaStaging:g,senderId:y,threadId:b,unsentMediaStagings:S,updateMediaStaging:R},{actor:E,lsReply:I,threadKey:T},M))),_&&(t=t.concat([L.getVoiceClip().then(function(e){return L.reset(),o("IGDMAPISendVoiceClip").IGDMAPISendVoiceClip(p,babelHelpers.extends({duration:e.duration,file:e.file,repliedMessageContent:M,senderId:o("IGDMAPIInterfaceTypes").toSenderId(y),threadId:b,type:"audio"},e.waveformData),{reply:I,senderId:E,threadKey:T})})])),r("promiseDone")((e||(e=n("Promise"))).allSettled(t).then(function(){l()})),t.length>0},i[8]=E,i[9]=l,i[10]=m,i[11]=p,i[12]=_,i[13]=I,i[14]=f,i[15]=g,i[16]=M,i[17]=y,i[18]=C,i[19]=b,i[20]=T,i[21]=v,i[22]=S,i[23]=R,i[24]=L,i[25]=A):A=i[25];var F;i[26]!==m||i[27]!==w||i[28]!==A?(F={clearReplyState:w,editor:m,onSend:A},i[26]=m,i[27]=w,i[28]=A,i[29]=F):F=i[29];var O=r("useMWXComposerClearAndSendOnEnter")(F),B=O.onSend,W;return i[30]!==B?(W={onSend:B},i[30]=B,i[31]=W):W=i[31],W}function u(e){return e.read(function(){return o("LexicalText").$rootTextContent()})}function c(e,t,n){var r=e.environment,a=e.removeMediaStaging,i=e.senderId,l=e.threadId,s=e.unsentMediaStagings,u=e.updateMediaStaging,c=t.actor,d=t.lsReply,m=t.threadKey;return s.map(function(e){return u(e.offlineAttachmentId,{isSent:!0}),o("IGDMAPISendMediaMessage").IGDMAPISendMediaMessage(r,{mediaStaging:e,repliedMessageContent:n,senderId:o("IGDMAPIInterfaceTypes").toSenderId(i),threadId:l,type:"media"},{reply:d,senderId:c,threadKey:m}).then(function(){a(e.offlineAttachmentId)})})}function d(e,t){if(t.length===0)return{commands:null,mentionedUserIds:[],mentions:[]};var n=t.filter(function(e){return e.type==="t"||e.type==="a"}),r="EVERYONE",a=n.length>0?n.map(function(t){return{length:t.length,offset:t.offset,type:r,user_or_thread_fbid:e}}):null,i=t.filter(function(e){return e.type==="p"}),l=i.map(function(e){return o("IGDMAPIInterfaceTypes").toUserId(e.id)}),s=i.map(function(e){return{fbid:e.id,length:e.length,offset:e.offset}});return{commands:a,mentionedUserIds:l,mentions:s}}l.default=s}),98);
__d("IGDMAPISendTypingIndicator",["MqttBypassDGWClient","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=Object.freeze({OFF:0,TEXT:1,VISUAL:2});function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var o=r("MqttBypassDGWClient").getInstance(),a=n===!0?e.TEXT:e.OFF,i={action:"indicate_activity",activity_status:a,client_context:"",thread_id:t},l=new TextEncoder().encode(JSON.stringify(i));yield o.send("/ig_send_message",l,!1)}),u.apply(this,arguments)}l.default=s}),98);
__d("usePublishTypingIndicator_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePublishTypingIndicator_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("usePublishTypingIndicator",["CometRelay","FBLogger","IGDMAPISendTypingIndicator","getErrorSafe","react","usePublishTypingIndicator_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(e,t,n){return!(t===!0||e===!0||n===!0)}function m(t,a){var i,l,u,m=o("CometRelay").useFragment(e!==void 0?e:e=n("usePublishTypingIndicator_XFBIGDirectViewerThread.graphql"),a),p=(i=m.is_group)!=null?i:!1,_=!p&&((l=m.users)==null?void 0:l.length)===1?m.users[0]:null,f=_!=null?_.interop_messaging_user_fbid===m.viewer_id:!1,g=_!=null?((u=_.friendship_status)==null?void 0:u.blocking)===!0:!1;return c(function(e){d(p,g,f)&&r("IGDMAPISendTypingIndicator")(t,e).catch(function(e){var t=r("getErrorSafe")(e);r("FBLogger")("igd_web_on_msgr").tags(["OffMSYSComposer"]).WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to publish typing indicator: ",""])),t.message)})},[g,p,f,t])}l.default=m}),98);
__d("IGDOffMsysComposerView.react",["fbt","BaseTheme.react","CometMessengerHandlePastedFileComposerPlugin","CometRelay","CurrentUser","IGDAudioRecorderSelector.react","IGDComposerAttachmentButtonOffMsys.react","IGDComposerConstants","IGDComposerEmojiButton.react","IGDComposerMediaStagingOffMsys.react","IGDComposerSavedReplyButton.react","IGDComposerSavedReplySuggestionTray.react","IGDComposerThemeConfigOverride","IGDComposerViewSendButton.react","IGDComposerVoiceClipButton.react","IGDMAPIInterfaceTypes","IGDMediaStagingConstants","IGDOffMsysComposerRichContentButton.react","IGDOffMsysComposerView_XFBIGDirectViewerThread.graphql","IGDOffMsysMentionsPluginForLexical.react","IGDReplyContext.react","IGDSBox.react","IGDSIconButton.react","IGDSupportedFileTypes","MWChatComposerIcons","MWPActor.react","MWPReplyContext.react","MWPUseVoiceRecorderV2","MWVoiceRecordQpl","MWXComposer.react","MessengerWebUXLogger","PolarisDirectStrings","PolarisUA","RelayHooks","WmiHandleFileSelect","cr:213","cr:599","react","react-compiler-runtime","useComposerFeatures","useIGDDraftMessages","useIGDMessageLengthExceededToast","useIGDOffMsysComposerAutoFocus","useIGDOffMsysComposerSend","useIsChatTabsDisplay","useMWV2FileDropzoneRegisterHandler","useMWXAlertDialog","useMWXLexicalEditor","useMWXLexicalHasText","useMWXLexicalMaxLength","useMWXLexicalOnTypingChanged","useMediaStagingErrorCallbacks","useMediaStagingManagerClient","usePublishTypingIndicator","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useContext,m={composer:{alignItems:"x6s0dn4",backgroundColor:"xvbhtw8",borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",display:"x78zum5",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",minHeight:"x1gg8mnh",paddingInlineStart:"x1iwz3mf",$$css:!0},composerClose:{paddingInlineEnd:"x1kukv79",$$css:!0},composerContainer:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",$$css:!0},composerSend:{paddingInlineEnd:"x11lfxj5",$$css:!0},emojiButton:{paddingTop:"x1nn3v0j",$$css:!0},iconButtonRow:{marginBottom:"xjpr12u",$$css:!0},iconButtonRowHasIcons:{marginInlineEnd:"x1lxpwgx",$$css:!0},inputAreaRow:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},root:{alignItems:"x1qjc9v5",borderTopColor:"x1yvgwvq",borderInlineEndColor:"xjd31um",borderBottomColor:"x1ixjvfu",borderInlineStartColor:"xwt6s21",borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function p(t){var a,i=o("react-compiler-runtime").c(94),l=t.afterSendMessage,u=t.thread,p=t.threadFbid,f=t.threadSubtype,g=t.viewerThreadRef,h=o("RelayHooks").useRelayEnvironment(),y;i[0]===Symbol.for("react.memo_cache_sentinel")?(y=r("CurrentUser").getEIMU(),i[0]=y):y=i[0];var C=y,b;i[1]!==p?(b=o("IGDMAPIInterfaceTypes").toThreadId(p),i[1]=p,i[2]=b):b=i[2];var v=b,S=o("MWPActor.react").useActor(),R=o("IGDReplyContext.react").useIGDReplyContext(),L=o("IGDReplyContext.react").useIGDReplySetterContext(),E=L.clearReply,k=d(o("MWPReplyContext.react").MWPReplyContext),I=k.clearReply,T=k.reply,D=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDOffMsysComposerView_XFBIGDirectViewerThread.graphql"),g),x=r("useComposerFeatures")(f,D),$=r("useShouldShowTextOnlyComposerForInvite")(u.threadKey,u.threadType),P=(a=D.is_group)!=null?a:!1,N=o("useMediaStagingManagerClient").useMediaStagingManagerClient(v),M=N.getMediaStaging,w=N.mediaStagings,A=N.removeMediaStaging,F=N.setMediaStaging,O=N.updateMediaStaging,B;i[3]!==F?(B=function(t){for(var e of t)F(e)},i[3]=F,i[4]=B):B=i[4];var W=B,q=r("useIsChatTabsDisplay")(),U=r("useMWXAlertDialog")(),V=o("useMediaStagingErrorCallbacks").useMediaStagingErrorCallbacks(),H;i[5]!==W||i[6]!==V||i[7]!==M||i[8]!==A||i[9]!==U||i[10]!==v||i[11]!==O?(H=function(t){o("WmiHandleFileSelect").wmiHandleFileSelect([].concat(t),v,W,O,M,A,o("IGDMediaStagingConstants").IGD_COMPOSER_OFF_MSYS_HANDLE_FILE_SELECT_ENTRYPOINT,o("IGDMediaStagingConstants").IGD_HANDLE_FILE_SELECT_PLATFORM,V,{maxFileSize:o("IGDMediaStagingConstants").IGD_DEFAULT_MAX_ATTACHMENT_SIZE_MB,showErrorDialog:U})},i[5]=W,i[6]=V,i[7]=M,i[8]=A,i[9]=U,i[10]=v,i[11]=O,i[12]=H):H=i[12];var G=H;r("useMWV2FileDropzoneRegisterHandler")(G);var z;i[13]===Symbol.for("react.memo_cache_sentinel")?(z={createVoiceRecordQpl:o("MWVoiceRecordQpl").createVoiceRecordQpl,maxDuration:void 0},i[13]=z):z=i[13];var j=o("MWPUseVoiceRecorderV2").useVoiceRecorder(z),K=j.state.stage!=="Unopen",Q=o("useMWXLexicalEditor").useMWXLexicalEditor(),X=Q.editor,Y;i[14]!==X?(Y={editor:X},i[14]=X,i[15]=Y):Y=i[15];var J=o("useMWXLexicalHasText").useMWXLexicalHasText(Y),Z=r("useIGDMessageLengthExceededToast")(),ee;i[16]!==Z?(ee={maxLength:o("IGDComposerConstants").IGD_COMPOSER_MAX_LENGTH,onMaxLengthExceeded:Z},i[16]=Z,i[17]=ee):ee=i[17],o("useMWXLexicalMaxLength").useMWXLexicalMaxLength(X,ee);var te=r("usePublishTypingIndicator")(p,D),ne;i[18]!==X||i[19]!==te?(ne={editor:X,onTypingStateChanged:te},i[18]=X,i[19]=te,i[20]=ne):ne=i[20],r("useMWXLexicalOnTypingChanged")(ne),o("useIGDDraftMessages").useIGDDraftMessage(v,X);var re;i[21]!==w?(re=w.filter(_),i[21]=w,i[22]=re):re=i[22];var oe=re,ae=oe.length>0,ie;i[23]!==X||i[24]!==ae?(ie={editor:X,hasUnsentAttachments:ae},i[23]=X,i[24]=ae,i[25]=ie):ie=i[25],r("useIGDOffMsysComposerAutoFocus")(ie);var le;i[26]!==l||i[27]!==E||i[28]!==X||i[29]!==h||i[30]!==K||i[31]!==w||i[32]!==A||i[33]!==R||i[34]!==p||i[35]!==v||i[36]!==f||i[37]!==oe||i[38]!==O||i[39]!==j?(le={afterSendMessage:l,clearReply:E,editor:X,environment:h,isVoiceRecorderOpen:K,mediaStagings:w,removeMediaStaging:A,reply:R,senderId:C,threadFbid:p,threadId:v,threadSubtype:f,unsentMediaStagings:oe,updateMediaStaging:O,voiceRecorder:j},i[26]=l,i[27]=E,i[28]=X,i[29]=h,i[30]=K,i[31]=w,i[32]=A,i[33]=R,i[34]=p,i[35]=v,i[36]=f,i[37]=oe,i[38]=O,i[39]=j,i[40]=le):le=i[40];var se;i[41]!==S||i[42]!==I||i[43]!==T||i[44]!==u.threadKey?(se={actor:S,lsClearReply:I,lsReply:T,threadKey:u.threadKey},i[41]=S,i[42]=I,i[43]=T,i[44]=u.threadKey,i[45]=se):se=i[45];var ue=r("useIGDOffMsysComposerSend")(le,se),ce=ue.onSend,de=!$&&(x.mediaPickerEnabled||x.enableVoiceClip||x.richContentEnabled),me=J||oe.length>0||K,pe;i[46]!==u.threadKey||i[47]!==u.threadType?(pe={eventName:"composer_view",threadKey:u.threadKey,threadType:u.threadType},i[46]=u.threadKey,i[47]=u.threadType,i[48]=pe):pe=i[48];var _e=r("MessengerWebUXLogger").useImpressionLoggerRef(pe),fe;i[49]!==x.savedReplyEnabled||i[50]!==X||i[51]!==u?(fe=x.savedReplyEnabled&&c.jsx(r("IGDComposerSavedReplySuggestionTray.react"),{editor:X,thread:u}),i[49]=x.savedReplyEnabled,i[50]=X,i[51]=u,i[52]=fe):fe=i[52];var ge;i[53]!==q||i[54]!==v?(ge=c.jsx(r("IGDComposerMediaStagingOffMsys.react"),{hideUploadPlaceholder:!1,isStacking:q,supportedFileTypes:o("PolarisUA").isMobile()?o("IGDSupportedFileTypes").IGD_MOBILE_SUPPORTED_FILE_TYPES:o("IGDSupportedFileTypes").IGD_WEB_SUPPORTED_FILE_TYPES,threadId:v}),i[53]=q,i[54]=v,i[55]=ge):ge=i[55];var he;i[56]!==X||i[57]!==P||i[58]!==D?(he=P&&c.jsx(r("IGDOffMsysMentionsPluginForLexical.react"),{editor:X,viewerThreadData:D}),i[56]=X,i[57]=P,i[58]=D,i[59]=he):he=i[59];var ye;i[60]!==S||i[61]!==x.crossAppSavesEnabled||i[62]!==x.emojisSupported||i[63]!==x.enableVoiceClip||i[64]!==x.mediaPickerEnabled||i[65]!==x.metaMediaCloudEnabled||i[66]!==x.richContentEnabled||i[67]!==x.savedReplyEnabled||i[68]!==me||i[69]!==X||i[70]!==h||i[71]!==de||i[72]!==J||i[73]!==K||i[74]!==G||i[75]!==ce||i[76]!==$||i[77]!==u||i[78]!==p||i[79]!==v||i[80]!==oe.length||i[81]!==j?(ye=K?c.jsxs(o("MWXComposer.react").InputArea,{composerRowXStyle:m.inputAreaRow,xstyle:[m.composer,me?m.composerSend:m.composerClose],children:[c.jsxs(r("IGDSBox.react"),{alignSelf:"center",direction:"row",flex:"grow",children:[c.jsx(r("IGDSIconButton.react"),{"aria-label":s._(/*BTDS*/"Close Button"),onClick:function(){return j.reset()},children:c.jsx(o("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:"var(--chat-composer-button-color)",isRotated:!0,size:20})}),c.jsx(r("IGDSBox.react"),{alignSelf:"center",flex:"grow",marginEnd:2,marginStart:1,children:c.jsx(r("IGDAudioRecorderSelector.react"),{voiceRecorder:j})})]}),c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDComposerViewSendButton.react"),{onClick:ce})})]}):c.jsxs(r("IGDSBox.react"),{children:[c.jsx(r("CometMessengerHandlePastedFileComposerPlugin"),{editor:X,handlePastedFiles:G}),c.jsxs(o("MWXComposer.react").InputArea,{composerRowXStyle:m.inputAreaRow,xstyle:[m.composer,me?m.composerSend:m.composerClose],children:[x.emojisSupported?c.jsx(r("IGDSBox.react"),{height:40,xstyle:m.emojiButton,children:c.jsx(r("IGDComposerEmojiButton.react"),{editor:X})}):null,c.jsx(o("MWXComposer.react").TextEditor,{placeholderText:o("PolarisDirectStrings").MESSAGE_TEXT_FIELD_PLACEHOLDER.toString()}),J||oe.length>0?c.jsx(r("IGDSBox.react"),{children:c.jsx(r("IGDComposerViewSendButton.react"),{onClick:ce})}):c.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",height:40,overflow:"hidden",xstyle:[m.iconButtonRow,de?m.iconButtonRowHasIcons:null],children:$?null:c.jsxs(c.Fragment,{children:[x.enableVoiceClip?c.jsx(r("IGDComposerVoiceClipButton.react"),{voiceRecorder:j}):null,x.mediaPickerEnabled?c.jsx(r("IGDComposerAttachmentButtonOffMsys.react"),{onAttachmentsAdded:G,supportedFileTypes:o("PolarisUA").isMobile()?o("IGDSupportedFileTypes").IGD_MOBILE_SUPPORTED_FILE_TYPES:o("IGDSupportedFileTypes").IGD_WEB_SUPPORTED_FILE_TYPES}):null,x.metaMediaCloudEnabled&&n("cr:213")!=null?c.jsx(n("cr:213"),{onAttachmentsAdded:G,threadKey:u.threadKey}):null,x.crossAppSavesEnabled&&n("cr:599")!=null?c.jsx(n("cr:599"),{actor:S,environment:h,senderId:C,threadId:v,threadKey:u.threadKey}):null,x.savedReplyEnabled?c.jsx(r("IGDComposerSavedReplyButton.react"),{editor:X,thread:u}):null,x.richContentEnabled?c.jsx(r("IGDOffMsysComposerRichContentButton.react"),{threadFbid:p}):null]})})]})]}),i[60]=S,i[61]=x.crossAppSavesEnabled,i[62]=x.emojisSupported,i[63]=x.enableVoiceClip,i[64]=x.mediaPickerEnabled,i[65]=x.metaMediaCloudEnabled,i[66]=x.richContentEnabled,i[67]=x.savedReplyEnabled,i[68]=me,i[69]=X,i[70]=h,i[71]=de,i[72]=J,i[73]=K,i[74]=G,i[75]=ce,i[76]=$,i[77]=u,i[78]=p,i[79]=v,i[80]=oe.length,i[81]=j,i[82]=ye):ye=i[82];var Ce;i[83]!==ge||i[84]!==he||i[85]!==ye?(Ce=c.jsxs(o("MWXComposer.react").Row,{xStyle:m.root,children:[ge,he,ye]}),i[83]=ge,i[84]=he,i[85]=ye,i[86]=Ce):Ce=i[86];var be;i[87]!==X||i[88]!==Ce?(be=c.jsx(o("MWXComposer.react").Composer,{editor:X,xstyle:m.composerContainer,children:Ce}),i[87]=X,i[88]=Ce,i[89]=be):be=i[89];var ve;return i[90]!==_e||i[91]!==fe||i[92]!==be?(ve=c.jsxs(r("BaseTheme.react"),{config:r("IGDComposerThemeConfigOverride"),ref:_e,children:[fe,be]}),i[90]=_e,i[91]=fe,i[92]=be,i[93]=ve):ve=i[93],ve}function _(e){return!e.isSent}l.default=p}),226);
__d("IGDOffMsysComposerInner.react",["CometRelay","IGDComposerReplyView.react","IGDOffMsysComposerInner_XFBIGDirectViewerThread.graphql","IGDOffMsysComposerReplyView.react","IGDOffMsysComposerView.react","IGDReplyContext.react","MWPReplyContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(t){var a=o("react-compiler-runtime").c(15),i=t.afterSendMessage,l=t.thread,s=t.threadFbid,d=t.threadSubtype,m=t.viewerThreadRef,p=o("IGDReplyContext.react").useIGDReplyContext(),_=c(o("MWPReplyContext.react").MWPReplyContext),f=_.reply,g=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDOffMsysComposerInner_XFBIGDirectViewerThread.graphql"),m),h;a[0]!==p?(h=p!=null?u.jsx(r("IGDOffMsysComposerReplyView.react"),{reply:p}):null,a[0]=p,a[1]=h):h=a[1];var y;a[2]!==f||a[3]!==l?(y=f!=null?u.jsx(r("IGDComposerReplyView.react"),{messageId:f.messageId,messageTimestamp:f.timestampMs,thread:l}):null,a[2]=f,a[3]=l,a[4]=y):y=a[4];var C;a[5]!==i||a[6]!==l||a[7]!==s||a[8]!==d||a[9]!==g?(C=u.jsx(r("IGDOffMsysComposerView.react"),{afterSendMessage:i,thread:l,threadFbid:s,threadSubtype:d,viewerThreadRef:g}),a[5]=i,a[6]=l,a[7]=s,a[8]=d,a[9]=g,a[10]=C):C=a[10];var b;return a[11]!==h||a[12]!==y||a[13]!==C?(b=u.jsxs(u.Fragment,{children:[h,y,C]}),a[11]=h,a[12]=y,a[13]=C,a[14]=b):b=a[14],b}l.default=d}),98);
__d("IGDOffMsysComposer_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDOffMsysComposer_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{args:null,kind:"FragmentSpread",name:"IGDOffMsysComposerInner_XFBIGDirectViewerThread"}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useAddComposerOffMsysInteractionAnnotations",["IGDRouteProvider.react","InteractionTracing","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(){var e=o("react-compiler-runtime").c(2),t=o("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),n;e[0]!==t?(n=[t],e[0]=t,e[1]=n):n=e[1],s(c,n)}function c(){r("InteractionTracing").getPendingInteractions().forEach(d)}function d(e){e.addAnnotationInt("has_off_msys_composer",1)}l.default=u}),98);
__d("useIGDOffMsysComposerKeyCommands",["fbt","CometKeys","I64","IGDChatTabsStateContext.react","IGDEditMessageContext.react","IGDReplyContext.react","MAWEditMessageContext.react","MWPReplyContext.react","react","react-compiler-runtime","useIsChatTabsDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=c.useCallback,m=c.useContext,p=c.useMemo;function _(e){var t=o("react-compiler-runtime").c(22),n=o("IGDReplyContext.react").useIGDReplyContext(),a=o("IGDReplyContext.react").useIGDReplySetterContext(),i=a.clearReply,l=m(o("MWPReplyContext.react").MWPReplyContext),c=l.clearReply,d=l.reply,p=o("IGDEditMessageContext.react").useIGDEditContext(),_=o("IGDEditMessageContext.react").useIGDEditSetterContext(),f=_.clearEditMessageData,g=m(o("MAWEditMessageContext.react").Context),h=g.editMessageData,y=g.setEditMessageData,C=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),b=r("useIsChatTabsDisplay")(),v;t[0]!==f||t[1]!==i||t[2]!==C||t[3]!==h||t[4]!==p||t[5]!==b||t[6]!==c||t[7]!==d||t[8]!==n||t[9]!==y||t[10]!==e?(v=function(){if(!(d||n)&&!(h||p))if(b)C==null||C({threadKey:(u||(u=o("I64"))).to_string(e),type:"close_tab"});else return;h||p?(y(null),f()):(d||n)&&(c(e,!0),i())},t[0]=f,t[1]=i,t[2]=C,t[3]=h,t[4]=p,t[5]=b,t[6]=c,t[7]=d,t[8]=n,t[9]=y,t[10]=e,t[11]=v):v=t[11];var S=v,R;t[12]===Symbol.for("react.memo_cache_sentinel")?(R={key:r("CometKeys").ESCAPE},t[12]=R):R=t[12];var L;t[13]!==h||t[14]!==p||t[15]!==b||t[16]!==d||t[17]!==n?(L=!(d||n)&&b&&s._(/*BTDS*/"Close chat tab")||(d||n)&&s._(/*BTDS*/"Cancel reply")||(h||p)&&s._(/*BTDS*/"Cancel edit")||"",t[13]=h,t[14]=p,t[15]=b,t[16]=d,t[17]=n,t[18]=L):L=t[18];var E;t[19]!==S||t[20]!==L?(E=[{command:R,description:L,handler:S,triggerFromInputs:!0}],t[19]=S,t[20]=L,t[21]=E):E=t[21];var k=E;return k}l.default=_}),226);
__d("IGDOffMsysComposer.react",["CometComponentWithKeyCommands.react","CometRelay","IGDComposerCommonPlaceholder.react","IGDComposerEditContainer.react","IGDOffMsysComposerInner.react","IGDOffMsysComposer_XFBIGDirectViewerThread.graphql","IGDSBox.react","MAWEditMessageContext.react","MWV2ErrorComposer.react","PolarisSuspenseWithErrorBoundary.react","react","react-compiler-runtime","useAddComposerOffMsysInteractionAnnotations","useIGDOffMsysComposerKeyCommands"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.threadKey,i=r("useIGDOffMsysComposerKeyCommands")(a),l;return t[0]!==n||t[1]!==i?(l=u.jsx(r("IGDSBox.react"),{children:u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:i,children:n})}),t[0]=n,t[1]=i,t[2]=l):l=t[2],l}function m(t){var a=o("react-compiler-runtime").c(18),l=t.afterSendMessage,s=t.thread,m=t.viewerThreadRef;r("useAddComposerOffMsysInteractionAnnotations")();var f=c(o("MAWEditMessageContext.react").Context),g=f.editMessageData,h=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDOffMsysComposer_XFBIGDirectViewerThread.graphql"),m),y=h==null?void 0:h.thread_fbid,C=h==null?void 0:h.thread_subtype;if(h==null||y==null||C==null){var b;a[0]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:78,showSpinner:!0}),a[0]=b):b=a[0];var v;return a[1]===Symbol.for("react.memo_cache_sentinel")?(v=u.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{errorRenderer:_,loadingRenderer:b,name:i.id,children:u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:78,showSpinner:!0})}),a[1]=v):v=a[1],v}if(g!=null){var S;a[2]!==g||a[3]!==y?(S=u.jsx(r("IGDComposerEditContainer.react"),{editMessageData:g,threadFbid:y}),a[2]=g,a[3]=y,a[4]=S):S=a[4];var R;return a[5]!==S||a[6]!==s.threadKey?(R=u.jsx(d,{threadKey:s.threadKey,children:S}),a[5]=S,a[6]=s.threadKey,a[7]=R):R=a[7],R}var L;a[8]===Symbol.for("react.memo_cache_sentinel")?(L=u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:78,showSpinner:!0}),a[8]=L):L=a[8];var E;a[9]!==l||a[10]!==s||a[11]!==y||a[12]!==C||a[13]!==h?(E=u.jsx(r("IGDOffMsysComposerInner.react"),{afterSendMessage:l,thread:s,threadFbid:y,threadSubtype:C,viewerThreadRef:h}),a[9]=l,a[10]=s,a[11]=y,a[12]=C,a[13]=h,a[14]=E):E=a[14];var k;return a[15]!==E||a[16]!==s.threadKey?(k=u.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{errorRenderer:p,loadingRenderer:L,name:i.id,children:u.jsx(d,{threadKey:s.threadKey,children:E})}),a[15]=E,a[16]=s.threadKey,a[17]=k):k=a[17],k}function p(){return u.jsx(r("MWV2ErrorComposer.react"),{})}p.displayName=p.name+" [from "+i.id+"]";function _(){return u.jsx(r("MWV2ErrorComposer.react"),{})}_.displayName=_.name+" [from "+i.id+"]",l.default=m}),98);
__d("useIGDComposerBlockType_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDComposerBlockType_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"system_folder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"instamadillo_cutover",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reachability_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},{alias:null,args:null,concreteType:"XFBIGDirectClientPayloadDMSettings",kind:"LinkedField",name:"dm_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBIGDChannelCreatorBroadcastThreadData",kind:"LinkedField",name:"creator_broadcast_thread_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_channel_paused",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBIGDHiddenChatInfoType",kind:"LinkedField",name:"hidden_chat_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDComposerBlockType.react",["CometRelay","MessagingThreadSubtype","getJSEnumSafe","gkx","isIGDChannelThreadSubtype","isIGDMessageRequest","useIGDComposerBlockType_XFBIGDirectViewerThread.graphql","useReadOnlyFeatureLimitsOffMsys"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){var i,l=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDComposerBlockType_XFBIGDirectViewerThread.graphql"),t),s=r("useReadOnlyFeatureLimitsOffMsys")(a).length>0;if(s)return"read_only_feature_limited";if(l==null)return null;var u=l.creator_broadcast_thread_data,c=l.dm_settings,d=l.input_mode,m=l.instamadillo_cutover,p=l.is_group,_=l.reachability_status,f=l.system_folder,g=l.thread_subtype,h=l.users,y=l.viewer_id;if(m!=null&&m!=="DEFAULT")return(c==null?void 0:c.mode)===!0?"instamadillo_dm_block":"instamadillo_tlc_block";if(p===!0){if(d===1)return"input_mode_disabled_for_group_thread"}else{var C;if(_==="UNREACHABLE_R_ACCOUNT_TEEN_INTERACTION")return"cannes_composer_block";if(r("gkx")("8574")===!0&&_==="UNREACHABLE_INVITE_MODEL_BLOCK_COMPOSER")return"1on1_unreachable_invite_model";var b=h.find(function(e){return e.id!==y});if((b==null||(C=b.friendship_status)==null?void 0:C.is_restricted)===!0)return"1on1_restricted_user";var v;if((b==null||(v=b.friendship_status)==null?void 0:v.blocking)===!0)return"1on1_blocked_user"}if(r("isIGDMessageRequest")(f))return"message_request";if(d===4)return"input_mode_partnership_thread_disabled_for_creator";if(r("isIGDChannelThreadSubtype")(g)&&(u==null?void 0:u.is_channel_paused)===!0)return"broadcast_channel_ended";if(p===!0&&l.system_folder==="SPAM"&&((i=l.hidden_chat_info)==null?void 0:i.status)==="HIDDEN")return"hidden_group_chat_in_spam_folder";var S=r("getJSEnumSafe")(r("MessagingThreadSubtype"),g);return S===r("MessagingThreadSubtype").IG_SUPPORT_MESSAGING_THREAD?"support_thread_composer_block":d!=null&&d!==0?"fallback":null}l.default=s}),98);
__d("getIGDCannesLeaveGroupStorageKey",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"__IGDCannesLeaveGroupStorageKey."+e+"__"}i.default=e}),66);
__d("useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_cannes",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null};a.exports=e}),null);
__d("useIGDShowCannesLeaveGroupDialog.react",["CometRelay","JSResourceForInteraction","PolarisWebStorage","getIGDCannesLeaveGroupStorageKey","react","react-compiler-runtime","useIGDSLazyDialog","useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useState;function c(t){var a=o("react-compiler-runtime").c(1),i=u(!1),l=i[0],s=i[1],c;a[0]===Symbol.for("react.memo_cache_sentinel")?(c=r("JSResourceForInteraction")("IGDCannesLeaveGroupDialog.react").__setRef("useIGDShowCannesLeaveGroupDialog.react"),a[0]=c):c=a[0];var m=r("useIGDSLazyDialog")(c),p=m[0],_=o("CometRelay").useFragment(e!==void 0?e:e=n("useIGDShowCannesLeaveGroupDialog_XFBIGDirectViewerThread.graphql"),t);if(!(_==null||_.is_group===!1||_.thread_fbid==null)){var f=_.thread_fbid,g=r("PolarisWebStorage").getLocalStorage(),h=r("getIGDCannesLeaveGroupStorageKey")(f),y=(g==null?void 0:g.getItem(h))==="true",C=function(){g==null||g.setItem(h,"true")};_.users.some(d)&&l===!1&&y===!1&&(p({threadFbid:f},C),s(!0))}}function d(e){return e.is_cannes===!0}l.default=c}),98);
__d("IGDComposerForCannes.react",["CometRelay","IGDComposerBlockForThreadOffMsys.react","IGDComposerForCannes_Slide.graphql","IGDComposerMsys.react","IGDOffMsysComposer.react","JSResourceForInteraction","lazyLoadComponent","qex","react","react-compiler-runtime","useIGDComposerBlockType.react","useIGDShowCannesLeaveGroupDialog.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDFeatureLimitsBlockedComposerOffMsys.react").__setRef("IGDComposerForCannes.react"));function d(t){var a=o("react-compiler-runtime").c(12),i=t.afterSendMessage,l=t.featureLimitsQueryRef,s=t.isOptimisticThread,d=t.slideThreadRef,m=t.thread,p=s===void 0?!1:s,_=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDComposerForCannes_Slide.graphql"),d),f=_==null?void 0:_.as_ig_direct_thread,g=r("useIGDComposerBlockType.react")(f,l);if(r("useIGDShowCannesLeaveGroupDialog.react")(f),g==="read_only_feature_limited"){var h;return a[0]!==l?(h=u.jsx(c,{featureLimitsQueryRef:l}),a[0]=l,a[1]=h):h=a[1],h}if(f!=null&&g!=null){var y;return a[2]!==g||a[3]!==f?(y=u.jsx(r("IGDComposerBlockForThreadOffMsys.react"),{composerBlockType:g,viewerThreadRef:f}),a[2]=g,a[3]=f,a[4]=y):y=a[4],y}if(f==null&&p===!0){var C;return a[5]!==i||a[6]!==m?(C=u.jsx(r("IGDComposerMsys.react"),{afterSendMessage:i,thread:m,viewerThreadRef:null}),a[5]=i,a[6]=m,a[7]=C):C=a[7],C}var b;return a[8]!==i||a[9]!==m||a[10]!==(f==null?void 0:f.viewer_thread_for_composer)?(b=r("qex")._("842")===!0?u.jsx(r("IGDOffMsysComposer.react"),{afterSendMessage:i,thread:m,viewerThreadRef:f==null?void 0:f.viewer_thread_for_composer}):u.jsx(r("IGDComposerMsys.react"),{afterSendMessage:i,thread:m,viewerThreadRef:f==null?void 0:f.viewer_thread_for_composer}),a[8]=i,a[9]=m,a[10]=f==null?void 0:f.viewer_thread_for_composer,a[11]=b):b=a[11],b}l.default=d}),98);
__d("IGDConnectionStatusProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.createContext,m=u.useContext,p=u.useEffect,_=u.useMemo,f=u.useState,g=d({isOnline:window.navigator.onLine});function h(e){var t=o("react-compiler-runtime").c(7),n=e.children,r=f(window.navigator.onLine),a=r[0],i=r[1],l;t[0]!==a?(l={isOnline:a},t[0]=a,t[1]=l):l=t[1];var s=l,u,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=function(){var e=function(){i(!0)},t=function(){i(!1)};return window.addEventListener("online",e),window.addEventListener("offline",t),(function(){window.removeEventListener("online",e),window.removeEventListener("offline",t)})},d=[],t[2]=u,t[3]=d):(u=t[2],d=t[3]),p(u,d);var m;return t[4]!==n||t[5]!==s?(m=c.jsx(g.Provider,{value:s,children:n}),t[4]=n,t[5]=s,t[6]=m):m=t[6],m}function y(){return m(g)}l.IGDConnectionStatusContext=g,l.IGDConnectionStatusProvider=h,l.useIGDConnectionStatusContext=y}),98);
__d("IGDConnectionStatusCardOffMsys.react",["fbt","CometPlaceholder.react","IGDConnectionStatusProvider.react","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.isOnline;if(n===!1){var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"xwwskcc x1q0q8m5 xso031l x1lliihq xz9dl7a xsag5q8 x2b8uid"},t[0]=a):a=t[0];var i;return t[1]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx("div",babelHelpers.extends({},a,{children:u.jsx(r("IGDSText.react"),{color:"secondaryText",children:s._(/*BTDS*/"No internet connection")})})),t[1]=i):i=t[1],i}return null}function d(){var e=o("react-compiler-runtime").c(2),t=o("IGDConnectionStatusProvider.react").useIGDConnectionStatusContext(),n;return e[0]!==t.isOnline?(n=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(c,{isOnline:t.isOnline})}),e[0]=t.isOnline,e[1]=n):n=e[1],n}l.default=d}),226);
__d("IGDEBRestoreError",[],(function(t,n,r,o,a,i){"use strict";var e={DECRYPT_ERROR:"igd_eb_restore_error_decrypt_error"};function l(e){return"[UNRECOVERABLE_PROTOBUF_CORRUPTION_WARNING] "+e}i.IGD_EB_RESTORE_ERROR=e,i.formatUnrecoverableProtobufCorruptionWarning=l}),66);
__d("IGDEBRestoreUtils",["FBLogger","I64","WALongInt","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){if(e.metadataDataclass==null)return null;try{return JSON.parse(e.metadataDataclass)}catch(e){r("FBLogger")("igd_web").catching(r("getErrorSafe")(e)).warn("Failed to parse the message metadata.")}return null}function u(e){var t,n=(t=e.add)==null?void 0:t.content,r=(n==null?void 0:n.media)!=null,o=(n==null?void 0:n.collection)!=null;return!(r||o)}function c(t){return(e||(e=o("I64"))).of_string(o("WALongInt").longIntToDecimalString(t))}function d(t){return t.sort(function(t,n){var r,a,i=(r=t.metadata)==null?void 0:r.timestampMs,l=(a=n.metadata)==null?void 0:a.timestampMs;if(i==null||l==null)return 0;var s=c(i),u=c(l);return(e||(e=o("I64"))).compare(s,u)})}function m(e){var t,n=(t=e.add)==null?void 0:t.content;return n!=null&&n.adminMessage?"adminMessage":n!=null&&n.collection?"collection":n!=null&&n.like?"like":n!=null&&n.link?"link":n!=null&&n.media?"media":n!=null&&n.placeholder?"placeholder":n!=null&&n.receiverFetchXma?"receiverFetchXma":n!=null&&n.text?"text":""}function p(e){var t,n=(t=e.supplement)==null?void 0:t.content;return n!=null&&n.contentView?"contentView":n!=null&&n.editText?"editText":n!=null&&n.mediaReaction?"mediaReaction":n!=null&&n.originalTransportPayload?"originalTransportPayload":n!=null&&n.reaction?"reaction":""}function _(e){var t,n=(t=e.add)==null?void 0:t.metadata,r=[];return(n==null?void 0:n.ephemeralityParams)!=null&&r.push("ephemeralityParams"),(n==null?void 0:n.forwardingParams)!=null&&r.push("forwardingParams"),(n==null?void 0:n.privateReplyInfo)!=null&&r.push("privateReplyInfo"),(n==null?void 0:n.repliedToMessage)!=null&&r.push("repliedToMessage"),(n==null?void 0:n.sendSilently)!=null&&r.push("sendSilently"),r}function f(t){return{previewHeight:t.height!=null?(e||(e=o("I64"))).of_float(t.height):t.height,previewWidth:t.width!=null?(e||(e=o("I64"))).of_float(t.width):t.width}}l.getMessageMetadata=s,l.isMessageSupportedForEBRestore=u,l.longIntToI64=c,l.sortBackupPayloads=d,l.getToplevelMessageType=m,l.getSupplementalType=p,l.getToplevelMessageMetadata=_,l.getPreviewSize=f}),98);
__d("LSDecryptProtobuf",["LSArrayGetObjectAt","LSBase64Decode.nop","LSCreateDerivedKeys.nop","LSGetBlobFromString.nop","LSLogMebClientEvent.nop","LSSymmetricEncryptionCreateDecryptedData.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(o){var a,i,l;return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][decryptProtobuf] Beginning execution."),r[1]=t.i64.of_float(Date.now()),r[8]=e[1]==null?t.i64.cast([0,0]):e[1],r[2]=t.i64.of_int32(e[3].length),t.i64.eq(r[2],t.i64.cast([0,1]))?t.sequence([function(o){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),e[3],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[12]=t[0],r[13]=t[1],t})},function(o){return r[14]=r[12].get("epoch_anon_id"),r[15]=r[12].get("epoch_root_key"),r[16]=t.createArray(),r[26]=(r[16].push(t.i64.cast([0,32])),r[16]),t.i64.ge(r[8],t.i64.cast([0,3]))?t.resolve(r[17]=void 0):t.sequence([function(o){return t.nativeOperation(n("LSGetBlobFromString.nop"),e[2]).then(function(e){var t;return t=e,r[26]=t[0],t})},function(e){return r[17]=r[26]}])},function(o){return t.i64.ge(r[8],t.i64.cast([0,4]))?(r[26]="_",r[18]=["message_key_in_epoch",r[26],t.blobs.to_string(r[14]),r[26],"cipher_version",r[26],t.i64.to_string(r[8]),r[26],"thread",r[26],e[2]==null?"":e[2]].join("")):(t.i64.ge(r[8],t.i64.cast([0,3]))?(r[27]="_",r[26]=["message_key_in_epoch",r[27],t.blobs.to_string(r[14]),r[27],"cipher_version",r[27],t.i64.to_string(r[8]),r[27],"thread",r[27],e[2]==null?"":e[2]].join("")):(t.i64.ge(r[8],t.i64.cast([0,2]))?(r[28]="_",r[27]=["message_key_in_epoch",r[28],t.blobs.to_string(r[14]),r[28],"cipher_version",r[28],t.i64.to_string(r[8])].join("")):r[27]=["message_key_in_epoch","_",t.blobs.to_string(r[14])].join(""),r[26]=r[27]),r[18]=r[26]),t.nativeOperation(n("LSGetBlobFromString.nop"),r[18]).then(function(e){var t;return t=e,r[19]=t[0],t})},function(e){return t.nativeOperation(n("LSCreateDerivedKeys.nop"),r[19],r[17],r[15],r[16]).then(function(e){var t;return t=e,r[20]=t[0],t})},function(e){return r[20]?r[21]=!1:r[21]=!0,r[21]?t.resolve(r[22]=void 0):t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[20],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[26]=t[0],r[27]=t[1],t})},function(e){return r[22]=r[26]}])},function(o){return t.blobs.neq(r[22],void 0)?t.sequence([function(o){return t.nativeOperation(n("LSBase64Decode.nop"),e[0]).then(function(e){var t;return t=e,r[26]=t[0],t})},function(o){return t.blobs.neq(r[26],void 0)?t.sequence([function(o){return t.nativeOperation(n("LSSymmetricEncryptionCreateDecryptedData.nop"),r[22],t.blobs.of_string(["message_thread","_",e[2]].join("")),r[26]).then(function(e){var t;return t=e,r[29]=t[0],t})},function(e){return r[27]=r[29]}]):t.resolve(r[27]=void 0)},function(e){return t.blobs.neq(r[27],void 0)?t.resolve(r[28]=r[27]):t.sequence([function(e){return r[29]=["Failed to decrypt message. Epoch Anon ID: ",t.blobs.to_string(r[14]),", Encryption Version: ",t.i64.to_string(r[8])].join(""),(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] ","",r[29]].join("")),r[30]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDecryptProtobufStoredProcedure",[r[29]].join(""),r[30],t.i64.cast([0,3]))},function(e){return r[28]=void 0}])},function(e){return r[23]=r[28]}]):t.sequence([function(e){return(function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][LSEncryptedBackupsDecryptProtobufStoredProcedure] Decryption message key is null"),r[26]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsDecryptProtobufStoredProcedure","Decryption message key is null",r[26],t.i64.cast([0,3]))},function(e){return r[23]=void 0}])},function(e){var n,o,a;return t.blobs.neq(r[23],void 0)?(n=[r[23],void 0],r[24]=n[0],r[25]=n[1]):(r[26]=new t.Map,r[26].set("error_code",t.i64.cast([0,101])),r[26].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),r[26].set("error_message",""),o=[void 0,r[26]],r[24]=o[0],r[25]=o[1]),a=[r[24],r[25]],r[3]=a[0],r[4]=a[1]}]):t.resolve((r[12]=t.i64.of_int32(e[3].length),t.i64.eq(r[12],t.i64.cast([0,0]))?(r[15]=new t.Map,r[15].set("error_code",t.i64.cast([0,102])),r[15].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),r[15].set("error_message",""),a=[void 0,r[15]],r[13]=a[0],r[14]=a[1]):(r[15]=new t.Map,r[15].set("error_code",t.i64.cast([0,103])),r[15].set("stored_procedure","LSEncryptedBackupsDecryptProtobufStoredProcedure"),r[15].set("error_message",""),i=[void 0,r[15]],r[13]=i[0],r[14]=i[1]),l=[r[13],r[14]],r[3]=l[0],r[4]=l[1]))},function(e){return r[5]=t.i64.of_float(Date.now()),r[6]=t.i64.random(),r[9]="Finishing execution. Execution time: ",r[10]=t.i64.to_string(t.i64.sub(r[5],r[0])),r[11]=" ms",r[7]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][decryptProtobuf] ",r[7],r[9],r[7],r[10],r[7],r[11]].join("")),t.i64.eq(t.i64.mod_(r[6],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[12]=",",r[13]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"decryptProtobuf",[r[9],r[12],r[10],r[12],r[11]].join(""),r[13],t.i64.cast([0,4]))):t.resolve()},function(e){var t;return t=[r[3],r[4]],o[0]=t[0],o[1]=t[1],t}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSEncryptedBackupsDecryptProtobufStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSDecryptProtobufStoredProcedure",["LSDecryptProtobuf","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSDecryptProtobuf"),a.encryptedProtobuf,a.encryptionVersion,a.actThreadId,a.epochKeys);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("IGDEBMessageProtobuf",["FBLogger","I64","IGDEBRestoreError","IGDEBRestoreUtils","InstamadilloTransportPayload.pb","LSBase64Decode","LSDecryptProtobufStoredProcedure","LSFactory","LSShape","LSVec","ReQL","WAArmadilloBackupMessage.pb","asyncToGeneratorRuntime","decodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield d(e,t);if(n==null)return null;var a=n.supplementalProtobufs,i=n.toplevelProtobuf;if(!a||!i)throw r("FBLogger")("igd_web").mustfixThrow("supplementalProtobufs or toplevelProtobuf is null",o("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR);var l=a.map(c);return o("IGDEBRestoreUtils").sortBackupPayloads(l),{supplementalBackupPayloads:l,toplevelBackupPayload:c(i)}}),u.apply(this,arguments)}function c(e){var t=o("decodeProtobuf").decodeProtobufWithUnknowns(o("WAArmadilloBackupMessage.pb").BackupMessageSpec,e);return babelHelpers.extends({},t,{payload:o("decodeProtobuf").decodeProtobufWithUnknowns(o("InstamadilloTransportPayload.pb").TransportPayloadSpec,t.encryptedTransportMessage)})}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a=n.is_open_eb,i=n.supplemental_payloads,l=n.toplevel_payload;if(a)return{supplementalProtobufs:i.map(function(e){return o("LSBase64Decode").decode(e.encrypted_supplemental_payload.encrypted_payload)}).filter(Boolean),toplevelProtobuf:o("LSBase64Decode").decode(l.encrypted_payload)};var s=yield f(t);if(!s)return null;var u=yield p(t),c=u.epochAnonIdBlob,d=u.epochRootKeyBlob,m=yield r("LSDecryptProtobufStoredProcedure")(r("LSFactory")(t),{actThreadId:n.thread_id,encryptedProtobuf:l.encrypted_payload,encryptionVersion:(e||(e=o("I64"))).of_int32(l.encryption_version),epochKeys:r("LSVec").ofArray([o("LSShape").ofRecord({epoch_anon_id:c,epoch_root_key:d})])}),_=m[0],g=m[1];if(g!=null){var h=o("LSShape").toRecord(g),y=h.error_message,C=h.stored_procedure;throw r("FBLogger")("igd_web").mustfixThrow(C+": "+y,o("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR)}if(_==null)throw r("FBLogger")("igd_web").mustfixThrow("decryptedProtobuf is null",o("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR);return{supplementalProtobufs:[],toplevelProtobuf:_}}),m.apply(this,arguments)}function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.secure_encrypted_backups_epochs));if(t==null)throw r("FBLogger")("igd_web").mustfixThrow("No epochs found",o("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR);return t}),_.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.secure_encrypted_backups_client_state));return!!t}),g.apply(this,arguments)}l.getIGDEBMessageBackupPayloads=s,l.isEBClientSetup=f}),98);
__d("PolarisEncryptedBackupsQPLEvents",["qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=r("qpl"))._(832770348,"1880"),u=e._(741085455,"166"),c=e._(741087294,"2028"),d=e._(521479842,"2163"),m=e._(521482969,"1519");l.RestoreBackupQplEvent=s,l.SetupBackupQplEvent=u,l.SettingsQplEvent=c,l.InstamadilloDYIQplEvent=d,l.InstamadilloMessageRestoreQplEvent=m}),98);
__d("IGDEBRestoreLogging",["ExecutionEnvironment","FBLogger","IGDEBRestoreUtils","MAWQplProxy","MWPBumpEntityKey","PolarisEncryptedBackupsQPLEvents","QPLUserFlow","QPLUtils","WAExceededStorageQuota","shouldUseMAWSharedWorker"],(function(t,n,r,o,a,i,l){"use strict";var e,s="igd_eb_restore_message",u="start",c="fail",d="success";function m(t,n){var a=(e||(e=r("ExecutionEnvironment"))).isInWorker,i=o("QPLUtils").deriveInstanceKey(t);n&&(a?r("FBLogger")("igd_web").warn("IGDEBRestoreLogging should start on the main thread"):(o("MWPBumpEntityKey").bumpEntityKeyWithAppId(s,u),r("QPLUserFlow").start(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{isDev:0,useSharedWorker:o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{messageId:t}},instanceKey:i})));var l=function(t){r("QPLUserFlow").addAnnotations(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,t,{instanceKey:i})},m=function(t){l(p(t))},_=function(t,n){n&&l(n),r("QPLUserFlow").addPoint(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,t,{instanceKey:i})},f=function(t){r("QPLUserFlow").endCancel(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota()},string:{cancelReason:t}},instanceKey:i})},g=function(t,n){o("MWPBumpEntityKey").bumpEntityKeyWithAppId(s,c),r("QPLUserFlow").endFailure(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,t,{annotations:babelHelpers.extends({},n,{bool:babelHelpers.extends({},n==null?void 0:n.bool,{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota()})}),instanceKey:i})},h=function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId(s,d),r("QPLUserFlow").endSuccess(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota()}},instanceKey:i})},y=function(t){o("MAWQplProxy").sendQPLAnnotationsThroughBridge(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,t,i)},C={addPoint:function(t,n){o("MAWQplProxy").sendQplPointThroughBridge(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,t,{annotations:n,instanceKey:i})},annotate:y,annotateMessagePayloads:function(t){y(p(t))},endCancel:function(t){o("MAWQplProxy").sendQPLCancelThroughBridge(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,void 0,{string:{cancelReason:t}},i)},endFail:function(t,n){o("MWPBumpEntityKey").bumpEntityKeyWithAppId(s,c),o("MAWQplProxy").sendQPLFailThroughBridge(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,t,n,i)},endSuccess:function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId(s,d),o("MAWQplProxy").sendQPLSuccessThroughBridge(o("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,void 0,i)}};return a?C:{addPoint:_,annotate:l,annotateMessagePayloads:m,endCancel:f,endFail:g,endSuccess:h}}function p(e){var t=e.supplementalBackupPayloads,n=e.toplevelBackupPayload;return{string:{toplevelMessageType:o("IGDEBRestoreUtils").getToplevelMessageType(n.payload)},string_array:{supplementalTypes:Array.from(new Set(t.map(function(e){return o("IGDEBRestoreUtils").getSupplementalType(e.payload)}))),toplevelMessageMetadata:o("IGDEBRestoreUtils").getToplevelMessageMetadata(n.payload)}}}l.IGDEBRestoreLogging=m}),98);
__d("IGDEBRestoreMessageById",["FBLogger","IGDEBMessageProtobuf","IGDEBRestoreLogging","IGDEBRestoreUtils","asyncToGeneratorRuntime","getErrorSafe","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var a=r("qex")._("670");a&&(yield e.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n,a=yield e.e2ee_ebMessageRestoreTasks.get(t);if(a!=null){var i=(n=a.backupPayloads)==null?void 0:n.toplevelBackupPayload.payload,l=i!=null?o("IGDEBRestoreUtils").isMessageSupportedForEBRestore(i):!0;if(l){var s=yield e.e2ee_igMessageAuxiliaryInfo.get(t),u=s==null?void 0:s.openEb;if(!u){var c=yield o("IGDEBMessageProtobuf").isEBClientSetup(e);if(!c)return}if(!a.restorable){try{var d=o("IGDEBRestoreLogging").IGDEBRestoreLogging(t,!0);d.annotate({bool:{onDemandRestore:!0,openEb:!!u},int:{tryCount:a.tryCount}}),a.backupPayloads&&d.annotateMessagePayloads(a.backupPayloads)}catch(e){r("FBLogger")("igd_web").catching(r("getErrorSafe")(e)).mustfix("restore logging failed to start before on-demand restore")}yield e.e2ee_ebMessageRestoreTasks.put(babelHelpers.extends({},a,{restorable:!0}))}}}});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":31"))}),s.apply(this,arguments)}l.default=e}),98);
__d("MWMessageEditContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useState,p={setShowEdits:function(){},showEdits:!1},_=s.createContext();function f(e){var t,n=e.children,r=e.value,o=r===void 0?p:r,a=m((t=o==null?void 0:o.showEdits)!=null?t:!1),i=a[0],l=a[1],u=d(function(){return{setShowEdits:l,showEdits:i}},[i]);return s.jsx(_.Provider,{value:u,children:n})}f.displayName=f.name+" [from "+i.id+"]";function g(){return c(_)}l.MWMessageEditContextProvider=f,l.useMWMessageEditContext=g}),98);
__d("MWEditedEyebrow.react",["fbt","BaseMiddot.react","IGDWebUtils","MWEditedEyebrowLabel.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","QPLUserFlow","qpl","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.hasPadding,n=e.separatorStyle,a=r("MessengerWebUXLogger").useInteractionLogger(),i=o("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:function(t){},showEdits:!1},l=i.setShowEdits,c=i.showEdits;function d(){c||(r("QPLUserFlow").start(r("qpl")._(1056849214,"1777")),a==null||a({eventName:"edit_message_history"})),l(!c)}var m=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"}),p=c?s._(/*BTDS*/"Hide edits"):s._(/*BTDS*/"Edited"),_=c?s._(/*BTDS*/"Hide edits"):s._(/*BTDS*/"View edits");return u.jsxs(u.Fragment,{children:[n!=null&&u.jsx(o("react-strict-dom").html.span,{style:n,children:u.jsx(r("BaseMiddot.react"),{})}),u.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,label:_,position:"above",tooltip:_,children:u.jsx(r("MWXLink.react"),{"aria-expanded":c,"aria-label":p,color_DEPRECATED:o("IGDWebUtils").isOnInstagramWeb()?"highlight":"blueLink",onClick:d,ref:m,role:"button",style:babelHelpers.extends({color:"var(--mwp-primary-theme-color)"},t===!0&&{paddingTop:6}),weight_DEPRECATED:"medium",children:u.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:p})})})]})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.enableEditHistory,n=t===void 0?!0:t,o=e.hasPadding,a=e.separatorStyle;return n?u.jsx(c,{hasPadding:o,separatorStyle:a}):u.jsx(r("MWEditedEyebrowLabel.react"),{separatorStyle:a})}d.displayName=d.name+" [from "+i.id+"]",l.MWEditedEyebrowWithHistory=c,l.MWEditedEyebrow=d}),226);
__d("IGDForwardedContent.react",["IGDSText.react","MWEditedEyebrow.react","MWPForwardedContent","isMWEditedMessage","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={separator:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(12),n=e.message,a=e.outgoing,i=o("MWPForwardedContent").useTitle(n,a),l;t[0]!==n?(l=r("isMWEditedMessage")(n),t[0]=n,t[1]=l):l=t[1];var c=l,d;t[2]!==a?(d={0:{className:"x889kno x1g0dm76"},1:{className:"x889kno x1icxu4v"}}[!!a<<0],t[2]=a,t[3]=d):d=t[3];var m;t[4]!==c?(m=c&&s.jsx(o("MWEditedEyebrow.react").MWEditedEyebrow,{separatorStyle:u.separator}),t[4]=c,t[5]=m):m=t[5];var p;t[6]!==m||t[7]!==i?(p=s.jsxs(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:[i,m]}),t[6]=m,t[7]=i,t[8]=p):p=t[8];var _;return t[9]!==d||t[10]!==p?(_=s.jsx("div",babelHelpers.extends({},d,{children:p})),t[9]=d,t[10]=p,t[11]=_):_=t[11],_}l.default=c}),98);
__d("IGDGetHashtagRanges.react",["PolarisIGHashtagRegex","PolarisLinkBuilder"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return[];var t=o("PolarisIGHashtagRegex").matchHashtags(e);return t.map(function(e){var t=e.endIndex,n=e.hashtag,r=e.startIndex;return{entity:{__typename:"Hashtag",uri:o("PolarisLinkBuilder").buildTagLink(n)},length:t-r,offset:r}})}l.getHashtagRanges=e}),98);
__d("IGDMessageRowIsRepliedContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(!1);function d(){return u(c)}l.IGDMessageRowIsRepliedContext=c,l.useIGDMessageRowIsRepliedContext=d}),98);
__d("IGDHiddenMessage.react",["fbt","IGDChatBubble.react","IGDMessageRowIsRepliedContext","IGDSBox.react","IgdHideReportedMessageFalcoEvent","MWXText.react","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={text:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(13),n=e.connectBottom,a=e.connectTop,i=e.precedesXMA,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={onImpressionStart:m},t[0]=l):l=t[0];var d=r("useSinglePartialViewImpression")(l),p=o("IGDMessageRowIsRepliedContext").useIGDMessageRowIsRepliedContext(),_;t[1]!==p?(_=p?s._(/*BTDS*/"You reported this message"):s._(/*BTDS*/"Hidden for you"),t[1]=p,t[2]=_):_=t[2];var f;t[3]!==_?(f=u.jsx(r("IGDSBox.react"),{xstyle:c.text,children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body3",children:_})}),t[3]=_,t[4]=f):f=t[4];var g;t[5]!==n||t[6]!==a||t[7]!==i||t[8]!==f?(g=u.jsx(r("IGDChatBubble.react"),{connectBottom:n,connectTop:a,outgoing:!1,precedesXMA:i,children:f}),t[5]=n,t[6]=a,t[7]=i,t[8]=f,t[9]=g):g=t[9];var h;return t[10]!==d||t[11]!==g?(h=u.jsx(r("IGDSBox.react"),{containerRef:d,children:g}),t[10]=d,t[11]=g,t[12]=h):h=t[12],h}function m(){r("IgdHideReportedMessageFalcoEvent").log(p)}function p(){return{event_name:"user_hidden_message_impression"}}l.default=d}),226);
__d("IGDHotlikeEmoji.react",["IGDSHeartPanoFilledIcon.react","PolarisDirectStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("IGDSHeartPanoFilledIcon.react"),{alt:o("PolarisDirectStrings").LIKE_BUTTON_ALT_TEXT,color:"ig-badge",size:44}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("IGDInboxGenAIStarIcon.react",["fbt","IGDSBox.react","IGDSGenAiPanoFilled24Icon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("IGDSBox.react"),{marginStart:1,children:u.jsx(r("IGDSGenAiPanoFilled24Icon.react"),{alt:s._(/*BTDS*/"Star shapped icon for AI characters"),color:"ig-secondary-icon",size:12})}),e[0]=t):t=e[0],t}l.default=c}),226);
__d("IGDInboxHeaderConstants",["IGDSConstants","PolarisUA"],(function(t,n,r,o,a,i,l){"use strict";var e=o("PolarisUA").isMobile()?r("IGDSConstants").AVATAR_SIZES.small:r("IGDSConstants").AVATAR_SIZES.medium;l.IGD_INBOX_HEADER_IMAGE_SIZE=e}),98);
__d("IGDInboxHeaderMobileOffMsysBackButton.react",["IGDEntryPoints","IGDMobileNavigationButton.react","IGDNavigation","react","react-compiler-runtime","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(4),t=o("IGDNavigation").useIGDNavigation(),n=r("useRoutePassthroughProps")(),a=n!=null&&(n.entryPoint==="pendingRequests"||n.entryPoint===o("IGDEntryPoints").IGDEntryPoints.IGD_MESSAGE_REQUESTS_THREADS_LIST),i=n!=null&&(n.entryPoint==="inboxSpam"||n.entryPoint===o("IGDEntryPoints").IGDEntryPoints.IGD_HIDDEN_MESSAGE_REQUESTS_THREADS_LIST),l;return e[0]!==a||e[1]!==i||e[2]!==t?(l=s.jsx(r("IGDMobileNavigationButton.react"),{onClick:function(){return a?t.openPendingInbox():i?t.openHiddenRequests():t.goToNullState()}}),e[0]=a,e[1]=i,e[2]=t,e[3]=l):l=e[3],l}l.default=u}),98);
__d("IGDInboxHeaderOffMsysPlaceholder.react",["IGDInboxHeaderConstants","IGDInboxHeaderMobileOffMsysBackButton.react","IGDInboxHeaderOffMsysContainer.react","IGDSBox.react","IGDSGlimmer.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o("PolarisUA").isMobile()?s.jsx(r("IGDInboxHeaderMobileOffMsysBackButton.react"),{}):null,e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("IGDSBox.react"),{height:o("IGDInboxHeaderConstants").IGD_INBOX_HEADER_IMAGE_SIZE,marginEnd:3,overflow:"hidden",shape:"circle",width:o("IGDInboxHeaderConstants").IGD_INBOX_HEADER_IMAGE_SIZE,children:s.jsx(r("IGDSGlimmer.react"),{index:0,xstyle:u.glimmer})}),e[1]=n):n=e[1];var a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsxs(r("IGDInboxHeaderOffMsysContainer.react"),{children:[t,n,s.jsx(r("IGDSBox.react"),{height:12,overflow:"hidden",width:148,children:s.jsx(r("IGDSGlimmer.react"),{index:1,xstyle:u.glimmer})})]}),e[2]=a):a=e[2],a}l.default=c}),98);
__d("IGDInstamadilloLockIcon.react",["I64","IGDSIconButton.react","JSResourceForInteraction","ReQL","ReQLSuspense","gkx","react","react-compiler-runtime","useIGDSLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=r("react")),d="x9nyzi3-B";function m(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.isSecure,i=e.message,l=e.outgoing;if(!a||!r("gkx")("24015"))return n;var s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x78zum5 x1q0g3np"},t[0]=s):s=t[0];var u;t[1]!==i||t[2]!==l?(u=l?c.jsx(p,{message:i,outgoing:l}):null,t[1]=i,t[2]=l,t[3]=u):u=t[3];var d;t[4]!==i||t[5]!==l?(d=l?null:c.jsx(p,{message:i,outgoing:l}),t[4]=i,t[5]=l,t[6]=d):d=t[6];var m;return t[7]!==n||t[8]!==u||t[9]!==d?(m=c.jsxs("div",babelHelpers.extends({},s,{children:[u,n,d]})),t[7]=n,t[8]=u,t[9]=d,t[10]=m):m=t[10],m}function p(t){var n=o("react-compiler-runtime").c(36),a=t.message,l=t.outgoing,s=(u||(u=r("useReStore")))(),d;n[0]!==s.tables.e2ee_igMessageAuxiliaryInfo||n[1]!==a.messageId?(d=function(){return o("ReQL").fromTableAscending(s.tables.e2ee_igMessageAuxiliaryInfo).getKeyRange(a.messageId)},n[0]=s.tables.e2ee_igMessageAuxiliaryInfo,n[1]=a.messageId,n[2]=d):d=n[2];var m;n[3]!==s||n[4]!==a.messageId?(m=[s,a.messageId],n[3]=s,n[4]=a.messageId,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(d,m,i.id+":72"),_;n[6]===Symbol.for("react.memo_cache_sentinel")?(_=r("JSResourceForInteraction")("IGDMessageInspectMessageDialog.react").__setRef("IGDInstamadilloLockIcon.react"),n[6]=_):_=n[6];var f=r("useIGDSLazyDialog")(_),g=f[0],h;n[7]!==a||n[8]!==g?(h=function(){g({message:a})},n[7]=a,n[8]=g,n[9]=h):h=n[9];var y=h;if(p==null){var C=l?0:"4px",b=l?"4px":0,v;n[10]!==C||n[11]!==b?(v=c.jsx("div",{style:{paddingLeft:C,paddingRight:b},children:"\u2753"}),n[10]=C,n[11]=b,n[12]=v):v=n[12];var S;return n[13]!==y||n[14]!==v?(S=c.jsx(r("IGDSIconButton.react"),{onClick:y,padding:0,children:v}),n[13]=y,n[14]=v,n[15]=S):S=n[15],S}var R;n[16]!==a.displayedContentTypes?(R=(e||(e=o("I64"))).to_int32(a.displayedContentTypes),n[16]=a.displayedContentTypes,n[17]=R):R=n[17];var L=R===131072,E;n[18]!==a.displayedContentTypes?(E=(e||(e=o("I64"))).to_int32(a.displayedContentTypes),n[18]=a.displayedContentTypes,n[19]=E):E=n[19];var k=E===0,I;n[20]!==p.final||n[21]!==k||n[22]!==L?(I=p.final||L||k?void 0:"x1q3qbx4 xa4qsjk xau8ic4",n[20]=p.final,n[21]=k,n[22]=L,n[23]=I):I=n[23];var T=l?0:"4px",D=l?"4px":0,x;n[24]!==T||n[25]!==D?(x={paddingLeft:T,paddingRight:D},n[24]=T,n[25]=D,n[26]=x):x=n[26];var $;n[27]!==p.openEb?($=p.openEb?c.jsx(c.Fragment,{children:"\uD83D\uDD13"}):c.jsx(c.Fragment,{children:"\uD83D\uDD0F"}),n[27]=p.openEb,n[28]=$):$=n[28];var P;n[29]!==x||n[30]!==$||n[31]!==I?(P=c.jsx("div",{className:I,style:x,children:$}),n[29]=x,n[30]=$,n[31]=I,n[32]=P):P=n[32];var N;return n[33]!==y||n[34]!==P?(N=c.jsx(r("IGDSIconButton.react"),{onClick:y,padding:0,children:P}),n[33]=y,n[34]=P,n[35]=N):N=n[35],N}l.default=m}),98);
__d("IGDLSThreadHeaderTooltipWrapper.react",["react","react-compiler-runtime","useLSGetThreadTitle.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.thread,i=r("useLSGetThreadTitle.react")(a),l=i.threadTitle,u;return t[0]!==n||t[1]!==l?(u=s.jsx("span",{title:l,children:n}),t[0]=n,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("IGDMessageErrorBubble.react",["fbt","IGDChatBubble.react","IGDSBox.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(10),n=e.isOutgoing,a=n?"end":"start",i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={padding:"2px 4px"},t[0]=i):i=t[0];var l=n?"white":"primary",c;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=s._(/*BTDS*/"Error displaying this message"),t[1]=c):c=t[1];var d;t[2]!==l?(d=u.jsx("div",{style:i,children:u.jsx(r("MWXText.react"),{color:l,type:"body3",children:c})}),t[2]=l,t[3]=d):d=t[3];var m;t[4]!==n||t[5]!==d?(m=u.jsx(r("IGDSBox.react"),{children:u.jsx(r("IGDChatBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:n,precedesXMA:!1,children:d})}),t[4]=n,t[5]=d,t[6]=m):m=t[6];var p;return t[7]!==a||t[8]!==m?(p=u.jsx(r("IGDSBox.react"),{alignItems:a,margin:1,children:m}),t[7]=a,t[8]=m,t[9]=p):p=t[9],p}l.default=c}),226);
__d("IGDMessageSendErrorStatus.react",["fbt","IGDSCircleXOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),a;t[0]!==n?(a={eventName:"message_send_error_status",flowInstanceId:n},t[0]=n,t[1]=a):a=t[1];var i=r("MessengerWebUXLogger").useImpressionLoggerRef(a),l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x78zum5 xdt5ytf x13a6bvl x1djpfga x1n2onr6"},t[2]=l):l=t[2];var c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx(r("IGDSCircleXOutlineIcon.react"),{alt:s._(/*BTDS*/"Failed to send"),color:"ig-error-or-destructive","data-testid":void 0,size:12}),t[3]=c):c=t[3];var d;return t[4]!==i?(d=u.jsx("div",babelHelpers.extends({},l,{ref:i,children:c})),t[4]=i,t[5]=d):d=t[5],d}l.default=c}),226);
__d("IGDMessageSendingStatus.react",["fbt","CometScreenReaderText.react","IGDSMessagesOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k x1n2onr6"},e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx(r("IGDSMessagesOutlineIcon.react"),{alt:s._(/*BTDS*/"IGD message sending status icon"),color:"ig-secondary-text","data-testid":void 0,size:12}),e[1]=n):n=e[1];var a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsxs("div",babelHelpers.extends({},t,{children:[n,u.jsx(r("CometScreenReaderText.react"),{text:s._(/*BTDS*/"Sending")})]})),e[2]=a):a=e[2],a}l.default=c}),226);
__d("IGDMessageGutterItem.react",["I64","IGDMessageSendErrorStatus.react","IGDMessageSendingStatus.react","LSIntEnum","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(6),n=e.message,a=n.sendStatusV2,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x78zum5 x1iyjqo2 xs83m0k x1kky2od"},t[0]=i):i=t[0];var l;t[1]!==n.threadKey||t[2]!==a?(l=(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(1))?c.jsx(r("IGDMessageSendingStatus.react"),{}):(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(4))?c.jsx(r("IGDMessageSendErrorStatus.react"),{threadKey:n.threadKey}):null,t[1]=n.threadKey,t[2]=a,t[3]=l):l=t[3];var d;return t[4]!==l?(d=c.jsx("div",babelHelpers.extends({},i,{children:l})),t[4]=l,t[5]=d):d=t[5],d}l.default=d}),98);
__d("MessageProfileRangeTypeUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==="p"?"p":e==="thread"||e==="t"?"t":e==="thread_active"||e==="a"?"a":e==="s"?"s":e==="ai"?"ai":e==="c"?"cc":e==="cu"?"cu":"n"}i.ofString=e}),66);
__d("MWV2ChatTextParserUtils",["CurrentEnvironment","EmojiRenderer","EmoticonRenderer","I64","IGDWebUtils","LSContactTypeExact","LSIntEnum","MWChatTextFormattingUtils","MWLSContactTypeExactUtils","MessageProfileRangeTypeUtils","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=new RegExp("/^[ \\r\\n\\s]*$/");function d(e){var t=o("EmojiRenderer").parse(e).map(function(e){return{length:e.length,offset:e.offset}}),n=o("EmoticonRenderer").parse(e).map(function(e){return{length:e.chars.length,offset:e.offset}}),r=t.concat(n).sort(function(e,t){return e.offset-t.offset|0});if(r.length===0)return!1;var a={contents:0},i={contents:0},l=r.some(function(t){a.contents===t.offset?(a.contents=a.contents+t.length|0,i.contents=a.contents):i.contents=t.offset;var n=e.substring(a.contents,i.contents);return a.contents=t.offset+t.length|0,c.test(n)===!1}),s=a.contents!==e.length&&!c.test(e.substring(i.contents));return l?!1:!s}function m(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1),a===void 0&&(a=!1);var i=r("getURLRanges")(e),l=[],s=o("MWChatTextFormattingUtils").getFormattingRanges(e,t,n,a);return i.forEach(function(e){var t=e.entity.url,n=t.startsWith("https://m.me/j/")||r("CurrentEnvironment").facebookdotcom&&t.startsWith("https://www.messenger.com/channel/"),o={entity:{__typename:n?"MessengerLink":"Link",target:"blank",uri:e.entity.url},length:e.length,offset:e.offset};l.push(o)}),l.concat(s)}function p(e,t){return t===void 0&&(t=!1),r("gkx")("23433")?(t?"/e2ee/t/":"/t/")+e:(t?"/messages/e2ee/t/":"/messages/t/")+e}function _(t,n){var a;try{a=o("ReQLSuspense").first(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange((e||(e=o("I64"))).of_string(n)),i.id+":137")}catch(e){a=void 0}if(a==null)return p(n);var l=a.contactTypeExact;if((e||(e=o("I64"))).equal(l,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+r("XCometVanityURLControllerRouteBuilder").buildURL({vanity:n});if(!o("MWLSContactTypeExactUtils").isIgContact(l))return p(n);var u=a.secondaryName;return u!=null?"https://www.instagram.com/"+u+"/":p(n)}function f(t,n,r,a,i,l,s,c){var d=n.split(","),m=r.split(","),f=a.split(","),g=i.split(",");return d.reduce(function(n,r,a){var i=o("MessageProfileRangeTypeUtils").ofString(g[a]);if(m[a]==null||f[a]==null)return n;var d=Number(m[a]),h=Number(f[a]),y=(u||(u=o("UnicodeUtils"))).strlen(l.slice(0,h)),C=h-y,b=h-C;if(i==="t"||i==="a"){var v=c&&s!=null?(e||(e=o("I64"))).to_string(s):r;o("IGDWebUtils").isOnInstagramWeb()?n.push({entity:{__typename:"Command"},length:d,offset:b}):n.push({entity:{__typename:c?"Thread":"Profile",id:r,uri:p(v,c)},length:d,offset:b})}else i==="p"?n.push({entity:{__typename:"Profile",id:r,uri:_(t,r)},length:d,offset:b}):i==="cc"?n.push({entity:{__typename:"CommunityChannel",threadKey:(e||(e=o("I64"))).of_string(r)},length:d,offset:b}):i==="s"||i==="cu"?n.push({entity:{__typename:"Command"},length:d,offset:b}):i==="ai"&&n.push({entity:{__typename:"Ai"},length:d,offset:b});return n},[])}l.isEmojiOnlyMessage=d,l.findRanges=m,l.findRangesForMentions=f}),98);
__d("SupportAISitevarConfig.experimental",["cr:21392"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21392")}),98);
__d("SupportAIMessengerParticipantUtils",["I64","SupportAISitevarConfig.experimental"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("SupportAISitevarConfig.experimental").support_ai_bot_id!=null&&(e||(e=o("I64"))).equal(t,(e||(e=o("I64"))).of_string(r("SupportAISitevarConfig.experimental").support_ai_bot_id))}function u(e){return s(e.senderId)}l.isSupportAIParticipant=s,l.isMessageFromSupportAIBot=u}),98);
__d("MWV2ChatTextUtils",["AdsAIMessengerUtils","AdsMessengerContext.react","LSMessagingThreadTypeUtil","MWGenAIUtils","MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","SupportAIMessengerParticipantUtils","gkx","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(e){return e.replace(/[\u202a\u202b\u202c\u202d\u202e\u2066\u2067\u2068\u2069\u2029]/g,"")}function d(e,t){if(t.length===0)return e;var n=0,r="";return t.forEach(function(t){var o=t.offset,a=t.length;r+=e.substring(n,o);var i=o+a;r+="\u2066"+c(e.substring(o,i))+"\u2069",n=i}),n<e.length&&(r+=e.substring(n)),r}function m(e,t,n,r,a){var i=t.mentionIds,l=t.mentionLengths,s=t.mentionOffsets,u=t.mentionTypes;return i!=null&&l!=null&&s!=null&&u!=null?o("MWV2ChatTextParserUtils").findRangesForMentions(e,i,l,s,u,n,r,a):[]}function p(e,t,n){if(e==null)return[];if(e.messageId!==n)return[];var r=t.indexOf(e.contextLine);return r>-1?e.highlights.map(function(e){return{entity:{__typename:"Highlight"},length:e.matchLength,offset:e.matchOffset+r}}):[]}function _(t,n,a,i){var l=(e||(e=r("useReStore")))(),s=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),c=s.visibleMessage,d=o("AdsMessengerContext.react").useAdsMessengerContext(),_=d.isMessengerInAds,f=!1,g=!1;o("AdsAIMessengerUtils").isMessageFromAdsAIBot(n)||_?(f=!0,g=!r("gkx")("3883")):o("SupportAIMessengerParticipantUtils").isMessageFromSupportAIBot(n)?f=!0:g=o("MWGenAIUtils").isMetaAIThread(n.senderId);var h=i!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(i)&&o("LSMessagingThreadTypeUtil").isGroup(i);return u(function(){return t==null||o("MWV2ChatTextParserUtils").isEmojiOnlyMessage(t)?[]:m(l,{mentionIds:n.mentionIds,mentionLengths:n.mentionLengths,mentionOffsets:n.mentionOffsets,mentionTypes:n.mentionTypes},t,a,h).concat(o("MWV2ChatTextParserUtils").findRanges(t,f,g)).concat(p(c==null?void 0:c,t,n.messageId))},[t,n.mentionIds,n.mentionLengths,n.mentionOffsets,n.mentionTypes,n.messageId,l,c,f,g,a,h])}l.getRTLOMitigatedText=d,l.useRanges=_}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function c(e){var t=e.outgoing,n=e.ref,a=e.text,i=e.xstyle,l=e.ranges,c=e.renderers,d=e.transforms;return a==null?null:s.jsx(r("MWXText.react"),{color:t?"white":"primary",type:"body3",children:s.jsx(o("react-strict-dom").html.div,{dir:"auto",ref:n,style:[u.regular,t?u.outgoing:u.incoming,i],children:s.jsx(r("MWXMessageTextWithEntities.react"),{ranges:l,renderers:c,text:a,transforms:d!=null?d:o("MWChatTextTransform").textTransforms,withParagraphs:!1})})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXMessageListText.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageBlockQuote.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=e.hasBlockQuoteStyle,n=t===void 0?!1:t,a=e.message,i=e.ref,l=e.xstyleForForwarded,d=e.xstyleForText,m=e.outgoing,p=e.ranges,_=e.renderers,f=e.text,g=e.transforms;if(f==null)return null;var h=a.replySourceTypeV2!=null&&(s||(s=o("I64"))).equal(a.replySourceTypeV2,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)),y=c.jsx(r("MWXMessageBaseMessageListText.react"),{outgoing:m,ranges:p,ref:i,renderers:_,text:f,transforms:g!=null?g:o("MWChatTextTransform").textTransforms,xstyle:d});return h||n===!0?c.jsx(r("MWXMessageBlockQuote.react"),{outgoing:m,xstyle:l,children:y}):y}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c="messages_table",d=function(t,n,r){return r.getAttribute("data-scope")===c},m=o("FocusTable.react").createFocusTable(d),p={key:(e=r("CometKeys")).UP},_={key:e.DOWN},f={key:e.LEFT},g={key:e.RIGHT},h=[{command:p,description:s._(/*BTDS*/"Previous item"),handler:u=r("emptyFunction")},{command:_,description:s._(/*BTDS*/"Next item"),handler:u},{command:f,description:s._(/*BTDS*/"Next item"),handler:u},{command:g,description:s._(/*BTDS*/"Previous item"),handler:u}];l.scopeID=c,l.scopeQuery=d,l.FocusTable=m,l.commandConfigs=h}),226);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=o("FocusTable.react").createFocusTable(o("focusScopeQueries").tabbableScopeQuery),d={key:r("CometKeys").ESCAPE},m={key:r("CometKeys").ENTER},p={key:r("CometKeys").SPACE},_=s._(/*BTDS*/"Exit focus region"),f=s._(/*BTDS*/"Enter focus region");function g(e){var t=e.children,n=e.onEnter,a=e.onEscape,i=e.onSpace,l=[];return a!=null&&l.push({command:d,description:_,handler:a}),n!=null&&l.push({command:m,description:f,handler:n}),i!=null&&l.push({command:p,description:f,handler:i}),u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:o("MWMessageTableFocusTable.react").commandConfigs.concat(l),xstyle:!1,children:t})}g.displayName=g.name+" [from "+i.id+"]";var h=g;l.FocusTable=c,l.keyCommands=h}),226);
__d("useMWPCombineTextRenderers",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t={};return e.forEach(function(e){if(e!=null){var n=e[0],r=e[1],o=t[n];t[n]=o!=null?o.concat([r]):[r]}}),t}i.default=e}),66);
__d("getMAWLinkEntityRenderer.react",["E2EEMessagingLinkContext.react","MWMessageCellFocusTable.react","MWXLink.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.encryptedLink,n=e.target,a=e.testid,i=e.xstyle;return function(e,a){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{role:"gridcell",children:s.jsx(o("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:t,children:s.jsx(r("MWXLink.react"),{encryptedLink:t,href:a.uri,target:n,testid:void 0,xstyle_DEPRECATED:i,children:e})})})})}}l.default=u}),98);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),n=t.disableLinks;return function(t,o,a,i){return r("gkx")("24165")&&n?void 0:[a,r("getMAWLinkEntityRenderer.react")({encryptedLink:e,target:i,testid:o,xstyle:t})]}}l.default=e}),98);
__d("useIGDTextRenderers",["MWChatTextFormatting","MWMessageCellFocusTable.react","PolarisUA","react","react-compiler-runtime","useMWPCombineTextRenderers","useMWPLinkRendererFactory"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={bold:{fontWeight:"x1s688f",$$css:!0},link:{color:"x7l2uk3",textDecoration:"x1bvjpef",":visited_color":"x17kgsl5",$$css:!0},regularIncoming:{color:"xzsf02u",":visited_color":"x17kgsl5",$$css:!0},regularOutgoing:{color:"x14ctfv",":visited_color":"x17kgsl5",$$css:!0},textPrecedesXMA:{color:"x5n08af",":visited_color":"x17kgsl5",$$css:!0}},d=["Ai",function(e){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{className:"x1s688f",role:"gridcell",children:e})})}],m=["Command",function(e){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{className:"x1s688f",role:"gridcell",children:e})})}];function p(e,t,n,a){var i=o("react-compiler-runtime").c(18),l=r("useMWPLinkRendererFactory")(t),s=n&&a?c.textPrecedesXMA:n?c.regularOutgoing:c.regularIncoming,u=o("PolarisUA").isMobile()?"_self":"_blank",p;i[0]!==l?(p=l([c.link],"ig_chat_message_regular_link","Link",u),i[0]=l,i[1]=p):p=i[1];var _;i[2]!==l||i[3]!==s?(_=l([c.bold,s],"ig_profile_link","Profile",u),i[2]=l,i[3]=s,i[4]=_):_=i[4];var f;i[5]!==l||i[6]!==s?(f=l([c.bold,s],"ig_chat_message_regular_hashtag","Hashtag",u),i[5]=l,i[6]=s,i[7]=f):f=i[7];var g;i[8]!==p||i[9]!==_||i[10]!==f?(g=[p,_,f,d,m],i[8]=p,i[9]=_,i[10]=f,i[11]=g):g=i[11];var h=r("useMWPCombineTextRenderers")(g),y;if(i[12]!==e||i[13]!==h||i[14]!==n){if(y=babelHelpers.extends({},h),e===!0){var C=n?o("MWChatTextFormatting").messageRenderer:o("MWChatTextFormatting").messageIncomingRenderer,b;i[16]!==C?(b=[C],i[16]=C,i[17]=b):b=i[17],y.MessengerTextFormatting=b}i[12]=e,i[13]=h,i[14]=n,i[15]=y}else y=i[15];return y}l.default=p}),98);
__d("IGDMessageListText.react",["IGDGetHashtagRanges.react","MWV2ChatTextUtils","MWXMessageListText.react","react","react-compiler-runtime","useIGDTextRenderers"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.enableMessengerTextFormatting,a=e.isSecureMessage,i=e.message,l=e.outgoing,u=e.precedesXMA,c=r("useIGDTextRenderers")(n,a,l,u),d=o("IGDGetHashtagRanges.react").getHashtagRanges(i.text),m=o("MWV2ChatTextUtils").useRanges(i.text,i).concat(d),p=u?!1:l,_;return t[0]!==i||t[1]!==m||t[2]!==c||t[3]!==p?(_=s.jsx(r("MWXMessageListText.react"),{message:i,outgoing:p,ranges:m,renderers:c,text:i.text}),t[0]=i,t[1]=m,t[2]=c,t[3]=p,t[4]=_):_=t[4],_}l.default=u}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.Children,d={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function m(t){var n=t.children,o=t.itemsXstyle,a=t.outgoing,i=t.xstyle,l=c.toArray(n).filter(Boolean);return l.length===0?null:u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.container,i),{role:"none",children:[l.map(function(t,n){return u.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.items,o),{key:""+n,role:"none"}),t)}),a?null:u.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]}))}m.displayName=m.name+" [from "+i.id+"]",l.MWPMessageFooter=m}),98);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.filter(t.db.table(243).fetch([[[e[0],e[1]]]]),function(n){return t.i64.eq(e[0],n.threadId)&&e[1]===n.messageId&&t.i64.eq(e[2],n.reactionFbid)}).next().then(function(n,r){var o=n.done,a=n.value;return o?t.db.table(243).add({threadId:e[0],messageId:e[1],reactionFbid:t.i64.cast([0,0]),minTimestampMs:t.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:t.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(r=a.item,t.forEach(t.db.table(243).fetch([[[r.threadId,r.messageId,r.reactionFbid,r.minTimestampMs]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!0})}))})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[6]=n.syncGroup,t.i64.neq(r[6],void 0)?r[5]=r[6]:r[5]=t.i64.cast([0,1]),r[1]=r[5])})},function(o){return r[3]=new t.Map,r[3].set("thread_id",e[0]),r[3].set("message_id",e[1]),r[3].set("reaction_fbid",e[2]),r[3].set("cursor",e[3]),r[3].set("sync_group",r[1]),r[4]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",t.i64.cast([0,577]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssueReactionsV2DetailsUsersListFetchStoredProcedure",e.__tables__=["reactions_v2_details_ranges_v2__generated","threads"],a.exports=e}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueReactionsV2DetailsUsersListFetch"),a.threadId,a.messageId,a.reactionFbid,a.nextPageCursor);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MWMultiReactConstants",[],(function(t,n,r,o,a,i){"use strict";var e=3,l=20,s=3,u=9,c=180,d=2;i.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=e,i.CM_MAX_REACTION_EMOJIS_ALLOWED=l,i.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=s,i.SPACING_PER_COUNT_CHARACTER=u,i.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=c,i.REACTION_BUTTON_BUBBLE_EASE_FACTOR=d}),66);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a,l=(e||(e=r("useReStore")))(),s=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(n),u=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.threads,["threadSubtype","threadType"]).getKeyRange(n)},[l,n],i.id+":30"))!=null?a:{},c=u.threadSubtype,d=u.threadType;!(d!=null&&o("LSMessagingThreadTypeUtil").isDiscoverableChannel(d))&&!(d!=null&&o("MWCMThreadTypes.react").isBroadcastThread(d))&&!(c!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(c))||s||t.sort(function(e,t){return e.count===t.count&&e.reactionLiteral!=null&&t.reactionLiteral!=null?e.reactionLiteral.localeCompare(t.reactionLiteral):t.count-e.count})}l.useSortReactionsForBroadcastChat=s}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t;return(t=o("MWLSThread").useThread(e,function(e){return o("LSThreadBitOffset").has(184,e)||o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)}))!=null?t:!1}l.default=e}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f=m.useDeferredValue,g=m.useMemo,h=m.useRef,y=m.useState,C=r("gkx")("24166")?o("MWChatReactionsUtils").heartType2:o("MWChatReactionsUtils").heartType1;function b(t){var n=(e||(e=r("useReStore")))(),a=f(o("ReQLSuspense").useArray(function(){if(t==null)return o("ReQL").empty();var e=t.messageId,r=t.threadKey;return o("ReQL").fromTableAscending(n.tables.reactions).getKeyRange(r,e).map(function(e){return o("MWChatReactionsUtils").isHeart(e.reaction)?{actorId:e.actorId,authorityLevel:e.authorityLevel,messageId:e.messageId,reaction:C,threadKey:e.threadKey,timestampMs:e.timestampMs}:e})},[t,n.tables.reactions],i.id+":64"));return a}function v(t){var n=(e||(e=r("useReStore")))(),a=o("ReQLSuspense").useArray(function(){if(t==null)return o("ReQL").empty();var e=t.messageId,r=t.threadKey;return o("ReQL").fromTableAscending(n.tables.reactions_v2).getKeyRange(r,e)},[t,n],i.id+":91");return a}function S(t){var n=(e||(e=r("useReStore")))(),a=t.messageId,l=t.threadKey,s=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(n.tables.reactions_v2).getKeyRange(l,a).filter(function(e){return(u||(u=o("I64"))).gt(e.count,u.zero)})},[n,l,a],i.id+":107");return s}function R(e,t){var n=e!=null?r("intlList")(e.map(function(e){return e.join("")}),r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA):"";return s._(/*BTDS*/"_j{\"*\":\"{number} reactions with {the comma separated list of emojis used to react on this message}; see who reacted to this.\",\"_1\":\"1 reaction with {the comma separated list of emojis used to react on this message}; see who reacted to this.\"}",[s._plural(t,"number"),s._param("the comma separated list of emojis used to react on this message",n)])}function L(e){return e.map(function(e,t){var n=o("EmojiRenderer").parse(e).map(function(e){return e.emoji});return n.length!==1?[""]:n[0]}).filter(function(e){return e.join("")!==""})}function E(t){var n=t.children,a=t.dialogResource,l=t.message,s=t.onPress,c=t.outgoing,m=t.reactions,f=t.reactionsV2,C=t.shouldUseVariant16ForReactionsV2,b=C===void 0?!1:C,v=l.messageId,S=l.threadKey,E=_(o("MWV2MessageRowIsRowFocusedContext.react").context),k=E.setFocused,I=E.setIsDialogOpened,T=(e||(e=r("useReStore")))(),D=y(!1),x=D[0],$=D[1],P=function(){$(function(e){return!e})},N=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(S),M=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(S),w=o("MWLSThread").useThread(S,function(e){return o("LSMessagingThreadTypeUtil").isDiscoverableChannel(e.threadType)}),A=M?o("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,F=r("useIsReactionDialogEnabled")(S),O=h(new Map),B=p(function(){N&&r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(T,function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:l.messageId,threadId:S})},"issueReactionsV2DetailsUsersListFetch").then(function(){return O.current.forEach(function(e){return e()})}))},[T,N,l.messageId,S]),W=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(T.tables.reactions_v2).getKeyRange(S,v).filter(function(e){return(u||(u=o("I64"))).gt(e.count,u.zero)}).map(function(e){var t=o("ReQLSuspense").first(o("ReQL").fromTableAscending(T.tables.reaction_v2_types).getKeyRange(e.reactionFbid),i.id+":226"),n=b?t==null?void 0:t.reactionLiteralVariant16:t==null?void 0:t.reactionLiteral;return babelHelpers.extends({},e,{count:(u||(u=o("I64"))).to_int32(e.count),reactionLiteral:n})})},[T,S,v,b],i.id+":220");o("MWReactionUtils").useSortReactionsForBroadcastChat(W,S);var q=Array.from(new Set(W.map(function(e){var t;return(t=e.reactionLiteral)!=null?t:""}))),U=M&&w===!0?q:q.slice(0,A),V=f!=null&&N?L(U):L(Array.from(new Set(m.map(function(e){var t=e.reaction;return t}))).slice(0,A)),H=f!=null&&N?(u||(u=o("I64"))).to_int32(W.reduce(function(e,t){return(u||(u=o("I64"))).add(e,u.of_int32(t.count))},(u||(u=o("I64"))).zero)):m.length,G=R(V,H),z=h(null),j=g(function(){return a!=null?a:N?r("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):r("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[a,N]),K=g(function(){return{message:l,onLoadComplete:function(t){return O.current.set(t,t),function(){O.current.delete(t)}},thread:{threadKey:S}}},[l,S]),Q=p(function(){I(function(){return!1}),k(function(){return!0})},[k,I]),X=r("useMWXLazyDialog")(j),Y=X[0],J=p(function(e){I(function(){return!0}),Y(babelHelpers.extends({},K,{initialTab:e}),Q),s==null||s(),B()},[K,Q,s,I,Y,B]),Z={eventName:"open_message_reactions_dialog",threadKey:S};return M||!F?n(V,H,m,l,S,J,x,P):d.jsx(r("MWXPressable.react"),{"aria-label":G,loggingEvent:Z,onPress:function(){return J()},overlayDisabled:!0,ref:z,children:n(V,H,m,l,S,J,!1,r("emptyFunction"))})}E.displayName=E.name+" [from "+i.id+"]",l.useReactions=b,l.useReactionsV2=v,l.useNonZeroCountReactionsV2=S,l.MWPMessageReactions=E}),226);
__d("isKeyActivation",["Keys"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=0,n=e.charCode,o=e.keyCode;return n!=null&&n!==0?t=n:o!=null&&o!==0&&(t=o),[r("Keys").RETURN,r("Keys").SPACE].includes(t)}l.default=e}),98);
__d("KeyActivationToClickHOC.react",["isKeyActivation","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t;return t=(function(t){function n(e){var n;return n=t.call(this,e)||this,n.$2=function(e){var t,o=(t=n.props.isKeyActivation)!=null?t:r("isKeyActivation");o(e)&&(e.preventDefault(),e.stopPropagation(),n.$1&&n.$1.click())},n.$3=function(e){n.$1=e},n.$1=null,n}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.render=function(){return s.jsx(e,babelHelpers.extends({keyActivationToClickEvent:this.$2,keyActivationToClickRef:this.$3},this.props))},n})(s.Component),t.displayName="KeyActivationToClickHOC",t}l.default=u}),98);
__d("ShimButton.react",["KeyActivationToClickHOC.react","emptyFunction","react"],(function(t,n,r,o,a,i,l){var e=["children","form","inline","keyActivationToClickEvent","keyActivationToClickRef","onRef","pressed","role"],s,u=s||(s=o("react")),c=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.$1=function(t){e.props.keyActivationToClickRef(t),e.props.onRef(t)},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.render=function(){var t=this.props,n=t.children,r=t.form,o=t.inline,a=t.keyActivationToClickEvent,i=t.keyActivationToClickRef,l=t.onRef,s=t.pressed,c=t.role,d=babelHelpers.objectWithoutPropertiesLoose(t,e),m=o?"span":"div";r==="link"&&(m="a");var p={onKeyDown:a};return u.jsx(m,babelHelpers.extends({},d,{"aria-pressed":s,ref:this.$1,role:c!=null?c:"button"},p,{children:n}))},n})(u.Component);c.defaultProps={form:"none",inline:!1,keyActivationToClickEvent:r("emptyFunction"),keyActivationToClickRef:r("emptyFunction"),onClick:r("emptyFunction"),onRef:r("emptyFunction"),tabIndex:0};var d=r("KeyActivationToClickHOC.react")(c);l.default=d}),98);
__d("useIGDBroadcastChannelReactionsFooterButtonClickLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(3),a=o("MWLSThread").useThread(e,c),i=a!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(a),l=r("useIGDBroadcastChannelLogger")(e),s;n[0]!==l||n[1]!==t?(s=function(){r("promiseDone")(l(babelHelpers.extends({},o("IGDBroadcastChannelLoggingShapes").REACTIONS_FOOTER_BUTTON_CLICK_SHAPE,{extra:{mid:t}})))},n[0]=l,n[1]=t,n[2]=s):s=n[2];var u=s;return i?u:r("emptyFunction")}function c(e){return e.threadSubtype}l.default=u}),98);
__d("IGDMessageRowFooter.react",["IGDSEmoji.react","IGDSingleAvatar.react","JSResourceForInteraction","MWPActor.react","MWPMessageFooter.react","MWPMessageReactions.react","ReQL","ReQLSuspense","ShimButton.react","getLSMediaContactProfilePictureUrl","intlSummarizeNumber","mwv2MessageIsEmojiOnly","promiseDone","react","react-compiler-runtime","requireDeferred","stylex","useIGDBroadcastChannelReactionsFooterButtonClickLogger","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=r("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageRowFooter.react"),m=r("JSResourceForInteraction")("IGDBroadcastChannelReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),p=r("JSResourceForInteraction")("IGDReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),_={footerContainer:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},footerContainerOutgoing:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0},reactionPillEmoji:{alignItems:"x6s0dn4",display:"x78zum5",fontSize:"x1pg5gke",height:"x1v9usgg",justifyContent:"xl56j7k",marginInlineStart:"xwklpps",marginInlineEnd:"xnnr8r",textAlign:"x2b8uid",width:"x6jxa94",$$css:!0},singleReaction:{marginInlineEnd:"xnnr8r",$$css:!0},translate:{transform:"x1wx64ow",$$css:!0},translateEmojiOnly:{transform:"x2hkv1k",$$css:!0},translateReset:{transform:"x1c1b4dv",$$css:!0}};function f(t){var n=o("react-compiler-runtime").c(11),a=t.reaction,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.contacts||n[1]!==a.actorId?(s=function(){return o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(a.actorId)},n[0]=l.tables.contacts,n[1]=a.actorId,n[2]=s):s=n[2];var u;n[3]!==l||n[4]!==a.actorId?(u=[l,a.actorId],n[3]=l,n[4]=a.actorId,n[5]=u):u=n[5];var d=o("ReQLSuspense").useFirst(s,u,i.id+":105"),m;n[6]!==d?(m=d!=null?r("getLSMediaContactProfilePictureUrl")(d):"/images/chat/webrtc/no_profile_pic.png",n[6]=d,n[7]=m):m=n[7];var p=m;if(d!=null){var _;n[8]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xwklpps xnnr8r"},n[8]=_):_=n[8];var f;return n[9]!==p?(f=c.jsx("div",babelHelpers.extends({},_,{role:"none",children:c.jsx(r("IGDSingleAvatar.react"),{size:"micro",src:p})})),n[9]=p,n[10]=f):f=n[10],f}else return null}function g(e){var t=o("react-compiler-runtime").c(18),n=e.count,a=e.emojis,i=e.reactions,l=e.shouldShowAvatarForSingleReaction,u=i.length===1,d;if(t[0]!==a||t[1]!==u||t[2]!==l){var m;t[4]!==u||t[5]!==l?(m=function(t,n){return c.createElement("span",babelHelpers.extends({},(s||(s=r("stylex"))).props([_.reactionPillEmoji,u&&!l?_.singleReaction:!1]),{key:String(n)}),c.jsx(r("IGDSEmoji.react"),{emoji:t.join("")}))},t[4]=u,t[5]=l,t[6]=m):m=t[6],d=a.map(m),t[0]=a,t[1]=u,t[2]=l,t[3]=d}else d=t[3];var p=d,g;t[7]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x19g9edo x1yhmmig xpcrz0c xyb01ml x1vpptxl xqbdsaf xpf24wh x14a4ghu x1a4jp9x x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1gnnqk1 x9f619 x78zum5 x1q0g3np x17rw0jw xl56j7k xo5v014 x25sj25 x1icxu4v"},t[7]=g):g=t[7];var h;t[8]!==u||t[9]!==i[0]||t[10]!==l?(h=u&&l?c.jsx(f,{reaction:i[0]}):null,t[8]=u,t[9]=i[0],t[10]=l,t[11]=h):h=t[11];var y;t[12]!==n?(y=n>1?c.jsx("div",{className:"x5n08af x1f6kntn xwklpps xnnr8r",role:"none",children:r("intlSummarizeNumber")(n)}):null,t[12]=n,t[13]=y):y=t[13];var C;return t[14]!==p||t[15]!==h||t[16]!==y?(C=c.jsxs("div",babelHelpers.extends({},g,{role:"none",children:[p,h,y]})),t[14]=p,t[15]=h,t[16]=y,t[17]=C):C=t[17],C}function h(t){var n=o("react-compiler-runtime").c(16),a=t.hasReactions,i=t.isGroupThread,l=t.message,s=t.outgoing,u=t.reactions,f=t.reactionsV2,h=t.resetReactionTranslateStyle,y=o("MWPActor.react").useActor(),C=(e||(e=r("useReStore")))(),b=f!=null&&f.length>0,v=r("useIGDBroadcastChannelReactionsFooterButtonClickLogger")(l.threadKey,l.messageId),S=r("mwv2MessageIsEmojiOnly")(l.text,!1),R=h===!0?_.translateReset:S?_.translateEmojiOnly:_.translate,L=s?_.footerContainerOutgoing:_.footerContainer,E;n[0]!==y||n[1]!==C||n[2]!==a||n[3]!==i||n[4]!==v||n[5]!==l||n[6]!==s||n[7]!==u||n[8]!==f||n[9]!==b?(E=a?c.jsx(r("ShimButton.react"),{children:c.jsx(o("MWPMessageReactions.react").MWPMessageReactions,{dialogResource:b?m:p,message:l,onPress:function(){d.onReady(function(e){return r("promiseDone")(e.log(C,l.messageId,l.threadKey,"direct_click","view_message_reactions",void 0,void 0,void 0,l.senderId,void 0,y))}),v()},outgoing:s,reactions:u,reactionsV2:b?f:void 0,shouldUseVariant16ForReactionsV2:b,children:function(t,n,r){return c.jsx(g,{count:n,emojis:t,reactions:r,shouldShowAvatarForSingleReaction:b?!1:i})}})}):null,n[0]=y,n[1]=C,n[2]=a,n[3]=i,n[4]=v,n[5]=l,n[6]=s,n[7]=u,n[8]=f,n[9]=b,n[10]=E):E=n[10];var k;return n[11]!==s||n[12]!==R||n[13]!==L||n[14]!==E?(k=c.jsx(o("MWPMessageFooter.react").MWPMessageFooter,{itemsXstyle:R,outgoing:s,xstyle:L,children:E}),n[11]=s,n[12]=R,n[13]=L,n[14]=E,n[15]=k):k=n[15],k}l.default=h}),98);
__d("IGDRepliedEphemeralMessage.react",["EphemeralMediaViewMode","IGDChatImage.react","IGDChatVideo.react","IGDRavenMessage.react","LSIntEnum","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=340*.6,d=236*.6;function m(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.message,i=e.outgoing;if(n.ephemeralMediaViewMode!=null){var l=(s||(s=o("LSIntEnum"))).unwrapIntEnum(n.ephemeralMediaViewMode);if(l===r("EphemeralMediaViewMode").PERMANENT)switch((s||(s=o("LSIntEnum"))).toNumber(n.attachmentType)){case r("MessagingAttachmentType").EPHEMERAL_IMAGE:{var m;return t[0]!==n||t[1]!==a||t[2]!==i?(m=u.jsx(r("IGDChatImage.react"),{attachment:n,connectBottom:!1,connectTop:!1,isReplyMessage:!0,maxHeight:c,maxWidth:d,mediaRenderQpl:null,message:a,outgoing:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=m):m=t[3],m}case r("MessagingAttachmentType").EPHEMERAL_VIDEO:{var p;return t[4]!==n||t[5]!==a||t[6]!==i?(p=u.jsx(r("IGDChatVideo.react"),{attachment:n,connectTop:!1,maxHeight:c,maxWidth:d,mediaRenderQpl:null,message:a,outgoing:i}),t[4]=n,t[5]=a,t[6]=i,t[7]=p):p=t[7],p}}}var _;return t[8]!==n?(_=u.jsx(r("IGDRavenMessage.react"),{attachment:n,connectBottom:!1,connectTop:!1,outgoing:!0}),t[8]=n,t[9]=_):_=t[9],_}l.default=m}),98);
__d("IGDRepliedUtils",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=100;function u(t,n){return(e||(e=o("I64"))).compare(t.attachmentIndex,n.attachmentIndex)}l.REPLIED_STICKER_SIZE=s,l.orderByUserSelection=u}),98);
__d("IGDRepliedXMAAttachment.react",["BaseImage.react","BaseTheme.react","IGDSText.react","IGDXMAAttachmentItemPreview.react","LSMediaUrlAttachment","MWPBaseXMAAttachment.react","MWPXMAIconParser","react","react-compiler-runtime","useXMAPreviewIconDecorator.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={headerImage:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",marginTop:"x9otpla",marginBottom:"x1wsgfga",marginInlineEnd:"xbelrpt",marginInlineStart:"x165d6jo",objectFit:"xl1xv1r",$$css:!0}},d={"mwp-xma-message-bubble-max-width":"200px"},m={dark:d,light:d,type:"VARIABLES"},p={"mwp-xma-message-bubble-max-width":"100px"},_={dark:p,light:p,type:"VARIABLES"};function f(e){var t=o("react-compiler-runtime").c(5),n;e:{var r;t[0]!==e?(r=o("MWPXMAIconParser").parse(o("LSMediaUrlAttachment").headerImageUrl(e)),t[0]=e,t[1]=r):r=t[1];var a=r,i=typeof a=="string"?a:null,l=e.headerTitle;if(i!=null||l!=null){var s;t[2]!==i||t[3]!==l?(s={imageUrl:i,title:l},t[2]=i,t[3]=l,t[4]=s):s=t[4],n=s;break e}n=void 0}return n}function g(e){var t=o("react-compiler-runtime").c(6),n;t[0]!==e?(n=o("LSMediaUrlAttachment").previewUrl(e),t[0]=e,t[1]=n):n=t[1];var r=n,a;t[2]!==e?(a=o("LSMediaUrlAttachment").playableUrl(e),t[2]=e,t[3]=a):a=t[3];var i=a,l=r!=null||i!=null,s=h,u;return t[4]!==l?(u={getPreviewImageUrlXMA:s,hasPreview:l},t[4]=l,t[5]=u):u=t[5],u}function h(e,t){return o("LSMediaUrlAttachment").previewUrl(e)}function y(e){var t=o("react-compiler-runtime").c(15),n=e.attachment,a=e.mediaRenderQpl,i=r("useXMAPreviewIconDecorator.react")(n.previewImageDecorationType),l=f(n),u=g(n),d=u.getPreviewImageUrlXMA,p=u.hasPreview,h=i!=null,y=l!=null&&!p,C=y?m:_,b;t[0]!==n||t[1]!==d||t[2]!==h||t[3]!==p||t[4]!==l||t[5]!==i||t[6]!==y||t[7]!==a?(b=function(t){switch(t.layoutType){case"vertical":return s.jsxs("div",babelHelpers.extends({},{0:{className:"x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x6ikm8r x10wlt62 x19g9edo"},1:{className:"x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x6ikm8r x10wlt62 x19g9edo x1n2onr6"}}[!!p<<0],{children:[(y||h)&&s.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 x13a6bvl xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1vjfegm"},1:{className:"x6s0dn4 x78zum5 x13a6bvl xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1vjfegm xtijo5x x1o0tod x10l6tqk x13vifvy"}}[!!p<<0],{children:y&&s.jsxs(s.Fragment,{children:[(l==null?void 0:l.imageUrl)!=null&&s.jsx(r("BaseImage.react"),{height:20,src:l.imageUrl,width:20,xstyle:c.headerImage}),(l==null?void 0:l.title)!=null&&s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"body",children:l.title})]})})),s.jsx("div",{className:"x1ey2m1c xtijo5x x1o0tod xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x10l6tqk x1vjfegm",children:i}),p&&t.preview!=null&&s.jsxs(s.Fragment,{children:[s.jsx(r("IGDXMAAttachmentItemPreview.react"),{attachment:n,attachmentItem:t.preview,getPreviewImageUrlXMA:d,mediaRenderQpl:a,size:"small"}),h&&s.jsx("div",{className:"xnp7tpx x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy"})]})]}));case"centered":return"centered";case"horizontal":return"horizontal";case"expired":case"placeholder":return null}},t[0]=n,t[1]=d,t[2]=h,t[3]=p,t[4]=l,t[5]=i,t[6]=y,t[7]=a,t[8]=b):b=t[8];var v;t[9]!==n||t[10]!==b?(v=s.jsx(r("MWPBaseXMAAttachment.react"),{attachment:n,connectBottom:!1,connectTop:!1,hasText:!1,renderLayout:b}),t[9]=n,t[10]=b,t[11]=v):v=t[11];var S;return t[12]!==C||t[13]!==v?(S=s.jsx(r("BaseTheme.react"),{config:C,children:v}),t[12]=C,t[13]=v,t[14]=S):S=t[14],S}l.default=y}),98);
__d("MDSSolidMessageBubble.react",["MWXMessageBubbleCornerStyles.react","XPlatReactEnvironment","gkx","react","react-strict-dom","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=o("XPlatReactEnvironment").isWeb(),c={precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},precedes_xma_v2_web:{minWidth:"xgqtt45",width:"xnalus7",$$css:!0},precedes_xma_web:{maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}},d={bubble:{color:"x14ctfv",maxWidth:"x13sv91t",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xerhiuh",paddingBottom:"x1pn3fxy",paddingInlineStart:"x10zy8in",paddingInlineEnd:"xm9bcq3",paddingLeft:null,paddingRight:null,position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},bubbleOutline:{outline:"x1k4qllp",$$css:!0},bubbleWeb:{overflowWrap:"x1mzt3pk",wordBreak:"x13faqbe",$$css:!0},clip:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},m={background:{backgroundColor:"x1xr0vuk",borderTopColor:"x1jm4cbz",borderInlineEndColor:"x114wg8e",borderBottomColor:"xrrpcnn",borderInlineStartColor:"x14rx4xb",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x19livfd",borderInlineEndWidth:"x1h2krnu",borderBottomWidth:"x3p3xfz",borderInlineStartWidth:"xet2kk3",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},p={background:{backgroundColor:"x11jlvup",borderTopColor:"xpmdkuv",borderInlineEndColor:"xrmkrer",borderBottomColor:"x12z03op",borderInlineStartColor:"x9wyiwl",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x12lizq0",borderInlineEndWidth:"x1nrdd72",borderBottomWidth:"x1ybe9c6",borderInlineStartWidth:"xx487zo",$$css:!0},opaque:{backgroundAttachment:"x1nr1p0w",backgroundImage:"xl54vp5",outline:"x1ucz5p",$$css:!0}},_={background:{backgroundColor:"x1m3w7tb",borderTopColor:"x1jm4cbz",borderInlineEndColor:"x114wg8e",borderBottomColor:"xrrpcnn",borderInlineStartColor:"x14rx4xb",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x19livfd",borderInlineEndWidth:"x1h2krnu",borderBottomWidth:"x3p3xfz",borderInlineStartWidth:"xet2kk3",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}};function f(e){var t=e.align,n=e.children,a=e.color,i=e.connectBottom,l=e.connectTop,f=e.xmaLayout,g=f===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:f,h=e.xstyle,y=e.precedesXMA,C=e.precedingXmaIsV2,b=C===void 0?!1:C,v=e.testid,S=e.flattenCorners,R=e.variant,L=e.isBackgroundTransparent,E=g!==o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&y===!0,k=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:t,connectBottom:i,connectTop:l,flatten:S!=null?S:E?"bottom":"none"}),I=a==="incoming"?m:a==="outgoing"?p:_,T=b&&r("gkx")("7835")?c.precedes_xma_v2_web:c.precedes_xma_web;return s.jsx(o("react-strict-dom").html.div,{style:[d.clip,E&&u&&T],children:s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,role:"none",style:[d.bubble,L!==!0&&d.bubbleOutline,u&&d.bubbleWeb,E&&c.precedes_xma,E&&u&&T,I.background,R==="opaque"&&I.opaque,k,h],children:n})})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("MWXMessageReplyBubble.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.children,n=e.fontStyle,o=n===void 0?"normal":n,a=e.outgoing;return u.jsxs(r("MWXMessageBubble.react"),{align:a?"right":"left",color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[u.jsx(r("CometScreenReaderText.react"),{tabIndex:-1,text:s._(/*BTDS*/"Original message:")}),u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:u.jsx("div",babelHelpers.extends({},{0:{className:"x1mzt3pk x1l90r2v x1iorvi4"},1:{className:"x1mzt3pk x1l90r2v x1iorvi4 x1k4tb9n"}}[(o==="italic")<<0],{"data-testid":void 0,children:t}))})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon_DEPRECATED.react","MWXMessageReplyBubble.react","fbicon","react"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=e.mediaRenderQpl,n=e.outgoing;d(function(){t==null||t.addPoint("render-replies-attachment")},[t]);var a=s._(/*BTDS*/"Attachment");return c.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:c.jsxs("div",{className:"x6s0dn4 x78zum5",children:[a,c.jsx("span",{className:"x1lliihq x13fj5qh",children:c.jsx(r("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:o("fbicon")._(u("537728"),12)})})]})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("IGDRepliedAttachment.react",["I64","IGDAttachmentUtil","IGDMsysMusicSticker.react","IGDPlaceholderMessage.react","IGDRepliedEphemeralMessage.react","IGDRepliedUtils","IGDRepliedXMAAttachment.react","IGDSticker.react","LSIntEnum","MWRepliesAttachment.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react"));function m(t){var n=o("react-compiler-runtime").c(16),a=t.isSecureMessage,l=t.mediaRenderQpl,c=t.message,m=t.outgoing,p=(e||(e=r("useReStore")))(),_=c==null?void 0:c.replySourceId,f=c==null?void 0:c.threadKey,g,h;n[0]!==p||n[1]!==_||n[2]!==f?(g=function(){return _!=null&&f!=null?o("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(f,_):o("ReQL").empty()},h=[p,_,f],n[0]=p,n[1]=_,n[2]=f,n[3]=g,n[4]=h):(g=n[3],h=n[4]);var y=Array.from(o("ReQLSuspense").useArray(g,h,i.id+":50")).sort(o("IGDRepliedUtils").orderByUserSelection),C=y.length;if(C===0||c==null)return null;if(C>1){var b;return n[5]!==a||n[6]!==l||n[7]!==c||n[8]!==m?(b=d.jsx(r("MWRepliesAttachment.react"),{isSecureMessage:a,mediaRenderQpl:l,message:c,outgoing:m}),n[5]=a,n[6]=l,n[7]=c,n[8]=m,n[9]=b):b=n[9],b}else{var v=y[0];if((s||(s=o("I64"))).equal(v.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)))if(o("IGDAttachmentUtil").isUnsupportedXma(v,void 0,void 0,c)){var S=o("IGDAttachmentUtil").getUnsupportedXmaType(v);return S!=null&&(S="replied_xma_"+S),d.jsx(r("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:l,outgoing:m,unsupportedType:S})}else return o("IGDAttachmentUtil").isStickerXMA(v)?v.stickerType==="music_sticker"?d.jsx(r("IGDMsysMusicSticker.react"),{attachment:v,isPreview:!0,outgoing:m}):d.jsx(r("IGDSticker.react"),{attachment:v,stickerSize:o("IGDRepliedUtils").REPLIED_STICKER_SIZE}):d.jsx(r("IGDRepliedXMAAttachment.react"),{attachment:v,mediaRenderQpl:l});else{if((s||(s=o("I64"))).equal(v.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(s||(s=o("I64"))).equal(v.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO)))return d.jsx(r("IGDRepliedEphemeralMessage.react"),{attachment:v,message:c,outgoing:m});if((s||(s=o("I64"))).equal(v.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))){var R;return n[10]!==v?(R=d.jsx(r("IGDSticker.react"),{attachment:v,stickerSize:o("IGDRepliedUtils").REPLIED_STICKER_SIZE}),n[10]=v,n[11]=R):R=n[11],R}else{var L;return n[12]!==a||n[13]!==c||n[14]!==m?(L=d.jsx(r("MWRepliesAttachment.react"),{isSecureMessage:a,mediaRenderQpl:null,message:c,outgoing:m}),n[12]=a,n[13]=c,n[14]=m,n[15]=L):L=n[15],L}}}}l.default=m}),98);
__d("IGDRepliedMessageBubble.react",["fbt","CometScreenReaderText.react","I64","IGDMessageBubbleSelector.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m={content:{color:"x5n08af",fontSize:"x1f6kntn",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(9),a=t.children,i=t.message,l=t.xstyle,u=i.replyToUserId,p=u!=null?(c||(c=o("I64"))).equal(i.senderId,u):!1,_=p?"right":"left",f;n[0]===Symbol.for("react.memo_cache_sentinel")?(f=d.jsx(r("CometScreenReaderText.react"),{text:s._(/*BTDS*/"Original message:")}),n[0]=f):f=n[0];var g;n[1]!==l?(g=(e||(e=r("stylex"))).props(m.content,l),n[1]=l,n[2]=g):g=n[2];var h;n[3]!==a||n[4]!==g?(h=d.jsx("div",babelHelpers.extends({},g,{children:a})),n[3]=a,n[4]=g,n[5]=h):h=n[5];var y;return n[6]!==_||n[7]!==h?(y=d.jsxs(r("IGDMessageBubbleSelector.react"),{align:_,color:"incoming",connectBottom:!1,connectTop:!1,precedesXMA:!1,children:[f,h]}),n[6]=_,n[7]=h,n[8]=y):y=n[8],y}l.default=p}),226);
__d("useIGDGetAttachments",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){var t=o("react-compiler-runtime").c(7),n=(s||(s=r("useReStore")))(),a=e==null?void 0:e.messageId,l=e==null?void 0:e.threadKey,u,d;t[0]!==n||t[1]!==a||t[2]!==l?(u=function(){return a!=null&&l!=null?o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(l,a):o("ReQL").empty()},d=[n,a,l],t[0]=n,t[1]=a,t[2]=l,t[3]=u,t[4]=d):(u=t[3],d=t[4]);var m=o("ReQLSuspense").useArray(u,d,i.id+":25"),p;return t[5]!==m?(p=m.toSorted(c),t[5]=m,t[6]=p):p=t[6],p}function c(t,n){return(e||(e=o("I64"))).compare(t.attachmentIndex,n.attachmentIndex)}l.useIGDGetAttachments=u}),98);
__d("IGDRepliedCollection.react",["fbt","IGDAttachmentUtil","IGDChatImage.react","IGDChatVideo.react","IGDMediaGrid.react","IGDRepliedMessageBubble.react","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","useIGDGetAttachments","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"Media collection"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(13),a=t.message,l=t.outgoing,s=a.replySourceId,u=a.replySourceTimestampMs,p=a.threadKey,_=(e||(e=r("useReStore")))(),f;n[0]===Symbol.for("react.memo_cache_sentinel")?(f={eventName:"media_collection_replied_rendered"},n[0]=f):f=n[0];var g=r("MessengerWebUXLogger").useImpressionLoggerRef(f),h,y;n[1]!==_||n[2]!==s||n[3]!==u||n[4]!==p?(h=function(){return s!=null&&p!=null&&u!=null?o("ReQL").fromTableAscending(_.tables.messages).getKeyRange(p,u,s):o("ReQL").empty()},y=[_,p,s,u],n[1]=_,n[2]=s,n[3]=u,n[4]=p,n[5]=h,n[6]=y):(h=n[5],y=n[6]);var C=o("ReQLSuspense").useFirst(h,y,i.id+":52"),b=o("useIGDGetAttachments").useIGDGetAttachments(C),v;return n[7]!==b||n[8]!==g||n[9]!==a||n[10]!==C||n[11]!==l?(v=b!=null?c.jsx(r("IGDMediaGrid.react"),{attachments:b,connectBottom:!1,connectTop:!1,isReply:!1,logImpressionEventRef:g,onRenderMedia:function(t){return o("IGDAttachmentUtil").isImageAttachment(t)?c.jsx(r("IGDChatImage.react"),{attachment:t,connectTop:!1,inGrid:!0,isReplyMessage:!0,mediaRenderQpl:null,message:a,outgoing:l,repliedMessage:C}):o("IGDAttachmentUtil").isVideoAttachment(t)?c.jsx(r("IGDChatVideo.react"),{attachment:t,connectTop:!1,inGrid:!0,isReplyMessage:!0,mediaRenderQpl:null,message:a,outgoing:l,repliedMessage:C}):null},outgoing:l}):c.jsx(r("IGDRepliedMessageBubble.react"),{message:a,xstyle:m.italic,children:d}),n[7]=b,n[8]=g,n[9]=a,n[10]=C,n[11]=l,n[12]=v):v=n[12],v}l.default=p}),226);
__d("IGDRepliedHiddenMessage.react",["fbt","CometTextWithEntities.react","IGDRepliedMessageBubble.react","MWChatTextTransform","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={content:{color:"x1roi4f4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(3),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("CometTextWithEntities.react"),{maxLength:120,text:s._(/*BTDS*/"You reported this message").toString(),transforms:o("MWChatTextTransform").textTransforms,truncationStyle:"ellipsis-only",withParagraphs:!1}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("IGDRepliedMessageBubble.react"),{message:n,xstyle:c.content,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=d}),226);
__d("IGDRepliedMedia.react",["fbt","I64","IGDChatImage.react","IGDRepliedMessageBubble.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=s._(/*BTDS*/"Photo"),p={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(10),a=t.message,l=t.outgoing,s=a.replyAttachmentId,c=a.replySourceId,_=a.threadKey,f=(e||(e=r("useReStore")))(),g,h;n[0]!==f||n[1]!==s||n[2]!==c||n[3]!==_?(g=function(){return c!=null&&s!=null?o("ReQL").fromTableAscending(f.tables.attachments).getKeyRange(_,c,(u||(u=o("I64"))).to_string(s)):o("ReQL").empty()},h=[f,_,c,s],n[0]=f,n[1]=s,n[2]=c,n[3]=_,n[4]=g,n[5]=h):(g=n[4],h=n[5]);var y=o("ReQLSuspense").useFirst(g,h,i.id+":45"),C;return n[6]!==y||n[7]!==a||n[8]!==l?(C=y!=null?d.jsx(r("IGDChatImage.react"),{attachment:y,connectBottom:!1,connectTop:!1,isReplyMessage:!0,maxHeight:204,maxWidth:141.6,mediaRenderQpl:null,message:a,outgoing:l}):d.jsx(r("IGDRepliedMessageBubble.react"),{message:a,xstyle:p.italic,children:m}),n[6]=y,n[7]=a,n[8]=l,n[9]=C):C=n[9],C}l.default=_}),226);
__d("IGDRepliedPostXMAAttachment.react",["fbt","IGDRepliedMessageBubble.react","IGDRepliedUtils","IGDXMAAttachment.react","LSMediaUrlAttachment","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"Photo"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(15),a=t.isSecureMessage,l=t.mediaRenderQpl,s=t.message,u=t.outgoing,p=a===void 0?!1:a,h=(e||(e=r("useReStore")))(),y=s.replySourceId,C=s.threadKey,b,v;n[0]!==h||n[1]!==y||n[2]!==C?(b=function(){return y!=null?o("ReQL").fromTableAscending(h.tables.attachments).getKeyRange(C,y):o("ReQL").empty()},v=[h,y,C],n[0]=h,n[1]=y,n[2]=C,n[3]=b,n[4]=v):(b=n[3],v=n[4]);var S=Array.from(o("ReQLSuspense").useArray(b,v,i.id+":53")).sort(o("IGDRepliedUtils").orderByUserSelection),R=S.length;if(R===0)return null;if(R>1){var L;return n[5]!==p||n[6]!==l||n[7]!==s||n[8]!==u?(L=c.jsx(r("MWRepliesAttachment.react"),{isSecureMessage:p,mediaRenderQpl:l,message:s,outgoing:u}),n[5]=p,n[6]=l,n[7]=s,n[8]=u,n[9]=L):L=n[9],L}var E=S[0],k;return n[10]!==E||n[11]!==l||n[12]!==s||n[13]!==u?(k=E!=null?c.jsx(r("IGDXMAAttachment.react"),{attachment:E,connectBottom:!1,connectTop:!1,getFaviconUrlXMA:g,getHeaderImageUrlXMA:f,getPreviewImageUrlXMA:_,mediaRenderQpl:l,message:s,outgoing:u}):c.jsx(r("IGDRepliedMessageBubble.react"),{message:s,xstyle:m.italic,children:d}),n[10]=E,n[11]=l,n[12]=s,n[13]=u,n[14]=k):k=n[14],k}function _(e){return o("LSMediaUrlAttachment").previewUrl(e)}function f(e){return o("LSMediaUrlAttachment").headerImageUrl(e)}function g(e){return o("LSMediaUrlAttachment").faviconUrl(e)}l.default=p}),226);
__d("IGDRepliedSticker.react",["fbt","CometPlaceholder.react","I64","IGDRepliedUtils","IGDSticker.react","MWRepliesAttachment.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react"));function m(t){var n=o("react-compiler-runtime").c(21),a=t.isSecureMessage,l=t.mediaRenderQpl,c=t.message,m=t.outgoing,p=a===void 0?!1:a,_;n[0]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Sticker"),n[0]=_):_=n[0];var f=_,g=(e||(e=r("useReStore")))(),h;n[1]!==g||n[2]!==c.replyAttachmentId||n[3]!==c.replySourceId||n[4]!==c.threadKey?(h=function(){var e=c.replyAttachmentId,t=c.replySourceId;return t!=null&&e!=null?o("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(c.threadKey,t,(u||(u=o("I64"))).to_string(e)):o("ReQL").empty()},n[1]=g,n[2]=c.replyAttachmentId,n[3]=c.replySourceId,n[4]=c.threadKey,n[5]=h):h=n[5];var y;n[6]!==g||n[7]!==c?(y=[g,c],n[6]=g,n[7]=c,n[8]=y):y=n[8];var C=o("ReQLSuspense").useFirst(h,y,i.id+":42");if(C==null){var b;return n[9]!==m?(b=d.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:m,children:f}),n[9]=m,n[10]=b):b=n[10],b}var v;n[11]!==p||n[12]!==l||n[13]!==c||n[14]!==m?(v=d.jsx(r("MWRepliesAttachment.react"),{isSecureMessage:p,mediaRenderQpl:l,message:c,outgoing:m}),n[11]=p,n[12]=l,n[13]=c,n[14]=m,n[15]=v):v=n[15];var S;n[16]!==C?(S=d.jsx(r("IGDSticker.react"),{attachment:C,stickerSize:o("IGDRepliedUtils").REPLIED_STICKER_SIZE}),n[16]=C,n[17]=S):S=n[17];var R;return n[18]!==v||n[19]!==S?(R=d.jsx(r("CometPlaceholder.react"),{fallback:v,name:i.id,children:S}),n[18]=v,n[19]=S,n[20]=R):R=n[20],R}l.default=m}),226);
__d("IGDRepliedText.react",["CometTextWithEntities.react","IGDChatEmoji.react","IGDRepliedMessageBubble.react","MWChatTextTransform","mwv2MessageIsEmojiOnly","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=e.text,i;return t[0]!==n||t[1]!==a?(i=r("mwv2MessageIsEmojiOnly")(a,!1)?s.jsx(r("IGDChatEmoji.react"),{text:a}):s.jsx(r("IGDRepliedMessageBubble.react"),{message:n,children:s.jsx(r("CometTextWithEntities.react"),{maxLength:120,text:a,transforms:o("MWChatTextTransform").textTransforms,truncationStyle:"ellipsis-only",withParagraphs:!1})}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}l.default=u}),98);
__d("IGDRepliedVideo.react",["I64","IGDChatVideo.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(12),a=t.isSecureMessage,l=t.mediaRenderQpl,u=t.message,d=t.outgoing,m=a===void 0?!1:a,p=u.replyAttachmentId,_=u.replySourceId,f=u.threadKey,g=(e||(e=r("useReStore")))(),h,y;n[0]!==g||n[1]!==p||n[2]!==_||n[3]!==f?(h=function(){return _!=null&&p!=null?o("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(f,_,(s||(s=o("I64"))).to_string(p)):o("ReQL").empty()},y=[g,p,_,f],n[0]=g,n[1]=p,n[2]=_,n[3]=f,n[4]=h,n[5]=y):(h=n[4],y=n[5]);var C=o("ReQLSuspense").useFirst(h,y,i.id+":37"),b;return n[6]!==C||n[7]!==m||n[8]!==l||n[9]!==u||n[10]!==d?(b=C!=null?c.jsx(r("IGDChatVideo.react"),{attachment:C,connectTop:!1,maxHeight:204,maxWidth:141.6,mediaRenderQpl:l,message:u,outgoing:!1}):c.jsx(r("MWRepliesAttachment.react"),{isSecureMessage:m,mediaRenderQpl:l,message:u,outgoing:d}),n[6]=C,n[7]=m,n[8]=l,n[9]=u,n[10]=d,n[11]=b):b=n[11],b}l.default=d}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=!!o("MWLSThread").useThread(e,function(e){return o("LSThreadBitOffset").has(152,e)});return t}l.default=e}),98);
__d("MWChannelPromptContributionsDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9897254837006123"}),null);
__d("MWChannelPromptContributionsDialogQuery$Parameters",["MWChannelPromptContributionsDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWChannelPromptContributionsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChannelPromptContributionsDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWChannelPromptContributionsDialog.entrypoint",["JSResourceForInteraction","MWChannelPromptContributionsDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{myQueryRef:{options:{fetchPolicy:"store-and-network"},parameters:n("MWChannelPromptContributionsDialogQuery$Parameters"),variables:{count:20,data:{prompt_id:t.promptId}}}}}},root:r("JSResourceForInteraction")("MWChannelPromptContributionsDialog.react").__setRef("MWChannelPromptContributionsDialog.entrypoint")};l.default=e}),98);
__d("MWChannelPromptContributionsDialogContainer.react",["CometHideLayerOnEscape.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.onClose,o=e.visibilityRef;return s.jsx(r("CometHideLayerOnEscape.react"),{onHide:n,children:s.jsx("div",{className:"x1qjc9v5 xcrg951 x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6",ref:o,children:t})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXIconDots3Vertical",["MWXSvgIcon","SVGIcon","cr:22300","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22300")),r("gkx")("23219"));l.default=e}),98);
__d("MWChannelPromptContributionsDialogFallback.react",["fbt","MWChannelPromptContributionsDialogContainer.react","MWXCircleButton.react","MWXGlimmer.react","MWXIconCross","MWXIconDots3Vertical","MWXRow.react","MWXRowItem.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={promptTitle:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x10w6t97",width:"xdzyupr",$$css:!0}};function d(e){var t=e.onClose;return u.jsx(r("MWChannelPromptContributionsDialogContainer.react"),{onClose:t,children:u.jsxs(r("MWXRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Prompt options"),disabled:!0,icon:r("MWXIconDots3Vertical"),size:28})}),u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXGlimmer.react"),{index:0,xstyle:c.promptTitle})}),u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Close prompt contributions dialog"),icon:r("MWXIconCross"),onPress:t,size:28})})]})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWDidQueryPromptsNux",[],(function(t,n,r,o,a,i){"use strict";var e=!1;function l(){e=!0}function s(){return e}i.markDidQueryPromptsNux=l,i.getDidQueryPromptsNux=s}),66);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.onClose,o=e.visibilityRef;return s.jsx(r("CometHideLayerOnEscape.react"),{onHide:n,children:s.jsx("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs",ref:o,children:s.jsx(r("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:t})})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","FDSCrossFilled16Icon","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon_DEPRECATED.react","fbicon","react"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t,n,a=e.onClose;return c.jsxs(r("MWRollcallContributionsDialogContainer.react"),{onClose:a,children:[c.jsxs(r("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[c.jsx(t=r("MDSRowItem.react"),{children:c.jsx(r("MWXIcon_DEPRECATED.react"),{"aria-label":s._(/*BTDS*/"Close"),icon:r("FDSCrossFilled16Icon"),onPress:a,size:20})}),c.jsx(t,{children:c.jsx(n=r("MDSGlimmer.react"),{index:0,xstyle:m.rollcallTitle})}),c.jsx(t,{children:c.jsx(r("MWXIcon_DEPRECATED.react"),{"aria-label":s._(/*BTDS*/"Rollcall options"),disabled:!0,icon:o("fbicon")._(u("816819"),16),size:20})})]}),c.jsx(r("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:c.jsxs(r("MDSColumnItem.react"),{children:[c.jsxs(r("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:m.contributionHeader,children:[c.jsx(t,{children:c.jsx(n,{index:0,xstyle:m.profilePicture})}),c.jsx(t,{children:c.jsx(n,{index:0,xstyle:m.profileName})})]}),c.jsx(n,{index:0,xstyle:m.contributionMedia})]})})]})}d.displayName=d.name+" [from "+i.id+"]";var m={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x10w6t97",width:"xdzyupr",$$css:!0}};l.default=d}),226);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){r("QPLUserFlow").endSuccess(r("qpl")._(127406705,"1680"))}function s(){r("QPLUserFlow").endFailure(r("qpl")._(127406705,"1680"),"fail to load roll call information")}function u(e,t,n){r("QPLUserFlow").start(r("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:n,entry_point:e,source_type:t}}})}l.endSuccessXMACtaClickQplLogging=e,l.endFailureXMACtaClickQplLogging=s,l.startXMACtaClickQplLogging=u}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){r("QPLUserFlow").endSuccess(r("qpl")._(127403136,"1137"))}function s(){r("QPLUserFlow").endFailure(r("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function u(e,t,n){r("QPLUserFlow").start(r("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:t},int:{total_media_items:e},string:{source_type:n}}})}function c(){r("QPLUserFlow").addPoint(r("qpl")._(127403136,"1137"),"added_reaction")}function d(){r("QPLUserFlow").addPoint(r("qpl")._(127403136,"1137"),"unsend_contribution")}function m(){r("QPLUserFlow").addPoint(r("qpl")._(127403136,"1137"),"reset_prompt")}function p(){r("QPLUserFlow").addPoint(r("qpl")._(127403136,"1137"),"report_prompt")}function _(){r("QPLUserFlow").addPoint(r("qpl")._(127403136,"1137"),"report_contribution")}function f(){r("QPLUserFlow").addPoint(r("qpl")._(127403136,"1137"),"reply_contribution")}l.endSuccessXMARollCallViewerQplLogging=e,l.endFailureXMARollCallViewerQplLogging=s,l.startXMARollCallViewerQplLogging=u,l.addReactionRollCallViewerQplPoint=c,l.unsendContributionRollCallViewerQplPoint=d,l.resetPromptRollCallViewerQplPoint=m,l.reportPromptRollCallViewerQplPoint=p,l.reportContributionRollCallViewerQplPoint=_,l.replyContributionRollCallViewerQplPoint=f}),98);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24366328376336078"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],t={alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"16r8W7"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"16r8W7")'}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:n("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","FBLogger","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChannelPromptContributionsDialog.entrypoint","MWChannelPromptContributionsDialogFallback.react","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","mwCMIsAnyCMThread","promiseDone","react","useMWXEntryPointDialog","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useEffect,_=d.useState;function f(){var t=o("CometRelay").useRelayEnvironment();return function(){return o("CometRelay").fetchQuery(t,e!==void 0?e:e=n("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function g(){var e=_((u||(u=o("I64"))).zero),t=e[0],n=e[1],a=_(""),i=a[0],l=a[1],s=_(u.zero),d=s[0],g=s[1],h=_(null),y=h[0],C=h[1],b=_(null),v=b[0],S=b[1],R=r("usePrevious")(t),L=r("usePrevious")(d),E=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(e){return c.jsx(r("MWRollcallContributionsDialogFallback.react"),{onClose:e})}),k=E[0],I=r("useMWXEntryPointDialog")(r("MWChannelPromptContributionsDialog.entrypoint"),{promptId:u.to_string(d)},void 0,function(e){return c.jsx(r("MWChannelPromptContributionsDialogFallback.react"),{onClose:e})}),T=I[0],D=f(),x=o("MWLSThread").useThread(t,function(e){return e.threadType}),$=x!==void 0&&r("mwCMIsAnyCMThread")(x),P=x!==void 0&&o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(x);return p(function(){$!=null&&!(u||(u=o("I64"))).is_zero(t)&&!(u||(u=o("I64"))).is_zero(d)&&R!==t&&L!==d&&(o("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",$?"cm_thread":"friends_family_thread","open_viewer"),o("MWDidQueryPromptsNux").getDidQueryPromptsNux()||o("MWDidQueryPromptsNux").markDidQueryPromptsNux(),P?(T({rollCallId:d,threadKey:t,xmaMessageId:i},function(){o("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),n((u||(u=o("I64"))).zero),g(u.zero),C(null)}),r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:305,source:157,surface:7,thread_id:(u||(u=o("I64"))).to_string(t)}})):k({ctaType:v,rollCallId:d,scrollToContributionMessageId:y,threadKey:t},function(){o("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),n((u||(u=o("I64"))).zero),l(""),g(u.zero),C(null)}),r("promiseDone")(D(),function(e){var t,n=e==null||(t=e.viewer)==null||(t=t.eligible_promotions)==null||(t=t.nodes)==null||(t=t.find(function(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}))==null||(t=t.comet_qp_sections)==null?void 0:t.renderer_strategy;n&&r("FBLogger")("messenger_web_product").mustfix("CometQuickPromotionMessengerWebPromptsRendererStrategy was deleted due to unused code.")}))},[$,L,R,d,T,t,y,D,v,k,i,P]),m(function(e,t,r,o,a){l(a),n(t),g(e),C(r),S(o)},[])}l.useRollcallContributionsXMAActionHandler=g}),98);
__d("MWPBaseRepliedMessage.react",["FBLogger","I64","LSIntEnum","LSMessageHiddenState","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWPBumpEntityKey","MWXPressable.react","MsgrWebGating","react","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d={pressable:{display:"x1lliihq",$$css:!0}};function m(e){var t=e.clickToNavigateToReply,n=t===void 0?!0:t,a=e.earlyCheckForReplyStatus,i=a===void 0?!1:a,l=e.isSecureMessage,m=e.mediaRenderQpl,p=e.message,_=e.outgoing,f=e.renderAttachment,g=e.renderCollection,h=e.renderExpiredMessage,y=e.renderGIF,C=e.renderHiddenMessage,b=e.renderMedia,v=e.renderPost,S=e.renderRaven,R=e.renderRemovedMessage,L=e.renderRollcallContribution,E=e.renderSticker,k=e.renderStory,I=e.renderTextMessage,T=e.renderUnavailableMessage,D=e.renderUnavailableStory,x=e.renderVideo,$=p.replyAttachmentId,P=p.replyAttachmentPlaintextHash,N=p.replyAttachmentType,M=p.replyMessageHiddenState,w=p.replyMessageText,A=p.replySourceTypeV2,F=p.replyStatus,O,B=A!=null&&(s||(s=o("I64"))).equal(A,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)),W=A!=null&&(s||(s=o("I64"))).equal(A,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY)),q=M!=null?(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageHiddenState").HIDDEN_REPORTED)):!1,U=$!=null||B||P!=null&&o("MsgrWebGating").isQuotedMessagesInLsEnabled();if(q&&C!=null)O=c.jsx(C,{message:p});else if(W)O=D!=null?c.jsx(D,{outgoing:_}):null;else if(N!=null&&U&&(!i||F!=null&&!(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED))))((s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO)))&&B?O=c.jsx(k,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):$!=null||P!=null&&o("MsgrWebGating").isQuotedMessagesInLsEnabled()?(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA))&&f!=null?w!=null&&w!==""?O=c.jsx(I,{isSecureMessage:l,message:p,outgoing:_,text:w}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER))?O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO))?b!=null?O=c.jsx(b,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))?L!=null?O=c.jsx(L,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").MULTIPHOTO))?g!=null?O=c.jsx(g,{message:p,outgoing:_}):b!=null?O=c.jsx(b,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO))?x!=null?O=c.jsx(x,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF))?y!=null?O=c.jsx(y,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").THIRD_PARTY_STICKER))?E!=null?O=c.jsx(E,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").LINK))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").AUDIO))?O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):v!=null?O=c.jsx(v,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):O=r("FBLogger")("messenger_comet").mustfix("Unknown attachment type: %s",(s||(s=o("I64"))).to_string(N)):(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER))&&E!=null?O=c.jsx(E,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(r("FBLogger")("messenger_comet").mustfix("Rendering empty replied message content when attachment is available, reply source type: %s, attachment type: %s",(s||(s=o("I64"))).to_string(A!=null?A:(s||(s=o("I64"))).zero),s.to_string(N)),O=null);else if(A!=null&&(s||(s=o("I64"))).equal(A,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&w!=null&&w!==""){var V=(s||(s=o("I64"))).of_float(Date.now()),H=p.replyMediaExpirationTimestampMs,G=H!=null&&(s||(s=o("I64"))).gt(V,H)&&!(s||(s=o("I64"))).equal(H,(s||(s=o("I64"))).zero);G?O=null:O=c.jsx(I,{isSecureMessage:l,message:p,outgoing:_,text:w})}else $!=null?w!=null&&w!==""?O=c.jsx(I,{isSecureMessage:l,message:p,outgoing:_,text:w}):b!=null?O=c.jsx(b,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):N!=null&&(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&S!=null?O=c.jsx(S,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED))?O=R!=null?c.jsx(R,{outgoing:_}):null:F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").EXPIRED))?O=h!=null?c.jsx(h,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):null:F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?O=T!=null?c.jsx(T,{outgoing:_}):null:w!=null&&A!=null&&(s||(s=o("I64"))).equal(A,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE))?w!==""?O=c.jsx(I,{isSecureMessage:l,message:p,outgoing:_,text:w}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):N!=null&&(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA))?D!=null?O=c.jsx(D,{outgoing:_}):O=c.jsx(f,{isSecureMessage:l,mediaRenderQpl:m,message:p,outgoing:_}):(r("FBLogger")("messenger_comet").mustfix("Rendering empty replied message content, reply source type: %s",(s||(s=o("I64"))).to_string(A!=null?A:(s||(s=o("I64"))).zero)),O=null);var z=c.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:O}),j=p.replySourceTimestampMs,K=p.replySourceId,Q=r("useMWJumpToMessage")("Reply"),X=N!=null&&((s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(s||(s=o("I64"))).equal(N,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))),Y=o("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),J=r("useIsRollcallEnabled")(p.threadKey),Z=(u||(u=o("LSIntEnum"))).equal(p.replyAttachmentType,r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(u||(u=o("LSIntEnum"))).equal(p.replyAttachmentId,0);if(K!=null&&j!=null&&n&&!Z){var ee=function(){o("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),Q(K,j)};if(X&&J){var te,ne,re=(s||(s=o("I64"))).of_string((te=p.replyAttachmentExtra)!=null?te:"0"),oe=p.threadKey,ae=(ne=p.replySourceId)!=null?ne:null;ee=function(){o("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),Y(re,oe,ae,null,p.messageId)}}return c.jsx(r("MWXPressable.react"),{onPress:ee,overlayDisabled:!0,xstyle:function(){return[d.pressable]},children:z})}else return z}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=e.mediaRenderQpl,n=e.outgoing;c(function(){t==null||t.addPoint("render-replies-expired"),t==null||t.endSuccessAfterDelay()},[t]);var o=s._(/*BTDS*/"Message expired");return u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:o})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.outgoing,n=s._(/*BTDS*/"Message removed");return u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:t,children:n})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9834610223284602"}),null);
__d("MWAnimatedImageControlsUtilCometSettingsQuery.graphql",["MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoSettings",kind:"LinkedField",name:"video_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_setting_www",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWAnimatedImageControlsUtilCometSettingsQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWAnimatedImageControlsUtilCometSettingsQuery",selections:e},params:{id:n("MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWAnimatedImageControlsUtilCometSettingsQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9439828062807168"}),null);
__d("MWAnimatedImageControlsUtilMWSettingsQuery.graphql",["MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"msgr_gif_autoplay",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWAnimatedImageControlsUtilMWSettingsQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWAnimatedImageControlsUtilMWSettingsQuery",selections:e},params:{id:n("MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWAnimatedImageControlsUtilMWSettingsQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWAnimatedImageControlsUtil",["$InternalEnum","CometRelay","MWAnimatedImageControlsUtilCometSettingsQuery.graphql","MWAnimatedImageControlsUtilMWSettingsQuery.graphql","MetaConfig","asyncToGeneratorRuntime","gkx","promiseDone","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useEffect,m=c.useState,p=n("$InternalEnum").Mirrored(["NOT_FETCHED_YET","OFF","ON"]);function _(){var e=o("CometRelay").useRelayEnvironment(),t=m(null),n=t[0],a=t[1],i=r("gkx")("20836");if(d(function(){i||r("promiseDone")(f(e).then(a))},[e,i]),i)return p.ON;switch(n){case null:return p.NOT_FETCHED_YET;case!0:return p.ON;case!1:return p.OFF;default:return p.NOT_FETCHED_YET}}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=r("MetaConfig")._("37");if(a){var i,l=yield o("CometRelay").fetchQuery(t,e!==void 0?e:e=n("MWAnimatedImageControlsUtilMWSettingsQuery.graphql"),{}).toPromise();return(l==null||(i=l.viewer)==null?void 0:i.msgr_gif_autoplay)==="ON"}else{var u,c=yield o("CometRelay").fetchQuery(t,s!==void 0?s:s=n("MWAnimatedImageControlsUtilCometSettingsQuery.graphql"),{}).toPromise(),d=c==null||(u=c.viewer)==null||(u=u.video_settings)==null?void 0:u.autoplay_setting_www;return d==="on"}}),g.apply(this,arguments)}l.MWAutoplayAnimationsSetting=p,l.useGetMessengerAutoplaySetting=_}),98);
__d("useGetMediaGroupStyles",["MWLSThreadDisplayContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u=180,c=120;function d(e,t){var n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",r=null,a=null;t===2&&n?r="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1isuwpm xq1dxzn":t===2&&!n?r="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1en3kgc xafpxmx":t===3&&n?r="x78zum5 xdt5ytf x6ikm8r x10wlt62 xu3xrit xq1dxzn":t===3&&!n?r="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1egiwwb xafpxmx":t===4&&n?r="x78zum5 xdt5ytf x6ikm8r x10wlt62 x89wwaf xh6lk7j xdj266r":t===4&&!n&&(r="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1gyaxfs xt4sqew xdj266r"),n?a="x6s0dn4 x1exxf4d xpv9jar x1nb4dca x1nmn18 xpilrb4 x1lun4ml x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x78zum5 xl56j7k x6ikm8r x10wlt62 x10l6tqk x1wkxgih x1mu601j x2aouup xi3av73 x1i9suas xygnafs":a="x6s0dn4 x1exxf4d xpv9jar x1nb4dca x1nmn18 xpilrb4 x1lun4ml x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x78zum5 x1b51vyi xl56j7k x19aweqf x1e4dklr x1shn012 xfb3i0g x6ikm8r x10wlt62 x10l6tqk xzjbwwf";var i=s(function(){return{fourImageTile:[{bottom:0,left:17},{bottom:6,left:8,transform:"rotate(-4deg)"},{bottom:12,right:8,transform:"rotate(4deg)"},{bottom:18,left:8,transform:"rotate(-4deg)"}],threeImageTile:[{left:e?null:0,right:e?0:null,top:0},{left:e?0:null,right:e?null:0,top:n?100:160},{bottom:0,left:e?null:0,right:e?0:null}],twoImageTile:[{left:e?0:null,right:e?null:0,top:0},{bottom:0,left:e?null:0,right:e?0:null}]}},[e,n]),l=t===2?i.twoImageTile:t===3?i.threeImageTile:i.fourImageTile;return{containerStyles:r,coordinations:l,imageSize:n?c:u,wrapperStyles:a}}function m(e,t,n){var r=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",a=1,i=1;return e!==!0||t===0||n===0?{resizeRatio:a,scaleRatio:i}:(e===!0&&t!=null&&n!=null&&(t>=n?a=Math.ceil((r?c:u)/n):a=Math.ceil((r?c:u)/t)),e===!0&&a===1&&t!=null&&n!=null&&(i=t>n?t/n:n/t),{resizeRatio:a,scaleRatio:i})}l.IMAGE_SIZE=u,l.IMAGE_SIZE_CHAT_TAB=c,l.useGetMediaGroupStyles=d,l.useGetMediaGroupTileImageRatios=m}),98);
__d("MWMessageListImageSizingUtils",["justknobx","useGetMediaGroupStyles"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return n===!0?{maxHeight:t==="Inbox"?o("useGetMediaGroupStyles").IMAGE_SIZE:o("useGetMediaGroupStyles").IMAGE_SIZE_CHAT_TAB,maxWidth:t==="Inbox"?o("useGetMediaGroupStyles").IMAGE_SIZE:o("useGetMediaGroupStyles").IMAGE_SIZE_CHAT_TAB}:t!=="Inbox"&&t!=="ChatTab"?{maxHeight:200,maxWidth:480}:{maxHeight:t==="Inbox"?r("justknobx")._("2546"):r("justknobx")._("2547"),maxWidth:t==="Inbox"?r("justknobx")._("2548"):r("justknobx")._("2549")}}l.getMaxPreviewHeightAndWidth=e}),98);
__d("useMWMediaViewerOpenQPLLogger",["qpl","react","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("requireDeferred")("QPLUserFlow").__setRef("useMWMediaViewerOpenQPLLogger"),c=r("qpl")._(25298743,"1403"),d=6e3*10;function m(){var e=s(function(e){var t=e.attachmentType,n=e.entryPoint,r=e.isSecure,o={attachmentType:t,entryPoint:n,isSecure:(r!=null?r:!1).toString()};u.onReadyImmediately(function(e){e.start(c,{annotations:{string:babelHelpers.extends({},o)},cancelOnUnload:!0,timeoutInMs:d})})},[]),t=s(function(e){u.onReadyImmediately(function(t){t.endSuccess(c,{annotations:e})})},[]),n=s(function(e){u.onReadyImmediately(function(t){t.endCancel(c,{cancelReason:e})})},[]);return{endCancel:n,endSuccess:t,startFlow:e}}l.useMWMediaViewerOpenQPLLogger=m}),98);
__d("useMWV2MediaViewerShowDialog",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){return s.jsx(r("MWV2MediaViewerFallback.react"),{onClose:e})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWV2MediaViewer.react").__setRef("useMWV2MediaViewerShowDialog"),c),n=t[0],o=t[1];return u(function(){e||o()},[o,e]),[n,o]}l.default=d}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","XCometMessengerMediaControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return o("Int64Hooks").useMemoInt64(function(){return t==null?null:r("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:t.attachmentFbid,message_id:t.messageId,thread_id:(e||(e=o("I64"))).to_string(t.threadKey)})},[t])}l.default=s}),98);
__d("MWAnimatedImageThumbnailWithPlayButton.react",["fbt","$InternalEnum","CometHeroHoldTrigger.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentBlob.react","MAWImageUtils","MAWThreadCutover","MWAnimatedImageControlsUtil","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWPMessageListImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2LogMessageClick","MWVideoPlayerPlayButton.react","MWXAspectRatioContainer.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","appendParamToUrl","asyncToGeneratorRuntime","gkx","promiseDone","react","useAsyncReStore","useMWMediaViewerOpenQPLLogger","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState,g=25,h={imageWithAppAttribution:{borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",bottom:"x1ey2m1c",position:"x1n2onr6",$$css:!0},wrapper:{display:"x1lliihq",$$css:!0},wrapperForAppAttribution:{marginBottom:"x1ibc7va",$$css:!0},wrapperReplyImage:{cursor:"x1ypdohk",$$css:!0}},y=n("$InternalEnum").Mirrored(["Composer","GIFPicker","MediaViewer","Thread"]);function C(e){return d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWAnimatedImageThumbnailWithPlayButton",children:d.jsx(b,babelHelpers.extends({},e))})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t,a,i=e.altText,l=e.connectBottom,m=e.connectTop,g=e.dbAttachment,C=e.entryPoint,b=e.gifPreviewUrl,v=e.isReplyImage,S=v===void 0?!1:v,R=e.isSecure,L=e.mediaRenderQpl,E=e.message,k=e.onPlay,I=e.onPress,T=e.outgoing,D=e.previewHeight,x=e.previewWidth,$=e.sourceURL,P=e.testid,N=r("useAsyncReStore")(),M=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),w=f(null),A=w[0],F=w[1],O=r("useMWV2MediaViewerURL")(g),B=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),W=o("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(R!=null?R:!0,B!=null?B:void 0,!1),q=W.maxHeight,U=W.maxWidth,V=p(function(){L==null||L.endSuccessAfterDelay({bool:{thumbnail_generated_for_gif:!0}})},[L]),H=p(function(){L==null||L.endFailAfterDelay("gif-thumbnail-render-failed")},[L]),G=g!=null&&g.previewUrl==null&&R!==!1?o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense(g,"gifToBlob",L):void 0,z=r("useMWV2FocusRowAfterClosingPushView")(),j=r("useMWV2MediaViewerShowDialog")(!1),K=j[0],Q=o("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger(),X=Q.startFlow,Y=C===y.Thread,J=C===y.Composer,Z=C===y.MediaViewer,ee=C===y.GIFPicker;_(function(){var e=null;function t(){return a.apply(this,arguments)}function a(){return a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){L==null||L.addPoint("gif-thumbnail-generation-started");var t=b;if(t==null)if(g==null&&$!=null)t=$;else try{(g==null?void 0:g.previewUrl)!=null?t=g==null?void 0:g.previewUrl:G!=null&&(t=G)}catch(e){return null}if(t==null)return null;var n=/^(?:data|blob):/.test(t);n||(t=r("appendParamToUrl")(t,"not-from-cache-please",""));var a=r("gkx")("12666"),i=yield o("MAWImageUtils").generateGIFThumbnail(t,D,x,a);if(L==null||L.addPoint("gif-thumbnail-generation-completed"),i!=null){L==null||L.addPoint("gif-thumbnail-generation-completed-successfully");var l=new Blob([i.jpegThumbnail]);e=URL.createObjectURL(l),F(e)}}),a.apply(this,arguments)}return t().catch(function(){L==null||L.endFailAfterDelay("gif-thumbnail-generation-failed"),F(null)}),function(){e!=null&&URL.revokeObjectURL(e)}},[g,b,L,D,x,$,G]);var te=o("MAWThreadCutover").useIsCutoverOpenThread(E==null?void 0:E.threadKey),ne=R===!1&&!te&&Y&&E!=null&&(u||(u=o("I64"))).gt(E.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:g==null?void 0:g.previewUrl},url:O}:void 0,re=function(){if(E!=null&&r("promiseDone")(N,function(e){o("MWV2LogMessageClick").log(e,E,28)}),X({attachmentType:"IMAGE",entryPoint:"thread_view",isSecure:R}),z(function(){return!0}),g!=null&&(R===!0||te))return K({attachment:g},function(){})},oe=(g==null?void 0:g.attributionAppName)!=null,ae=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:T===!0?"right":"left",connectBottom:l,connectTop:m});if(D==null||x==null)return null;var ie=(t=g==null?void 0:g.accessibilitySummaryText)!=null?t:i,le=s._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[s._param("gif_alt_text",(a=g==null?void 0:g.accessibilitySummaryText)!=null?a:i)]);if(Y){var se;ie=s._(/*BTDS*/"Open GIF {gif_alt_text}",[s._param("gif_alt_text",(se=g==null?void 0:g.accessibilitySummaryText)!=null?se:i)])}else if(ee){var ue;ie=s._(/*BTDS*/"Send GIF {gif_alt_text}",[s._param("gif_alt_text",(ue=g==null?void 0:g.accessibilitySummaryText)!=null?ue:i)])}else if(Z){var ce,de;ie=(ce=(de=g==null?void 0:g.accessibilitySummaryText)!=null?de:i)!=null?ce:s._(/*BTDS*/"GIF")}var me=S||Z;return d.jsx(r("MWXPressable.react"),{"aria-label":ie,cursorDisabled:me,disabled:me,display:"block",linkProps:ne,onPress:me?void 0:Y?re:I,testid:void 0,xstyle:[h.wrapper,oe&&h.wrapperForAppAttribution,S&&h.wrapperReplyImage],children:d.jsx(r("MWXAspectRatioContainer.react"),{height:D,maxHeight:Y?q:D,maxWidth:Y?U:x,width:x,children:function(t){var e;return d.jsxs(d.Fragment,{children:[A==null?d.jsxs(d.Fragment,{children:[d.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:l,connectTop:m,descriptionForLogging:"MAWSecureGIFAttachment.NoGIFThumbnail",hasAppAttribution:oe,hasCornerStyles:Y,height:D,maxHeight:Y?q:D,maxWidth:Y?U:x,mediaRenderQpl:L,outgoing:T,width:x,xstyle:[t,Y&&ae,oe&&h.imageWithAppAttribution]}),d.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureGIFAttachment.NoGIFThumbnail",hold:!0})]}):d.jsx(r("MWXImage.react"),{alt:(e=g==null?void 0:g.accessibilitySummaryText)!=null?e:i,height:D,onError:H,onLoad:V,src:A,width:x,xstyle:[t,Y&&ae,oe&&h.imageWithAppAttribution]}),g!=null&&oe&&Y&&d.jsx("div",{className:"x1f1lzrh x10l6tqk xh8yej3",children:d.jsx(o("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:g,connectBottom:l,connectTop:m,outgoing:T})}),M===o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.OFF&&d.jsx(r("MWVideoPlayerPlayButton.react"),{alt:le,isVisible:!0,onClick:S?void 0:k,size:S||J?"SMALL":"LARGE"})]})}})})}b.displayName=b.name+" [from "+i.id+"]",l.AnimatedImageEntryPoint=y,l.MWAnimatedImageThumbnailWithPlayButton=C}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),t=e==="ChatTab";return{maxHeight:100,maxWidth:t?180:300}}l.default=e}),98);
__d("MWRepliesImage.react",["I64","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWPThreadCapabilitiesContext","MWXAspectRatioContainer.react","MWXMessageImage.react","cr:4509","emptyFunction","gkx","react","stylex","useMWRepliesImageGetMaxDimensions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useCallback,m={incoming:{borderEndStartRadius:"x1pczhz8",$$css:!0},outgoing:{borderEndEndRadius:"x1wcsgtt",$$css:!0},root:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0}};function p(t){var a=t.attachment,i=t.height,l=t.imageAlt,s=l===void 0?"":l,p=t.isAnimatedImage,_=p===void 0?!1:p,f=t.isSecureMessage,g=f===void 0?!1:f,h=t.isSticker,y=h===void 0?!1:h,C=t.mediaRenderQpl,b=t.message,v=t.outgoing,S=t.src,R=t.width,L=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),E=r("useMWRepliesImageGetMaxDimensions")(),k=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),I=k.blurMediaEnabled,T=r("gkx")("24098")&&I,D=y?!1:v?m.outgoing:m.incoming,x=d(function(){C==null||C.endFailAfterDelay("load-image-error")},[C]),$=d(function(){C==null||C.endSuccessAfterDelay()},[C]),P=_&&L!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON?c.jsx(r("MWXAspectRatioContainer.react"),{height:i!=null?(u||(u=o("I64"))).to_float(i):E.maxHeight,maxHeight:E.maxHeight,maxWidth:E.maxWidth,width:R!=null?(u||(u=o("I64"))).to_float(R):E.maxWidth,children:function(n){return c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([m.root,y&&m.rootHasSticker,D,n]),{children:c.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:!1,connectTop:!1,dbAttachment:a,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isReplyImage:!0,isSecure:g,mediaRenderQpl:C,message:b,onPlay:r("emptyFunction"),onPress:r("emptyFunction"),outgoing:v,previewHeight:i!=null?(u||(u=o("I64"))).to_float(i):void 0,previewWidth:R!=null?(u||(u=o("I64"))).to_float(R):void 0,sourceURL:S})}))}}):c.jsx(r("MWXMessageImage.react"),{alt:s,height:i!=null?(u||(u=o("I64"))).to_float(i):void 0,maxHeight:E.maxHeight,maxWidth:E.maxWidth,onError:x,onLoad:$,src:S,width:R!=null?(u||(u=o("I64"))).to_float(R):void 0,xstyle:[m.root,y&&m.rootHasSticker,D]});return n("cr:4509")!=null&&T&&!y?c.jsx(n("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:S,xstyle:[m.root,D],children:P}):P}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWGhostMessageBubbleWrapper.react",["BaseTheme.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={dark:{"chat-incoming-message-border-color":"var(--tombstoned-message-border-color, rgba(255, 255, 255, 0.18))","chat-incoming-message-border-width":"1px","chat-incoming-message-bubble-background-color":"transparent","chat-message-border-color":"var(--tombstoned-message-border-color, rgba(255, 255, 255, 0.18))","chat-message-border-width":"1px","chat-outgoing-message-bubble-background-color":"transparent"},light:{"chat-incoming-message-border-color":"var(--tombstoned-message-border-color, rgba(0, 0, 0, 0.12))","chat-incoming-message-border-width":"1px","chat-incoming-message-bubble-background-color":"transparent","chat-message-border-color":"var(--tombstoned-message-border-color, rgba(0, 0, 0, 0.12))","chat-message-border-width":"1px","chat-outgoing-message-bubble-background-color":"transparent"},type:"VARIABLES"};function c(e){var t=e.children;return s.jsx(r("BaseTheme.react"),{config:u,children:t})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWV2TombstonedMessage.react",["MWGhostMessageBubbleWrapper.react","MWXMessageBubble.react","MWXText.react","defaultMWPThreadTheme","react","react-strict-dom","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={incoming:{color:"x18lvrbx",$$css:!0},message:{fontStyle:"x1k4tb9n",marginBottom:"x12nagc",marginTop:"x1gslohp",$$css:!0},messageWithOpacity:{opacity:"x1ks1olk",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0}};function d(e){var t,n=e.children,a=e.isOutgoing,i=e.isReply,l=e.mediaRenderQpl,d=e.xstyle,m=r("useMWPThreadTheme")(),p=o("defaultMWPThreadTheme").isDefaultTheme(m==null||(t=m.threadTheme)==null?void 0:t.fbid);u(function(){l==null||l.addPoint("render-tombstoned-message",{bool:{has_preview:!1}}),l==null||l.endSuccessAfterDelay()},[l]);var _=p?r("MWGhostMessageBubbleWrapper.react"):s.Fragment;return s.jsx(_,{children:s.jsx(r("MWXMessageBubble.react"),{align:"right",children:s.jsx(r("MWXText.react"),{color:p?"secondary":a?"white":"primary",type:"body3",children:s.jsx(o("react-strict-dom").html.div,{dir:"auto",style:[c.message,!p&&c.messageWithOpacity,a?c.outgoing:c.incoming,d],children:n})}),color:i===!0?"quoted":a?"outgoing":"incoming",connectBottom:!1,connectTop:!1,testid:void 0,variant:p?"default":"opaque"})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("XCometStoriesControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/stories/{?bucket_id}/{?card_id}/",Object.freeze({view_single:!1}),void 0),s=e;l.default=s}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.replyMediaExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.replyMediaUrlFallback:e.replyMediaUrl}l.default=e}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MWMediaRenderQplUtils","MWRepliesImage.react","MWV2TombstonedMessage.react","MWXPressable.react","MsgrWebGating","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","getMAWLocalizedFallbackMsgSnippet","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var m=e||(e=o("react")),p=e.useEffect;function _(e){var t=babelHelpers.extends({},(d(e),e));return p(function(){var e;(e=t.mediaRenderQpl)==null||e.addPoint("render-replies-story")},[t.mediaRenderQpl]),m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWRepliesStory",children:m.jsx(f,babelHelpers.extends({},t))})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t,a=e.isSecureMessage,i=a===void 0?!1:a,l=e.mediaRenderQpl,d=e.message,_=e.outgoing,f=d.replySourceId,g=f!=null?i?f:(t=r("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+f),view_single:!0}).setDomain("www.facebook.com"))==null||(t=t.setProtocol("https"))==null?void 0:t.toString():void 0;o("Int64Hooks").useEffectInt64(function(){l==null||l.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:d.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:d.replyAttachmentPlaintextHash!=null,has_reply_source_id:d.replySourceId!=null}}),l==null||l.addAnnotations({string:{xma_content_type:o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((u||(u=o("LSIntEnum"))).ofNumber(r("LSXmaContentType").FB_STORY_REPLY))}})},[l,d.replyAttachmentId,d.replyAttachmentPlaintextHash,d.replySourceId]);var h=n("cr:9765")!=null&&i?function(e){return o("MsgrWebGating").isQuotedMessagesInLsEnabled()?(e.replyAttachmentId!=null&&e.replyAttachmentPlaintextHash==null&&r("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing"),e.replyAttachmentPlaintextHash!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(e.replyAttachmentPlaintextHash,"MWRepliesStory",l):null):e.replyAttachmentId!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense((c||(c=o("I64"))).to_string(e.replyAttachmentId),"MWRepliesStory",l):null}:r("getLSMediaMessageReplyMediaUrl"),y=h(d);return p(function(){y==null&&(l==null||l.endFailAfterDelay("missing-reply-media",{bool:{has_plaintexthash:d.replyAttachmentPlaintextHash!=null}}))},[l,d.replyAttachmentPlaintextHash,y]),y==null?m.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:_,mediaRenderQpl:l,children:r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY)}):m.jsx(r("MWXPressable.react"),{"aria-label":s._(/*BTDS*/"View story"),linkProps:g!=null?{url:g}:void 0,overlayDisabled:!0,children:m.jsx(r("MWRepliesImage.react"),{mediaRenderQpl:l,outgoing:_,src:y})})}f.displayName=f.name+" [from "+i.id+"]",l.default=_}),226);
__d("IGDRepliedMessage.react",["IGDMessageContainerWithHighlightBar.react","IGDRepliedAttachment.react","IGDRepliedCollection.react","IGDRepliedHiddenMessage.react","IGDRepliedMedia.react","IGDRepliedPostXMAAttachment.react","IGDRepliedSticker.react","IGDRepliedText.react","IGDRepliedVideo.react","IGDSBox.react","MWPBaseRepliedMessage.react","MWRepliesExpired.react","MWRepliesRemoved.react","MWRepliesStory.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.isSecureMessage,a=e.message,i=e.outgoing,l;t[0]!==n||t[1]!==a||t[2]!==i?(l=s.jsx(r("IGDSBox.react"),{marginBottom:1,children:s.jsx(r("MWPBaseRepliedMessage.react"),{isSecureMessage:n,mediaRenderQpl:null,message:a,outgoing:i,renderAttachment:r("IGDRepliedAttachment.react"),renderCollection:r("IGDRepliedCollection.react"),renderExpiredMessage:r("MWRepliesExpired.react"),renderGIF:r("IGDRepliedMedia.react"),renderHiddenMessage:r("gkx")("2011")?r("IGDRepliedHiddenMessage.react"):void 0,renderMedia:r("IGDRepliedMedia.react"),renderPost:r("IGDRepliedPostXMAAttachment.react"),renderRemovedMessage:r("MWRepliesRemoved.react"),renderSticker:r("IGDRepliedSticker.react"),renderStory:r("MWRepliesStory.react"),renderTextMessage:r("IGDRepliedText.react"),renderVideo:r("IGDRepliedVideo.react")})}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3];var u;return t[4]!==i||t[5]!==l?(u=s.jsx(r("IGDMessageContainerWithHighlightBar.react"),{outgoing:i,children:l}),t[4]=i,t[5]=l,t[6]=u):u=t[6],u}l.default=u}),98);
__d("IGDReplySnippet.react",["IGDSTextVariants.react","MWEditedEyebrow.react","isMWEditedMessage","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={separator:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(12),n=e.message,a=e.outgoing,i=n.replySnippet,l;t[0]!==n?(l=r("isMWEditedMessage")(n),t[0]=n,t[1]=l):l=t[1];var c=l;if(i!=null){var d;t[2]!==a?(d={0:{className:"x6s0dn4 x78zum5 x889kno xmzvs34"},1:{className:"x6s0dn4 x78zum5 x889kno xf159sx"}}[!!a<<0],t[2]=a,t[3]=d):d=t[3];var m;t[4]!==c?(m=c&&s.jsx(o("MWEditedEyebrow.react").MWEditedEyebrow,{separatorStyle:u.separator}),t[4]=c,t[5]=m):m=t[5];var p;t[6]!==m||t[7]!==i?(p=s.jsxs(o("IGDSTextVariants.react").IGDSTextFootnote,{color:"secondaryText",children:[i,m]}),t[6]=m,t[7]=i,t[8]=p):p=t[8];var _;return t[9]!==d||t[10]!==p?(_=s.jsx("div",babelHelpers.extends({},d,{children:p})),t[9]=d,t[10]=p,t[11]=_):_=t[11],_}else return null}l.default=c}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPAttachmentDataContext","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo,m={root:{marginInlineStart:"x1diwwjn",$$css:!0}};function p(e){var t=e.attachment,n=e.botResponseId,a=e.dialogResource,i=e.flowInstanceId,l=e.isSearchSingleBubblePluginAttachment,u=l===void 0?!1:l,p=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(t),_=p.attachmentCta1,f=p.attachmentCta2,g=_,h=u?_:f,y=o("MWSearchPluginUtils").useSearchPluginSources(h==null?void 0:h.nativeUrl),C=o("IGDWebUtils").isInstagramWebSupportedApp(Number(r("CurrentUser").getAppID())),b=r("useMWXLazyDialog")(a),v=b[0],S=C?"highlight":"blueLink",R=C?"bodyLink4":"body4",L=d(function(){return{extraData:{botResponseId:n!=null?n:""},flowInstanceId:i}},[n,i]),E=r("MessengerWebUXLogger").useImpressionLoggerRef(babelHelpers.extends({eventName:"search_plugin_attachment_rendered"},L)),k=r("MessengerWebUXLogger").useInteractionLogger(),I=c(function(){k==null||k(babelHelpers.extends({eventName:"search_plugin_see_more"},L))},[k,L]),T=c(function(){y!=null&&(k==null||k(babelHelpers.extends({eventName:"search_plugin_see_sources"},L)),v({botResponseId:n,sources:y}))},[n,L,k,v,y]);return s.jsxs(r("BaseView.react"),{ref:E,xstyle:m.root,children:[s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),u?s.jsx("div",{className:"x78zum5 x1q0g3np",children:s.jsx(r("MWXPressable.react"),{onPress:T,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:S,type:R,children:h!=null&&h.title})})}):s.jsxs("div",{className:"x78zum5 x1q0g3np",children:[s.jsx(r("MWXPressable.react"),{linkProps:{url:g==null?void 0:g.actionUrl},onPress:I,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:S,type:R,children:g!=null&&g.title})}),s.jsx(r("MWXPressable.react"),{children:s.jsx(r("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xA0\xB7\xA0"})}),s.jsx(r("MWXPressable.react"),{onPress:T,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:S,type:R,children:h!=null&&h.title})})]}),s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWBlockingProtectionContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useState,_=c({addMessageId:r("emptyFunction"),findMessageId:r("emptyFunction").thatReturnsFalse});function f(e){var t=e.children,n=p([]),r=n[0],o=n[1],a=m(function(){return{addMessageId:function(t){o([t].concat(r))},findMessageId:function(t){return r.find(function(e){return e===t})!=null}}},[r,o]);return s.jsx(_.Provider,{value:a,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}var h={Provider:f,useHook:g};l.default=h}),98);
__d("MWGroupBlockingProtectionUtils",["fbt","FBLogger","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWPContactContext.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(t){var n=(c||(c=r("useReStore")))(),a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(n.tables.threads,["threadType"]).getKeyRange(t).map(function(e){return e.threadType})},[n,t],i.id+":30");return a==null?!1:(e||(e=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(16))||(e||(e=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(18))}function m(t){var n=d(t),a=o("MWPContactContext.react").useMWPContactStableContext(),i=a.contact;return n&&i?!(e||(e=o("I64"))).equal(i.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function p(t,n){var a=(c||(c=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){return t!=null?o("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(t):o("ReQL").empty()},[a,t],i.id+":69"),s=d(n);return s&&l?!(e||(e=o("I64"))).equal(l.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function _(t,n){var a,l,d=(c||(c=r("useReStore")))(),m=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(d.tables.messages).getKeyRange(t)},[d,t],i.id+":92"))==null?void 0:a.senderId,p=o("ReQLSuspense").useFirst(function(){return m!=null?o("ReQL").fromTableAscending(d.tables.contacts).getKeyRange(m):o("ReQL").empty()},[d,m],i.id+":96"),_=p==null?!1:!(e||(e=o("I64"))).equal(p.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)),f=(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(16))||(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(18));if(!(f&&_))return null;var g=(l=p==null?void 0:p.firstName)!=null?l:p==null?void 0:p.name;return g==null?(r("FBLogger")("mwb_prevention_care").mustfix("Empty first name for blocked contact"),null):s._(/*BTDS*/"{blocked contact's name} sent a message.",[s._param("blocked contact's name",g)]).toString()}l.useShouldEnableBlockingProtection=d,l.useMWGetSnippetForBlockingProtection=_,l.useMWIsContactBlocked=m,l.useMWIsMessageSentByBlockedContact=p}),226);
__d("MAWIsFBXMA",["LSIntEnum","LSXmaContentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){if(t==null)return!1;switch((e||(e=o("LSIntEnum"))).toNumber(t)){case r("LSXmaContentType").FB_FEED_SHARE:case r("LSXmaContentType").FB_SHORT:case r("LSXmaContentType").MSG_RECEIVER_FETCH:return!0;default:return!1}}l.isFBXMA=s}),98);
__d("MAWIsReceiverFetchXmaInLoadingState",["I64","LSIntEnum","LSXmaContentType","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(536870912));return a&&r("gkx")("7835")?(n==null?void 0:n.xmaDataclass)==null:a&&((n==null?void 0:n.xmaContentType)==null||(s||(s=o("LSIntEnum"))).toNumber(n==null?void 0:n.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH)}l.isReceiverFetchXmaInLoadingState=u}),98);
__d("MWGenAIRichResponseRenderEligibilityUtils",["gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=["XMSGXmaRichTextTemplateData","XMSGXmaNestedHScrollTemplateData","XMSGXmaGenAiCodeTemplateData"],s=["GenAIMarkdownTextUXPrimitive","GenAICodeUXPrimitive","FOATextPrimitive"],u=["GenAISearchCitationItem"];function c(e){switch(e){case"MWGenAIMarkdownTextPrimitive":return!0;case"MWGenAIReelPrimitive":return r("qex")._("4016")===!0;case"MWGenAICodePrimitive":return r("gkx")("13861")===!0;default:return null}}function d(e){var t,n,r=(t=e==null||(n=e.sections)==null?void 0:n.map(function(e){return e.template_data.__typename}))!=null?t:[];return Array.from(new Set(r))}function m(e){var t,n,r=(t=e==null||(n=e.streaming_action)==null||(n=n.insertions)==null?void 0:n.map(function(e){return e.template_data.__typename}))!=null?t:[];return Array.from(new Set(r))}function p(e){var t=d(e),n=m(e);return t.concat(n)}function _(t){return p(t).filter(function(t){return!e.includes(t)})}function f(e){return e.sections.flatMap(function(e){var t,n,r;return[(t=e.viewModel)==null?void 0:t.primitive].concat((n=(r=e.viewModel)==null?void 0:r.primitives)!=null?n:[]).filter(function(e){return e!=null})})}function g(e){var t=e==null?void 0:e.unified_response;return t==null?[]:t.sections.map(function(e){var t,n,r;return{__typename:e.view_model.__typename,primitives:[(t=e.view_model)==null?void 0:t.primitive].concat((n=(r=e.view_model)==null?void 0:r.primitives)!=null?n:[]).filter(function(e){return e!=null})}})}function h(e){return g(e).filter(function(e){switch(e==null?void 0:e.__typename){case"GenAISingleLayoutViewModel":return e.primitives.some(function(e){if(s.includes(e.__typename)){if(e.__typename==="GenAIMarkdownTextUXPrimitive"&&e.inline_entities)return e.inline_entities.some(function(e){return!u.includes(e.metadata.__typename)})}else return!0;return!1});default:return!0}})}function y(e){return f(e).every(function(e){return c(e.__typename)===!0})}function C(e,t){if((e==null?void 0:e.__typename)!=="XMSGXmaGenAiRichResponseTemplateData")return!1;var n=p(e),r=g(e);if(n.length+r.length===0)return!1;var o=_(e),a=h(e);return o.length+a.length>0?!1:y(t)}function b(){return r("gkx")("10046")===!0}l.getTemplateSectionTypes=d,l.getStreamingActionSectionTypes=m,l.getAllSectionTypes=p,l.getAllUnsupportedSectionTypes=_,l.getAllPrimivitesFromResponseData=f,l.getAllUnifiedViewModels=g,l.getAllUnsupportedUnifiedViewModels=h,l.isGatingPassForAllSections=y,l.shouldRenderRichResponseXMA=C,l.isResponseStreamingEnabled=b}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","MWPMessageHasXMA","MWUnvaultedText","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=280,c=3e5;function d(e){return!r("isStringNullOrEmpty")(e.text)}function m(t){var n=t.replySourceTypeV2;return n==null?!1:!(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD))}function p(t){var n=t.replySourceTypeV2;return n==null?!1:(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD))}function _(e){var t=e.text;return t=o("MWUnvaultedText").getMWUnvaultedText(!1,t),(t!=null?t:"").length>u}var f=[128,256,65536,131072,262144,524288,4294967296,1048576,2097152,4194304,8388608,16777216,33554432,67108864,1073741824,4096,512].filter(Boolean);function g(e){return e.isAdminMessage||f.some(function(t){return o("LSBitFlag").has((s||(s=o("LSIntEnum"))).ofNumber(t),e.displayedContentTypes)})||_(e)}function h(e,t){return r("MWPMessageHasXMA")(e)&&r("MWPMessageHasXMA")(t)}function y(e,t){return e.botResponseId!=null&&t.botResponseId!=null&&e.botResponseId===t.botResponseId}function C(t,n){if(n===void 0)return!0;var r=Math.abs((e||(e=o("I64"))).to_float(t.timestampMs)-e.to_float(n.timestampMs))>c,a=p(t),i=e.equal(t.senderId,n.senderId);return n.isUnsent||t.isUnsent||n.isExpired||h(n,t)&&!y(n,t)||t.isExpired||m(t)||!i||r||a||g(t)?!0:g(n)}function b(e,t){return t==null||C(e,t)}function v(e,t){return t==null||C(t,e)}function S(e,t,n){return n==="below"?d(e)?!0:!b(e,t):!1}function R(e,t,n){return n==="below"?!v(e,t):v(e,t)?!1:d(e)}var L={shouldConnectBottom:R,shouldConnectTop:S};l.hasText=d,l.isReplyToSomething=m,l.isForwarded=p,l.isLongText=_,l.shouldBeStandalone=g,l.areXMAsAdjacent=h,l.isInDifferentGroup=C,l.isStartOfGroup=b,l.isEndOfGroup=v,l.MessageWithAttachments=L}),98);
__d("useXMAV2Provider",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t;if(e.length===0)return null;var n=(t=e[0])==null?void 0:t.xmaDataclass;if(n==null)return null;var r=JSON.parse(n);if(r==null)return null;var o=r.content;if(o==null)return null;var a=(o==null?void 0:o.__typename)==="XMSGXmaSingleContent"?[o]:o.list,i=a==null?void 0:a.every(function(e){return e.custom_template_data!=null});return i?r:null}i.default=e}),66);
__d("MWPBaseMessageContent.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMessageHiddenState","LSReplyMessageAttachmentType","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MWGenAIRichResponseRenderEligibilityUtils","MWGenAIUtils","MWMediaRenderQplUtils","MWPAttachmentDataContext","MWPMessageHasXMA","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPThreadCapabilitiesContext","gkx","isMWBumpMessage","isMWEditedMessage","mwpMessageHasAttachment","mwpMessageIsReply","react","useXMAPreviewsDisabledSetting","useXMAV2Provider","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useEffect;function _(e){var t=e.attachmentRenderPosition,n=e.isEmojiOnly,a=e.isFirstMessageInGroup,i=e.isLastMessageInGroup,l=e.isMessagePinned,d=e.isNextMessagePinned,_=e.isSearchPluginAttachment,f=e.isSecureMessage,g=e.mediaRenderQpl,h=e.message,y=e.nextMessage,C=e.outgoing,b=e.prevMessage,v=e.renderAttachment,S=e.renderEmoji,R=e.renderHiddenMessage,L=e.renderMessageBubble,E=e.shouldRenderMessageContent,k=e.xmaLayout,I=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),T=I.disableLinks,D=r("mwpMessageIsReply")(h),x=r("isMWEditedMessage")(h),$=y!=null&&r("isMWEditedMessage")(y),P=o("MWPMessageParsingUtils").hasText(h),N=m(o("MWPAttachmentDataContext").MWPAttachmentDataContext),M=N.attachments,w=M!=null&&M.length>0?M[0]:null,A=r("MWPMessageHasXMA")(h)&&w!=null,F=r("useXMAV2Provider")(M)!=null,O=o("MWPMessageReactions.react").useReactions(h),B=O.length>0,W=o("MWPMessageReactions.react").useReactions(b),q=W.length>0,U=r("gkx")("24165")&&T&&A&&h.textHasLinks;p(function(){r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"message_row_has_attachment",A?1:0),r("InteractionTracingMetrics").addMetadata(e.traceId,"content_type",h.replyAttachmentType!=null?o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(h.replyAttachmentType):o("MWMediaRenderQplUtils").getMessageContentTypeString(h)),r("InteractionTracingMetrics").addMetadata(e.traceId,"content_type_num",(s||(s=o("I64"))).to_string(h.displayedContentTypes))}),g==null||g.addAnnotations({bool:{message_type_supports_attachment:r("mwpMessageHasAttachment")(h)}}),r("mwpMessageHasAttachment")(h)&&!U&&(g==null||g.addPoint("base-message-render-attachment"),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"base-message-render-attachment","AppTiming")}))},[A,g,h,U]);var V=r("isMWBumpMessage")(h.replyType),H=r("useXMAPreviewsDisabledSetting")(),G=f===!0&&H&&o("MAWIsFBXMA").isFBXMA(w==null?void 0:w.xmaContentType),z=o("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(h.displayedContentTypes,w),j=!z&&!G&&!V&&A&&t==="below"&&!U&&!_,K=t==="below"?!D&&!a&&!l&&!x&&!q:!1,Q=z||G||!i&&!d&&!$&&!B||(k===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?j:!1);if(R!=null&&!C&&(s||(s=o("I64"))).equal(h.messageHiddenState,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageHiddenState").HIDDEN_REPORTED)))return c.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[K||t==="above"?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,R(Q,K,j)]});var X;E?X=h.text!=null?n?D?c.jsx("div",{className:"x1n2onr6 x1vjfegm",children:S(h)}):c.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[K?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,c.jsx("div",{className:"x1n2onr6 x1vjfegm",children:S(h)})]}):h.text!==""?c.jsxs(c.Fragment,{children:[K||t==="above"?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,c.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[C?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!D,children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,L(h,K,Q,j,C,F),C?null:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!D,children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:X=null;var Y=h.replyAttachmentType!==void 0&&(s||(s=o("I64"))).to_float(h.replyAttachmentType)===r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION,J,Z=w!=null&&o("MWGenAIUtils").isMetaAIThread(h.senderId)&&o("MWGenAIRichResponseRenderEligibilityUtils").isResponseStreamingEnabled();return(r("mwpMessageHasAttachment")(h)||Z)&&!U&&!Y&&(J=v(o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(h,b,t),o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(h,y,t),P)),c.jsxs(c.Fragment,{children:[t==="above"?J:null,X,t==="below"?J:null]})}_.displayName=_.name+" [from "+i.id+"]",l.MWPBaseMessageContent=_}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=e.attachmentRenderPosition,n=e.isEmojiOnly,a=e.isFirstMessageInGroup,i=e.isLastMessageInGroup,l=e.isSearchPluginAttachment,c=e.isSecureMessage,d=e.mediaRenderQpl,m=e.message,p=e.nextMessage,_=e.outgoing,f=e.prevMessage,g=e.renderAttachment,h=e.renderEmoji,y=e.renderHiddenMessage,C=e.renderMessageBubble,b=e.shouldRenderMessageContent,v=e.xmaLayout,S=r("useMWPIsMessagePinned")(m),R=r("useMWPIsMessagePinned")(p);return u(function(){return s.jsx(o("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:t,isEmojiOnly:n,isFirstMessageInGroup:a,isLastMessageInGroup:i,isMessagePinned:S,isNextMessagePinned:R,isSearchPluginAttachment:l,isSecureMessage:c,mediaRenderQpl:d,message:m,nextMessage:p,outgoing:_,prevMessage:f,renderAttachment:g,renderEmoji:h,renderHiddenMessage:y,renderMessageBubble:C,shouldRenderMessageContent:b,xmaLayout:v})},[t,n,l,a,i,S,R,c,d,m,p,_,f,g,h,C,b,v,y])}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("mwpIsMessageUnsupported",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).zero)&&n.length===0}l.default=s}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPAttachmentDataContext","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MessengerWebUXLogger","mwpIsMessageUnsupported","mwv2MessageIsEmojiOnly","react","react-strict-dom","useGetMediaGroupInformation","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useContext,d={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},footerForGroupedImageStack:{paddingInlineEnd:"xv54qhq",$$css:!0},footerForGroupedImageTile:{paddingInlineEnd:"xj46xog",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(e,t){return o("LSBitFlag").has((s||(s=o("LSIntEnum"))).ofNumber(128),e.displayedContentTypes)?!0:r("mwv2MessageIsEmojiOnly")(e.text,t)}function p(e){var t=e.attachmentRenderPosition,n=t===void 0?"below":t,a=e.checkEmoticon,i=e.id,l=e.isFirstMessageInGroup,s=e.isLastMessageInGroup,p=e.isSearchPluginAttachment,_=p===void 0?!1:p,f=e.isSecureMessage,g=e.mediaRenderQpl,h=e.message,y=e.nextMessage,C=e.outgoing,b=e.prevMessage,v=e.reactions,S=e.reactionsV2,R=e.renderAttachment,L=e.renderEmoji,E=e.renderHiddenMessage,k=e.renderMessageBubble,I=e.renderMessageContainer,T=e.renderMessageFooter,D=e.renderMessageFromBlockee,x=e.renderUnsentMessage,$=e.renderUnsentMessageFooter,P=e.renderUnsupportedMessage,N=e.shouldRenderFooterForUnsentMessage,M=N===void 0?!1:N,w=e.shouldRenderMessageContent,A=w===void 0?!0:w,F=e.xmaLayout,O=F===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:F,B=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"}),W=o("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(h.threadKey),q=r("MWBlockingProtectionContext.react").useHook(),U=q.addMessageId,V=q.findMessageId,H=r("useGetMediaGroupInformation")(h,f!=null?f:!1,g),G=c(o("MWPAttachmentDataContext").MWPAttachmentDataContext),z=G.attachments,j=r("mwpIsMessageUnsupported")(h,z);if(h.isUnsent)return x!=null?u.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[x(),M&&$!=null&&u.jsx("div",{children:$()})]}):null;if(j)return P!=null?u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:P()}):null;if(!V(h.messageId)&&W&&D!=null)return u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:D(function(){U(h.messageId)})});var K=m(h,a),Q=u.jsx(r("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:n,isEmojiOnly:K,isFirstMessageInGroup:l,isLastMessageInGroup:s,isSearchPluginAttachment:_,isSecureMessage:f,mediaRenderQpl:g,message:h,nextMessage:y,outgoing:C,prevMessage:b,renderAttachment:R,renderEmoji:L,renderHiddenMessage:E,renderMessageBubble:k,shouldRenderMessageContent:A,xmaLayout:O});return u.jsxs("div",{id:i,children:[u.jsxs(o("react-strict-dom").html.div,{ref:B,role:"none",style:d.row_container,children:[C?u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,I!=null?I(Q,[d.container,C?d.outgoing:!1]):u.jsx(o("react-strict-dom").html.div,{style:[d.container,C?d.outgoing:!1],children:Q}),C?null:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),K&&v.length>0?u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u.jsx(o("react-strict-dom").html.div,{style:[H!=null&&H.groupSize>=4&&d.footerForGroupedImageStack,!C&&H!=null&&H.groupSize<4&&d.footerForGroupedImageTile],children:T()})})]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWCombineThemeConfigs",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{dark:Object.assign(e.dark,t.dark),light:Object.assign(e.light,t.light),type:t.type}}i.combine=e}),66);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useEffect,p=d.useState;function _(e){return e<o("MAWEphemeralConsts").oneMinuteInSeconds?s._(/*BTDS*/"{seconds}",[s._param("seconds",String(e).concat("s"))]):e<o("MAWEphemeralConsts").oneHourInSeconds?s._(/*BTDS*/"{minutes}",[s._param("minutes",String(Math.floor(e/o("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]):e<o("MAWEphemeralConsts").oneDayInSeconds?s._(/*BTDS*/"{hours}",[s._param("hours",String(Math.floor(e/o("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):s._(/*BTDS*/"{days}",[s._param("days",String(Math.floor(e/o("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function f(e,t){var n=(u||(u=o("I64"))).to_int32(u.sub(e,u.of_float(o("WATimeUtils").unixTime())));return t!=null&&n>(u||(u=o("I64"))).to_int32(t)?(u||(u=o("I64"))).to_int32(t):n}function g(e){var t=e.ephemeralDurationInSec,n=e.expirationTimestamp,a=e.handleMessageExpired,i=p(function(){return f(n,t)}),l=i[0],u=i[1],d=_(l),g=s._(/*BTDS*/"Message will disappear in: {time}",[s._param("time",d)]);return m(function(){l>0&&r("setTimeout")(function(){return u(l-1)},o("MAWEphemeralConsts").msPerSec),l===0&&(a==null||a())},[l,n,a]),l>0?c.jsxs("div",{className:"x2b8uid xbkr7qi",children:[c.jsx(r("CometScreenReaderText.react"),{text:g}),c.jsx("div",{"aria-hidden":!0,children:c.jsx(r("MWXText.react"),{testid:void 0,type:"meta1",children:d})})]}):null}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.ariaHidden,n=t===void 0?!1:t,o=e.ephemeralDurationInSec,a=e.expirationTimestamp,i=e.handleMessageExpired;return s.jsx("div",{"aria-hidden":n,className:"x78zum5 xdt5ytf x1c4vz4f xl56j7k x4ii5y1 xr1yuqi x135b78x x11lfxj5 x1vjfegm",children:s.jsx(r("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:o,expirationTimestamp:a,handleMessageExpired:i})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXMessageBubbleRow.react",["react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={addOn:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0},bubble:{minWidth:"xeuugli",zIndex:"x1vjfegm",$$css:!0},container:{display:"x78zum5",$$css:!0},containerRight:{flexDirection:"x15zctf7",$$css:!0},opaque:{backgroundColor:"x1eb86dx",$$css:!0},paddingBottom:function(t){return[{paddingBottom:t!=null?"xjqpyvm":t,$$css:!0},{"--x-paddingBottom":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},paddingEnd:function(t){return[{paddingInlineEnd:t!=null?"x120eax6":t,$$css:!0},{"--x-paddingInlineEnd":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},paddingStart:function(t){return[{paddingInlineStart:t!=null?"xnvo3vl":t,$$css:!0},{"--x-paddingInlineStart":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}},c={bottom:{alignSelf:"xpvyfi4",$$css:!0},center:{alignSelf:"xamitd3",$$css:!0},top:{alignSelf:"xqcrz7y",$$css:!0}},d={left:{end:u.paddingStart,start:u.paddingEnd},right:{end:u.paddingEnd,start:u.paddingStart}};function m(e){var t=e.children,n=e.gap,r=e.paddingBottom,a=e.rowAlign,i=e.testid,l=e.type,m=e.verticalAlign;return t!=null?s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.opaque,u.addOn,r!=null&&u.paddingBottom(r),n!=null&&d[a][l](n)],children:s.jsx(o("react-strict-dom").html.div,{style:[u.container,a==="right"&&u.containerRight,c[m]],children:t})}):null}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=e.addOnEnd,n=e.addOnEndGap,r=n===void 0?0:n,a=e.addOnEndVerticalAlign,i=a===void 0?"center":a,l=e.addOnPaddingBottom,c=l===void 0?0:l,d=e.addOnStart,p=e.addOnStartGap,_=p===void 0?0:p,f=e.addOnStartVerticalAlign,g=f===void 0?"center":f,h=e.align,y=h===void 0?"right":h,C=e.children,b=e.opaque,v=b===void 0?!1:b,S=e.testid,R=e.xstyle;return s.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.container,y==="right"&&u.containerRight,v&&u.opaque,R],children:[s.jsx(m,{gap:_,paddingBottom:c,rowAlign:y,testid:void 0,type:"start",verticalAlign:g,children:d}),C!=null?s.jsx(o("react-strict-dom").html.div,{style:u.bubble,children:C}):null,s.jsx(m,{gap:r,paddingBottom:c,rowAlign:y,type:"end",verticalAlign:i,children:t}),s.jsx(o("react-strict-dom").html.div,{style:[u.opaque,u.spacer]})]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("useIsAdsAIChat",["AdsAIMessengerUtils","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t){var n=(e||(e=r("useReStore")))(),a=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(n.tables.participants,["contactId"]).getKeyRange(t)},[n,t],i.id+":23"),l=u(function(){return a.some(function(e){return o("AdsAIMessengerUtils").isAdsAIParticipant(e.contactId)})},[a]);return l}l.default=c}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowActions.react","MWPBaseMessageListRowCountdown.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWXMessageBubbleRow.react","gkx","mwpMessageIsReply","react","stylex","useIsAdsAIChat"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useCallback,_=m.useMemo;function f(e){var t=e.children,n=e.message,r=e.prevMessage,a=o("MWPMessageParsingUtils").isStartOfGroup(n,r);return a?t():null}f.displayName=f.name+" [from "+i.id+"]";function g(e){return(u||(u=o("I64"))).equal(u.and_(e.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(2048)),u.zero)}function h(e){var t,n=e.children,a=e.handleMessageExpired,i=e.hasMessageEmphasisRing,l=e.hasReactions,s=e.message,u=e.originalBumpedMsg,c=e.outgoing,m=e.renderGutterItem,p=e.renderMessageActions,_=e.renderMultiReactions,f=e.renderProfile,h=r("mwpMessageIsReply")(u!=null?u:s),y=s.ephemeralExpirationTs,C=s.ephemeralDurationInSec,b=s.isUnsent,v=o("MWMessageDeliveryStatus").getFromSendStatus(s.sendStatusV2).type==="Sending",S=(t=r("useIsAdsAIChat")(s.threadKey))!=null?t:!1,R=S,L=_&&_(),E=L!=null,k=r("gkx")("7737"),I=d.jsx(r("MWXMessageBubbleRow.react"),{addOnEnd:g(s)?d.jsxs(d.Fragment,{children:[y!=null&&!b?d.jsx(r("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:C,expirationTimestamp:y,handleMessageExpired:a}):null,p(v)]}):d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsEmptyList,{}),addOnEndVerticalAlign:R?"bottom":"center",addOnPaddingBottom:l?18:0,addOnStart:c?k?null:m():d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:f()}),addOnStartVerticalAlign:"bottom",align:c?"right":"left",opaque:!c||h||i===!0,testid:void 0,children:n}),T=k?d.jsxs("div",{children:[I,d.jsx("div",{className:"x1eb86dx x78zum5 x15zctf7",children:d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:m()})})]}):I;return E?d.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[T,d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:d.jsx("div",babelHelpers.extends({},{0:{className:"x78zum5 x1vjfegm x1hwjw2i"},1:{className:"x1vjfegm x78zum5 x15zctf7 x2fvf9 x1lziwak"}}[!!c<<0],{children:L}))})]}):T}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=e.children,n=e.message,r=e.nextMessage,a=e.showContent,i=o("MWPMessageParsingUtils").isEndOfGroup(n,r);return i||a===!0?t():null}y.displayName=y.name+" [from "+i.id+"]";var C={"mwp-reply-background-color":"var(--comment-footer-background)"},b={"mwp-reply-background-color":"var(--comment-footer-background)"},v={dark:b,light:C,type:"VARIABLES"};function S(t){var n=t.children,a=t.domElementRef,i=t.message,l=t.role,s=t.setHovered,u=t.stopHoveringRef,c=t.theme,m=c===void 0?v:c,f=t.xstyle,g=p(function(){return s(function(){return!1})},[s]);return d.jsx(r("BaseThemeProvider.react"),{config:_(function(){return o("MWCombineThemeConfigs").combine(v,m)},[m]),children:function(o,i){return d.jsx("div",{className:(e||(e=r("stylex")))(o,f),onMouseEnter:function(){u.current&&u.current(),s(function(){return!0}),u.current=g},onMouseLeave:function(){if(u.current===g){g(),u.current=function(){};return}},ref:a,role:l,style:babelHelpers.extends({},i),children:n})}})}S.displayName=S.name+" [from "+i.id+"]",l.MWPBaseMessageListRowBeforeContent=f,l.MWPBaseMessageListRowBody=h,l.MWPBaseMessageListRowFooter=y,l.MWPBaseMessageListRow=S}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(t,n,r,o,a,i,l){var e=864e5,s=6*e,u={getFormatedTimestamp:function(t){var e=t/1e3;return u.getFormattedTimestampByBucket(e,u.getTimeBucket(t))},getAbsoluteTimestamp:function(t){if(t==null)return null;var e=u.getFormatedTimestamp(t);return e.absolute},getRelativeTimestamp:function(t){var e=u.getFormatedTimestamp(t);return e.relative},getFormattedTimestampByBucket:function(t,r){switch(r){case 0:return{absolute:l._(/*BTDS*/"Today").toString(),relative:n("formatDate")(t,"g:ia")};case 1:return{absolute:n("formatDate")(t,"l"),relative:n("formatDate")(t,"D")};case 3:return{absolute:n("formatDate")(t,"F j"),relative:n("formatDate")(t,"M j")};default:return{absolute:n("formatDate")(t,"F j, Y"),relative:n("formatDate")(t,"n/j/y")}}},getTimeBucket:function(t){var e=new Date(t),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());return r<e?0:r.getTime()-s<e.getTime()?1:r.getFullYear()===e.getFullYear()?3:4},getPreciseTimestamp:function(t){return n("formatDate")(new Date(t),u.getPreciseFormat(t))},getPreciseFormat:function(t){var e=u.getTimeBucket(t);switch(e){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};a.exports=u}),130);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=t.message,a=t.renderText,i=t.renderTimestamp,l=t.xstyle;return c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(l),{children:a(i(r("MercuryTimestamp").getRelativeTimestamp((s||(s=o("I64"))).to_float(n.timestampMs))))}))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function d(e){var t=e.message,n=e.outgoing,r=o("MWPMessageAuthor.react").useAuthorName(),a=r[0],i=n?s._(/*BTDS*/"You sent"):s._(/*BTDS*/"Participant");return!t.isAdminMessage&&u.jsx(o("react-strict-dom").html.span,{style:c.visuallyHidden,children:a!=null&&!n?a:i})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWCMGetValidId",["FBLogger","I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){return t===void 0&&(t=!1),u(e,t)!=null}function u(t,n){if(n===void 0&&(n=!1),t==null){n&&r("FBLogger")("cc_web").warn("FB Group ID is not defined");return}if((e||(e=o("I64"))).le(t,(e||(e=o("I64"))).zero)){n&&r("FBLogger")("cc_web").warn("FB Group ID is invalid: %s",(e||(e=o("I64"))).to_string(t));return}return t}l.MWCMHasValidFbGroupId=s,l.MWCMGetValidFbGroupIdOrUndefined=u}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};l.default=e}),98);
__d("MWXHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("BaseHovercardTrigger.react")}),98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("fb_group_id",e[0]),r[0].set("target_user_id",e[1]),r[0].set("source",e[2]),r[0].set("thread_id",e[3]),r[0].set("request_id",e[4]),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[5]=t.i64.of_float(Date.now()),r[1]=t.i64.add(r[5],t.i64.cast([0,0]))):r[1]=t.i64.cast([0,0]),r[2]=r[0].get("fb_group_id"),r[3]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),t.i64.to_string(r[2]),t.i64.cast([0,428]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[1],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[4]=t[0],t})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssueCommunityAdminModerationActionsFetchStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSIssueCommunityAdminModerationActionsFetchStoredProcedure",["LSIssueCommunityAdminModerationActionsFetch","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueCommunityAdminModerationActionsFetch"),a.fbGroupId,a.targetUserId,a.source,a.threadId,a.requestId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MessagingSpecialThreadRole",[],(function(t,n,r,o,a,i){var e=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6,ADMIN_VIA_PAGE:7,MARKETPLACE_BUYER:8,MARKETPLACE_SELLER:9,PUBLIC_SPEAKER:10,PUBLIC_SPECTATOR:11});i.default=e}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return n==null?!1:o("LSBitFlag").has((e||(e=o("I64"))).lsl_(e.one,t),n.threadRoles)}l.has=s}),98);
__d("useMWCMIsSenderAdModOrChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MWCMGetValidId","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a,l){var u=(s||(s=r("useReStore")))();o("Int64Hooks").useEffectInt64(function(){var s=(function(){var s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("MWCMGetValidId").MWCMHasValidFbGroupId(t)&&(yield u.runInTransaction(function(n){return r("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(r("LSFactory")(n),{fbGroupId:t,requestId:r("pageID"),source:(e||(e=o("LSIntEnum"))).ofNumber(14),targetUserId:l,threadId:a})},"readwrite",void 0,void 0,i.id+":47"))});return function(){return s.apply(this,arguments)}})();r("promiseDone")(s())},[u,t,l,a]);var c=o("ReQLSuspense").useFirst(function(){return t!=null?o("ReQL").fromTableAscending(u.tables.community_members.index("communityContact")).getKeyRange(t,l,r("pageID")):o("ReQL").empty()},[u,t,l],i.id+":66"),d=(c==null?void 0:c.isAdmin)==null?!1:c.isAdmin,m=(c==null?void 0:c.isModerator)==null?!1:c.isModerator,p=c!=null?o("MessagingSpecialThreadRoleBitOffset").has(r("MessagingSpecialThreadRole").CHAT_HOST,c):!1;return{isAdmin:d,isChatHost:p,isModerator:m}}l.default=u}),98);
__d("useMWMarketplaceThreadRoles",["LSMessagingThreadTypeUtil","MWLSThread","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=(e||(e=r("useReStore")))(),l=o("MWLSThread").useThread(t),s=(l==null?void 0:l.threadType)!=null&&o("LSMessagingThreadTypeUtil").isMarketplaceThread(l.threadType),u=o("ReQLSuspense").useFirst(function(){return s?o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t,n):o("ReQL").empty()},[a,t,n,s],i.id+":39");return u==null||!s?{isMarketplaceBuyer:!1,isMarketplaceSeller:!1}:{isMarketplaceBuyer:o("MessagingSpecialThreadRoleBitOffset").has(r("MessagingSpecialThreadRole").MARKETPLACE_BUYER,u),isMarketplaceSeller:o("MessagingSpecialThreadRoleBitOffset").has(r("MessagingSpecialThreadRole").MARKETPLACE_SELLER,u)}}l.default=s}),98);
__d("MWPMessageRoleText.react",["fbt","BaseMiddot.react","LSMessagingThreadTypeUtil","MWCMGetValidId","MWCMHostTextHovercard.entrypoint","MWLSThread","MWXHovercardTrigger.react","MWXText.react","react","react-strict-dom","useMWCMIsSenderAdModOrChatHost","useMWMarketplaceThreadRoles"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t=e.communityId,n=e.senderId,a=e.shouldRenderSenderName,i=e.threadKey,l=r("useMWMarketplaceThreadRoles")(i,n),d=l.isMarketplaceBuyer,m=l.isMarketplaceSeller,p=r("useMWCMIsSenderAdModOrChatHost")(t,i,n),_=p.isAdmin,f=p.isChatHost,g=p.isModerator,h=_||g||f||d||m,y=c(function(){return _?s._(/*BTDS*/"Admin"):g?s._(/*BTDS*/"Moderator"):f?u.jsx(r("MWXHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:r("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:i},popoverProps:{},position:"above",children:function(t){return u.jsx(r("MWXText.react"),{ref:t,type:"meta4",children:s._(/*BTDS*/"Host")})}}):d?s._(/*BTDS*/"Buyer"):m?s._(/*BTDS*/"Seller"):null},[_,f,d,m,g,i]);return u.jsx(u.Fragment,{children:a&&h&&u.jsxs(u.Fragment,{children:[u.jsx(r("BaseMiddot.react"),{}),u.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:y})]})})}d.displayName=d.name+" [from "+i.id+"]";function m(e){var t=e.communityId,n=e.message,r=e.shouldRenderSenderName,a=o("MWLSThread").useThread(n.threadKey),i=(a==null?void 0:a.threadType)!=null&&o("LSMessagingThreadTypeUtil").isMarketplaceThread(a.threadType);return!o("MWCMGetValidId").MWCMHasValidFbGroupId(t,!1)&&!i?null:u.jsx(d,{communityId:t,senderId:n.senderId,shouldRenderSenderName:r,threadKey:n.threadKey})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("MWXIconBadgeCheckmark",["MWXSvgIcon","SVGIcon","cr:22216","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22216")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconBot",["MWXSvgIcon","SVGIcon","cr:22232","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22232")),r("gkx")("23219"));l.default=e}),98);
__d("useMessageAttachments",["I64","ReQL","ReQLSuspense","mwpMessageHasAttachment","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){var t=o("react-compiler-runtime").c(10),n=(s||(s=r("useReStore")))(),a;t[0]!==e?(a=r("mwpMessageHasAttachment")(e),t[0]=e,t[1]=a):a=t[1];var l=a,u,d;t[2]!==n||t[3]!==l||t[4]!==e.messageId||t[5]!==e.threadKey?(u=function(){return l?o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(e.threadKey,e.messageId):o("ReQL").empty()},d=[n,e.threadKey,e.messageId,l],t[2]=n,t[3]=l,t[4]=e.messageId,t[5]=e.threadKey,t[6]=u,t[7]=d):(u=t[6],d=t[7]);var m=o("ReQLSuspense").useArray(u,d,i.id+":26"),p;return t[8]!==m?(p=m.toSorted(c),t[8]=m,t[9]=p):p=t[9],p}function c(t,n){return(e||(e=o("I64"))).compare(t.attachmentIndex,n.attachmentIndex)}l.default=u}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState,m="xekv6nw-B",p="x17qceat-B",_={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function f(e){var t=d(!1),n=t[0],o=t[1],a=c(e);return u(function(){e!==a.current&&o(!0),a.current=e},[e]),{mountAnimation:n?_.mountAnimation:null,shouldShow:r("useDebouncedValue")(e,200),unmountAnimation:_.unmountAnimation}}l.default=f}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","BaseMiddot.react","I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWLSThread","MWMessageListDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPMessageRoleText.react","MWPThreadIsPage.react","MWXIconBadgeCheckmark","MWXIconBot","MWXIconStrict.react","MessagingAttachmentType","ReQL","ReQLSuspense","isMWEditedMessage","react","react-strict-dom","useMWPIsMessagePinned","useMessageAttachments","usePinnedTextAnimation","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{display:"x1rg5ohu",paddingInlineStart:"x135b78x",position:"x1n2onr6",top:"xs7f9wi",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingInlineStart:"x1g0dm76",$$css:!0},separator:{paddingInlineEnd:"x1ccui7m",paddingInlineStart:"x18pi947",$$css:!0}};function _(e){var t=e.children,n=e.outgoing;return m.jsx(o("react-strict-dom").html.div,{style:[p.container,n?p.alignEnd:p.alignStart],children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(t){var n,a=t.isFirstMessageInGroup,l=t.isLastMessageInGroup,d=t.message,f=t.outgoing,g=t.renderPaidPartnerShipText,h=t.renderPinnedText,y=t.renderTextWrapper,C=t.shouldRenderSenderName,b=o("MWPMessageAuthor.react").useAuthorName(),v=b[0],S=o("MWPContactContext.react").useMWPContactStableContext(),R=S.contact,L=S.nickname,E=o("Actor").useActor(),k=E[0],I=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),T=I.isReportMessageList,D=I.isStandardMessageList,x=(e||(e=r("useReStore")))(),$=r("useMessageAttachments")(d),P=o("MWLSThread").useThread(d.threadKey,function(e){return e.parentThreadKey}),N=o("ReQLSuspense").useFirst(function(){return P!=null?o("ReQL").fromTableAscending(x.tables.community_folders).getKeyRange(P).map(function(e){return e.folderId}):o("ReQL").empty()},[x,P],i.id+":114"),M=(function(){if(d.metadataDataclass==null)return!1;try{var e=JSON.parse(d.metadataDataclass),t=e==null?void 0:e.ai_metadata;return(t==null?void 0:t.imagine_intent_feature)==="edit_user_image"&&(t==null?void 0:t.is_ai_generated)===!0}catch(e){return!1}})(),w=r("isMWEditedMessage")(d),A=o("MWPThreadIsPage.react").useIsPage(),F=o("MWLSThread").useThread(d.threadKey,function(e){return e.threadType}),O=F!=null&&o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(F),B=R?!(u||(u=o("I64"))).equal(R.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,W=A&&!(u||(u=o("I64"))).equal(d.senderId,d.threadKey)&&!f,q=W&&!O;q=q&&a;var U=R?o("LSContactBitOffset").has(77,R):!1,V=R?o("LSContactBitOffset").has(84,R):!1,H=r("useMWPIsMessagePinned")(d),G=r("usePinnedTextAnimation")(H),z=G.mountAnimation,j=G.unmountAnimation,K=d.isPaidPartnership===!0,Q=d.groupId!=null&&d.groupIndex!=null&&(u||(u=o("I64"))).to_int32(d.groupIndex)===0&&(u||(u=o("I64"))).to_int32((n=d.groupSize)!=null?n:(u||(u=o("I64"))).zero)>=4,X=$!=null&&$.length>=4&&$.every(function(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}),Y=(C||q)&&!Q&&!X,J=Y||H||w||M||K||Q||X,Z="";if(X&&$!=null&&$.length>1)Z=$.length.toString();else if(Q){var ee;Z=(u||(u=o("I64"))).to_int32((ee=d.groupSize)!=null?ee:(u||(u=o("I64"))).zero).toString()}var te=L!=null?L:s._(/*BTDS*/"You"),ne=k===(u||(u=o("I64"))).to_string(d.senderId),re=ne?te.toString():v==null?void 0:v.toString(),oe=l&&a,ae=s._(/*BTDS*/"Member");if(!J)return m.jsx(r("MWPAccessibleEyebrowsText.react"),{message:d,outgoing:f});var ie=function(t){var e=Y&&t!=null||H||B,n=m.jsx(_,{outgoing:f,children:y(m.jsxs(o("react-strict-dom").html.span,{style:p.color,children:[(Y||B)&&t!=null&&m.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:t}),m.jsx(r("MWPMessageRoleText.react"),{communityId:N,message:d,shouldRenderSenderName:Y}),H&&!B&&m.jsx(o("react-strict-dom").html.span,{style:H?z:j,children:h(d,Y)}),B&&m.jsxs(m.Fragment,{children:[m.jsx(o("react-strict-dom").html.span,{children:m.jsx(r("BaseMiddot.react"),{})}),m.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:s._(/*BTDS*/"Blocked")})]}),w&&m.jsx(o("MWEditedEyebrow.react").MWEditedEyebrow,{hasPadding:!oe&&!a,separatorStyle:e?p.separator:null}),M&&m.jsxs(m.Fragment,{children:[e||w?m.jsx(o("react-strict-dom").html.span,{style:p.separator,children:m.jsx(r("BaseMiddot.react"),{})}):null,m.jsx(o("react-strict-dom").html.span,{children:s._(/*BTDS*/"Edited with Meta AI")})]}),U===!0?m.jsx(o("react-strict-dom").html.span,{style:p.botBadge,children:m.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconBot"),size:12})}):null,V&&m.jsx(o("react-strict-dom").html.span,{style:p.botBadge,children:m.jsx(r("MWXIconStrict.react"),{color:"primaryAccent",icon:r("MWXIconBadgeCheckmark"),size:12})}),K&&g!=null&&g(d),(Q||X)&&!B&&m.jsxs(o("react-strict-dom").html.span,{"data-testid":void 0,children:[H&&D&&m.jsx(r("BaseMiddot.react"),{}),ne?s._(/*BTDS*/"You sent {numberOfMedia} photos",[s._param("numberOfMedia",Z)]):s._(/*BTDS*/"{senderName} sent {numberOfMedia} photos",[s._param("senderName",B?null:re),s._param("numberOfMedia",Z)])]})]}))});return T?m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:n}):m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})};return d.takedownState!=null?ie(ae.toString()):ie(re)}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),226);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageListColumn.react","MWPThreadIsPage.react","mwpMessageIsReply","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingInlineEnd:"xjfo4ez",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingInlineEnd:"xjfo4ez",$$css:!0}};function m(e,t,n,a){var i=e.replySnippet,l=i!=null?i!=="":!1,s=e.replySourceTypeV2!=null&&(u||(u=o("LSIntEnum"))).toNumber(e.replySourceTypeV2)===r("LSMessageReplySourceTypeV2").FORWARD;return l?n(e,a):s?t(e,a):null}function p(t){var n=t._fbGroupId,a=t.alwaysRenderSenderName,i=a===void 0?!1:a,l=t.isAnyCMThread,s=l===void 0?!1:l,u=t.isFirstMessageInGroup,p=t.isGroupThread,_=t.isLastMessageInGroup,f=t.message,g=t.outgoing,h=t.renderForwardSnippet,y=t.renderMessageEyebrows,C=t.renderPaidPartnerShipText,b=t.renderPinnedText,v=t.renderReplySnippet,S=t.renderTextWrapper,R=t.renderTimestamp,L=r("mwpMessageIsReply")(f),E=m(f,h,v,g),k=o("MWPContactContext.react").useMWPContactStableContext(),I=k.nickname,T=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),D=T.isReportMessageList,x=u&&I!=null&&s,$=i||p&&u&&!g&&!L||x,P;E!=null?P=c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.header,g?d.alignEnd:!1),{role:"none",children:D?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:E}):c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:E})})):y!=null?P=y(f,g,S,$):P=c.jsx(o("MWPThreadIsPage.react").Provider,{threadKey:f.threadKey,children:c.jsx(r("MWPMessageEyebrows.react"),{isFirstMessageInGroup:u,isLastMessageInGroup:_,message:f,outgoing:g,renderPaidPartnerShipText:C,renderPinnedText:b,renderTextWrapper:S,shouldRenderSenderName:$})});var N=E!=null?d.timestampWithSnippet:d.timestamp,M=R!=null?c.jsx(r("MWPBaseMessageRowHeaderTimestamp.react"),{message:f,renderText:S,renderTimestamp:R,xstyle:N}):null;return u?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:c.jsxs(r("BaseRow.react"),{direction:g?"backward":"forward",children:[c.jsx(r("BaseRowItem.react"),{children:c.jsx(r("BaseHeading.react"),{children:P})}),M!=null?c.jsx(r("BaseRowItem.react"),{children:c.jsx(r("BaseHeading.react"),{children:M})}):null]})}):P}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(o("MAWEditMessageContext.react").Context),t=e.editMessageData;return t}l.default=u}),98);
__d("MWEditMessageOverlay.react",["react","useMAWEditMessageData"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.messageId,n=r("useMAWEditMessageData")(),o=n!=null,a=t!=null&&t===(n==null?void 0:n.messageId);return!o||a?null:s.jsx("div",{className:"xyl4keb x5yr21d x1o0tod x1ks1olk x10l6tqk x13vifvy xh8yej3 x1vjfegm"})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWV2MessageListIsRowModalContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({modal:"",setModal:r("emptyFunction")});function _(e){var t=e.children,n=e.modal,r=e.setModal,o=m(function(){return{modal:n,setModal:r}},[n,r]);return s.jsx(p.Provider,{value:o,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(){return d(p)}l.MWV2MessageListIsRowModalContext=p,l.MWV2MessageListIsRowModalContextProvider=_,l.useMWV2MessageListIsRowModal=f}),98);
__d("MWPMessageListFocusableTableRow.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","FocusInertRegion.react","FocusManager","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOM","focusScopeQueries","react","setTimeout","stylex","useCometTheme","useMAWEditMessageData"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useId,f=d.useMemo,g=d.useRef,h=d.useState,y={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"x152obne",insetInlineEnd:"xxx7yvo",left:null,right:null,paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},enterModalButtonInsideRow:{top:"xndqk7f",$$css:!0},enterModalButtonOutsideRow:{top:"x1qiirwl",transform:"x105ttfm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function C(e){var t=e.key;(t==="ArrowUp"||t==="ArrowDown"||t==="ArrowLeft"||t==="ArrowRight"||t==="PageUp"||t==="PageDown"||t==="Home"||t==="End")&&e.preventDefault()}var b=s._(/*BTDS*/"Enter"),v=s._(/*BTDS*/"Esc");function S(e){var t=e.ariaLabel,n=e.focusable,o=e.onPress,a=e.ref,i=e.showButtonInsideRow,l=e.text,s=e.xstyle,u=r("useCometTheme")("invert"),d=u[0],m=u[1];return c.jsx(d,{children:c.jsx(r("MWXPressable.react"),{"aria-label":t,focusable:n,onPress:function(){return o()},ref:a,xstyle:[m,y.enterModalButton,i?y.enterModalButtonInsideRow:y.enterModalButtonOutsideRow,s],children:c.jsx(r("MDSTextPairing.react"),{body:l,bodyColor:"primary",level:4})})})}S.displayName=S.name+" [from "+i.id+"]";function R(t){var n=t.accessibilityDialogTitleText,a=t.checkIfContentsAreTabbable,i=a===void 0?!1:a,l=t.children,s=t.focusCellOnRender,u=s===void 0?!1:s,d=t.isDialogOpened,R=t.isFocused,L=t.isModal,E=t.messageDomID,k=t.nameForModality,I=t.setFocused,T=t.setIsDialogOpened,D=t.showButtonInsideRow,x=D===void 0?!1:D,$=o("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),P=$.setModal,N=g(null),M=_(),w=m(function(){P(function(){return k}),r("setTimeout")(function(){o("FocusRegion.react").focusRegionById(M,o("focusScopeQueries").tabbableScopeQuery)},0)},[P,k,M]),A=g(null),F=function(){P(function(){return""});var e=N.current;if(e!=null)return e.focus()},O=_(),B=c.jsx(r("CometScreenReaderText.react"),{id:O,text:n}),W=_(),q=g(null),U=f(function(){return{isDialogOpened:d,setFocused:I,setIsDialogOpened:T}},[I,T,d]),V=r("useMAWEditMessageData")()!=null,H=function(t){if(R!==t)return d||I(function(){return t}),P(function(){return(t||d)&&L?k:""})},G=h(!1),z=G[0],j=G[1],K=function(t){if(R!==t&&(d||I(function(){return t})),A.current!=null){var e=o("FocusManager").getFirstNodeFromOneOrManyQueries(o("focusScopeQueries").tabbableScopeQuery,A.current);j(e!=null)}var n=q.current;if(t&&n!=null){r("setTimeout")(function(){try{return n.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(e){return n.scrollIntoView(!1)}},0);return}};p(function(){if(u){var e,t;(e=N.current)==null||e.focus(),(t=N.current)==null||t.scrollIntoView()}},[u]);var Q=i?c.jsx(o("FocusRegion.react").FocusRegion,{forwardRef:A,children:l}):l;return c.jsx(r("BaseHeadingContextWrapper.react"),{children:c.jsx(o("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:U,children:c.jsx(o("MWMessageTableFocusTable.react").FocusTable[1],{children:c.jsx(r("FocusWithinHandler.react"),{onFocusChange:V?void 0:H,onFocusVisibleChange:V?void 0:K,children:function(n,a){var t=c.jsx(o("MWMessageTableFocusTable.react").FocusTable[2],{children:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(y.cell,L?y.cellModal:!1,a?y.cellFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":o("MWMessageTableFocusTable.react").scopeID,ref:N,role:"gridcell",tabIndex:V?-1:0,children:c.jsx(r("FocusInertRegion.react"),{disabled:L,focusQuery:o("focusScopeQueries").tabbableScopeQuery,children:L?c.jsxs(c.Fragment,{children:[c.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:o("focusScopeQueries").tabbableScopeQuery,id:M,recoverFocusQuery:o("focusScopeQueries").tabbableScopeQuery,children:c.jsx(r("KeyCommandHandler.react"),{onKeyDown:C,children:c.jsxs("div",{"aria-describedby":E,"aria-labelledby":O,id:W,role:"dialog",children:[Q,L?B:null,c.jsx(S,{ariaLabel:v,focusable:!0,onPress:F,showButtonInsideRow:x,text:v,xstyle:y.enterModalButtonVisible})]})})}),o("ReactDOM").createPortal(c.jsx("div",{"aria-owns":W}),document.body)]}):Q})}))});return c.jsxs(c.Fragment,{children:[c.jsx(o("MWMessageCellFocusTable.react").keyCommands,{onEnter:L||V||i&&!z?void 0:w,onEscape:L?F:void 0,onSpace:L||V||i&&!z?void 0:w,children:t}),c.jsx("div",{role:"gridcell",children:c.jsx(S,{ariaLabel:L?v:b,focusable:L,onPress:w,ref:q,showButtonInsideRow:x,text:L?v:b,xstyle:a&&!L&&(z||!i)?y.enterModalButtonVisible:y.visuallyHidden})})]})}})})})})}R.displayName=R.name+" [from "+i.id+"]",l.default=R}),226);
__d("useMWPEditMessageDeemphasizer",["IGDWebUtils","MAWEditMessageContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext,u={deemphasize:{filter:"x4xejrh",$$css:!0}};function c(e){var t=s(o("MAWEditMessageContext.react").Context),n=t.editMessageData,r=(n==null?void 0:n.messageId)!=null&&(n==null?void 0:n.messageId)!==e&&!o("IGDWebUtils").isOnInstagramWeb();return r?u.deemphasize:null}l.default=c}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","I64","MWEditMessageOverlay.react","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWPMessageListFocusableTableRow.react","MWV2MessageRowActionsContext.react","TimestampUtils","cr:11506","emptyFunction","react","useMAWEditMessageData","useMWPEditMessageDeemphasizer","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u,p=m.useMemo,_=m.useRef,f=(e=n("cr:11506"))!=null?e:d.Fragment,g={row:{position:"x1n2onr6",$$css:!0}};function h(e){var t=e.children,n=e.domElementRef,a=e.focusCellOnRender,i=a===void 0?!1:a,l=e.isDialogOpened,u=e.isFocused,m=e.isModal,h=e.message,y=e.messageDomID,C=e.outgoing,b=e.setFocused,v=e.setHovered,S=e.setIsDialogOpened,R=e.stopHoveringRef,L=e.theme,E=o("TimestampUtils").getTimestamp(r("useServerTime")(),new Date((c||(c=o("I64"))).to_float(h.timestampMs))),k=o("MWPMessageAuthor.react").useAuthorName(),I=k[0],T=C?s._(/*BTDS*/"You"):I!=null?I:s._(/*BTDS*/"a participant"),D=s._(/*BTDS*/"Message sent {Stringified timestamp of the incoming message} by {Name of the author of the incoming message}",[s._param("Stringified timestamp of the incoming message",E),s._param("Name of the author of the incoming message",T)]),x=_(r("emptyFunction")),$=_(r("emptyFunction")),P=_(r("emptyFunction")),N=_(r("emptyFunction")),M=p(function(){return{forwardMessage:P,openReactionsMenu:x,removeMessage:N,replyToMessage:$}},[x,$]),w=r("useMAWEditMessageData")()!=null,A=r("useMWPEditMessageDeemphasizer")(h.messageId);return d.jsx(r("BaseHeadingContextWrapper.react"),{children:d.jsx(o("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:M,children:d.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:n,message:h,role:"row",setHovered:w?r("emptyFunction"):v,stopHoveringRef:R,theme:L,xstyle:[g.row,A],children:d.jsxs(f,{children:[d.jsx(r("MWPMessageListFocusableTableRow.react"),{accessibilityDialogTitleText:D,focusCellOnRender:i,isDialogOpened:l,isFocused:u,isModal:m,messageDomID:y,nameForModality:h.messageId,setFocused:b,setIsDialogOpened:S,children:t}),d.jsx(r("MWEditMessageOverlay.react"),{messageId:h.messageId})]})})})})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),226);
__d("MWPMessageLoggingUtil",["MWChatInteraction"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.messageId,r=e.optimisticAttachmentId,a=e.optimisticMessageId,i=o("MWChatInteraction").get(n),l=o("MWChatInteraction").get(a),s=r!=null?o("MWChatInteraction").get(r):null,u=(t=i!=null?i:l)!=null?t:s;return u}l.getInteractionUUIDForMessage=e}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWPMessageLoggingUtil","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=t.children,a=t.messageId,i=t.optimisticAttachmentId,l=t.optimisticMessageId,s=t.xstyle,c=o("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:a,optimisticAttachmentId:i,optimisticMessageId:l});return c==null?u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(s),{children:n})):u.jsx(r("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:c,pageletName:"Message",xstyle:s,children:n})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentAppID","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","LSReplyMessageStatus","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAHashUtils","WAMediaQplHelper","gkx","mergeDeep","react","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useLayoutEffect,m=c.useRef;function p(e,t,n,r){return n===void 0&&(n=g),r===void 0&&(r=o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT),f(e,t,n,!1,{},r)}function _(e,t){return f(e,t,h,!0,{string:{reply_attachment_type:o("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(e.replyAttachmentType)}},o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT)}function f(e,t,n,a,i,l){i===void 0&&(i={});var c=(s||(s=o("I64"))).le(e.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)),p=o("MWPActor.react").useActor(),_=s.equal(e.senderId,p),f=r("useLSMessagingInitiatingSource")(),g=r("useXMAPreviewsDisabledSetting")(),h=m(!1),y=o("Int64Hooks").useMemoInt64(function(){var d;if(!n(e,t))return null;var m=o("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(e.offlineThreadingId,c,a),p=o("CurrentAppID").getAppID(),y={bool:{has_db_reply_attachment:e.replyAttachmentId!=null,has_db_reply_attachment_plaintexthash:e.replyAttachmentPlaintextHash!=null,has_quick_replies:e.hasQuickReplies,has_reply_source_id:e.replySourceId!=null,has_text:!!e.text,is_admin_message:e.isAdminMessage,is_bot_response:e.botResponseId!=null,is_collapsed:e.isCollapsed,is_expired:e.isExpired,is_forwarded:(d=e.isForwarded)!=null?d:!1,is_optimistic:c,is_outgoing:_,is_pdb:!!r("gkx")("8483"),is_reply_to_media:a,is_unsent:e.isUnsent,mention_type_is_ai:e.mentionTypes==="ai",text_has_links:e.textHasLinks,use_maw_shared_worker:o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},int:{message_rendering_type:(s||(s=o("I64"))).to_float(e.messageRenderingType),quick_reply_type:s.to_float(e.quickReplyType),reply_status:e.replyStatus!=null?(s||(s=o("I64"))).to_float(e.replyStatus):void 0,reply_type:e.replyType!=null?(s||(s=o("I64"))).to_float(e.replyType):void 0,takedown_state:e.takedownState!=null?(s||(s=o("I64"))).to_float(e.takedownState):void 0},string:{app_id:p!=null?p:void 0,content_type:a&&e.replyAttachmentType!=null?o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(e.replyAttachmentType):o("MWMediaRenderQplUtils").getMessageContentTypeString(e),content_type_num:s.to_string(e.displayedContentTypes),entry_point:"thread_view",message_age_bucket:o("MWMediaRenderQplUtils").calculateDiffBucketFromTimestamp(e.primarySortKey),messaging_initiation_source:o("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(f),mw_version:s.to_string(o("MWVersion").v2),reply_source_type:e.replySourceType!=null?o("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(e.replySourceType):void 0,reply_source_type_v2:e.replySourceTypeV2!=null?o("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(e.replySourceTypeV2):void 0,thread_type:o("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(t),transport_key:e.transportKey}},C=r("mergeDeep")(y,i);return babelHelpers.extends({},o("MWMediaRenderQplUtils").createQplFlowCommon(l,m,h,C),{addAttachmentAnnotations:function(t){var e,n,a,i=t==null?void 0:t.receiverFetchId,c;try{c=i!=null?JSON.parse(i):null}catch(e){c=null,r("FBLogger")("messenger_web_sharing").mustfix("Failed to parse contentRef as XmsgMsgrXmaContentRefDataclass")}var d=(e=c)==null?void 0:e.xma_content_type,p=d!=null?o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((u||(u=o("LSIntEnum"))).ofNumber(d)):void 0;r("QPLUserFlow").addAnnotations(l,{bool:{has_attachment_receiver_fetch_id:(t==null?void 0:t.receiverFetchId)!=null,has_db_attachment:t!=null,has_db_media:(t==null?void 0:t.hasMedia)===!0,has_db_playable_url:!!(t!=null&&t.playableUrl),has_db_preview_url:!!(t!=null&&t.previewUrl),has_db_preview_url_large:!!(t!=null&&t.previewUrlLarge),has_db_xma:(t==null?void 0:t.hasXma)===!0,has_db_xma_favicon:(t==null?void 0:t.hasXmaFavicon)===!0,has_db_xma_header_image:(t==null?void 0:t.hasXmaHeaderImage)===!0,has_db_xma_preview:(t==null?void 0:t.hasXmaPreview)===!0,is_db_playable_url_expired:(t==null?void 0:t.playableUrlExpirationTimestampMs)!=null?o("LSMediaUrlUtils").isTimestampExpired(t.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(t==null?void 0:t.previewUrlExpirationTimestampMs)!=null?o("LSMediaUrlUtils").isTimestampExpired(t.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:g},string:{attachment_logging_type:t==null?void 0:t.attachmentLoggingType,attachment_transport_key:(n=t==null?void 0:t.transportKey)!=null?n:void 0,attachment_type:t==null?null:o("MWMediaRenderQplUtils").getAttachmentTypeString(t),audio_duration_bucket:(t==null?void 0:t.playableDurationMs)!=null?o("MWMediaRenderQplUtils").convertDurationToStringBucket((s||(s=o("I64"))).to_float((a=t==null?void 0:t.playableDurationMs)!=null?a:(s||(s=o("I64"))).zero)/1e3):void 0,file_size_bucket:(t==null?void 0:t.filesize)!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket((s||(s=o("I64"))).to_float(t==null?void 0:t.filesize)):void 0,playable_url_mime_type:t==null?void 0:t.playableUrlMimeType,preview_url_mime_type:t==null?void 0:t.previewUrlMimeType,sanitized_plaintext_hash:b(t),xma_content_type:p!=null?p:(t==null?void 0:t.xmaContentType)!=null?o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(t.xmaContentType):void 0,xma_default_cta_type:t==null?void 0:t.defaultCtaType,xma_layout_type:o("MWMediaRenderQplUtils").getMessageXmaLayoutTypeStringFromEnum(t==null?void 0:t.xmaLayoutType)}},{instanceKey:m})}})},[c,e.displayedContentTypes]),C=r("usePartialViewImpression")({onImpressionEnd:function(){h.current===!1&&(y==null||y.addPoint("message-row-hidden"),y==null||y.addAnnotations({bool:{message_row_is_hidden:!0}}))},onImpressionStart:function(){h.current===!1&&(y==null||y.addPoint("message-row-visible"),y==null||y.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}}))}});return d(function(){return y==null||y.start(),y==null||y.addPoint("message-row-mounted"),function(){h.current===!1&&(y==null?void 0:y.getInstanceKey())!=null&&(y==null||y.addPoint("message-row-unmounted"),y==null||y.endCancelAfterDelay(706))}},[y]),{mediaRenderQpl:y,messageRowRef:C}}function g(e,t){if(y(e))return!1;var n=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(8),e.displayedContentTypes);return n||o("MAWMsg").isMediaMsg(e)}function h(e,t){return o("MAWMsg").isMediaReplyAttachmentType(e,t)&&C(e)}function y(e){return e.isUnsent||e.isExpired}function C(e){return e.replyStatus!=null&&(s||(s=o("I64"))).equal(e.replyStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID))}function b(e){if(!(!r("gkx")("23916")||e==null||isFinite(e.attachmentFbid)))return o("WAHashUtils").sanitisePlaintextHash(o("WAHashUtils").stringToPlaintextHash(e.attachmentFbid))}l.useMediaRenderQpl=p,l.useMediaRenderQplForReply=_,l.enableQplForMessage=g}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MAWVault","MWChatTextTransform","ReQL","ReQLSuspense","react","useReStore","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n,a,l=t.cta,s=t.message,c=(e||(e=r("useReStore")))(),d=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(c.tables.threads,["threadType"]).getKeyRange(s.threadKey)},[c,s.threadKey],i.id+":29"))==null?void 0:n.threadType,m=d==null?!1:o("LSMessagingThreadTypeUtil").isArmadilloSecure(d),p=s.text==null?null:o("MAWVault").unvault(s.text),_=(a=o("useStringWithSubstitutions").useStringWithSubstitutions(m?p:null,s.threadKey))!=null?a:p;return _!=null?l!=null?u.jsxs(u.Fragment,{children:[u.jsx(r("CometTextWithEntities.react"),{text:_,transforms:o("MWChatTextTransform").textTransformsNoVault})," ",l]}):u.jsx(r("CometTextWithEntities.react"),{text:_,transforms:o("MWChatTextTransform").textTransformsNoVault}):l!=null?l:null}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWGenAINuxQplLogger",["I64","LSThreadAttributionStore","MWGenAIUtils","QPLUserFlow","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(e||(e=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY)),l=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(t,{annotations:{string:{mutation_result:a!==void 0?a:"null",nux_type:n,source:(e||(e=o("I64"))).isI64(i.value)?(e||(e=o("I64"))).to_string(i.value):i.value}},instanceKey:l}),r("QPLUserFlow").endSuccess(t,{instanceKey:l}),l}function u(e){return s(r("qpl")._(25302830,"1738"),e)}function c(e){return s(r("qpl")._(25299245,"1740"),e)}function d(e,t){return s(r("qpl")._(25308190,"1741"),e,t?"success":"failure")}l.logNuxRender=u,l.logNuxHidden=c,l.logNuxMutation=d}),98);
__d("MXGenAINuxTextContent.react",["MWXLink.react","MWXText.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n,o=e.formattedText,a=function(t,n,o,a){return s.jsx(r("MWXText.react"),{color:"blueLink",type:"body4",children:s.jsx(r("MWXLink.react"),{href:a,target:"_blank",children:t.substring(n,o)})},n)},i=(t=o==null?void 0:o.text)!=null?t:"",l=(n=o==null?void 0:o.ranges)!=null?n:[],u=0,c=[];l.forEach(function(e){var t=e.length,n=e.offset,r=e.url;if(!(n==null||t==null||r==null)){var o=i.substring(u,n);c.push(d(o)),c.push([a(i,n,n+t,r)]),u=n+t}});var m=i.substring(u);c.push(d(m));var p=c.flat();return s.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:p})}u.displayName=u.name+" [from "+i.id+"]";var c=0;function d(e){if(!e)return[];for(var t=e.split("\n"),n=[],r=0;r<t.length;r++)r>0&&(n[n.length]=s.jsx("br",{},"br-"+c++)),t[r]&&(n[n.length]=t[r]);return n}l.default=u}),98);
__d("MessengerWebGenAIConsentStatusStore",["MessengerWebGenAIConsentStatus"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.config={chatConsented:r("MessengerWebGenAIConsentStatus").chat_consented},e.instance=this}e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance};var t=e.prototype;return t.getChatConsented=function(){return this.config.chatConsented},t.setChatConsented=function(t){this.config={chatConsented:t}},e})(),s=e.getInstance(),u=s;l.default=u}),98);
__d("useMWGenAIWriteConsentMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10014175975368501"}),null);
__d("useMWGenAIWriteConsentMutation.graphql",["useMWGenAIWriteConsentMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"metadata"}],t=[{alias:null,args:[{kind:"Variable",name:"metadata",variableName:"metadata"},{kind:"Literal",name:"nux_type",value:"GEN_AI_CHATS"}],concreteType:"XFBMessengerGenAiNuxWriteConsentResponsePayload",kind:"LinkedField",name:"xfb_messenger_gen_ai_nux_write_consent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMWGenAIWriteConsentMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMWGenAIWriteConsentMutation",selections:t},params:{id:n("useMWGenAIWriteConsentMutation_facebookRelayOperation"),metadata:{},name:"useMWGenAIWriteConsentMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("useMWGenAIWriteConsentMutation",["CometRelay","CometRelayErrorHandling","FBLogger","MWGenAINuxQplLogger","MessengerWebGenAIConsentStatusStore","err","react","useMWGenAIWriteConsentMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback,c=e!==void 0?e:e=n("useMWGenAIWriteConsentMutation.graphql");function d(){var e=o("CometRelay").useMutation(c),t=e[0],n=e[1],a=u(function(e){var n=e.metadata,a=e.onError,i=e.onSuccess;if(!n.nux_scope)throw r("FBLogger")("messenger_web_genai").mustfixThrow("Nux scope cannot be null");var l=n.nux_scope;return t({onCompleted:function(t){var e;if((t==null||(e=t.xfb_messenger_gen_ai_nux_write_consent)==null?void 0:e.success)===!0)o("MWGenAINuxQplLogger").logNuxMutation(l,!0),r("FBLogger")("messenger_web_genai").info("GenAI consent mutation succeeded"),r("MessengerWebGenAIConsentStatusStore").setChatConsented(!0),i==null||i(t);else{var n=r("err")("Consent mutation failed");o("MWGenAINuxQplLogger").logNuxMutation("ROW",!1),r("FBLogger")("messenger_web_genai").warn("GenAI consent mutation failed"),a==null||a(n)}},onError:function(t){o("CometRelayErrorHandling").markErrorAsHandled(t),r("FBLogger")("messenger_web_genai").warn("GenAI consent mutation failed"),o("MWGenAINuxQplLogger").logNuxMutation("ROW",!1),a==null||a(t)},variables:{metadata:n}})},[t]);return[a,n]}l.default=d}),98);
__d("MWGenAINux.react",["FBLogger","MWGenAINuxQplLogger","MXGenAINuxTextContent.react","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","clearTimeout","react","setTimeout","useMWGenAIWriteConsentMutation"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState;function p(e){var t=e.hasUserSentMessage,n=e.source;if(r("MessengerWebGenAIConsentStatus").inline_disclosure_text==null)return r("FBLogger")("messenger_web_genai").mustfix("Failed to fetch inline disclosure text for GenAI NUX"),null;if(n==="trainingAdminMessage")return s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").training_message_text});switch(r("MessengerWebGenAIConsentStatus").nux_scope){case"ROW":return n==="footer"?s.jsx(f,{isVisible:!t}):null;case"EU":case"EU_V2":return n==="header"||n==="adminMessage"?s.jsx(_,{}):null;default:return}}p.displayName=p.name+" [from "+i.id+"]";function _(){return o("MWGenAINuxQplLogger").logNuxRender("EU"),s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").inline_disclosure_text})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.isVisible,n=m(t&&!r("MessengerWebGenAIConsentStatusStore").getChatConsented()),a=n[0],i=n[1],l=d(!0),u=r("useMWGenAIWriteConsentMutation")(),p=u[0];return c(function(){if(l.current){l.current=!1;return}if(!t){var e=r("setTimeout")(function(){i(!1),o("MWGenAINuxQplLogger").logNuxHidden("ROW")},100);return function(){return r("clearTimeout")(e)}}},[t]),c(function(){if(t&&a){var e=r("setTimeout")(function(){p({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:"ROW"}})},500);return function(){return r("clearTimeout")(e)}}},[t,a,p]),a?(o("MWGenAINuxQplLogger").logNuxRender("ROW"),s.jsx("div",babelHelpers.extends({},{0:{className:"xsag5q8 x1n2onr6 xh8yej3 x1eb86dx"},1:{className:"x1n2onr6 xh8yej3 x1eb86dx xnjgh8c xg01cxk x18d9i69 x1bbs9h xlshs6z"}}[!t<<0],{children:s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").inline_disclosure_text})}))):null}f.displayName=f.name+" [from "+i.id+"]",l.default=p}),98);
__d("LSUpdateHorizonWorldsUpdateSubscription",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("user_action_type",e[1]),r[0].set("world_id",e[2]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"horizontal_worlds_update_subscription_management",t.i64.cast([0,905]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxUpdateHorizonWorldsUpdateSubscriptionStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure",["LSSynchronousPromise","LSUpdateHorizonWorldsUpdateSubscription","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpdateHorizonWorldsUpdateSubscription"),a.threadKey,a.actionType,a.worldId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react",["HorizonWorldsUpdateSubscriptionManagementUserActionType","I64","LSFactory","LSIntEnum","LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var n=t.message,a=t.shouldSubscribe,l=(e||(e=r("useReStore")))(),c=(s||(s=o("I64"))).to_string(n.threadKey),p=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId)},[l,n.messageId,n.threadKey],i.id+":35"),_=m(function(){var e=p==null?void 0:p.targetId;if(e!=null){var t=a?(u||(u=o("LSIntEnum"))).ofNumber(r("HorizonWorldsUpdateSubscriptionManagementUserActionType").SUBSCRIBE):(u||(u=o("LSIntEnum"))).ofNumber(r("HorizonWorldsUpdateSubscriptionManagementUserActionType").UNSUBSCRIBE);r("promiseDone")(l.runInTransaction(function(n){return r("LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure")(r("LSFactory")(n),{actionType:t,threadKey:(s||(s=o("I64"))).of_string(c),worldId:e})},"readwrite",void 0,void 0,i.id+":57"))}},[l,c,a,p]),f=n.adminMsgCtaTitle!=null?d.jsx(r("MWXLink.react"),{onClick:function(){return _()},target:"_blank",children:n.adminMsgCtaTitle}):void 0;return d.jsx(r("MWAdminTextLayout.react"),{cta:f,message:n})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(o){return r[1]=new t.Map,r[1].set("game_id",e[1]),r[1].set("muted_user_id",e[0]),r[1].set("owner_id",r[0]),r[1].set("user_action_type",e[2]),r[2]=t.toJSON(r[1]),t.storedProcedure(n("LSIssueNewTask"),"instant_game_custom_update_mute_management",t.i64.cast([0,759]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxCustomUpdateMuteManagementStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCustomUpdateMuteManagement"),a.mutedUserId,a.gameId,a.userActionType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=t.message,a=t.shouldMute,l=(e||(e=r("useReStore")))(),u=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId)},[l,n.messageId,n.threadKey],i.id+":32"),m=d(function(){if((u==null?void 0:u.targetId)!=null){var e=u.targetId,t=a?(s||(s=o("LSIntEnum"))).ofNumber(0):(s||(s=o("LSIntEnum"))).ofNumber(1);r("promiseDone")(l.runInTransaction(function(o){return r("LSCustomUpdateMuteManagementStoredProcedure")(r("LSFactory")(o),{gameId:e,mutedUserId:n.threadKey,userActionType:t})},"readwrite",void 0,void 0,i.id+":55"))}},[l,n.threadKey,a,u]),p=n.adminMsgCtaTitle!=null?c.jsx(r("MWXLink.react"),{onClick:m,target:"_blank",children:n.adminMsgCtaTitle}):void 0;return c.jsx(r("MWAdminTextLayout.react"),{cta:p,message:n})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("user_action_type",e[1]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"game_messenger_updates_management_xmat",t.i64.cast([0,755]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxUpdateBotSubscriptionStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSSynchronousPromise","LSUpdateBotSubscription","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpdateBotSubscription"),a.threadKey,a.userActionType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var n=t.message,a=t.shouldSubscribe,l=(e||(e=r("useReStore")))(),c=(s||(s=o("I64"))).to_string(n.threadKey),p=m(function(){var e=a?(u||(u=o("LSIntEnum"))).ofNumber(0):(u||(u=o("LSIntEnum"))).ofNumber(1);r("promiseDone")(l.runInTransaction(function(t){return r("LSUpdateBotSubscriptionStoredProcedure")(r("LSFactory")(t),{threadKey:(s||(s=o("I64"))).of_string(c),userActionType:e})},"readwrite",void 0,void 0,i.id+":41"))},[l,c,a]),_=n.adminMsgCtaTitle!=null?d.jsx(r("MWXLink.react"),{onClick:function(){return p()},target:"_blank",children:n.adminMsgCtaTitle}):void 0;return d.jsx(r("MWAdminTextLayout.react"),{cta:_,message:n})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.message,o=t.adminMsgCtaTitle,a=o!=null&&n("cr:7125")!=null?s.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:s.jsx(n("cr:7125"),{threadKey:t.threadKey,title:o})}):null;return s.jsx(r("MWAdminTextLayout.react"),{cta:a,message:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWAdminMsgCtaLink.react",["MWXLink.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle","children"],s,u=s||(s=o("react"));function c(t){var n=t.xstyle,o=t.children,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return u.jsx(r("MWXLink.react"),babelHelpers.extends({style:{color:"var(--mwp-primary-theme-color)"},weight_DEPRECATED:"bold",xstyle_DEPRECATED:n},a,{children:o}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react",["fbt","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.message;return u.jsx(r("MWAdminTextLayout.react"),{cta:u.jsx(r("MWAdminMsgCtaLink.react"),{href:"https://www.facebook.com/legal/ai-terms",target:"_blank",children:s._(/*BTDS*/"Learn more.")}),message:t})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWEditThemeQplLogger",["QPLUserFlow","Random","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("justknobx")._("3876"),s=r("qpl")._(25308101,"2815");function u(e,t){var n=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(s,{annotations:{string:{entry_point:e,version:t}},instanceKey:n,timeoutInMs:r("justknobx")._("3877")}),n}function c(e,t){r("QPLUserFlow").addPoint(s,e,{instanceKey:t})}function d(e){r("QPLUserFlow").endSuccess(s,{instanceKey:e})}function m(e){r("QPLUserFlow").endCancel(s,{instanceKey:e})}function p(e,t){r("QPLUserFlow").endFailure(s,e,{instanceKey:t})}l.THEME_RENDER_THRESHOLD_SUCCESS_COUNT=e,l.QPL_EVENT=s,l.startEventAndReturnInstanceKey=u,l.addPoint=c,l.endEventSuccess=d,l.endEventCancel=m,l.endEventFailure=p}),98);
__d("useMWInboxOpenChangeThemeDialog",["JSResourceForInteraction","MWEditThemeQplLogger","MWPBumpEntityKey","promiseDone","react","useAsyncReStore","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPThreadTheme","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=r("useMWFalcoFeatureEventLogger")(e,t),a=r("useMWEntrypoint")(),i=r("useAsyncReStore")(),l=r("useMWPThreadTheme")(),u=l.setPreviewId,c=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWEditThemeDialog.react").__setRef("useMWInboxOpenChangeThemeDialog")),d=c[0];return s(function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","customise_section_change_theme"),n(a,"change_thread_theme"),r("promiseDone")(i,function(t){r("promiseDone")(t.tables.threads.get(e),function(e){if(e!=null){var t=o("MWEditThemeQplLogger").startEventAndReturnInstanceKey("MWInboxInfoEditTheme","v1");d({instanceKey:t,thread:e},function(){return u(function(){})})}})})},[i,a,n,u,d,e])}l.default=u}),98);
__d("MWV2AdminMsgChangeTheme.react",["FBLogger","I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","react","useMWInboxOpenChangeThemeDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n,a=t.message,l=(e||(e=r("useReStore")))(),u=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[l,a],i.id+":26"),d=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(a.threadKey)},[l,a],i.id+":36"))==null?void 0:n.threadType;if(d==null)throw r("FBLogger")("messenger_web").mustfixThrow("threadType should not be null when trying to open the change theme dialog at MWV2AdminMsgChangeTheme");var m=r("useMWInboxOpenChangeThemeDialog")(a.threadKey,d);if(u==null||d==null)return c.jsx(r("MWAdminTextLayout.react"),{message:a});if(u==null||d==null)return c.jsx(r("MWAdminTextLayout.react"),{message:a});var p=u==null?void 0:u.title,_=p!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:m,children:p}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:_,message:a})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("useAdminMessageCTATitleLS",["ReQL","ReQLSuspense"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(t.threadKey,t.messageId)},[e,t],i.id+":26");return n==null?void 0:n.title}l.default=e}),98);
__d("useMAWSeparateReadsSelector",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){return r?t:n}function l(e,t,n,r,o){return o===void 0&&(o=[]),r?t:n}i.useMAWSeparateReadsSelector=e,i.mawSeparateReadsMapSelector=l}),66);
__d("useAdminMessageCTATitleProvider",["qex","useAdminMessageCTATitleLS","useMAWSeparateReadsSelector"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a,i=n&&((a=r("qex")._("62"))!=null?a:!1),l=r("useAdminMessageCTATitleLS")(e,t),s=o("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("Title",t.adminMsgCtaTitle,i?void 0:l,i);return s}l.default=e}),98);
__d("MWV2AdminMsgChangeThreadLimitSharingPermission.react",["MWAdminTextLayout.react","MWXLink.react","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c="https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl";function d(t){var n=t.message,o=(e||(e=r("useReStore")))(),a=r("useIsSecureMessage")(o,n,{fallbackIsSecure:!0}),i=r("useAdminMessageCTATitleProvider")(o,n,a),l=u.jsx("div",{className:"xxq4lyh x1rg5ohu xk50ysn",children:u.jsx(r("MWXLink.react"),{href:c,children:i})});return u.jsx(r("MWAdminTextLayout.react"),{cta:l,message:n})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWV2AdminMsgDMLearnMore.react",["fbt","IGDDisappearingMessagesStrings","MWAdminTextLayout.react","MWXLink.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.message;return u.jsx(r("MWAdminTextLayout.react"),{cta:u.jsx(r("MWXLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about disappearing messages"),href:o("IGDDisappearingMessagesStrings").LEARN_MORE_LINK,target:"_blank",children:s._(/*BTDS*/"Learn More")}),message:t})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWFBLogger","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","XPolarisDirectInboxControllerRouteBuilder","react","react-strict-dom","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0}};function p(t){var n=t.message,a=(s||(s=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(n.threadKey).map(function(e){return(u||(u=o("I64"))).to_string(e.jid)})},[a,n.threadKey],i.id+":42"),c;l!=null?r("CurrentEnvironment").instagramdotcom?c=r("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:l}):c=o("MWInboxRouteBuilder").buildURL({thread_key:l}):(o("MWFBLogger").MWLogger().tags(["Cutover"]).WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""])),(u||(u=o("I64"))).to_string(n.threadKey)),c=o("MWInboxRouteBuilder").buildHomeURL());var p=r("useIsSecureMessage")(a,n,{fallbackIsSecure:!0}),_=r("useAdminMessageCTATitleProvider")(a,n,p),f=_!=null?d.jsx(o("react-strict-dom").html.div,{style:m.adminTextCta,children:d.jsx(r("MWXLink.react"),{href:c,target:"_self",children:_})}):null;return d.jsx(r("MWAdminTextLayout.react"),{cta:f,message:n})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx(r("MDSSvgIcon.react"),babelHelpers.extends({},e,{children:s.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"})}))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","XInstagramHelpDotComContentControllerRouteBuilder","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),m=s._(/*BTDS*/"Learn more");function p(t){var n,o=t.message,a=(e||(e=r("useReStore")))(),i=(n=r("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null||(n=n.setProtocol("https"))==null?void 0:n.toString(),l={},s=r("useMWXLazyDialog")(d),u=s[0],p=function(){return u(l)},_=r("useIsSecureMessage")(a,o,{fallbackIsSecure:!0}),f=r("useAdminMessageCTATitleProvider")(a,o,_),g=f!=null?r("CurrentEnvironment").instagramdotcom?c.jsx(r("MWXLink.react"),{href:i,target:"_blank",children:m}):c.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:c.jsx(r("MWXLink.react"),{onClick:p,target:"_blank",children:f})}):null;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"x1o583il x1rg5ohu xz03a8w x1n2onr6",children:c.jsx(r("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),c.jsx(r("MWAdminTextLayout.react"),{cta:g,message:o})]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("MWV2AdminMsgE2EEUKOSA.react",["MWAdminTextLayout.react","MWXLink.react","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c="https://www.messenger.com/help/1145318292241859/?helpref=uk_lm";function d(t){var n=t.message,o=(e||(e=r("useReStore")))(),a=r("useIsSecureMessage")(o,n,{fallbackIsSecure:!0}),i=r("useAdminMessageCTATitleProvider")(o,n,a),l=u.jsx("div",{className:"xxq4lyh x1rg5ohu xk50ysn",children:u.jsx(r("MWXLink.react"),{href:c,children:i})});return u.jsx(r("MWAdminTextLayout.react"),{cta:l,message:n})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c="https://www.facebook.com/help/147596532316790";function d(e){var t=e.message;return u.jsx(r("MWAdminTextLayout.react"),{cta:u.jsx(o("react-strict-dom").html.div,{children:u.jsx(r("MWXLink.react"),{color_DEPRECATED:"blueLink",href:c,target:"_blank",children:s._(/*BTDS*/"Learn More")})}),message:t})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWMarketingMessagesManageLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("MWMarketingMessagesManageDialog.react").__setRef("MWMarketingMessagesManageLazyDialogTrigger.react");function s(t){var n=t.pageId,o=t.renderer,a=t.threadKey,i={pageId:n,threadKey:a},l=r("useMWXLazyDialog")(e),s=l[0],u=function(){return s(i,r("emptyFunction"))};return o(u)}s.displayName=s.name+" [from "+i.id+"]",l.default=s}),98);
__d("MWMarketingMessagesManageAdminMsgCta.react",["CometTextWithEntities.react","MWMarketingMessagesManageLazyDialogTrigger.react","MWXPressable.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=e.pageId,n=e.threadKey,o=e.title,a=function(t){return s.jsx(r("MWXPressable.react"),{onPress:function(){return t()},children:s.jsx(r("CometTextWithEntities.react"),{text:o})})};return s.jsx(r("MWMarketingMessagesManageLazyDialogTrigger.react"),{pageId:t,renderer:a,threadKey:n})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWV2AdminMsgMarketingMessagesManage.react",["I64","MWAdminTextLayout.react","MWMarketingMessagesManageAdminMsgCta.react","ReQL","ReQLSuspense","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=t.message,a=(e||(e=r("useReStore")))(),l=r("useIsSecureMessage")(a,n,{fallbackIsSecure:!0}),u=r("useAdminMessageCTATitleProvider")(a,n,l),d=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId,(e=n.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[a,n],i.id+":41"),m=d==null?void 0:d.targetId,p=u!=null&&m!=null?c.jsx("div",{className:"x1y872pf x1rg5ohu x1s688f",children:c.jsx(r("MWMarketingMessagesManageAdminMsgCta.react"),{pageId:m,threadKey:n.threadKey,title:u})}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:p,message:n})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function c(e){var t=e.isOptOut,n=e.renderer,o=e.targetId,a=e.threadKey,i={isOptOut:t,targetId:o,threadKey:a},l=r("useMWXLazyDialog")(u),s=l[0],c=function(){return s(i,r("emptyFunction"))};return n(c)}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.isOptOut,n=e.targetId,o=e.threadKey,a=e.title,i=function(t){return s.jsx(r("MWXPressable.react"),{onPress:function(){return t()},children:s.jsx(r("CometTextWithEntities.react"),{text:a})})};return s.jsx(r("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:t,renderer:i,targetId:n,threadKey:o})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=t.isOptOut,a=t.message,l=(e||(e=r("useReStore")))(),u=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[l,a],i.id+":37"),d=a.adminMsgCtaTitle,m=u==null?void 0:u.targetId,p=d!=null&&u!=null&&m!=null?c.jsx("div",{className:"x1y872pf x1rg5ohu x1s688f",children:c.jsx(r("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:n,targetId:m,threadKey:a.threadKey,title:d})}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:p,message:a})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3008"),s=o("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",e),u=s;l.default=u}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function m(t){var n=t.message,a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId,(e=n.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[a,n],i.id+":31"),u=r("useMWXLazyDialog")(d),m=u[0],p=l==null?void 0:l.title,_=p!=null?c.jsx(r("MWXLink.react"),{onClick:function(){m({entryPoint:"ADMIN_TEXT",threadKey:n.threadKey},function(){}),r("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(s||(s=o("I64"))).to_string(n.threadKey)}})},children:p}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:_,message:n})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useCallback,m=r("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function p(e){var t=e.senderId,n=e.threadKey,a=e.title,i=r("useMWXLazyDialog")(m),l=i[0],s=d(function(){o("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(u||(u=o("I64"))).to_string(n)}),l({senderId:t,threadKey:n})},[l,t,n]);return c.jsx(r("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:s,role:"button",children:a})}p.displayName=p.name+" [from "+i.id+"]";function _(t){var n=t.message,a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId,(e=n.adminMsgCtaId)!=null?e:(u||(u=o("I64"))).neg_one)},[a,n],i.id+":63"),s=l==null?void 0:l.title,d=l==null?void 0:l.actionUrl,m=null;if(d!=null){var _=new URL(d);m=_.searchParams.get("removed_msg_sender_id")}var f=m!=null&&s!=null?c.jsx(p,{senderId:m,threadKey:n.threadKey,title:s}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:f,message:n})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function m(t){var n=t.message,a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId,(e=n.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[a,n],i.id+":32"),u=r("useMWXLazyDialog")(d),m=u[0],p=l==null?void 0:l.title,_=p!=null?c.jsx(r("MWXLink.react"),{onClick:function(){return m({entryPoint:"ADMIN_TEXT",threadKey:n.threadKey},function(){})},children:p}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:_,message:n})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function d(t){var n=t.message,a=(e||(e=r("useReStore")))(),l=r("useMWXLazyDialog")(c),s=l[0],d=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(n.threadKey)},[a,n.threadKey],i.id+":36"),m=r("MessengerWebUXLogger").useInteractionLogger(),p=function(){var e={eventName:"open_view_pinned_messages_dialog",threadKey:n.threadKey,threadType:d==null?void 0:d.threadType};return m==null||m(e),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta"),s({threadKey:n.threadKey},function(){})},_=r("useIsSecureMessage")(a,n,{fallbackIsSecure:d!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(d==null?void 0:d.threadType)}),f=r("useAdminMessageCTATitleProvider")(a,n,_),g=f!=null?u.jsx(r("MWAdminMsgCtaLink.react"),{onClick:p,children:f}):null;return u.jsx(r("MWAdminTextLayout.react"),{cta:g,message:n})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWV2AdminMsgSupportDialogCTA.react",["AdsMessengerContext.react","I64","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","ReQLSuspense","promiseDone","react","useJSON","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=t.message,a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId,(e=n.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[a,n],i.id+":29"),u=o("AdsMessengerContext.react").useAdsMessengerContext(),d=u.showAdsAISMAGModal,m=l==null?void 0:l.actionContentBlob,p=r("useJSON")(m!=null?m:"{}");if(d===void 0)return null;var _=l==null?void 0:l.title,f=_!=null?c.jsx(r("MWXText.react"),{color:"blueLink",type:"meta4",children:c.jsx(r("MWXLink.react"),{onClick:function(){return r("promiseDone")(d({overlay_view_type:p.overlay_view_type,use_case:p.use_case,use_case_params:p.use_case_params}))},children:_})}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:f,message:n})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MAWUpdateSecureThreadAttributionForContact",["I64","LSContactListConversionAttributionStore","LSThreadAttributionStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){c(e,t),u(e,t)}function u(t,n){var r=o("LSContactListConversionAttributionStore").getAttribution((e||(e=o("I64"))).to_string(t));r!=null&&o("LSContactListConversionAttributionStore").setAttribution((e||(e=o("I64"))).to_string(n),r)}function c(t,n){var r=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(e||(e=o("I64"))).to_string(t));r.value!=="unknown"&&(r.type==="LSThreadAttribution"?o("LSThreadAttributionStore").setLSMessagingThreadAttribution((e||(e=o("I64"))).to_string(n),e.to_string(r.value)):o("LSThreadAttributionStore").setSource((e||(e=o("I64"))).to_string(n),r.value))}l.maybeUpdateSecureThreadAttributionForContact=s,l.maybeUpdateLSContactListConversionAttributionStoreSecureThreadAttributionForContact=u,l.maybeUpdateLSThreadAttributionStoreSecureThreadAttributionForContact=c}),98);
__d("MWChatStateV2IsClosed",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.closeWatermark>Math.max(e.openWatermark,e.minimizeWatermark,e.clientForcedMinimizeWatermark)}i.isClosed=e}),66);
__d("MWChatStateV2IsOpen",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e===void 0&&(e=void 0),t.openWatermark>Math.max.apply(Math,[t.closeWatermark,t.minimizeWatermark,t.clientForcedMinimizeWatermark].concat(typeof e=="number"?e:[]))}i.isOpen=e}),66);
__d("MWChatStateV2IsMinimized",["MWChatStateV2IsClosed","MWChatStateV2IsOpen"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e!=null?o("MWChatStateV2IsOpen").isOpen(e,t)?!1:!o("MWChatStateV2IsClosed").isClosed(t):Math.max(t.minimizeWatermark,t.clientForcedMinimizeWatermark)>Math.max(t.openWatermark,t.closeWatermark)}l.isMinimized=e}),98);
__d("MWChatStateV2Types",[],(function(t,n,r,o,a,i){"use strict";var e="UpsertTab",l="UpdateState",s="UpdateTab",u="UpdateTabByThreadKey",c={UpdateState:l,UpdateTab:s,UpdateTabByThreadKey:u,UpsertTab:e},d="ChatTab",m="ComposeTab",p={ChatTab:d,ComposeTab:m},_=new Map,f={focusedTabId:void 0,mediaViewerOpenWatermark:-1,nextTabId:0,tabs:_};i.MWChatStateActionsType=c,i.MWChatStateTabType=p,i.emptyMWChatState=f}),66);
__d("MWChatStateActions",["MWChatStateV2.react","MWChatStateV2IsClosed","MWChatStateV2IsMinimized","MWChatStateV2Types"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return[{state:function(n){var t=n.tabs.get(e);return t!=null&&n.focusedTabId!==e?babelHelpers.extends({},n,{focusedTabId:e}):n},type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function s(e){return[{state:function(n){var t=o("MWChatStateV2.react").getTabIdFromThreadKey(n,e);if(t==null)return n;var r=n.tabs.get(t);return r!=null&&n.focusedTabId!==t?babelHelpers.extends({},n,{focusedTabId:t}):n},type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function u(){return[{state:function(t){var e=t.focusedTabId;return e!=null?babelHelpers.extends({},t,{focusedTabId:void 0}):t},type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function c(e,t){return[{tabConfig:{shouldFocus:!1},tabId:t,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(n){return e<=n.closeWatermark?n:{clientForcedMinimizeWatermark:n.clientForcedMinimizeWatermark,closeWatermark:e,minimizeWatermark:n.minimizeWatermark,openFlyoutWatermark:n.openFlyoutWatermark,openWatermark:n.openWatermark,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}}}]}function d(e,t){return[{tabConfig:{shouldFocus:!1},threadKey:t,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(n){return e<=n.closeWatermark?n:{clientForcedMinimizeWatermark:n.clientForcedMinimizeWatermark,closeWatermark:e,minimizeWatermark:n.minimizeWatermark,openFlyoutWatermark:n.openFlyoutWatermark,openWatermark:n.openWatermark,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}}}]}function m(e,t,n,r){var a=function(o){return e<=o.openWatermark?o:{clientForcedMinimizeWatermark:o.clientForcedMinimizeWatermark,closeWatermark:o.closeWatermark,minimizeWatermark:o.minimizeWatermark,openFlyoutWatermark:o.openFlyoutWatermark,openWatermark:e,tabId:o.tabId,tabRootEntryPointRef:r,tabType:n}};return[{inserter:a,tabConfig:t,tabType:n,type:o("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:a}]}function p(e,t){return[{tabConfig:{shouldFocus:!0},tabId:t,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(n){return e<=n.openWatermark?n:{clientForcedMinimizeWatermark:n.clientForcedMinimizeWatermark,closeWatermark:n.closeWatermark,minimizeWatermark:n.minimizeWatermark,openFlyoutWatermark:n.openFlyoutWatermark,openWatermark:e,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}}}]}function _(e,t){return[{tabConfig:{shouldFocus:!1},tabId:t,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(n){return e<=n.minimizeWatermark||o("MWChatStateV2IsClosed").isClosed(n)?n:{clientForcedMinimizeWatermark:n.clientForcedMinimizeWatermark,closeWatermark:n.closeWatermark,minimizeWatermark:e,openFlyoutWatermark:n.openFlyoutWatermark,openWatermark:n.openWatermark,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}}}]}function f(e,t){return[{tabConfig:{shouldFocus:!1},threadKey:t,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(n){return e<=n.minimizeWatermark||o("MWChatStateV2IsClosed").isClosed(n)?n:{clientForcedMinimizeWatermark:n.clientForcedMinimizeWatermark,closeWatermark:n.closeWatermark,minimizeWatermark:e,openFlyoutWatermark:n.openFlyoutWatermark,openWatermark:n.openWatermark,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}}}]}function g(e,t){return[{tabConfig:{shouldFocus:!1},tabId:t,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(n){return e<=n.clientForcedMinimizeWatermark?n:{clientForcedMinimizeWatermark:e,closeWatermark:n.closeWatermark,minimizeWatermark:n.minimizeWatermark,openFlyoutWatermark:n.openFlyoutWatermark,openWatermark:n.openWatermark,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}}}]}function h(e,t){return[{tabConfig:{shouldFocus:!1},threadKey:t,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(n){return e<=n.minimizeWatermark?n:{clientForcedMinimizeWatermark:n.clientForcedMinimizeWatermark,closeWatermark:n.closeWatermark,minimizeWatermark:e,openFlyoutWatermark:n.openFlyoutWatermark,openWatermark:n.openWatermark,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}}}]}function y(e,t){return[{tabConfig:{shouldClearOldHiddenTab:!1,shouldFocus:!0},tabId:e,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(n){return babelHelpers.extends({},n,{tabType:{threadKeyDescriptor:t,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab}})}}]}function C(e,t,n,r,a){return a===void 0&&(a={shouldClearOldHiddenTab:!1}),[{tabConfig:{shouldClearOldHiddenTab:a.shouldClearOldHiddenTab,shouldFocus:!1},tabId:e,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(a){var e=a.tabType;return e.type===o("MWChatStateV2Types").MWChatStateTabType.ComposeTab?a:babelHelpers.extends({},a,{tabType:{threadKeyDescriptor:{clientThreadKey:n,threadKey:t,threadType:r!=null?r:e.threadKeyDescriptor.threadType},type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab}})}}]}function b(e,t,n,r){var a=function(r){return o("MWChatStateV2IsClosed").isClosed(r)?{clientForcedMinimizeWatermark:r.clientForcedMinimizeWatermark,closeWatermark:r.closeWatermark,minimizeWatermark:r.minimizeWatermark,openFlyoutWatermark:r.openFlyoutWatermark,openWatermark:e,tabId:r.tabId,tabRootEntryPointRef:r.tabRootEntryPointRef,tabType:n}:o("MWChatStateV2IsMinimized").isMinimized(void 0,r)?{clientForcedMinimizeWatermark:r.clientForcedMinimizeWatermark,closeWatermark:r.closeWatermark,minimizeWatermark:r.minimizeWatermark,openFlyoutWatermark:e,openWatermark:r.openWatermark,tabId:r.tabId,tabRootEntryPointRef:r.tabRootEntryPointRef,tabType:n}:r},i=function(o){return e<=o.openWatermark?o:{clientForcedMinimizeWatermark:o.clientForcedMinimizeWatermark,closeWatermark:o.closeWatermark,minimizeWatermark:o.minimizeWatermark,openFlyoutWatermark:o.openFlyoutWatermark,openWatermark:e,tabId:o.tabId,tabRootEntryPointRef:r,tabType:n}};return[{inserter:i,tabConfig:t,tabType:n,type:o("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:a}]}function v(e,t){return[{tabConfig:{shouldFocus:!1},threadKey:t,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(n){return e===n.openFlyoutWatermark?{clientForcedMinimizeWatermark:n.clientForcedMinimizeWatermark,closeWatermark:n.closeWatermark,minimizeWatermark:n.minimizeWatermark,openFlyoutWatermark:0,openWatermark:n.openWatermark,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}:n}}]}function S(e){return[{state:function(n){return babelHelpers.extends({},n,{mediaViewerOpenWatermark:e})},type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}l.focusTab=e,l.focusTabByThreadKey=s,l.blurTab=u,l.closeTab=c,l.closeTabByThreadKey=d,l.openTab=m,l.maximizeTab=p,l.minimizeTab=_,l.minimizeTabByThreadKey=f,l.forceMinimizeTab=g,l.notificationBringHeadToTop=h,l.lockInTab=y,l.updateThreadKeyDescriptor=C,l.openTabOrFlyout=b,l.closeFlyout=v,l.updateMediaViewerOpenWatermark=S}),98);
__d("MWChatStateContext",["MWChatStateV2Types","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext,c=s.useContext,d=u(o("MWChatStateV2Types").emptyMWChatState),m=d.Provider;function p(e){var t=c(d);return e(t)}l.stateContext=d,l.ChatStateContextProvider=m,l.useChatState=p}),98);
__d("MWChatStateV2Logging",["MessengerWebEventsFalcoEvent","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=c(e);u(function(){var e=Array.from(t.current.tabs.values()),n=function(t){return t.openWatermark>Math.max(t.closeWatermark,t.minimizeWatermark,t.clientForcedMinimizeWatermark)},o=e.filter(n);o.length>0&&r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"load_tab_from_cookie",extra_data:{tabNumber:String(o.length)}}})},[t])}l.useCookieLiftLogging=d}),98);
__d("MWThreadListNewMessageState.react",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useReducer,p={Reset:0,ResetIfEmpty:1},_={SetIsActive:2},f={SetEntries:3},g=babelHelpers.extends({},p,_,f),h={entries:[],initialOpenChatSearchTypeahead:void 0,isActive:!1},y=c(h),C=c();function b(e,t){switch(t.type){case g.Reset:return h;case g.ResetIfEmpty:return e.entries.length===0?h:e;case g.SetIsActive:return babelHelpers.extends({},e,{isActive:t.isActive});case g.SetEntries:return babelHelpers.extends({},e,{entries:t.entries,initialOpenChatSearchTypeahead:t.initialOpenChatSearchTypeahead});default:return e}}function v(e){var t=e.children,n=e.defaultState,r=n===void 0?h:n,o=m(b,r),a=o[0],i=o[1],l=y.Provider,u=C.Provider;return s.jsx(l,{value:a,children:s.jsx(u,{value:i,children:t})})}v.displayName=v.name+" [from "+i.id+"]";function S(){var e=d(C);if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("Tried to get the dispatch function for MWThreadListNewMessageState but none was found. Missing provider (MWThreadListNewMessageState)");return e}function R(){var e=d(C);if(e!=null)return e}l.MWThreadListNewMessageStateActionType=g,l.context=y,l.MWThreadListNewMessageStateProvider=v,l.useDispatch=S,l.useDispatchIfStateExists=R}),98);
__d("MWV2CookieReader",["FBLogger","I64","LSIntEnum","MWChatStateV2Types","MWPActor.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={cbj:(e||(e=o("LSIntEnum"))).ofNumber(23),cbu:e.ofNumber(24),cg:e.ofNumber(18),cgu:e.ofNumber(19),cphj:e.ofNumber(21),cphu:e.ofNumber(22),dp:e.ofNumber(150),dp2:e.ofNumber(154),dp2u:e.ofNumber(155),dpb:e.ofNumber(152),dpbu:e.ofNumber(153),dpu:e.ofNumber(151),g:e.ofNumber(2),sc:e.ofNumber(15),sg:e.ofNumber(16)};function c(t){var n;if(t!=null){var r=t.split(".");if(r.length===2){var a=r[0],i=r[1];if(!(/^-?[1-9]\d*$/.test(i)===!1||a==null)){var l=(n=u[a])!=null?n:(e||(e=o("LSIntEnum"))).ofNumber(1);return[(s||(s=o("I64"))).of_string(i),l]}}}}function d(e){var t=e.map(function(e){var t=e[0];return(s||(s=o("I64"))).to_string(t)}),n=new Set(t);return n.size!==e.length?(r("FBLogger")("messenger_comet").mustfix("Duplicate thread in cookie (t3)"),e.filter(function(e,t,n){var r=e[0];return!n.slice(t+1).some(function(e){var t=e[0];return(s||(s=o("I64"))).equal(t,r)})})):e}var m=new Map;function p(e,t){var n;if(e==null||o("MWPActor.react").isAPPlus())return o("MWChatStateV2Types").emptyMWChatState;if(!m.has(e)||t!=null){var r=_(e,t);m.set(e,r)}return(n=m.get(e))!=null?n:o("MWChatStateV2Types").emptyMWChatState}function _(e,t){if(e==null||!e.startsWith("C"))return o("MWChatStateV2Types").emptyMWChatState;var n;try{n=JSON.parse(e.slice(1))}catch(e){r("FBLogger")("messenger_comet").mustfix("Error parsing JSON string"),n=null}if(n===null)return o("MWChatStateV2Types").emptyMWChatState;var a=[],i=new Set;n.t3.forEach(function(e){var t=e.i,n=c(t);if(n!=null){a.push(n),e.o===1&&i.add(n);return}});var l=d(a),u=new Map,m={contents:0},p=null;l.forEach(function(e){var n=e[0],r=e[1],a=i.has([n,r]);t!=null&&(p=t()),u.set(m.contents,{clientForcedMinimizeWatermark:0,closeWatermark:0,isPreloaded:!0,minimizeWatermark:a?0:1,openFlyoutWatermark:0,openWatermark:a?1:0,tabId:m.contents,tabRootEntryPointRef:p,tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:n,threadType:r},type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab}}),m.contents+=1});var _=n.lm3;if(_!=null){var f=c(_);if(f!=null){var g=f[0],h=f[1];l.some(function(e){var t=e[0];return(s||(s=o("I64"))).equal(t,g)})||(t!=null&&(p=t()),u.set(m.contents,{clientForcedMinimizeWatermark:0,closeWatermark:0,minimizeWatermark:0,openFlyoutWatermark:0,openWatermark:2,tabId:m.contents,tabRootEntryPointRef:p,tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:g,threadType:h},type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab}})),m.contents+=1}}return{focusedTabId:void 0,mediaViewerOpenWatermark:-1,nextTabId:m.contents,tabs:u}}l.read=p}),98);
__d("MAWSecureThreadQPContainerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24407836128822485"}),null);
__d("MAWSecureThreadQPContainerQuery$Parameters",["MAWSecureThreadQPContainerQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MAWSecureThreadQPContainerQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWChatTabInThreadBannerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24686790901001702"}),null);
__d("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){var e=r("gkx")("11635"),t=r("gkx")("14092");return e&&!t}};l.default=e}),98);
__d("MWChatTabInThreadBannerQuery$Parameters",["MWChatTabInThreadBannerQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWChatTabInThreadBannerQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:n("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}};a.exports=e}),null);
__d("MWV2ChatTabRoot.entrypoint",["JSResourceForInteraction","MAWSecureThreadQPContainerQuery$Parameters","MWChatTabInThreadBannerQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e={mawSecureThreadQPContainerQueryRef:{parameters:r("MAWSecureThreadQPContainerQuery$Parameters"),variables:{}},mwChatTabInThreadBannerQueryRef:{parameters:r("MWChatTabInThreadBannerQuery$Parameters"),variables:{}}};return{queries:e}},root:r("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("MWV2ChatTabRoot.entrypoint")},s=e;l.default=s}),98);
__d("loadChatTabEntryPoint",["ExecutionEnvironment","MWV2ChatTabRoot.entrypoint","RelayHooks","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=r("gkx")("16508");if(n!==!0||!(e||(e=r("ExecutionEnvironment"))).isInBrowser)return null;var a=o("RelayHooks").loadEntryPoint(t,r("MWV2ChatTabRoot.entrypoint"),{});return a}l.default=s}),98);
__d("MWChatStateV2.react",["CometErrorBoundary.react","CometRelayEnvironmentFactory","FBLogger","I64","MWChatInteraction","MWChatStateContext","MWChatStateV2IsClosed","MWChatStateV2IsOpen","MWChatStateV2Logging","MWChatStateV2Types","MWThreadListNewMessageState.react","MWV2CookieReader","MessengerWebPresenceCookieData","RecoverableViolationWithComponentStack.react","createCometRelayBaseEntryPointEnvironmentProvider","emptyObject","err","gkx","loadChatTabEntryPoint","react","useMWChatStateV2CrossTabSync"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useCallback,p=c.useContext,_=c.useReducer,f=c.useState;function g(e,t){var n;return(n=Array.from(e.tabs.values()).find(function(e){var n=e.tabType;return n.type===o("MWChatStateV2Types").MWChatStateTabType.ComposeTab?t.type===o("MWChatStateV2Types").MWChatStateTabType.ComposeTab:t.type===o("MWChatStateV2Types").MWChatStateTabType.ComposeTab?!1:(s||(s=o("I64"))).equal(n.threadKeyDescriptor.threadKey,t.threadKeyDescriptor.threadKey)}))==null?void 0:n.tabId}function h(e,t){var n=Array.from(e.tabs.values()).find(function(e){var n=e.tabType;return n.type===o("MWChatStateV2Types").MWChatStateTabType.ComposeTab?t==null:t!=null?(s||(s=o("I64"))).equal(n.threadKeyDescriptor.threadKey,t):!1});if(n!=null)return n.tabId}function y(e,t,n){if(n)return o("MWChatStateV2IsOpen").isOpen(void 0,t)?t.tabId:void 0;var r=e.focusedTabId;if(!(r!=null&&r===t.tabId&&!o("MWChatStateV2IsOpen").isOpen(void 0,t)))return e.focusedTabId}function C(e,t){return t.reduce(function(e,t){for(var n=t;;){var a=n;switch(a.type){case o("MWChatStateV2Types").MWChatStateActionsType.UpdateState:return a.state(e);case o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab:{var i,l=a.tabId;if(l==null)return e;var u=e.tabs.get(l);if(u==null)return e;var c=a.updater(u),d=y(e,c,((i=t.tabConfig)==null?void 0:i.shouldFocus)||!1);if(c===u)return e;var m=new Map(e.tabs);if(a.tabConfig.shouldClearOldHiddenTab===!0){var p=g(e,c.tabType);if(p!=null&&p!==l){var _=m.get(p);_!=null&&o("MWChatStateV2IsClosed").isClosed(_)&&m.delete(p)}}return I(d,e.mediaViewerOpenWatermark,e.nextTabId,new Map(m).set(l,c))}case o("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey:{var f=h(e,t.threadKey);if(f==null||t.tabConfig==null||t.updater==null)return e;n={tabConfig:t.tabConfig,tabId:f,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:t.updater};continue}case o("MWChatStateV2Types").MWChatStateActionsType.UpsertTab:{var C,b=t.inserter,v=t.tabConfig,S=t.tabType;if(S==null)throw r("err")("tabType for MWChatStateActionsType.UpsertTab should always exist");if(b==null)throw r("err")("inserter for MWChatStateActionsType.UpsertTab should always exist");var R=S.type===o("MWChatStateV2Types").MWChatStateTabType.ChatTab?o("MWChatInteraction").getInteractionTraceForThreadKey((s||(s=o("I64"))).to_string(S.threadKeyDescriptor.threadKey)):null;R==null||R.addMarkerPoint("MWChatStateUpdateOpenTab","AppTiming");var L=g(e,S);if(L!=null&&v!=null&&t.updater!=null){R==null||R.addAnnotationBoolean("is_new_tab",!1),n={tabConfig:v,tabId:L,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:t.updater};continue}var E={clientForcedMinimizeWatermark:0,closeWatermark:0,minimizeWatermark:0,openFlyoutWatermark:0,openWatermark:0,tabId:e.nextTabId,tabType:S},k=b(E),T=y(e,k,(C=v==null?void 0:v.shouldFocus)!=null?C:!1);return R==null||R.addAnnotationBoolean("is_new_tab",!0),I(T,e.mediaViewerOpenWatermark,e.nextTabId+1,new Map(e.tabs).set(k.tabId,k))}}}return e},e)}var b=r("gkx")("16508");function v(){var e=r("createCometRelayBaseEntryPointEnvironmentProvider")(o("CometRelayEnvironmentFactory").CometRelayEnvironmentFactory);return r("loadChatTabEntryPoint")(e)}function S(){return o("MWV2CookieReader").read(r("MessengerWebPresenceCookieData").cookie,b?v:void 0)}var R=d();function L(){var e=p(R);return e!=null?e:function(){r("FBLogger")("messenger_web").warn("Tried to open a chat tab on Comet under the new chat state system, MWChatStateV2. But no MWChatStateV2 was found in react context. Wrap your component in MWChatStateV2? You are likely also be part of Blue on Comet. If so do ping our oncall")}}function E(e){e!=null?r("FBLogger")("messenger_web").catching(e).warn("Error loading MWChatStateV2"):r("FBLogger")("messenger_web").warn("Error loading MWChatStateV2")}function k(e){var t=e.children,n=_(C,o("MWChatStateV2Types").emptyMWChatState,S),a=n[0],i=n[1],l=f(!1),s=l[0],c=l[1],d=m(function(e,t){return t===void 0&&(t=!0),t&&c(function(){return!0}),i(e)},[i,c]);o("MWChatStateV2Logging").useCookieLiftLogging(a),r("useMWChatStateV2CrossTabSync")(a,i,s,c);var g=p(R);return g!=null?u.jsx(r("RecoverableViolationWithComponentStack.react"),{errorMessage:"You can't nest MWChatStateV2 in another MWChatStateV2.",projectName:"messenger_comet"}):u.jsx(o("MWChatStateContext").ChatStateContextProvider,{value:a,children:u.jsx(R.Provider,{value:d,children:t})})}k.displayName=k.name+" [from "+i.id+"]";function I(e,t,n,o){return babelHelpers.extends({},e!=null?{focusedTabId:e}:r("emptyObject"),{mediaViewerOpenWatermark:t,nextTabId:n,tabs:o})}function T(e){var t=e.children,n=t;return u.jsx(r("CometErrorBoundary.react"),{onError:E,children:u.jsx(k,{children:u.jsx(o("MWThreadListNewMessageState.react").MWThreadListNewMessageStateProvider,{children:n})})})}T.displayName=T.name+" [from "+i.id+"]",Object.keys(o("MWChatStateContext")).forEach(function(e){e==="default"||e==="__esModule"||(l[e]=o("MWChatStateContext")[e])}),l.getTabIdFromThreadKey=h,l.reducer=C,l.useDispatch=L,l.MWChatStateV2Provider=T}),98);
__d("useMWChatStateV2CrossTabSync",["FBLogger","I64","MWChatStateActions","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","MWChatStateV2Types","MWPActor.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useMemo;function m(e,t){e==null||e.postMessage(t)}function p(e,t,n){if(e==null)return function(){};var r=function(r){return t(n(r.data))};return e.addEventListener("message",r),function(){e.removeEventListener("message",r)}}function _(e){return d(function(){return self.BroadcastChannel?new self.BroadcastChannel(e):null},[e])}function f(e){var t=Array.from(e.tabs.values()),n=[];return t.forEach(function(e){var t=e.tabType;if(t.type!==o("MWChatStateV2Types").MWChatStateTabType.ComposeTab){var r=t.threadKeyDescriptor,a=r.threadKey,i=r.threadType;n.push({closeWatermark:e.closeWatermark,openWatermark:e.openWatermark,threadKey:(s||(s=o("I64"))).to_string(a),threadType:s.to_string(i)})}}),n}function g(e,t,n){return[{inserter:function(t){return{clientForcedMinimizeWatermark:t.clientForcedMinimizeWatermark,closeWatermark:t.closeWatermark,minimizeWatermark:n,openFlyoutWatermark:t.openFlyoutWatermark,openWatermark:t.openWatermark,tabId:t.tabId,tabRootEntryPointRef:t.tabRootEntryPointRef,tabType:t.tabType}},tabConfig:{shouldFocus:!1},tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:e,threadType:t},type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab},type:o("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:function(t){return o("MWChatStateV2IsOpen").isOpen(void 0,t)?t:{clientForcedMinimizeWatermark:t.clientForcedMinimizeWatermark,closeWatermark:t.closeWatermark,minimizeWatermark:n,openFlyoutWatermark:t.openFlyoutWatermark,openWatermark:t.openWatermark,tabId:t.tabId,tabRootEntryPointRef:t.tabRootEntryPointRef,tabType:t.tabType}}}]}function h(e,t){return[{tabConfig:{shouldFocus:!1},threadKey:e,type:o("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(n){return o("MWChatStateV2IsMinimized").isMinimized(void 0,n)?{clientForcedMinimizeWatermark:n.clientForcedMinimizeWatermark,closeWatermark:t,minimizeWatermark:n.minimizeWatermark,openFlyoutWatermark:n.openFlyoutWatermark,openWatermark:n.openWatermark,tabId:n.tabId,tabRootEntryPointRef:n.tabRootEntryPointRef,tabType:n.tabType}:n}}]}function y(e,t,n,a){var i=o("MWPActor.react").useActor(),l="MWChatStateV2_"+(s||(s=o("I64"))).to_string(i),u=_(l),d="MWChatStateV2_action_"+s.to_string(i),y=_(d);c(function(){if(n){a(function(){return!1});var t=f(e);m(u,t)}},[e,u,n,a]),c(function(){return p(u,function(e){try{e.forEach(function(e){var n=(s||(s=o("I64"))).of_string(e.threadKey),r=s.of_string(e.threadType),a=e.closeWatermark,i=e.openWatermark;return i>a?t(g(n,r,i)):t(h(n,a))});return}catch(e){r("FBLogger")("messenger_comet").mustfix("Cross-tab sync error")}},function(e){return Array.isArray(e)?e.map(function(e){if(e==null||typeof e!="object")return{closeWatermark:0,openWatermark:0,threadKey:"",threadType:""};var t=e;return{closeWatermark:typeof t.closeWatermark=="number"?t.closeWatermark:0,openWatermark:typeof t.openWatermark=="number"?t.openWatermark:0,threadKey:typeof t.threadKey=="string"?t.threadKey:"",threadType:typeof t.threadType=="string"?t.threadType:""}}):[]})},[u,t]),c(function(){return p(y,function(e){switch(e.type){case"close":return t(o("MWChatStateActions").closeTabByThreadKey(Date.now(),(s||(s=o("I64"))).of_string(e.threadKey)));default:return}},function(e){if(e==null||typeof e!="object")return{threadKey:"",type:"close"};var t=e,n=typeof t.threadKey=="string"?t.threadKey:"",r="close";return{threadKey:n,type:r}})},[y,t])}l.default=y}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0),s=e;l.default=s}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e={buildURL:function(t){return r("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(t)},buildURLWithoutThread:function(t){return r("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",t)}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0),s=e;l.default=s}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}},s=e.buildURL,u=e.buildURLWithoutThread;l.buildURL=s,l.buildURLWithoutThread=u}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(t){return r("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",t)}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(t){return r("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",t)}},s=e.buildE2EEThreadURL,u=e.buildURL,c=e.buildURLWithoutThread;l.buildE2EEThreadURL=s,l.buildURL=u,l.buildURLWithoutThread=c}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0),s=e;l.default=s}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=r("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{focus_target:e,thread_key:n})},buildURL:function(t){var e=t.focus_target,n=t.thread_key;return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:e,thread_key:n})},buildURLWithoutThread:function(){return r("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}},s=e.buildE2EEThreadURL,u=e.buildURL,c=e.buildURLWithoutThread;l.buildE2EEThreadURL=s,l.buildURL=u,l.buildURLWithoutThread=c}),98);
__d("MWInboxTrayGating",["CurrentMessengerUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===void 0&&(e=!0),d()||e,!1}function s(){return!1}function u(){return 30}function c(){return!1}function d(){return o("CurrentMessengerUser").getPageMessagingMailboxId()!=="0"}l.isInboxTrayEnabled=e,l.isInboxTrayLiveQueryEnabled=s,l.getNumberOfContactsToFetch=u,l.isInboxTrayNotesEnabled=c}),98);
__d("MWNavigationContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.createContext,c=u();function d(e){var t=e.children,n=e.value,r=c.Provider;return s.jsx(r,{value:n,children:t})}d.displayName=d.name+" [from "+i.id+"]";var m=d;l.context=c,l.Provider=m}),98);
__d("XCometGroupDiscussionControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/groups/{idorvanity}/{?view}/{?post_id}/",Object.freeze({modal:!1,should_open_composer:!1,hoisted_section_header_type:"notifications",show_migration_preparation_dialog:!1,show_migration_onboarding_dialog:!1,show_review_some_onboarding:!1,show_share_event_to_group_composer:!1,show_admin_inactivity_dialog:!1,show_lightweight_onboarding_dialog:!1,should_open_welcome_member_composer:!1,community_chats_aa_upsell:!1,iv:!1}),void 0),s=e;l.default=s}),98);
__d("dispatchOpenChatTabTraceLogging",["FBLogger","I64","LSIntEnum","MWChatInteraction","isOfflineThreadingId"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,r){return((e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(15))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(16)))&&r!=null&&(e||(e=o("I64"))).equal(t,r)}function c(t,n,a){if(t!=null){var i=(e||(e=o("I64"))).to_string(n.threadKey);t.addMarkerPoint("dispatch_open_chat_tab","AppTiming"),t.addAnnotation("dispatch_entrypoint",a),t.addAnnotation("thread_key_descriptor",i),r("isOfflineThreadingId")((e||(e=o("I64"))).of_string(i))&&!u(n.threadKey,n.threadType,n.clientThreadKey)&&t.addAnnotationBoolean("is_thread_key_descriptor_authoritative_otid",r("isOfflineThreadingId")((e||(e=o("I64"))).of_string(i))),o("MWChatInteraction").getInteractionTraceForThreadKey(i)==null&&(t.addAnnotationBoolean("is_trace_mapping_missing",!0),r("FBLogger")("messenger_cto_trace").warn("Trace mapping is missing"))}}l.default=c}),98);
__d("getGroupThreadViewParams",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=t==null?void 0:t.main.route.params,r=(e==null?void 0:e.entity_type)==="group"&&(e==null?void 0:e.section)==="CHATS";if(!r)return null;var o=n==null?void 0:n.thread_id,a=n==null?void 0:n.idorvanity;return o==null||a==null?null:typeof o=="string"&&typeof a=="string"?{groupId:a,threadKey:o}:null}i.default=e}),66);
__d("logNoRoutingNavigation",["CometMetricsNavigationFalcoEvent","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a,i){if(!(i==null||i==="")){var l=r("uuidv4")();r("CometMetricsNavigationFalcoEvent").logImmediately(function(){return{dest_module:e,event_trace_id:l,extra_fields:t,href:n,tn:o.join(""),ts:a.toString(),xt:i}})}}l.default=e}),98);
__d("useCometFeedNoRoutingNavigationEventsLoggerImpl",["JSScheduler","logNoRoutingNavigation","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(e,t,n){var a=u(function(o,a,i){r("logNoRoutingNavigation")(i,n,a,e,o,t)},[e,t,n]);return u(function(e,t,n){(s||(s=o("JSScheduler"))).scheduleLoggingPriCallback(function(){return a(e,t,n)})},[a])}l.default=c}),98);
__d("useCometFeedNoRoutingNavigationEventLogger",["CometFeedLoggingExtraFieldsContext","CometTrackingCodeContext","CometTrackingNodesContext","react","useCometFeedNoRoutingNavigationEventsLoggerImpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(e){var t=s(r("CometTrackingNodesContext")),n=s(r("CometTrackingCodeContext")),o=n.encrypted_tracking[0],a=s(r("CometFeedLoggingExtraFieldsContext"));return r("useCometFeedNoRoutingNavigationEventsLoggerImpl")(e!=null?e:t,o,a)}l.default=u}),98);
__d("LSIssueCommunityThreadBlockedContactsFetch",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"get_blocked_contacts_in_community_thread",t.i64.cast([0,499]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssueCommunityThreadBlockedContactsFetchStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSIssueCommunityThreadBlockedContactsFetchStoredProcedure",["LSIssueCommunityThreadBlockedContactsFetch","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueCommunityThreadBlockedContactsFetch"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MWGetBlockedUsersInThreadQuery",["I64","LSContactBlockedByViewerStatus","LSIntEnum","MWCMThreadTypes.react","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i){var l,u=o("MWCMThreadTypes.react").isBroadcastThread(a),c=(l=o("ReQL")).union(l.mergeJoin(l.fromTableAscending(t.tables.participants).getKeyRange(n),l.fromTableAscending(t.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((e||(e=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED))),o("ReQL").mergeJoin(o("ReQL").fromTableAscending(t.tables.participants).getKeyRange(n),o("ReQL").fromTableAscending(t.tables.contacts.index("blockedByViewerStatusId")).getKeyRange(e.ofNumber(r("LSContactBlockedByViewerStatus").FULLY_BLOCKED)))).filter(function(e){var t=e[0],n=e[1];return i!=null&&!(s||(s=o("I64"))).equal(n.id,i)?!u||t.isAdmin===!0?!0:t.isModerator===!0:!1});return c}l.MWGetBlockedUsersInThreadQuery=u}),98);
__d("getWarningCardStorageKey",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"__BlockOrRestrictUserInterstitial."+e+"__"}i.default=e}),66);
__d("useBlockedUserInterstitial",["FBLogger","JSResourceForInteraction","LSFactory","LSIssueCommunityThreadBlockedContactsFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWGetBlockedUsersInThreadQuery","ReQL","WebStorage","asyncToGeneratorRuntime","getWarningCardStorageKey","mwCMIsAnyCMThread","promiseDone","react","useAsyncReStore","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useEffect,m=u.useRef;function p(e,t,n){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){r("mwCMIsAnyCMThread")(n)&&(yield r("LSPlatformWaitForTaskCompletion")(e,function(e){return r("LSIssueCommunityThreadBlockedContactsFetchStoredProcedure")(r("LSFactory")(e),{threadKey:t})},"blocked_contacts_fetch"));var a=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables._user_info).map(function(e){return e.facebookUserId})),i=o("MWGetBlockedUsersInThreadQuery").MWGetBlockedUsersInThreadQuery(e,t,n,a).map(function(e){var t=e[0],n=e[1];return n});return i}),_.apply(this,arguments)}function f(t,n,a){var i=o("LSMessagingThreadTypeUtil").isGroup(a),l=(e||(e=r("WebStorage"))).getLocalStorage(),s=r("getWarningCardStorageKey")(n),u=l!=null?l.getItem(s):void 0,c=u!=null?u==="true":!1,d=!c&&t!=null&&t.length>0&&i;return d}function g(){var t=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWChatBlockWarningCardDialog.react").__setRef("useBlockedUserInterstitial")),a=t[0],i=r("useAsyncReStore")(),l=m(function(){});return d(function(){return function(){l.current()}},[]),c(function(t){var s=t.onOptIn,u=t.onProceed,c=t.onShow,d=t.shouldSubscribe,m=d===void 0?!1:d,_=t.thread,g=t.threadKey;r("promiseDone")(i,(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){if(_==null)return u();var n=yield p(t,g,_.threadType),i=function(n){if(n==null)return u();var t=(e||(e=r("WebStorage"))).getLocalStorage(),o=r("getWarningCardStorageKey")(g),i=f(n,g,_.threadType);if(!i)return u();var d=function(){var n=t!=null?(e||(e=r("WebStorage"))).setItemGuarded(t,o,"true"):void 0;return n!=null&&r("FBLogger")("mwb_prevention_care").mustfix("Unable to set item at path for BlockedUserInterstitial"),s&&s(),u()};return m&&l.current(),c&&c(),a({blockees:n||[],onOptIn:d,thread:_},function(){})};m&&(l.current=n.subscribe(function(e,t){t.operation!=="delete"&&i([t.value])})),r("promiseDone")(o("ReQL").toArrayAsync(n),i)});return function(e){return t.apply(this,arguments)}})())},[i,a])}l.getBlockedUserQuery=p,l.shouldShowBlockedUserInterstitial=f,l.useBlockedUserInterstitial=g}),98);
__d("getGroupBlockQuery",["ReQL"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.tables.thread_limits).getKeyRange(t),o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t)).map(function(e){var t=e[0],n=e[1];return{thread:n,threadLimit:t}});return n}l.default=e}),98);
__d("shouldApplyCSAMBlock",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){if(t==null)return!1;switch((e||(e=o("I64"))).to_int32(t.enforcements)){case 1:case 8192:case 4096:case 512:case 256:case 2048:case 1024:return!0}return!1}l.default=s}),98);
__d("useMaybeShowCSAMBlockAsync",["JSResourceForInteraction","ReQL","getGroupBlockQuery","promiseDone","react","shouldApplyCSAMBlock","useAsyncReStore","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef;function m(){var e=r("useAsyncReStore")(),t=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWChatCSAMBlockDialog.react").__setRef("useMaybeShowCSAMBlockAsync")),n=t[0],a=d(function(){});return c(function(){return function(){a.current()}},[]),u(function(t){var i=t.onProceed,l=t.onShow,s=t.shouldSubscribe,u=s===void 0?!1:s,c=t.threadKey;r("promiseDone")(e,function(e){var t=r("getGroupBlockQuery")(e,c),s=function(t){var e=t||{},o=e.thread,s=e.threadLimit;if(o==null||s==null)return i&&i();var c=r("shouldApplyCSAMBlock")(s);return c?(u&&a.current(),l&&l(),n({thread:o,threadLimit:s})):i&&i()};u&&(a.current=t.subscribe(function(e,t){t.operation!=="delete"&&s(t.value)})),r("promiseDone")(o("ReQL").firstAsync(t),s)})},[e,n])}l.default=m}),98);
__d("shouldApplyDOIBlock",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){if(t==null)return!1;switch((e||(e=o("I64"))).to_int32(t.enforcements)){case 524288:case 262144:case 32768:case 16384:case 131072:case 65536:return!0}return!1}l.default=s}),98);
__d("useMaybeShowDOIBlockAsync",["JSResourceForInteraction","ReQL","getGroupBlockQuery","promiseDone","react","shouldApplyDOIBlock","useAsyncReStore","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef;function m(){var e=r("useAsyncReStore")(),t=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWChatDOIBlockDialog.react").__setRef("useMaybeShowDOIBlockAsync")),n=t[0],a=d(function(){});return c(function(){return function(){a.current()}},[]),u(function(t){var i=t.onProceed,l=t.onShow,s=t.shouldSubscribe,u=s===void 0?!1:s,c=t.threadKey;r("promiseDone")(e,function(e){var t=r("getGroupBlockQuery")(e,c),s=function(t){var e=t||{},o=e.thread,s=e.threadLimit;if(o==null||s==null)return i&&i();var c=r("shouldApplyDOIBlock")(s);return c?(u&&a.current(),l&&l(),n({thread:o,threadLimit:s})):i&&i()};u&&(a.current=t.subscribe(function(e,t){t.operation!=="delete"&&s(t.value)})),r("promiseDone")(o("ReQL").firstAsync(t),s)})},[e,n])}l.default=m}),98);
__d("LSOptimisticPseudoUnblock",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(7).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,0]):(n=a.item,r[0]=n.capabilities)})},function(n){return t.db.table(7).fetch([[[e[0]]]]).next().then(function(n,r){var o=n.done,a=n.value;return o?0:(r=a.item,t.forEach(t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}),function(e){var n=e.update,o=e.item;return n({capabilities:t.i64.and_(r.capabilities==null?t.i64.cast([0,0]):r.capabilities,t.i64.cast([-1,4227858431]))})}))})},function(o){return r[2]=new t.Map,r[2].set("blockee_id",e[0]),r[2].set("request_id",e[1]),r[2].set("capabilities",r[0]==null?t.i64.cast([0,0]):r[0]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"pseudo_unblock",t.i64.cast([0,194]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSContactOptimisticPseudoUnblockStoredProcedure",e.__tables__=["contacts"],a.exports=e}),null);
__d("LSOptimisticPseudoUnblockStoredProcedure",["LSOptimisticPseudoUnblock","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticPseudoUnblock"),a.blockeeId,a.requestId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("usePseudoBlockedUserInterstitial",["I64","JSResourceForInteraction","LSContactBitOffset","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticPseudoUnblockStoredProcedure","ReQL","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useEffect,m=u.useRef;function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r=yield(n=o("ReQL")).firstAsync(n.fromTableAscending(e.tables._user_info).map(function(e){return e.facebookUserId})),a=n.mergeJoin(n.fromTableAscending(e.tables.participants,[]).getKeyRange(t),n.fromTableAscending(e.tables.contacts)).filter(function(e){var t=e[0],n=e[1];return r!=null?!(s||(s=o("I64"))).equal(n.id,r):!0}).filter(function(e){var t,n=e[0],r=e[1];return(t=o("LSContactBitOffset").has(26,r))!=null?t:!1}).map(function(e){var t=e[0],n=e[1];return n});return a}),_.apply(this,arguments)}function f(e,t){var n=o("LSMessagingThreadTypeUtil").isOneToOne(t),r=e!=null&&n;return r}function g(){var e=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWChatPseudoBlockWarningCardDialog.react").__setRef("usePseudoBlockedUserInterstitial")),t=e[0],a=r("useAsyncReStore")(),l=m(function(){});return d(function(){return function(){l.current()}},[]),c(function(e){var s=e.damagingActionsEntryPoint,u=e.onOptIn,c=e.onProceed,d=e.onShow,m=e.shouldSubscribe,_=m===void 0?!1:m,g=e.thread,h=e.threadKey;r("promiseDone")(a,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=yield p(e,h),a=function(o){if(g==null||o==null)return c();var n=f(o,g.threadType);if(!n)return c();var a=function(n){r("promiseDone")(e.runInTransaction(function(e){return r("LSOptimisticPseudoUnblockStoredProcedure")(r("LSFactory")(e),{blockeeId:o.id,requestId:n})},"readwrite",void 0,void 0,i.id+":118"),function(){c(),u&&u()},function(){c(),u&&u()})};return _&&l.current(),d&&d(),t({contact:o,entryPoint:s,onOptIn:a,thread:g},function(){})};_&&(l.current=n.subscribe(function(e,t){t.operation!=="delete"&&a(t.value)})),r("promiseDone")(o("ReQL").firstAsync(n),a)});return function(t){return e.apply(this,arguments)}})())},[a,t])}l.getPseudoBlockedQuery=p,l.shouldShowPseudoBlockedInterstitial=f,l.usePseudoBlockedUserInterstitial=g}),98);
__d("useRestrictedUserInterstitial",["FBLogger","I64","JSResourceForInteraction","LSContactBitOffset","LSMessagingThreadTypeUtil","ReQL","WebStorage","asyncToGeneratorRuntime","getWarningCardStorageKey","promiseDone","react","useAsyncReStore","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=c.useCallback,m=c.useEffect,p=c.useRef;function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r=yield(n=o("ReQL")).firstAsync(n.fromTableAscending(e.tables._user_info).map(function(e){return e.facebookUserId})),a=n.mergeJoin(n.fromTableAscending(e.tables.participants,[]).getKeyRange(t),n.fromTableAscending(e.tables.contacts)).filter(function(e){var t=e[0],n=e[1];return r!=null?!(u||(u=o("I64"))).equal(n.id,r):!0}).filter(function(e){var t,n=e[0],r=e[1];return(t=o("LSContactBitOffset").has(66,r))!=null?t:!1}).map(function(e){var t=e[0],n=e[1];return n});return a}),f.apply(this,arguments)}function g(t,n,a){var i=(e||(e=r("WebStorage"))).getLocalStorage(),l=r("getWarningCardStorageKey")(n),s=i!=null?i.getItem(l):void 0,u=s!=null?s==="true":!1,c=o("LSMessagingThreadTypeUtil").isGroup(a),d=!u&&t.length>0&&c;return d}function h(){var t=r("useAsyncReStore")(),a=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWChatRestrictedUserInterstitialDialog.react").__setRef("useRestrictedUserInterstitial")),i=a[0],l=p(function(){});return m(function(){return function(){l.current()}},[]),d(function(a){var s=a.onOptIn,u=a.onProceed,c=a.onShow,d=a.shouldSubscribe,m=d===void 0?!1:d,p=a.thread,f=a.threadKey;r("promiseDone")(t,(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield _(t,f),a=function(n){if(p==null||n==null)return u();var t=(e||(e=r("WebStorage"))).getLocalStorage(),o=r("getWarningCardStorageKey")(f),a=g(n,f,p.threadType);if(!a)return u();var d=function(){var n=t!=null?(e||(e=r("WebStorage"))).setItemGuarded(t,o,"true"):void 0;return n!=null&&r("FBLogger")("mwb_prevention_care").mustfix("Unable to set item at path for RestrictedUserInterstitial"),s&&s(),u()};return m&&l.current(),c&&c(),i({onOptIn:d,restrictedUsers:n,thread:p},function(){})};m&&(l.current=n.subscribe(function(e,t){t.operation!=="delete"&&a([t.value])})),r("promiseDone")(o("ReQL").toArrayAsync(n),a)});return function(e){return t.apply(this,arguments)}})())},[t,i])}l.getRestrictedUserQuery=_,l.shouldShowRestrictednterstitial=g,l.useRestrictedUserInterstitial=h}),98);
__d("useIntegrityBlockInterstitial",["ReQL","promiseDone","react","useAsyncReStore","useBlockedUserInterstitial","useMaybeShowCSAMBlockAsync","useMaybeShowDOIBlockAsync","usePseudoBlockedUserInterstitial","useRestrictedUserInterstitial"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("usePseudoBlockedUserInterstitial").usePseudoBlockedUserInterstitial(),t=o("useBlockedUserInterstitial").useBlockedUserInterstitial(),n=o("useRestrictedUserInterstitial").useRestrictedUserInterstitial(),a=r("useMaybeShowCSAMBlockAsync")(),i=r("useMaybeShowDOIBlockAsync")(),l=r("useAsyncReStore")();return s(function(s){var u=s.damagingActionsEntryPoint,c=s.onProceed,d=s.onShow,m=s.threadKey;r("promiseDone")(l,function(l){return r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(m)),function(r){return a({onProceed:function(){return i({onProceed:function(){return e({damagingActionsEntryPoint:u,onProceed:function(){return t({onProceed:function(){return n({onProceed:c,onShow:d,thread:r,threadKey:m})},onShow:d,thread:r,threadKey:m})},onShow:d,thread:r,threadKey:m})},onShow:d,threadKey:m})},onShow:d,threadKey:m})})})},[l,t,a,i,e,n])}l.default=u}),98);
__d("shouldShowMessagingEntrypoint",["gkx","isMWAppsSubdomainExperiment"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,o,a=t.currentRoute,i=t.shouldRenderFullTopNav;if(!i||a==null||!r("gkx")("22788")||r("isMWAppsSubdomainExperiment")(!1))return!1;var l=a.entityKeyConfig,s=e==="JEWEL"&&(l==null||(n=l.entity_type)==null?void 0:n.value)==="group"&&((o=l.section)==null?void 0:o.value)==="CHATS";return s||e==="JEWEL"&&a.showMessengerJewel===!0||e==="CHAT_TABS_ROOT"&&a.tracePolicy==="comet.sharedmediaviewer.media"?!0:!a.hideChat}l.default=e}),98);
__d("useShouldRenderFullTopNav",["CometRouterRouteTopNavTypeContext","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext,u=r("gkx")("22790");function c(){var e=s(r("CometRouterRouteTopNavTypeContext"));return(e==="default"||e==="hidden_for_comet_on_mobile")&&u}l.default=c}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","react","shouldShowMessagingEntrypoint","useShouldRenderFullTopNav"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext;function d(e){var t=r("useShouldRenderFullTopNav")(),n=c(r("CometPassiveGetRouterStateContext"));return u(function(){var o=n==null?void 0:n(),a=o==null?void 0:o.main,i=o==null?void 0:o.pushViewStack,l=i&&i.length>0?i[i.length-1]:a;return r("shouldShowMessagingEntrypoint")(e,{currentRoute:l==null?void 0:l.route,shouldRenderFullTopNav:t})},[e,n,t])}l.default=d}),98);
__d("MWPIsUserContact",["I64","LSContactViewerRelationship","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return t==null?!1:(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").FACEBOOK_FRIEND))||(e||(e=o("I64"))).equal(t.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").SOFT_CONTACT))}l.isUserContact=u}),98);
__d("MWChatSearchTypeaheadDataEntry",["I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSRestrictionType","MWChatSearchResultType","MWPIsUserContact","MWSearchStandardResultTypeMappings"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n;return{key:(e||(e=o("I64"))).to_string(t.id),label:t.name,rawData:{displayName:t.name,id:e.to_string(t.id),imageUrl:t.profilePictureUrl,isAiBot:e.equal(t.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:o("MWPIsUserContact").isUserContact(t),isDisappearingModeSettingOn:!1,isE2EE:!0,isEPD:e.equal(t.restrictionType,s.ofNumber(r("LSRestrictionType").DATA_PRIVACY)),isInstamadilloCutover:o("LSContactBitOffset").has(95,t),isRestrictedByViewer:o("LSContactBitOffset").has(66,t),isTTLCClipEnabled:o("LSContactBitOffset").has(96,t),isTTLCGenericXMAShareEnabled:o("LSContactBitOffset").has(97,t),isTTLCMediaShareEnabled:o("LSContactBitOffset").has(98,t),isTTLCStoryShareEnabled:o("LSContactBitOffset").has(99,t),isViewerUnconnected:o("LSContactBitOffset").hasWithDefault(64,t,!0),reachabilityStatus:t.contactReachabilityStatusType,resultType:r("MWChatSearchResultType").USER,searchResultType:o("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(t),secondaryImageUrl:(n=t.profilePictureFallbackUrl)!=null?n:t.profilePictureUrl,subtext:"",subtextAdditional:"",threadType:s.ofNumber(1)},type:"entry"}}l.convertContactToSearchTypeaheadDataEntry=u}),98);
__d("useMWNewChatOpenTabTraceProvider",["CometHeroLogging","qpl","react","useCometInteractionTracing"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=r("useCometInteractionTracing")(r("qpl")._(30608422,"1698"),"responsive","INTERACTION");return s(function(t,n){e(function(e){var o=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(e.getTraceId());e.addMetadata("entrypoint",n),t(o,e)})},[e])}l.default=u}),98);
__d("useMWChatOpenNewTab",["LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS","react","useCometFeedNoRoutingNavigationEventLogger","useMWNewChatOpenTabTraceProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(e){var t=r("useMWNewChatOpenTabTraceProvider")(),n=r("useCometFeedNoRoutingNavigationEventLogger")(),a=o("MWChatStateV2.react").useDispatch();return u(function(i,l){n(Date.now(),"","messenger"),(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_new");var u=o("MessengerWebEntryPointsUtil").cast(e);return r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:u,event_name:"open_chat_tab"}}),o("LSThreadAttributionStore").setSourceForNewThread(e),t(function(e,t){o("MWChatInteraction").set("open_new",e),t.addMarkerPoint("dispatch_open_chat_tab","AppTiming"),a(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:!0},{initialTokens:l!=null?l:[],secureThreadToggleEnabled:i,type:o("MWChatStateV2Types").MWChatStateTabType.ComposeTab}))},e)},[n,e,t,a])}l.default=c}),98);
__d("useMAWComposeSecureThreadThenNavigate",["MWChatSearchTypeaheadDataEntry","MWInboxRouteBuilder","MWLSThreadDisplayContext","MWThreadListNewMessageState.react","react","useCometRouterDispatcher","useMWChatOpenNewTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),t=e==="Inbox"?"inboxNewMessage":"jewelNewMessage",n=r("useMWChatOpenNewTab")(t),a=o("MWThreadListNewMessageState.react").useDispatchIfStateExists(),i=r("useCometRouterDispatcher")();return s(function(e,r,l){if(t==="jewelNewMessage")n(!0,e);else if(i!=null){var s=r.length>0?r:e.map(o("MWChatSearchTypeaheadDataEntry").convertContactToSearchTypeaheadDataEntry);a==null||a({entries:s,initialOpenChatSearchTypeahead:l,type:o("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries});var u=o("MWInboxRouteBuilder").buildNewThreadURL({initial_e2ee_toggle_position:!0});i.go(u,{})}},[n,t,i,a])}l.default=u}),98);
__d("MWCookieUtil",["I64","LSMessagingThreadTypeUtil","MWChatStateV2Types","MWV2CookieReader","MessengerWebPresenceCookieData"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return o("MWV2CookieReader").read(r("MessengerWebPresenceCookieData").cookie)}function u(){var e=s();return e.tabs.size>0}function c(){var e=s();return Array.from(e.tabs.values()).reduce(function(e,t){return e||!t.minimizeWatermark},!1)}function d(){var e=s();return Array.from(e.tabs.values()).reduce(function(e,t){return e||!t.minimizeWatermark&&t.tabType.type===o("MWChatStateV2Types").MWChatStateTabType.ChatTab&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.tabType.threadKeyDescriptor.threadType)},!1)}function m(){var e=s();if(u()&&c()){var t=Array.from(e.tabs.values()).find(function(e){return e.tabType.type===o("MWChatStateV2Types").MWChatStateTabType.ChatTab&&e.minimizeWatermark===0});if(t==null||t.tabType.type!==o("MWChatStateV2Types").MWChatStateTabType.ChatTab)return;var n=t.tabType.threadKeyDescriptor.threadKey,r=t.tabType.threadKeyDescriptor.threadType;return{threadKey:n,threadType:r}}}function p(t){var n=m();return n?(e||(e=o("I64"))).equal(n.threadKey,t):!1}function _(t){var n=s();return Array.from(n.tabs.values()).some(function(n){return n.tabType.type===o("MWChatStateV2Types").MWChatStateTabType.ChatTab&&(e||(e=o("I64"))).equal(n.tabType.threadKeyDescriptor.threadKey,t)})}l.getMWCookie=s,l.hasAutoOpenChatTabs=u,l.hasAtLeastOneUnminimizedChatTab=c,l.hasAtLeastOneUnminimizedSecureChatTab=d,l.getAutoChatTabFromCookie=m,l.isAutoChatTabFromCookie=p,l.isInChatHead=_}),98);
__d("MWChatStateV2CompareTabs",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=e.openWatermark-t.openWatermark;return n<0?1:n>0?-1:0}function l(e,t){var n=Math.max(e.minimizeWatermark,e.clientForcedMinimizeWatermark)-Math.max(t.minimizeWatermark,t.clientForcedMinimizeWatermark);return n<0?1:n>0?-1:0}i.byMostRecentOpened=e,i.byMostRecentMinimized=l}),66);
__d("MWChatStateV2TabGroups",["MWChatStateV2CompareTabs","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","ODS"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){var r=e.length;if(r>t&&t>0&&n!=null){var o=e.findIndex(function(e){return e.tabId===n});if(o!==-1&&o>=t&&o<r){var a=function(n,r){var t=e[n];e[n]=e[r],e[r]=t};a(t-1|0,o)}}return e}function u(t,n,r,a){(e||(e=o("ODS"))).bumpEntityKey(3185,"chat_tab_groups","mediaViewerOpenWatermarkOpt."+(t==null||t===-1?"default":"set"));var i=s(Array.from(n.values()).filter(function(e){return o("MWChatStateV2IsOpen").isOpen(t,e)}).sort(o("MWChatStateV2CompareTabs").byMostRecentOpened),a,r),l=Array.from(n.values()).filter(function(e){return o("MWChatStateV2IsMinimized").isMinimized(t,e)});return{minimizedTabs:l,openExcessTabs:i.slice(a,i.length),openTabs:i.slice(0,a)}}l.getTabGroups=u}),98);
__d("MWChatTabStyles",[],(function(t,n,r,o,a,i){"use strict";var e=328,l=10;i.CHAT_TAB_WIDTH=e,i.CHAT_TAB_MARGIN_START=l}),66);
__d("useMWChatStateV2MaxTabCount",["MWChatTabStyles","useWindowSize"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("useWindowSize")(),n=t.innerWidth;if(n<1100||e)return 1;var a=(n/2|0)-90|0,i=o("MWChatTabStyles").CHAT_TAB_WIDTH+o("MWChatTabStyles").CHAT_TAB_MARGIN_START,l=a/i;return l<1?1:Math.ceil(l)}l.default=e}),98);
__d("MWChatVisibileRoutes",[],(function(t,n,r,o,a,i){"use strict";var e=["comet.group.lightweightgroups"],l=new Set(["comet.stories.viewer.archive","comet.stories.viewer","comet.videos.tahoe","comet.marketplace.item","comet.basic.marketplace.item","comet.mediaviewer.video","comet.mediaviewer.photo","comet.reels.unified.player","comet.reels.tab","comet.reels.following"].concat(e));i.ROUTES=l}),66);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["MWChatVisibileRoutes","useCometRouterState"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e,t,n=r("useCometRouterState")();if(n==null)return!1;var a=n.main,i=n.pushViewStack,l=i&&i.length>0?i[i.length-1]:a;return o("MWChatVisibileRoutes").ROUTES.has((e=(t=l.route)==null?void 0:t.tracePolicy)!=null?e:"")}l.default=e}),98);
__d("useMWChatOpenTabCount",["MWChatStateContext","MWChatStateV2TabGroups","useMWChatStateV2MaxTabCount","useMWIsTopLevelRouteMediaViewerExperiment"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MWChatStateContext").useChatState(function(e){return[e.tabs,e.focusedTabId,e.mediaViewerOpenWatermark]}),t=e[0],n=e[1],a=e[2],i=r("useMWIsTopLevelRouteMediaViewerExperiment")(),l=i?a:void 0,s=r("useMWChatStateV2MaxTabCount")(i),u=o("MWChatStateV2TabGroups").getTabGroups(l,t,n,s),c=u.openTabs;return{maxTabsCount:s,openTabsCount:c.length}}l.default=e}),98);
__d("useMWChatOpenTabTraceProvider",["CometCurrentInitialLoadVC","CometHeroLogging","DeviceAnnotationsForInteractionTracingUtils","I64","LSDynamicDependenciesEventEmitter","LSStreamGroupRef","MWChatInteraction","MWCookieUtil","ifRequired","performance","qpl","react","requireDeferred","useCometInteractionTracing","useMWChatOpenTabCount"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(s||(s=o("react"))).useCallback,d=r("requireDeferred")("MWChatTabSharedQPLAnnotations").__setRef("useMWChatOpenTabTraceProvider"),m=!1;function p(e){m?e.addMetadata("revisit",1):(e.addMetadata("revisit",0),m=!0)}function _(e){var t=o("MWCookieUtil").isAutoChatTabFromCookie(e);if(!t)return!1;var n=o("MWChatInteraction").getInteractionTraceForThreadKey((u||(u=o("I64"))).to_string(e)),r=n==null?void 0:n.getTrace();return r!=null&&!r.completed}function f(){var t=r("useMWChatOpenTabCount")(),n=t.maxTabsCount,a=t.openTabsCount,i=r("useCometInteractionTracing")(r("qpl")._(30605380,"18"),"responsive","INTERACTION");return c(function(t,l){var s=t.entrypoint,c=t.isUnread,m=t.position,f=t.threadKey,g=t.threadType;if(_(f)){var h=o("MWChatInteraction").getInteractionTraceForThreadKey((u||(u=o("I64"))).to_string(f));if(h!=null){l(h.getTraceId(),h);return}}var y=o("MWChatInteraction").getInteractionTraceForThreadKey((u||(u=o("I64"))).to_string(f));if(y!=null){l(y.getTraceId(),y);return}i(function(t){var i=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(t.getTraceId()),u=[],_=o("LSDynamicDependenciesEventEmitter").subscribeToLoadModuleEvent(function(e){u.push(e),t.addAnnotationStringArray("dynamicDepsLoaded",u)});t.addMetadata("entrypoint",s),t.addMetadata("hasBadge",c!=null?c.toString():"");var h=o("LSStreamGroupRef").getTransportId();t.addMetadata("transportId",h),t.addMetadata("transportStatus",o("LSStreamGroupRef").getTransportStatus()),t.addAnnotationInt("openTabsCount",a),t.addAnnotationInt("maxTabsCount",n),m!=null&&t.addAnnotationInt("position",m),t.addAnnotationInt("timeMsSinceSessionStart",(e||(e=r("performance"))).now()),d.load().then(function(e){return e.addSharedAnnotations(t,g,f)}),t.onComplete(function(e){p(t),t.addMetadata("transportIdOnComplete",o("LSStreamGroupRef").getTransportId()),t.addMetadata("transportStatusOnComplete",o("LSStreamGroupRef").getTransportStatus()),r("ifRequired")("MWV2ChatTabs.react",function(){},function(){t.addMarkerPoint("MWV2ChatTabs_not_required","AppTiming")}),o("DeviceAnnotationsForInteractionTracingUtils").addDeviceAnnotationsForInteractionTracing(t);var n=o("CometCurrentInitialLoadVC").getInitialLoadVC();n!=null&&t.addAnnotationInt("sinceInitialLoadVC",Math.round(e.start-n)),_.remove()}),l(i,t)},void 0,void 0,void 0,u.to_string(f))},[i,a,n])}l.default=f}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","CometRelay","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MAWUpdateSecureThreadAttributionForContact","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWInboxTrayGating","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","ReQL","XCometGroupDiscussionControllerRouteBuilder","asyncToGeneratorRuntime","cr:9780","dispatchOpenChatTabTraceLogging","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","loadChatTabEntryPoint","promiseDone","react","requireDeferred","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRelayEntrypointContextualEnvironmentProvider","useCometRouterDispatcher","useIntegrityBlockInterstitial","useLazyShouldShowMessagingEntrypointInCometRoot","useMAWComposeSecureThreadThenNavigate","useMWChatOpenTabTraceProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=e||(e=o("react")),m=d.useCallback,p=d.useContext,_=d.useMemo,f=r("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWNavigation");function g(){var e=o("MWChatStateV2.react").useDispatch(),t=r("useCometFeedNoRoutingNavigationEventLogger")(),n=r("useMWChatOpenTabTraceProvider")(),a=r("useCometRelayEntrypointContextualEnvironmentProvider")();return m(function(i,l,u,c){return t(Date.now(),"","messenger"),n({entrypoint:l,isUnread:i.isUnread,threadKey:i.threadKey,threadType:(s||(s=o("I64"))).to_int32(i.threadType)},function(t,n){o("MWChatInteraction").set((s||(s=o("I64"))).to_string(i.threadKey),t),r("dispatchOpenChatTabTraceLogging")(n,i,"useMWNavigation"),(c==null?void 0:c.subEntrypoint)!=null&&n.addAnnotation("sub_entrypoint",c.subEntrypoint);var l=r("loadChatTabEntryPoint")(a);return e(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:u!==!0},{threadKeyDescriptor:i,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab},l))})},[e,a,t,n])}function h(e,t,a,i,l,u){return function(c){var d=(s||(s=o("I64"))).to_string(c);if(n("cr:9780")!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e))switch(t){case"message_requests":return o("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({focus_target:u,thread_key:d});case"restricted":return o("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({focus_target:u,thread_key:d});case"archived":return r("justknobx")._("2103")?o("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d}):o("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:u,search:l,thread_key:d});default:return o("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:u,search:l,thread_key:d})}if(a!=null)return r("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[a.threadKey,d],idorvanity:a.groupId});if(t==null)return o("MWInboxRouteBuilder").buildURL({focus_target:u,link_hash:i,search:l,thread_key:d});switch(t){case"archived":return o("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"business_support":return o("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"marketplace":return o("MWInboxMarketplaceThreadsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"message_requests":return o("MWInboxMessageRequestsRouteBuilder").buildURL({focus_target:u,thread_key:d});case"restricted":return o("MWInboxRestrictedAccountsRouteBuilder").buildURL({focus_target:u,thread_key:d});default:return o("MWInboxRouteBuilder").buildURL({focus_target:u,link_hash:i,search:l,thread_key:d})}}}function y(e,t){var n=e.threadKey;return o("LSThreadAttributionStore").setSource((s||(s=o("I64"))).to_string(n),t)}function C(){var e=r("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),t=r("useCometRouterDispatcher")(),a=p(o("MWNavigationContext").context),i=p(r("CometPassiveGetRouterStateContext")),l=g(),d=o("CometRelay").useRelayEnvironment(),m=r("useIntegrityBlockInterstitial")(),C=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),b=C.setVisibleMessage,v=r("useMAWComposeSecureThreadThenNavigate")(),S=r("useAsyncReStore")();return _(function(){var p=function(t,n,o,l,s){var e=r("getTopMostRouteCometEntityKey")(i==null?void 0:i()),u=e==null?void 0:e.entity_type,c=r("getGroupThreadViewParams")(e,i==null?void 0:i()),d=a!=null?a:h(n,u,c,o,l,s);return d(t)},_=function(n,a,i){var e=n.isUnread,l=n.searchQuery,u=n.threadKey,c=n.threadLinkHash,d=n.threadType;if(t!=null){var m=o("MessengerWebEntryPointsUtil").cast(a),_=o("LSMessagingThreadTypeUtil").isArmadilloSecure(d),f=p(u,d,c,l,i);_&&!f.includes("e2ee")&&r("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct"),a!=="messengerUniversalSearch"&&b(void 0),t.go(f,{traceParams:{TLTV:"true",entrypoint:m,hasBadge:e!=null?e.toString():"",inboxEntrypoint:a,isSecure:_?"true":"false",thread_id:(s||(s=o("I64"))).to_string(u),thread_type:s.to_string(d)}})}},g=function(a,i){var e=a.isUnread,l=a.searchQuery,c=a.threadKey,m=a.threadLinkHash,_=a.threadType;if(t!=null){var g=o("MessengerWebEntryPointsUtil").cast(i),h=o("LSMessagingThreadTypeUtil").isArmadilloSecure(_),y=p(c,_,m,l);h&&!y.includes("e2ee")&&r("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct"),i!=="messengerUniversalSearch"&&b(void 0),f.onReady(function(a){r("promiseDone")(a.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE((u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,d,c,void 0,null).then(function(d){switch(d){case"cutover":r("promiseDone")(a.getCutoverThread((u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton,c).then((function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var a=n?n.serverThreadKey:c;if(n==null&&o("MWInboxTrayGating").isInboxTrayEnabled()){var u=yield S,d=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(u.tables.contacts).getKeyRange(c));if(d!=null){v([d],[],o("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0);return}else r("FBLogger")("Contact was null when navigating to cutover e2ee")}var f=p(a,_,m,l);o("MAWUpdateSecureThreadAttributionForContact").maybeUpdateSecureThreadAttributionForContact(c,a),t.go(f,{traceParams:{TLTV:"true",entrypoint:g,hasBadge:e!=null?e.toString():"",inboxEntrypoint:i,isSecure:"true",thread_id:(s||(s=o("I64"))).to_string(a),thread_type:s.to_string(_)}})});return function(e){return a.apply(this,arguments)}})()));break;case"default_e2ee":r("promiseDone")(S,function(e){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(c)).then(function(e){e!=null?v([e],[],o("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0):r("FBLogger")("Contact was null when navigating to default e2ee")})});break;case"on_demand_cutover":default:t.go(y,{traceParams:{TLTV:"true",entrypoint:g,hasBadge:e!=null?e.toString():"",inboxEntrypoint:i,isSecure:h?"true":"false",thread_id:(s||(s=o("I64"))).to_string(c),thread_type:(s||(s=o("I64"))).to_string(_)}});break}}))})}};return{getUrlFromThreadKey:p,openInbox:function(t,n,r,a,i){return r===void 0&&(r=(c||(c=o("LSIntEnum"))).ofNumber(54)),y(t,n),m({damagingActionsEntryPoint:r,onProceed:function(){n==="contactShareMessage"||n==="inboxTrayActiveNow"||n==="noteReplyMsg"?g(t,n):_(t,n,i),a==null||a()},threadKey:t.threadKey})},openTabOrInbox:function(n,r,a,i,s,u){return i===void 0&&(i=(c||(c=o("LSIntEnum"))).ofNumber(54)),y(n,r),e()?m({damagingActionsEntryPoint:i,onProceed:function(){l(n,r,a,s),u==null||u()},threadKey:n.threadKey}):m({damagingActionsEntryPoint:i,onProceed:function(){_(n,r),u==null||u()},threadKey:n.threadKey})}}},[i,a,t,b,S,v,m,e,l])}l.default=C}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MAWThreadCutover","MWAdminTextLayout.react","MWFBLogger","MWXLink.react","ReQL","asyncToGeneratorRuntime","promiseDone","react","requireDeferred","useAsyncReStore","useMWEntrypoint","useMWNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useCallback,p=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWV2AdminMsgViewMessagesDualThreadCutover.react");function _(t){var a=t.message,i=r("useAsyncReStore")(),l=r("useMWNavigation")(),s=o("MAWThreadCutover").useIsCutoverSecureThread(a.threadKey),_=r("useMWEntrypoint")(),f=m(function(){p.onReady(function(e){return e.log(function(){return{entry_point:_,event_type:"secret_conversation_post_cutover_admin_message_cta_click_event",is_cutover:s,thread_id:(u||(u=o("I64"))).to_string(a.threadKey),thread_type:u.to_string((c||(c=o("LSIntEnum"))).ofNumber(15)),transport_type:"ACT"}})}),r("promiseDone")(i,(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,i=(n=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.mi_act_mapping_table).getKeyRange(a.threadKey)))==null?void 0:n.jid;i!=null&&(yield r("LSPlatformWaitForTaskCompletion")(t,function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(c||(c=o("LSIntEnum"))).ofNumber(1),threadKey:i,threadType:c.ofNumber(1)})},"readwrite"));var s=i!=null?yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(i)):null;s?l.openTabOrInbox({clientThreadKey:s.clientThreadKey,threadKey:s.threadKey,threadType:s.threadType},"preCutoverThread"):o("MWFBLogger").MWLogger().tags(["DualThreadCutover"]).WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to navitage to open messages thread ",""])),(u||(u=o("I64"))).to_string(a.threadKey))});return function(e){return t.apply(this,arguments)}})())},[i,_,s,a.threadKey,l]),g=a.adminMsgCtaTitle,h=g!=null?d.jsx(r("MWXLink.react"),{color_DEPRECATED:"blueLink",onClick:f,role:"button",testid:void 0,children:g}):null,y=o("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(a.threadKey)==null;return!y&&d.jsx(r("MWAdminTextLayout.react"),{cta:h,message:a})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("MWThreadKey.react").useMWThreadKeyMemoized(),n=e!=null?e:t,a=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler")),i=a[0];return s(function(e,t){if(!(n==null||e==null||t==null))return i({pollId:e,threadKey:n,title:t},function(){})},[i,n])}l.default=u}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=o("MWLSThread").useThread(e,function(e){return o("LSThreadBitOffset").has(170,e)}))!=null?t:!1;return n}l.default=e}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=t.message,a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId,(e=n.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[a,n],i.id+":28"),u=r("useMWHasPollsVotingEnabled")(n.threadKey),m=r("useMWChatPollXMAActionHandler")(),p=d(function(){m(l==null?void 0:l.targetId,l==null?void 0:l.targetTitle)},[l==null?void 0:l.targetId,l==null?void 0:l.targetTitle,m]);if(!r("justknobx")._("1987")||!u||l==null)return c.jsx(r("MWAdminTextLayout.react"),{message:n});var _=l==null?void 0:l.title,f=_!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:p,children:_}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:f,message:n})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=t.message,a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(n.threadKey,n.messageId,(e=n.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[a,n],i.id+":24"),u=l==null?void 0:l.title,d=l==null?void 0:l.actionUrl,m=u!=null&&d!=null?c.jsx(r("MWXLink.react"),{href:d,target:"_blank",children:u}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:m,message:n})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("ScaledChatOptOutAndEndChatMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29746995494916388"}),null);
__d("ScaledChatOptOutAndEndChatMutation.graphql",["ScaledChatOptOutAndEndChatMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],r=[{kind:"Literal",name:"topic",value:"ADVERTISER_GUIDANCE"}],o={alias:null,args:null,kind:"ScalarField",name:"is_opted_in",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ScaledChatOptOutAndEndChatMutation",selections:[{alias:null,args:t,concreteType:"XFBScaledChatOptOutOutput",kind:"LinkedField",name:"xfb_ScaledChatOptOutAndEndChat",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:r,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:[o],storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ScaledChatOptOutAndEndChatMutation",selections:[{alias:null,args:t,concreteType:"XFBScaledChatOptOutOutput",kind:"LinkedField",name:"xfb_ScaledChatOptOutAndEndChat",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:r,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}]},params:{id:n("ScaledChatOptOutAndEndChatMutation_facebookRelayOperation"),metadata:{},name:"ScaledChatOptOutAndEndChatMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("ScaledChatOptOutAndEndChatMutation.react",["CometRelay","ScaledChatOptOutAndEndChatMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("ScaledChatOptOutAndEndChatMutation.graphql");function u(e){var t=e.entryPoint,n=e.environment,r=e.setDefaultOptedIn,a=e.setLoading;o("CometRelay").commitMutation(n,{mutation:s,onCompleted:function(t,n){a(!1),r&&r(!1)},onError:function(){a(!1)},variables:{input:{entry_point:t,topic:"ADVERTISER_GUIDANCE"}}})}l.commitScaledChatOptInMutation=u}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","ScaledChatOptOutAndEndChatMutation.react","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n,a=t.message,l=o("CometRelay").useRelayEnvironment(),u=(e||(e=r("useReStore")))(),d=o("ReQLSuspense").useFirst(function(){var e;return o("ReQL").fromTableAscending(u.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},[u,a],i.id+":29"),m=(n=d==null?void 0:d.title)!=null?n:"",p=function(){return o("ScaledChatOptOutAndEndChatMutation.react").commitScaledChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:l,setLoading:function(){},setOptedIn:function(){}})},_=m!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:p,children:m}):null;return c.jsx(r("MWAdminTextLayout.react"),{cta:_,message:a})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWGenAINux.react","MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react","MWV2AdminMsgChangeTheme.react","MWV2AdminMsgChangeThreadLimitSharingPermission.react","MWV2AdminMsgDMLearnMore.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgE2EEUKOSA.react","MWV2AdminMsgICDC.react","MWV2AdminMsgMarketingMessagesManage.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgSupportDialogCTA.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={color:{color:"x186z157",$$css:!0},container:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function c(e){return e!=null?e.isAdminMessage:!1}function d(e){var t=e.children,n=e.nextMessage,r=e.prevMessage;return s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.container,c(r)?u.containerThatProceedsAdminMessage:!1,c(n)?u.containerThatPrecedesAdminMessage:!1],children:s.jsx(o("react-strict-dom").html.div,{style:u.content,children:t})})}d.displayName=d.name+" [from "+i.id+"]";function m(e){var t=e.message,n=e.nextMessage,o=e.prevMessage;switch(t.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":return s.jsx(r("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:t});case"admin_msg_dual_thread_cutover":return s.jsx(r("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:t});case"admin_msg_web_url":return s.jsx(r("MWV2AdminMsgWebUrl.react"),{message:t});case"admin_msg_sbg_proactive_chat_opt_in":return s.jsx(r("MWV2SBGProactiveChatMutationUrl.react"),{message:t});case"admin_msg_sbg_proactive_chat_opt_out":return s.jsx(r("MWV2SBGProactiveChatMutationUrl.react"),{message:t});case"admin_msg_p2b_privacy_disclosure":if(r("gkx")("24144"))return s.jsx(r("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:t});break;case"admin_notification_messages_opt_out":return s.jsx(r("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:t});case"admin_notification_messages_opt_in":return s.jsx(r("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:t});case"admin_msg_marketing_messages_ctm":return s.jsx(r("MWV2AdminMsgMarketingMessagesManage.react"),{message:t});case"admin_msg_thread_level_cutover":return s.jsx(r("MWV2AdminMsgE2EEDescription.react"),{message:t});case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":return s.jsx(r("MWV2AdminMsgE2EECutoverRollback.react"),{message:t});case"admin_msg_e2ee_uk_osa":return s.jsx(r("MWV2AdminMsgE2EEUKOSA.react"),{message:t});case"xmat_instant_game_bot_message_subscribe":return s.jsx(r("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:t,shouldSubscribe:!0});case"xmat_instant_game_bot_message_unsubscribe":return s.jsx(r("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:t,shouldSubscribe:!1});case"xmat_horizon_worlds_update_subscribe":return s.jsx(r("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react"),{message:t,shouldSubscribe:!0});case"xmat_horizon_worlds_update_unsubscribe":return s.jsx(r("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react"),{message:t,shouldSubscribe:!1});case"admin_msg_view_pin_msgs_v2":return s.jsx(r("MWV2AdminMsgShowPinnedMessages.react"),{message:t});case"xmat_instant_game_custom_update_message_mute":return s.jsx(r("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:t,shouldMute:!0});case"xmat_instant_game_custom_update_message_unmute":return s.jsx(r("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:t,shouldMute:!1});case"admin_message_service_booking_legal_disclaimer":return s.jsx(r("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:t});case"admin_msg_admod_post_msg_remove_actions":return s.jsx(r("MWV2AdminMsgPostMessageRemoveActions.react"),{message:t});case"admin_msg_change_theme":return s.jsx(r("MWV2AdminMsgChangeTheme.react"),{message:t});case"admin_msg_poll_details":return s.jsx(r("MWV2AdminMsgViewPoll.react"),{message:t});case"admin_msg_icdc":return s.jsx(r("MWV2AdminMsgICDC.react"),{message:t});case"admin_msg_ig_dm_learn_more":return s.jsx(r("MWV2AdminMsgDMLearnMore.react"),{message:t});case"admin_msg_bm_genai_consumer_disclaimer_learn_more":return s.jsx(r("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react"),{message:t});case"admin_msg_change_thread_limit_sharing_permission":return s.jsx(r("MWV2AdminMsgChangeThreadLimitSharingPermission.react"),{message:t});case"support_open_dialog":return s.jsx(r("MWV2AdminMsgSupportDialogCTA.react"),{message:t});case"admin_msg_genai_nux_inline":return s.jsx(r("MWGenAINux.react"),{source:"adminMessage"});case"admin_msg_genai_nux_training_inline":return s.jsx(r("MWGenAINux.react"),{source:"trainingAdminMessage"})}return s.jsx(r("MWAdminTextLayout.react"),{message:t})}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=e.message,n=e.nextMessage,a=e.prevMessage;return t.adminMsgCtaType==="admin_msg_e2ee_thread"?null:s.jsx(d,{nextMessage:n,prevMessage:a,children:s.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:s.jsx(o("react-strict-dom").html.div,{style:u.color,children:s.jsx(m,{message:t})})})})}p.displayName=p.name+" [from "+i.id+"]",l.isAdminMessage=c,l.MWV2ChatAdminMessageContainer=d,l.MWV2ChatAdminMessage=p}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function d(e){var t=e.isOutgoing,n=e.isReply;return u.jsxs(o("react-strict-dom").html.div,{style:n&&c.withRepliedMessage,children:[n?null:u.jsx(o("react-strict-dom").html.div,{style:c.vr}),u.jsxs(r("MWV2TombstonedMessage.react"),{isOutgoing:t,children:[" ",s._(/*BTDS*/"Error displaying this message")]})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9370810589694752"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.groupID,n=t.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:r("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:e,userID:n}}}}},root:r("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};l.default=e}),98);
__d("MWXEntryPointPopoverTrigger.react",["cr:1000","cr:4755","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return n("cr:4755")!=null?s.jsx(n("cr:4755"),babelHelpers.extends({},e)):n("cr:1000")!=null?s.jsx(n("cr:1000"),babelHelpers.extends({},e)):null}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWXIconAccount",["MWXSvgIcon","SVGIcon","cr:22172","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22172")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","FDSImageCover.react","I64","IGDWebUtils","LSContactBitOffset","LSMessagingThreadTypeUtil","MWLSThread","MWPActor.react","MWPContactContext.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MWXGlimmer.react","MWXIconAccount","MWXIconStrict.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","getLSMediaContactProfilePictureUrl","mwCMIsAnyCMThread","qex","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=s._(/*BTDS*/"Member"),p={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",maxWidth:"x193iq5w",width:"xgd8bvy",$$css:!0}};function _(t){var n=t.ariaHidden,a=n===void 0?!1:n,l=t.isGroupThread,s=t.message,c=o("MWPContactContext.react").useMWPContactStableContext(),_=c.contact,f=c.nickname,g=o("MWPActor.react").useActor(),h=(e||(e=r("useReStore")))(),y=o("MWLSThread").useThread(s.threadKey),C=y==null?void 0:y.parentThreadKey,b=y==null?void 0:y.threadType,v=o("ReQLSuspense").useFirst(function(){return o("MWPreloadableQueries").getCommunityFolderQuery(h,C!=null?C:(u||(u=o("I64"))).zero).map(function(e){return e.fbGroupId})},[h,C],i.id+":74"),S=b!=null?r("mwCMIsAnyCMThread")(b):!1,R=null;if(s.takedownState!=null)R=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:d.jsx(r("MWXIconStrict.react"),{alt:m,color:"secondary",icon:r("MWXIconAccount"),size:28})});else if(_!=null&&r("getLSMediaContactProfilePictureUrl")(_)!==""){var L,E,k=f!=null?f+" ("+_.name+")":_.name,I=(L=o("LSContactBitOffset").has(77,_))!=null?L:!1,T=(E=o("LSContactBitOffset").has(84,_))!=null?E:!1,D=!T&&!I&&!o("IGDWebUtils").isOnInstagramWeb(),x=D&&S&&r("qex")._("20")===!0,$=D&&y!=null&&o("LSMessagingThreadTypeUtil").isOpenOrArmadilloFnFThread(y),P=d.jsx(r("FDSImageCover.react"),{alt:_.name,src:r("getLSMediaContactProfilePictureUrl")(_),style:{borderRadius:"50%"}});R=d.jsx(r("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(t){t&&S&&o("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu")},position:"start",tooltip:k,children:x||$?d.jsx(r("MWXEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(u||(u=o("I64"))).to_string(v!=null?v:(u||(u=o("I64"))).zero),userID:(u||(u=o("I64"))).to_string(g)},otherProps:{isGroupThread:l,message:s},popoverEntryPoint:r("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(t,n,a,i,l,s){return d.jsx(r("MWXPressable.react"),{onHoverIn:i,onHoverOut:l,onPress:function(){S&&o("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),n()},onPressIn:s,overlayRadius:"50%",ref:t,xstyle:p.profile,children:P})}}):P})}else R=d.jsx(r("MWXGlimmer.react"),{index:1,xstyle:p.glimmer});return d.jsx("div",{"aria-hidden":a,className:"xuk3077 x78zum5 x2lah0s x1fgtraw x193iq5w xgd8bvy",children:R})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWV2MessageProfilePhoto.react",["MWV2MessageProfilePhotoContent.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.ariaHidden,n=t===void 0?!1:t,o=e.display,a=o===void 0?"visible":o,i=e.isGroupThread,l=e.message;return s.jsx("div",{className:"xgd8bvy",children:a==="visible"&&s.jsx(r("MWV2MessageProfilePhotoContent.react"),{ariaHidden:n,isGroupThread:i,message:l})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function _(t){var n=t.children,a=t.domElementRef,i=t.focusCellOnRender,l=i===void 0?!1:i,s=r("useMAWEditMessageData")(),c=s!=null,_=r("useMWPEditMessageDeemphasizer")(),f=m(null);return d(function(){if(l){var e,t;(e=f.current)==null||e.focus(),(t=f.current)==null||t.scrollIntoView()}},[l]),u.jsx(o("MWMessageTableFocusTable.react").FocusTable[1],{children:u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(_),{ref:a,role:"row",children:u.jsx(o("MWMessageTableFocusTable.react").FocusTable[2],{children:u.jsx(r("FocusWithinHandler.react"),{children:function(a,i){return u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.row,i?p.rowFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":o("MWMessageTableFocusTable.react").scopeID,ref:f,role:"gridcell",tabIndex:c?-1:0,children:[n,u.jsx(r("MWEditMessageOverlay.react"),{})]}))}})})}))})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("MWV2MessageStartOfGroupContent.react",["BaseHeadingContextWrapper.react","I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e,t){return t!=null?(s||(s=o("I64"))).compare(s.abs(s.sub(e.timestampMs,t.timestampMs)),s.of_string("900000"))>0:!0}function d(e){var t=e.domElementRef,n=e.message,a=e.prevMessage,i=e.renderTextWrapper;return c(n,a)?u.jsx(r("MWV2MessageRowSimple.react"),{domElementRef:t,children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u.jsx(o("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:n,prevMessage:a,children:u.jsx(r("BaseHeadingContextWrapper.react"),{children:u.jsx(r("MWPDateBreak.react"),{renderTextWrapper:i,timestamp:(s||(s=o("I64"))).to_float(n.timestampMs)})})})})}):null}d.displayName=d.name+" [from "+i.id+"]";function m(e){var t=e.domElementRef,n=e.message,r=e.prevMessage,o=e.renderTextWrapper;return u.jsx(d,{domElementRef:t,message:n,prevMessage:r,renderTextWrapper:o})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.outgoing;return u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:t,children:s._(/*BTDS*/"Error rendering media")})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("IGDMessageRow.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometPressable.react","E2EEMessagingLinkContext.react","I64","IGDAIStickerEyebrowText.react","IGDAiAgentsUtils","IGDAttachment.react","IGDChatBubble.react","IGDChatEmoji.react","IGDEqualityUtils","IGDForwardedContent.react","IGDHiddenMessage.react","IGDHotlikeEmoji.react","IGDInstamadilloLockIcon.react","IGDInstamadilloUtils","IGDMessageGutterItem.react","IGDMessageListText.react","IGDMessageRowFooter.react","IGDPlaceholderMessage.react","IGDRepliedMessage.react","IGDReplySnippet.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","IGDXMAAttachmentUtil","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSHotEmojiSize","LSIntEnum","LSMessageHiddenState","LSMessageReplySourceTypeV2","MWMessageEditContext.react","MWMessageSearchPluginMustache.react","MWPActor.react","MWPAttachmentDataContext","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPContactContext.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingWrapper.react","MWPMessageParsingUtils","MWSearchPluginUtils","MWThreadViewMediaRenderQpl","MWV2ChatAdminMessage.react","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","MWV2ReplyError.react","MessagingAttachmentType","PolarisDoubleTappable","PolarisUA","asyncToGeneratorRuntime","cr:1388","deepEquals","deferredLoadComponent","gkx","isMWEditedMessage","isStringNullOrEmpty","lazyLoadComponent","mwpIsMessageUnsupported","promiseDone","qpl","react","react-compiler-runtime","requireDeferredForDisplay","stylex","useAsyncReStore","useIsReadOnlyFeatureLimited"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.memo,f=p.useCallback,g=p.useContext,h=p.useEffect,y=p.useId,C=p.useState,b=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("IGDMessageRow.react")),v=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDEditedMessageActions.react").__setRef("IGDMessageRow.react")),S={alignEnd:{alignItems:"xuk3077",$$css:!0},editedMessageIncoming:{paddingInlineStart:"xciyo1",$$css:!0},editedMessageOutgoing:{paddingInlineEnd:"xv54qhq",$$css:!0},repliedMessage:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},R=o("LSBitFlag").set((c||(c=o("LSIntEnum"))).ofNumber(1),o("LSBitFlag").set(c.ofNumber(8),o("LSBitFlag").empty)),L=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDMessageRowActions.react").__setRef("IGDMessageRow.react"));function E(e){var t=o("react-compiler-runtime").c(16),n=e.isGroupThread,a=e.isLastMessageInGroup,i=e.message,l=o("MWPContactContext.react").useMWPContactStableContext(),u=l.contact,c=l.contact,d;t[0]!==c?(d=c===void 0?{secondaryName:void 0}:c,t[0]=c,t[1]=d):d=t[1];var p=d,_=p.secondaryName,f=u!=null&&o("LSContactBitOffset").has(85,u);if(!f){var g=a?"visible":"hidden",h;return t[2]!==n||t[3]!==i||t[4]!==g?(h=m.jsx(r("MWV2MessageProfilePhoto.react"),{display:g,isGroupThread:n,message:i}),t[2]=n,t[3]=i,t[4]=g,t[5]=h):h=t[5],h}var y;t[6]!==_?(y=s._(/*BTDS*/"Open the profile page of {name}",[s._param("name",_)]),t[6]=_,t[7]=y):y=t[7];var C=y,b=a?"visible":"hidden",v;t[8]!==n||t[9]!==i||t[10]!==b?(v=m.jsx(r("MWV2MessageProfilePhoto.react"),{display:b,isGroupThread:n,message:i}),t[8]=n,t[9]=i,t[10]=b,t[11]=v):v=t[11];var S=v,R;return t[12]!==C||t[13]!==S||t[14]!==_?(R=r("isStringNullOrEmpty")(_)?S:m.jsx(r("CometPressable.react"),{"aria-label":C,linkProps:{url:"/"+_},overlayDisabled:!0,children:S}),t[12]=C,t[13]=S,t[14]=_,t[15]=R):R=t[15],R}var k="double_tappable_id",I=r("qpl")._(832782319,"3033");function T(t){var a=o("react-compiler-runtime").c(203),l=t.domElementRef,u=t.formatText,p=t.hideRowActions,_=t.isGroupThread,f=t.isModal,T=t.isSecureMessage,M=t.isXMAExpired,w=t.loadThreadlineQueries,A=t.message,F=t.nextMessage,O=t.onDoubleClickToLike,B=t.prevMessage,W=t.reactions,q=t.reactionsV2,U=t.stopHoveringRef,V=t.threadType,H=o("MWPActor.react").useActor(),G=r("useAsyncReStore")(),z;a[0]!==G||a[1]!==A?(z=function(){var e=babelHelpers.extends({},A,{isExpired:!0});r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield G;yield t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){yield t.messages.put(e)});return function(e){return t.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":262")})())},a[0]=G,a[1]=A,a[2]=z):z=a[2];var j=z,K;a[3]!==A||a[4]!==B?(K=o("MWPMessageParsingUtils").isStartOfGroup(A,B),a[3]=A,a[4]=B,a[5]=K):K=a[5];var Q=K,X;a[6]!==A||a[7]!==F?(X=o("MWPMessageParsingUtils").isEndOfGroup(A,F),a[6]=A,a[7]=F,a[8]=X):X=a[8];var Y=X,J=(d||(d=o("I64"))).equal(A.senderId,H),Z=C(!1),ee=Z[0],te=Z[1],ne=C(!1),re=ne[0],oe=ne[1],ae=y(),ie=C(!1),le=ie[0],se=ie[1],ue=q!=null?q.length>0:W.length>0,ce=!J,de=ce&&_,me=A.replyToUserId!=null,pe=r("useIsReadOnlyFeatureLimited")(),_e;a[9]!==A?(_e=r("isMWEditedMessage")(A),a[9]=A,a[10]=_e):_e=a[10];var fe=_e,ge;a[11]!==A.replySourceTypeV2?(ge=A.replySourceTypeV2!=null&&(c||(c=o("LSIntEnum"))).toNumber(A.replySourceTypeV2)===r("LSMessageReplySourceTypeV2").FORWARD,a[11]=A.replySourceTypeV2,a[12]=ge):ge=a[12];var he=ge,ye;a[13]!==A.replySourceTypeV2?(ye=A.replySourceTypeV2!=null&&(c||(c=o("LSIntEnum"))).toNumber(A.replySourceTypeV2)===r("LSMessageReplySourceTypeV2").IG_STORY_SHARE,a[13]=A.replySourceTypeV2,a[14]=ye):ye=a[14];var Ce=ye,be=!J&&(d||(d=o("I64"))).equal(A.messageHiddenState,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageHiddenState").HIDDEN_REPORTED))&&r("gkx")("2011"),ve=C(!1),Se=ve[0],Re=ve[1],Le=o("IGDInstamadilloUtils").canMutateIGDMessage(A),Ee=o("PolarisUA").isTouchDevice()&&Le&&!pe,ke=k+"."+A.messageId,Ie=g(o("MWPAttachmentDataContext").MWPAttachmentDataContext),Te=Ie.attachments,De=Te.length>0,xe;a[15]!==Te[0]||a[16]!==De?(xe=De&&(o("MWSearchPluginUtils").isSearchPlugin(Te[0])||o("MWSearchPluginUtils").isSearchSingleBubblePlugin(Te[0])),a[15]=Te[0],a[16]=De,a[17]=xe):xe=a[17];var $e=xe,Pe;a[18]!==Te[0]||a[19]!==De?(Pe=De&&o("MWSearchPluginUtils").isSearchSingleBubblePlugin(Te[0]),a[18]=Te[0],a[19]=De,a[20]=Pe):Pe=a[20];var Ne=Pe,Me;a[21]!==Te[0]||a[22]!==$e?(Me=$e&&o("IGDAiAgentsUtils").isGenAISticker(Te[0]),a[21]=Te[0],a[22]=$e,a[23]=Me):Me=a[23];var we=Me,Ae=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),Fe;a[24]!==Te||a[25]!==A?(Fe=r("mwpIsMessageUnsupported")(A,Te),a[24]=Te,a[25]=A,a[26]=Fe):Fe=a[26];var Oe=Fe,Be;a[27]!==Te[0]||a[28]!==Oe||a[29]!==A||a[30]!==De?(Be=function(t,n){return o("MWThreadViewMediaRenderQpl").enableQplForMessage(A,n)||De&&(c||(c=o("LSIntEnum"))).toNumber(Te[0].attachmentType)===r("MessagingAttachmentType").XMA||Oe},a[27]=Te[0],a[28]=Oe,a[29]=A,a[30]=De,a[31]=Be):Be=a[31];var We=Be,qe=o("MWThreadViewMediaRenderQpl").useMediaRenderQpl(A,V,We,I),Ue=qe.mediaRenderQpl,Ve,He;a[32]!==Ue?(Ve=function(){Ue==null||Ue.addPoint("render-igd-message-row")},He=[Ue],a[32]=Ue,a[33]=Ve,a[34]=He):(Ve=a[33],He=a[34]),h(Ve,He);var Ge;a[35]!==w?(Ge=function(t,n,o,a,i,l,s,u,c){return m.jsx(r("IGDAttachment.react"),{connectBottom:i,connectTop:a,formatText:u,hasText:s,loadThreadlineQueries:w,mediaRenderQpl:c,message:t,nextMessage:n,outgoing:l,prevMessage:o})},a[35]=w,a[36]=Ge):Ge=a[36];var ze=Ge,je;a[37]!==A.displayedContentTypes?(je=(d||(d=o("I64"))).equal(A.displayedContentTypes,R),a[37]=A.displayedContentTypes,a[38]=je):je=a[38];var Ke=je,Qe=A.isPaidPartnership===!0,Xe=me||he||Q&&!de&&!Qe&&!fe||Ce;if(A.scheduledTimestamp!=null||A.isExpired||A.isUnsent||A.takedownState!=null)return null;if(A.isAdminMessage){if(A.adminMsgCtaType==="admin_msg_e2ee_thread")return Ue==null||Ue.endSuccessAfterDelay(),null;var Ye=function(){return De?ze(A,void 0,void 0,!1,!1,J,!1,!1,Ue):(Ue==null||Ue.endSuccessAfterDelay(),null)},Je;return a[39]!==A||a[40]!==F||a[41]!==B?(Je=m.jsx(o("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:A,nextMessage:F,prevMessage:B}),a[39]=A,a[40]=F,a[41]=B,a[42]=Je):Je=a[42],m.jsx(r("CometErrorBoundary.react"),{children:m.jsx(r("MWV2MessageRowSimple.react"),{children:m.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[Je,Ye()]})})})}var Ze;a[43]!==l||a[44]!==A||a[45]!==B?(Ze=function(){return m.jsx(r("MWV2MessageStartOfGroupContent.react"),{domElementRef:l,message:A,prevMessage:B})},a[43]=l,a[44]=A,a[45]=B,a[46]=Ze):Ze=a[46];var et;a[47]!==A||a[48]!==B||a[49]!==Ze?(et=m.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRowBeforeContent,{message:A,prevMessage:B,children:Ze}),a[47]=A,a[48]=B,a[49]=Ze,a[50]=et):et=a[50];var tt=Q?void 0:l,nt;a[51]!==M?(nt=function(t,n){return M?null:m.jsx(r("IGDReplySnippet.react"),{message:t,outgoing:n})},a[51]=M,a[52]=nt):nt=a[52];var rt;a[53]!==Q||a[54]!==_||a[55]!==Y||a[56]!==A||a[57]!==J||a[58]!==nt?(rt=m.jsx(r("MWPBaseMessageRowHeader.react"),{isFirstMessageInGroup:Q,isGroupThread:_,isLastMessageInGroup:Y,message:A,outgoing:J,renderForwardSnippet:N,renderPaidPartnerShipText:P,renderPinnedText:$,renderReplySnippet:nt,renderTextWrapper:x,renderTimestamp:void 0}),a[53]=Q,a[54]=_,a[55]=Y,a[56]=A,a[57]=J,a[58]=nt,a[59]=rt):rt=a[59];var ot;a[60]!==Xe?(ot=Xe?m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}):null,a[60]=Xe,a[61]=ot):ot=a[61];var at;a[62]!==me||a[63]!==T||a[64]!==A||a[65]!==J?(at=me?m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(S.repliedMessage,J?S.alignEnd:!1),{role:"none",children:m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:m.jsx(r("CometErrorBoundary.react"),{fallback:function(){return m.jsx(r("MWV2ReplyError.react"),{outgoing:J})},children:m.jsx(r("IGDRepliedMessage.react"),{isSecureMessage:T,message:A,outgoing:J})})})})):null,a[62]=me,a[63]=T,a[64]=A,a[65]=J,a[66]=at):at=a[66];var it;a[67]!==fe||a[68]!==f||a[69]!==me||a[70]!==T||a[71]!==A||a[72]!==J||a[73]!==V?(it=fe?m.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:m.jsx(b,{isReply:me,isSecureMessage:T,msgId:A.messageId,outgoing:J,renderMessageActions:function(t){return m.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:m.jsx(v,{ariaHidden:f===!1,baseMessage:A,messageHistoryEntry:t,outgoing:J})})},threadType:V,xstyle:J?S.editedMessageOutgoing:S.editedMessageIncoming})}):null,a[67]=fe,a[68]=f,a[69]=me,a[70]=T,a[71]=A,a[72]=J,a[73]=V,a[74]=it):it=a[74];var lt;a[75]!==Te[0]||a[76]!==we||a[77]!==J?(lt=we?m.jsx(r("IGDAIStickerEyebrowText.react"),{attachment:Te[0],outgoing:J}):null,a[75]=Te[0],a[76]=we,a[77]=J,a[78]=lt):lt=a[78];var st;a[79]!==A?(st=function(){return m.jsx(r("IGDMessageGutterItem.react"),{message:A})},a[79]=A,a[80]=st):st=a[80];var ut;a[81]!==ee||a[82]!==p||a[83]!==re||a[84]!==le||a[85]!==be||a[86]!==f||a[87]!==A||a[88]!==J||a[89]!==Re||a[90]!==Se?(ut=function(t){return m.jsx(r("CometPlaceholder.react"),{fallback:m.jsx("div",{className:"x1mf6xnc"}),name:i.id,children:m.jsx(L,{ariaHidden:f===!1,focused:ee||le||f,hidden:t===!0||p===!0,hovered:re,isMessageHidden:be&&!Se,message:A,onMessageUnhide:function(){return Re(!0)},outgoing:J})})},a[81]=ee,a[82]=p,a[83]=re,a[84]=le,a[85]=be,a[86]=f,a[87]=A,a[88]=J,a[89]=Re,a[90]=Se,a[91]=ut):ut=a[91];var ct;a[92]!==_||a[93]!==Y||a[94]!==A?(ct=function(){return m.jsx(E,{isGroupThread:_,isLastMessageInGroup:Y,message:A})},a[92]=_,a[93]=Y,a[94]=A,a[95]=ct):ct=a[95];var dt;a[96]!==me||a[97]!==J?(dt=function(){return m.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:J,isReply:me})},a[96]=me,a[97]=J,a[98]=dt):dt=a[98];var mt;a[99]===Symbol.for("react.memo_cache_sentinel")?(mt=s._(/*BTDS*/"Double tap to like").toString(),a[99]=mt):mt=a[99];var pt=A.messageId+" "+ke,_t=Ee?O:void 0,ft=Ke||Ce?"above":"below",gt;a[100]!==u||a[101]!==Ue||a[102]!==A||a[103]!==F||a[104]!==J||a[105]!==B||a[106]!==ze?(gt=function(t,n,r){return ze(A,F,B,t,n,J,r,u,Ue)},a[100]=u,a[101]=Ue,a[102]=A,a[103]=F,a[104]=J,a[105]=B,a[106]=ze,a[107]=gt):gt=a[107];var ht;a[108]!==Ce||a[109]!==T?(ht=function(t){if(Ce)return null;var e=t.hotEmojiSize;if(T){if(t.replySnippet!=="You reacted to their story"&&t.replySnippet!=="Reacted to your story")return m.jsx(r("IGDChatEmoji.react"),{text:t.text})}else return e!=null&&(d||(d=o("I64"))).gt(e,(c||(c=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").NONE))?m.jsx(r("IGDHotlikeEmoji.react"),{}):m.jsx(r("IGDChatEmoji.react"),{text:t.text})},a[108]=Ce,a[109]=T,a[110]=ht):ht=a[110];var yt=be&&!Se?D:void 0,Ct;a[111]!==T?(Ct=function(t,n,a,i,l){return m.jsx(r("IGDChatBubble.react"),{connectBottom:a,connectTop:n,outgoing:l,precedesXMA:i,children:m.jsx(o("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:T,children:m.jsx(r("IGDMessageListText.react"),{isSecureMessage:T,message:t,outgoing:l,precedesXMA:i})})})},a[111]=T,a[112]=Ct):Ct=a[112];var bt;a[113]!==A.messageId||a[114]!==A.offlineThreadingId?(bt=function(t,n){return m.jsx(r("MWPMessageLoggingWrapper.react"),{messageId:A.messageId,optimisticMessageId:A.offlineThreadingId,xstyle:n,children:t})},a[113]=A.messageId,a[114]=A.offlineThreadingId,a[115]=bt):bt=a[115];var vt;a[116]!==ue||a[117]!==_||a[118]!==Ke||a[119]!==M||a[120]!==A||a[121]!==J||a[122]!==W||a[123]!==q?(vt=function(){return m.jsx(r("IGDMessageRowFooter.react"),{hasReactions:ue,isGroupThread:_,message:A,outgoing:J,reactions:W,reactionsV2:q,resetReactionTranslateStyle:M&&!Ke})},a[116]=ue,a[117]=_,a[118]=Ke,a[119]=M,a[120]=A,a[121]=J,a[122]=W,a[123]=q,a[124]=vt):vt=a[124];var St;a[125]!==Ue||a[126]!==J?(St=function(){return m.jsx(r("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:Ue,outgoing:J,unsupportedType:"unsupported_message"})},a[125]=Ue,a[126]=J,a[127]=St):St=a[127];var Rt;a[128]!==Ke||a[129]!==M||a[130]!==A.text?(Rt=M||!(Ke&&o("IGDXMAAttachmentUtil").isEmojiReaction(A.text)),a[128]=Ke,a[129]=M,a[130]=A.text,a[131]=Rt):Rt=a[131];var Lt;a[132]!==Q||a[133]!==Y||a[134]!==A||a[135]!==F||a[136]!==J||a[137]!==B||a[138]!==W||a[139]!==ft||a[140]!==gt||a[141]!==ht||a[142]!==yt||a[143]!==Ct||a[144]!==bt||a[145]!==vt||a[146]!==St||a[147]!==Rt?(Lt=m.jsx(r("MWPBaseMessage.react"),{attachmentRenderPosition:ft,checkEmoticon:!1,id:A.messageId,isFirstMessageInGroup:Q,isLastMessageInGroup:Y,message:A,nextMessage:F,outgoing:J,prevMessage:B,reactions:W,renderAttachment:gt,renderEmoji:ht,renderHiddenMessage:yt,renderMessageBubble:Ct,renderMessageContainer:bt,renderMessageFooter:vt,renderUnsupportedMessage:St,shouldRenderMessageContent:Rt}),a[132]=Q,a[133]=Y,a[134]=A,a[135]=F,a[136]=J,a[137]=B,a[138]=W,a[139]=ft,a[140]=gt,a[141]=ht,a[142]=yt,a[143]=Ct,a[144]=bt,a[145]=vt,a[146]=St,a[147]=Rt,a[148]=Lt):Lt=a[148];var Et;a[149]!==ke||a[150]!==mt||a[151]!==pt||a[152]!==_t||a[153]!==Lt?(Et=m.jsx(o("PolarisDoubleTappable").DoubleTappable,{ariaLabel:mt,ariaLabelledBy:pt,id:ke,onDoubleClick:_t,role:"button",children:Lt}),a[149]=ke,a[150]=mt,a[151]=pt,a[152]=_t,a[153]=Lt,a[154]=Et):Et=a[154];var kt;a[155]!==T||a[156]!==A||a[157]!==J||a[158]!==Et?(kt=m.jsx(r("IGDInstamadilloLockIcon.react"),{isSecure:T,message:A,outgoing:J,children:Et}),a[155]=T,a[156]=A,a[157]=J,a[158]=Et,a[159]=kt):kt=a[159];var It;a[160]!==Te[0]||a[161]!==Ae||a[162]!==$e||a[163]!==Ne||a[164]!==A.botResponseId?(It=$e||Ne?m.jsx(r("MWMessageSearchPluginMustache.react"),{attachment:Te[0],botResponseId:A.botResponseId,dialogResource:r("JSResourceForInteraction")("IGDMessageSearchPluginSourcesDialog.react").__setRef("IGDMessageRow.react"),flowInstanceId:Ae,isSearchSingleBubblePluginAttachment:Ne}):null,a[160]=Te[0],a[161]=Ae,a[162]=$e,a[163]=Ne,a[164]=A.botResponseId,a[165]=It):It=a[165];var Tt;a[166]!==dt||a[167]!==kt||a[168]!==It?(Tt=m.jsxs(r("CometErrorBoundary.react"),{fallback:dt,children:[kt,It]}),a[166]=dt,a[167]=kt,a[168]=It,a[169]=Tt):Tt=a[169];var Dt;a[170]!==j||a[171]!==ue||a[172]!==A||a[173]!==J||a[174]!==st||a[175]!==ut||a[176]!==ct||a[177]!==Tt?(Dt=m.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{handleMessageExpired:j,hasReactions:ue,message:A,outgoing:J,renderGutterItem:st,renderMessageActions:ut,renderProfile:ct,children:Tt}),a[170]=j,a[171]=ue,a[172]=A,a[173]=J,a[174]=st,a[175]=ut,a[176]=ct,a[177]=Tt,a[178]=Dt):Dt=a[178];var xt;a[179]!==Y?(xt=Y?m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):null,a[179]=Y,a[180]=xt):xt=a[180];var $t;a[181]!==ee||a[182]!==le||a[183]!==f||a[184]!==A||a[185]!==ae||a[186]!==J||a[187]!==te||a[188]!==oe||a[189]!==se||a[190]!==U||a[191]!==tt||a[192]!==rt||a[193]!==ot||a[194]!==at||a[195]!==it||a[196]!==lt||a[197]!==Dt||a[198]!==xt?($t=m.jsx(o("MWMessageEditContext.react").MWMessageEditContextProvider,{children:m.jsxs(r("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:tt,isDialogOpened:le,isFocused:ee,isModal:f,message:A,messageDomID:ae,outgoing:J,setFocused:te,setHovered:oe,setIsDialogOpened:se,stopHoveringRef:U,children:[rt,ot,at,it,lt,Dt,xt]})}),a[181]=ee,a[182]=le,a[183]=f,a[184]=A,a[185]=ae,a[186]=J,a[187]=te,a[188]=oe,a[189]=se,a[190]=U,a[191]=tt,a[192]=rt,a[193]=ot,a[194]=at,a[195]=it,a[196]=lt,a[197]=Dt,a[198]=xt,a[199]=$t):$t=a[199];var Pt;return a[200]!==et||a[201]!==$t?(Pt=m.jsxs(m.Fragment,{children:[et,$t]}),a[200]=et,a[201]=$t,a[202]=Pt):Pt=a[202],Pt}function D(e,t,n){return m.jsx(r("IGDHiddenMessage.react"),{connectBottom:e,connectTop:t,precedesXMA:n})}D.displayName=D.name+" [from "+i.id+"]";function x(e){return m.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:e})}x.displayName=x.name+" [from "+i.id+"]";function $(e,t){return n("cr:1388")==null?null:m.jsx(n("cr:1388"),{message:e,showDivider:t})}$.displayName=$.name+" [from "+i.id+"]";function P(e){return s._(/*BTDS*/"Paid partnership")}function N(e,t){return m.jsx(r("IGDForwardedContent.react"),{message:e,outgoing:t})}N.displayName=N.name+" [from "+i.id+"]";var M=["message","nextMessage","prevMessage","reactions","reactionsV2"];function w(e,t){var n=[].concat(M);return o("IGDEqualityUtils").shallowEqual(e,t,function(e,t,o){return o!=null&&n.includes(o)?r("deepEquals")(e,t):e===t})}var A=_(function(e){return m.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:e.message,children:m.jsx(T,babelHelpers.extends({},e))})},w);l.default=A}),226);
__d("IGDMessageSeenStatusLayout.react",["IGDSText.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.extraLoggingData,i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l;t[0]!==a||t[1]!==i?(l={eventName:"message_seen_status_rendered",extraData:a,flowInstanceId:i},t[0]=a,t[1]=i,t[2]=l):l=t[2];var u=r("MessengerWebUXLogger").useImpressionLoggerRef(l),c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x78zum5 x13a6bvl xvrgn94 x110972j xziim83"},t[3]=c):c=t[3];var d;t[4]!==n?(d=s.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:n}),t[4]=n,t[5]=d):d=t[5];var m;return t[6]!==u||t[7]!==d?(m=s.jsx("div",babelHelpers.extends({},c,{ref:u,children:d})),t[6]=u,t[7]=d,t[8]=m):m=t[8],m}l.default=u}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_id",e[0]),r[0].set("message_id",e[1]),r[1]=r[0].get("thread_id"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),["cm_message_seen_count",t.i64.to_string(r[1])].join(""),t.i64.cast([0,540]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxFetchMessageSeenCountStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchMessageSeenCount"),a.threadKey,a.messageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("useIGDBroadcastChannelSeenCountFetchFailedLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n=o("MWLSThread").useThread(e,c),a=n!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(n),i=r("useIGDBroadcastChannelLogger")(e),l;t[0]!==i?(l=function(){r("promiseDone")(i(o("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE))},t[0]=i,t[1]=l):l=t[1];var s=l;return a?s:r("emptyFunction")}function c(e){return e.threadSubtype}l.default=u}),98);
__d("useIGDBroadcastChannelSeenCountFetchSuccessLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","ReQL","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelLogger","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useState;function m(t,n){var a=o("react-compiler-runtime").c(10),i=(e||(e=r("useReStore")))(),l=o("MWLSThread").useThread(t,p),s;a[0]!==l?(s=l!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(l),a[0]=l,a[1]=s):s=a[1];var u=s,m=r("useIGDBroadcastChannelLogger")(t),_=d(!1),f=_[0],g=_[1],h,y;a[2]!==i||a[3]!==f||a[4]!==m||a[5]!==u||a[6]!==n||a[7]!==t?(h=function(){if(u&&!f)var e=o("ReQL").fromTableAscending(i.tables.community_chat_message_seen_count).getKeyRange(t,n).subscribe(function(t,n){r("promiseDone")(m(o("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE)),e(),g(!0)})},y=[n,t,u,f,i,m],a[2]=i,a[3]=f,a[4]=m,a[5]=u,a[6]=n,a[7]=t,a[8]=h,a[9]=y):(h=a[8],y=a[9]),c(h,y)}function p(e){return e.threadSubtype}l.default=m}),98);
__d("useMessageSeenCountNumber",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(7),a=(s||(s=r("useReStore")))(),l,u;n[0]!==a||n[1]!==t.messageId||n[2]!==t.threadKey?(l=function(){return t.messageId!=null?o("ReQL").fromTableAscending(a.tables.community_chat_message_seen_count).getKeyRange(t.threadKey,t.messageId):o("ReQL").empty()},u=[a,t.threadKey,t.messageId],n[0]=a,n[1]=t.messageId,n[2]=t.threadKey,n[3]=l,n[4]=u):(l=n[3],u=n[4]);var c=o("ReQLSuspense").useFirst(l,u,i.id+":21"),d;n[5]!==c?(d=c!=null?(e||(e=o("I64"))).to_int32(c.seenCount):null,n[5]=c,n[6]=d):d=n[6];var m=d;return m}l.default=u}),98);
__d("IGDMessageSeenStatusBroadcastChannel.react",["fbt","IGDMessageSeenStatusLayout.react","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelSeenCountFetchFailedLogger","useIGDBroadcastChannelSeenCountFetchSuccessLogger","useMessageSeenCountNumber","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useEffect;function m(t){var n=o("react-compiler-runtime").c(13),a=t.message,l=t.thread;r("useIGDBroadcastChannelSeenCountFetchSuccessLogger")(l.threadKey,a.messageId);var u=r("useIGDBroadcastChannelSeenCountFetchFailedLogger")(l.threadKey),m=(e||(e=r("useReStore")))(),p;n[0]!==m||n[1]!==u||n[2]!==a.messageId||n[3]!==a.threadKey?(p=function(){r("promiseDone")(m.runInTransaction(function(e){return r("LSFetchMessageSeenCountStoredProcedure")(r("LSFactory")(e),{messageId:a.messageId,threadKey:a.threadKey})},"readwrite",void 0,void 0,i.id+":51"),r("emptyFunction"),u)},n[0]=m,n[1]=u,n[2]=a.messageId,n[3]=a.threadKey,n[4]=p):p=n[4];var _;n[5]!==m||n[6]!==u||n[7]!==a.messageId||n[8]!==a.threadKey||n[9]!==l.threadSubtype?(_=[m,u,a.messageId,a.threadKey,l.threadSubtype],n[5]=m,n[6]=u,n[7]=a.messageId,n[8]=a.threadKey,n[9]=l.threadSubtype,n[10]=_):_=n[10],d(p,_);var f=r("useMessageSeenCountNumber")(a),g;return n[11]!==f?(g=f!=null&&f!==0?c.jsx(r("IGDMessageSeenStatusLayout.react"),{children:s._(/*BTDS*/"Seen by {lastMessageSeenCount}",[s._param("lastMessageSeenCount",r("intlSummarizeNumber")(f))])}):null,n[11]=f,n[12]=g):g=n[12],g}l.default=m}),226);
__d("useIGDSeenParticipantsAndContacts",["I64","MWPActor.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(e,t){var n=o("react-compiler-runtime").c(4),r=o("MWPActor.react").useActor(),a;return n[0]!==r||n[1]!==e||n[2]!==t?(a=Array.from(t.values()).filter(function(t){var n=t[0],a=t[1];return(s||(s=o("I64"))).equal(a.id,r)?!1:(s||(s=o("I64"))).ge(n.readActionTimestampMs,e.timestampMs)}),n[0]=r,n[1]=e,n[2]=t,n[3]=a):a=n[3],a}l.default=c}),98);
__d("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE",["I64","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=t.threadKey,a=(s||(s=r("useReStore")))(),l=o("ReQLSuspense").useArray(function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(n),o("ReQL").fromTableAscending(a.tables.contacts)).map(function(t){var n=t[0],r=t[1];return[(e||(e=o("I64"))).to_string(r.id),[n,r]]})},[a,n],i.id+":36");return new Map(l)}l.default=u}),98);
__d("IGDMessageSeenStatusGroup.react",["fbt","IGDMessageSeenStatusLayout.react","react","react-compiler-runtime","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(17),n=e.message,a=e.thread,i=r("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a),l=r("useIGDSeenParticipantsAndContacts")(n,i),c=l.length;if(c===0)return null;var d=l[0],m=d[1];if(c===1){var p;t[0]!==m.name?(p=s._(/*BTDS*/"Seen by {name}",[s._param("name",m.name)]),t[0]=m.name,t[1]=p):p=t[1];var _;return t[2]!==p?(_=u.jsx(r("IGDMessageSeenStatusLayout.react"),{children:p}),t[2]=p,t[3]=_):_=t[3],_}var f=l[1],g=f[1];if(c===2){var h;t[4]!==m.name||t[5]!==g.name?(h=s._(/*BTDS*/"Seen by {firstUsername}, {secondUsername}",[s._param("firstUsername",m.name),s._param("secondUsername",g.name)]),t[4]=m.name,t[5]=g.name,t[6]=h):h=t[6];var y;return t[7]!==h?(y=u.jsx(r("IGDMessageSeenStatusLayout.react"),{children:h}),t[7]=h,t[8]=y):y=t[8],y}if(c>=3){var C;t[9]!==l?(C=babelHelpers.arrayLikeToArray(l).slice(2),t[9]=l,t[10]=C):C=t[10];var b;t[11]!==m.name||t[12]!==C.length||t[13]!==g.name?(b=s._(/*BTDS*/"Seen by {firstUsername}, {secondUsername} + {remainingUserCount}",[s._param("firstUsername",m.name),s._param("secondUsername",g.name),s._param("remainingUserCount",C.length.toString())]),t[11]=m.name,t[12]=C.length,t[13]=g.name,t[14]=b):b=t[14];var v;return t[15]!==b?(v=u.jsx(r("IGDMessageSeenStatusLayout.react"),{children:b}),t[15]=b,t[16]=v):v=t[16],v}return null}l.default=c}),226);
__d("useIGDRelativeTimeStamp",["fbt","ServerTime","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=6e4,u=e*60;function c(e,t){return e+t>=o("ServerTime").getMillis()}function d(e,t){var n=new Date(o("ServerTime").getMillis());n.setDate(n.getDate()-t);var r=new Date(e);return n.getDay()===r.getDay()&&n.getMonth()===r.getMonth()?n.getFullYear()===r.getFullYear():!1}function m(t){var n=o("react-compiler-runtime").c(7);if(c(t,e)){var r;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r=s._(/*BTDS*/"just now"),n[0]=r):r=n[0],r}else if(c(t,e*59)){var a;return n[1]!==t?(a=s._(/*BTDS*/"{mins}m ago",[s._param("mins",Math.floor((o("ServerTime").getMillis()-t)/e).toString())]),n[1]=t,n[2]=a):a=n[2],a}else if(c(t,u*23)){var i;return n[3]!==t?(i=s._(/*BTDS*/"{hours}h ago",[s._param("hours",Math.floor((o("ServerTime").getMillis()-t)/u).toString())]),n[3]=t,n[4]=i):i=n[4],i}else if(d(t,0)){var l;return n[5]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"today"),n[5]=l):l=n[5],l}else if(d(t,1)){var m;return n[6]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"yesterday"),n[6]=m):m=n[6],m}else return}l.default=m}),226);
__d("IGDMessageSeenStatusOneToOne.react",["fbt","I64","IGDMessageSeenStatusLayout.react","react","react-compiler-runtime","useIGDRelativeTimeStamp","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(5),n=e.extraLoggingData,a=e.participant,i;t[0]!==a.readWatermarkTimestampMs?(i=(u||(u=o("I64"))).to_float(a.readWatermarkTimestampMs),t[0]=a.readWatermarkTimestampMs,t[1]=i):i=t[1];var l=r("useIGDRelativeTimeStamp")(i),d;return t[2]!==n||t[3]!==l?(d=l!=null?c.jsx(r("IGDMessageSeenStatusLayout.react"),{extraLoggingData:n,children:s._(/*BTDS*/"Seen {timestamp}",[s._param("timestamp",l)])}):c.jsx(r("IGDMessageSeenStatusLayout.react"),{extraLoggingData:n,children:s._(/*BTDS*/"Seen")}),t[2]=n,t[3]=l,t[4]=d):d=t[4],d}function m(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=e.thread,i=r("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a),l=r("useIGDSeenParticipantsAndContacts")(n,i);if(l.length>0){var s=l[0],u=s[0],m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={},t[0]=m):m=t[0];var p;return t[1]!==u?(p=c.jsx(d,{extraLoggingData:m,participant:u}),t[1]=u,t[2]=p):p=t[2],p}else return null}l.default=m}),226);
__d("IGDMessageSeenStatus.react",["I64","IGDMessageSeenStatusBroadcastChannel.react","IGDMessageSeenStatusGroup.react","IGDMessageSeenStatusOneToOne.react","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(9),n=e.message,a=e.thread,i=o("MWPActor.react").useActor(),l=(s||(s=o("I64"))).equal(n.sendStatusV2,(u||(u=o("LSIntEnum"))).ofNumber(2))&&(s||(s=o("I64"))).equal(n.senderId,i);if(l){if(a.threadSubtype!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype)){var d;return t[0]!==n||t[1]!==a?(d=c.jsx(r("IGDMessageSeenStatusBroadcastChannel.react"),{message:n,thread:a}),t[0]=n,t[1]=a,t[2]=d):d=t[2],d}if(o("LSMessagingThreadTypeUtil").isGroup(a.threadType)){var m;return t[3]!==n||t[4]!==a?(m=c.jsx(r("IGDMessageSeenStatusGroup.react"),{message:n,thread:a}),t[3]=n,t[4]=a,t[5]=m):m=t[5],m}var p;return t[6]!==n||t[7]!==a?(p=c.jsx(r("IGDMessageSeenStatusOneToOne.react"),{message:n,thread:a}),t[6]=n,t[7]=a,t[8]=p):p=t[8],p}else return null}l.default=d}),98);
__d("MWChatTypingIndicator.react",["MessengerWebUXLogger","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="x1h06q2e-B",c="x1yitzd3-B",d={dot:{alignItems:"x6s0dn4",animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"xwnhzmj",animationTimingFunction:"x4hg4is",backgroundColor:"x1iuwi03",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",display:"x78zum5",height:"xqu0tyb",marginInlineStart:"xm2jcoa",marginInlineEnd:"x1mpyi22",marginLeft:null,marginRight:null,width:"x51ohtg",$$css:!0},dot1:{animationDelay:"x1t83zlg",$$css:!0},dot1Opacity:{animationDelay:"x1uzojwf",$$css:!0},dot2:{animationDelay:"x1x1c4bx",$$css:!0},dot2Opacity:{animationDelay:"xfjzax6",$$css:!0},dot3:{animationDelay:"x1xwhvez",$$css:!0},dot3Opacity:{animationDelay:"x1la68h3",$$css:!0},dotOpacity:{animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"x1bcwpiy",animationTimingFunction:"x4hg4is",opacity:"x1hc1fzr",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1ta3ar0",$$css:!0}};function m(e){var t,n=e.threadType,a=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"show_typing_indicators",threadType:n});return s.jsxs((t=o("react-strict-dom")).html.div,{ref:a,style:d.root,children:[s.jsx(t.html.div,{style:[d.dotOpacity,d.dot1Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot1]})}),s.jsx(t.html.div,{style:[d.dotOpacity,d.dot2Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot2]})}),s.jsx(t.html.div,{style:[d.dotOpacity,d.dot3Opacity],children:s.jsx(t.html.div,{style:[d.dot,d.dot3]})})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("useIGDTypingIndicatorSender",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useContactIdFromSenderIGID","useIGDTypingEvents","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n,a,l=o("react-compiler-runtime").c(9),u=(s||(s=r("useReStore")))(),c=r("useIGDTypingEvents")(t),d;if(l[0]!==c){var m;d=(m=c.at(0))==null?void 0:m.senderIgId,l[0]=c,l[1]=d}else d=l[1];var p=d,_=(n=o("useContactIdFromSenderIGID").useContactIdFromSenderIGID(u,p))!=null?n:(e||(e=o("I64"))).zero,f,g;l[2]!==u.tables.contacts||l[3]!==_?(f=function(){return o("ReQL").fromTableAscending(u.tables.contacts).getKeyRange(_)},g=[u.tables.contacts,_],l[2]=u.tables.contacts,l[3]=_,l[4]=f,l[5]=g):(f=l[4],g=l[5]);var h=o("ReQLSuspense").useFirst(f,g,i.id+":33"),y=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(u.tables.participants,["nickname"]).getKeyRange(t,_)},[_,u.tables.participants,t],i.id+":39"))==null?void 0:a.nickname,C=h==null?void 0:h.name,b=y!=null&&C!=null?y+" ("+C+")":C,v;return l[6]!==h||l[7]!==b?(v={contact:h,nameTooltipLabel:b},l[6]=h,l[7]=b,l[8]=v):v=l[8],v}l.default=u}),98);
__d("IGDTypingIndicatorFooter.react",["FDSProfilePhoto.react","IGDFallbackProfileUrl","IGDMessageBubbleSelector.react","MWChatTypingIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","MWXTooltip.react","MessengerWebUXLogger","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useIGDTypingIndicatorSender"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=28;function c(e){var t=o("react-compiler-runtime").c(19),n=e.threadKey,a=e.threadType,i;t[0]!==n||t[1]!==a?(i={eventName:"message_list_typing_indicator",threadKey:n,threadType:a},t[0]=n,t[1]=a,t[2]=i):i=t[2];var l=r("MessengerWebUXLogger").useImpressionLoggerRef(i),c=r("useIGDTypingIndicatorSender")(n),d=c.contact,m=c.nameTooltipLabel,p;t[3]!==d?(p=d!=null?r("getLSMediaContactProfilePictureUrl")(d):o("IGDFallbackProfileUrl").FALLBACK_PROFILE_PIC_URL,t[3]=d,t[4]=p):p=t[4];var _=p,f;t[5]!==_?(f=s.jsx(r("FDSProfilePhoto.react"),{size:u,source:{uri:_}}),t[5]=_,t[6]=f):f=t[6];var g=f;if(m!=null){var h;t[7]!==m||t[8]!==g?(h=s.jsx(r("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:g}),t[7]=m,t[8]=g,t[9]=h):h=t[9],g=h}var y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y={className:"xuk3077 x78zum5 x2lah0s xjkvuk6 xmzvs34 x1nn3v0j"},t[10]=y):y=t[10];var C;t[11]!==g?(C=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnSelfCentered,{paint:!0,profile:!0,children:g}),t[11]=g,t[12]=C):C=t[12];var b;t[13]!==a?(b=s.jsx(r("IGDMessageBubbleSelector.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,isBackgroundTransparent:!1,precedesXMA:!1,children:s.jsx(r("MWChatTypingIndicator.react"),{threadType:a})}),t[13]=a,t[14]=b):b=t[14];var v;return t[15]!==l||t[16]!==C||t[17]!==b?(v=s.jsx(r("MWV2MessageRowSimple.react"),{children:s.jsxs("div",babelHelpers.extends({"aria-hidden":!0},y,{ref:l,children:[C,b]}))}),t[15]=l,t[16]=C,t[17]=b,t[18]=v):v=t[18],v}l.default=c}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=e.delayMs,n=e.vcIgnore,o=r("useIsMountedRef")(),a=r("useDebouncedState")(function(){return!0},{debounceMS:t,doNotDebounce:!t}),i=a[0],l=a[1],c=u(function(){return{onHidden:function(){o.current&&l(!1)},onVisible:function(){o.current&&l(!0)}}},[o,l]),d=r("useVisibilityObserver")(c);return s.jsx("div",babelHelpers.extends({className:"x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",ref:d,role:"row"},n===!0?r("CometVisualCompletionAttributes").IGNORE:{},{children:s.jsx("div",{role:"cell",children:i?s.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24}):s.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})})}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWMessageListLoggingContext",["react","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useRef,p=c({current:""});function _(e){var t=e.children,n=e.flowInstanceId,r=m(n);return s.jsx(p.Provider,{value:r,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(){return d(p)}function g(){var e=d(p);return(e.current===null||e.current==="")&&(e.current=r("uuidv4")()),e}l.MWMessageListLoggingContext=_,l.useFlowInstanceIdContext=f,l.useFlowInstanceId=g}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1501","cr:7005"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=n("cr:7005"))!=null?e:n("cr:1501"),u=s;l.default=u}),98);
__d("MWPFetchMessagesPage",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","gkx","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a,l,s,u,c,d,m){return t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,i,p=yield(n=t.messages_ranges_v2__generated).get.apply(n,s);if(!(p==null||(l==="before"?p.isLoadingBefore:p.isLoadingAfter))){var _=c==null?null:yield(i=t.messages_ranges_v2__generated).get.apply(i,c);if(!(c!=null&&(_==null||(l==="before"?_.isLoadingBefore:_.isLoadingAfter))))if(l==="before")if(_==null||p.hasMoreBefore){var f=o("LSMessagingThreadTypeUtil").isArmadilloSecure(u);if(f){if(m!=null)return m(t,p.threadKey,"before",a)}else return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),{direction:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:p.minTimestampMs,threadKey:p.threadKey})}else{var g=o("LSMessagingThreadTypeUtil").isArmadilloSecure(r("nullthrows")(d));if(g){if(m!=null)return m(t,_.threadKey,"before",a)}else return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),{direction:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:_.minTimestampMs,threadKey:_.threadKey})}else if(_==null||p.hasMoreAfter){var h=o("LSMessagingThreadTypeUtil").isArmadilloSecure(u);if(h)if(r("gkx")("23927")){if(m!=null)return m(t,p.threadKey,"after",a)}else throw r("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");else return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),{direction:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:p.minTimestampMs,threadKey:p.threadKey})}else{var y=o("LSMessagingThreadTypeUtil").isArmadilloSecure(r("nullthrows")(d));if(y)if(r("gkx")("23927")){if(m!=null)return m(t,_.threadKey,"after",a)}else throw r("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");else return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),{direction:(e||(e=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:_.minTimestampMs,threadKey:_.threadKey})}}});return function(e){return t.apply(this,arguments)}})(),"readwrite","ui",void 0,i.id+":40")}l.default=s}),98);
__d("MWPFetchMessagesThreadLocks",["FBLogger","I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=(e||(e=o("I64"))).to_string(n);return{lock:{after:function(){var e=i();e.after===!0&&r("FBLogger")("messenger_web").mustfix("Locking threadLockStatus twice"),e.after=!0,t.set(a,e)},before:function(){var e=i();e.before===!0&&r("FBLogger")("messenger_web").mustfix("Locking threadLockStatus twice"),e.before=!0,t.set(a,e)}},release:{after:function(){var e=i();e.after=!1,t.set(a,e)},before:function(){var e=i();e.before=!1,t.set(a,e)}},state:i()};function i(){var e=t.get(a);return e==null&&(e={after:!1,before:!1},t.set(a,e)),e}}l.localThreadStatus=s}),98);
__d("MWPFetchMessagesPageV2",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","MWPFetchMessagesThreadLocks","asyncToGeneratorRuntime","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r,o,a,i,l){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a,i,l,s,u){var c,d,p=yield(c=e.tables.messages_ranges_v2__generated).get.apply(c,a);if(p!=null){var f=l&&(yield(d=e.tables.messages_ranges_v2__generated).get.apply(d,l));if(!(f==null&&l!=null)){var g=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i),h=s!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(s):!1;if(n==="before")return p.hasMoreBefore?g?m(e,t,n,p,u,i):_(e,a,p.threadKey,n):f!=null?h?m(e,t,n,f,u,i):_(e,[f.threadKey,f.minTimestampMs,f.minMessageId],f.threadKey,n):void 0;if(p.hasMoreAfter){if(g)throw r("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");return _(e,a,p.threadKey,n)}else if(f!=null){var y=o("LSMessagingThreadTypeUtil").isArmadilloSecure(r("nullthrows")(s));if(y)throw r("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");return _(e,[f.threadKey,f.minTimestampMs,f.minMessageId],f.threadKey,n)}else return}}}),u.apply(this,arguments)}var c=new Map,d=new Map;function m(e,t,n,r,o,a){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a,i){var l=o("MWPFetchMessagesThreadLocks").localThreadStatus(c,r.threadKey);if(!l.state[n])try{l.lock[n]();var s=yield e.tables.messages.index("messageId").get(r.minMessageId);return yield a.fetchSecureMessagesProtocol(e,r.threadKey,i,s==null?void 0:s.primarySortKey,r,n,t,"user")}finally{l.release[n]()}}),p.apply(this,arguments)}function _(e,t,n,r){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,l,s){var u=o("MWPFetchMessagesThreadLocks").localThreadStatus(d,l);if(!u.state[s])try{return u.lock[s](),yield t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,i=yield(n=t.messages_ranges_v2__generated).get.apply(n,a);if(i&&!(i.isLoadingBefore&&s==="before")&&!(i.isLoadingAfter&&s==="after"))return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),{direction:(e||(e=o("LSIntEnum"))).ofNumber(s==="before"?r("LSMailboxMessagesRangeQueryDirection").BEFORE:r("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:i.minTimestampMs,threadKey:i.threadKey})});return function(e){return t.apply(this,arguments)}})(),"readwrite","ui",void 0,i.id+":203")}finally{u.release[s]()}}),f.apply(this,arguments)}l.default=s}),98);
__d("MWPFetchMessagesRangeForMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,l){return t.runInTransaction(function(t){var i=(e||(e=o("I64"))).to_int32(l);return(i===15||i===16)&&r("FBLogger")("occam").mustfix("MWPFetchMessagesRangeForMessage: incorrect call to MPQ with secure mailbox"),r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(t),{messageId:a,threadKey:n,threadType:l})},"readwrite","ui",void 0,i.id+":28")}l.default=s}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo,m=u.useState,p="x1rutv7r-B",_="xuf935j-B";function f(e){var t=e.children,n=e.visible,r=m(n),o=r[0],a=r[1];return c(function(){n&&a(!0)},[n,a]),d(function(){return o?s.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:s.jsx("div",babelHelpers.extends({},{0:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j4bph1 xk9af5f"},1:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j49z95 x1dufm33"}}[!!n<<0],{onAnimationEnd:function(t){n||a(!1)},children:t}))}):null},[n,o,a,t])}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("MWScrollUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){e.scrollIntoView()}i.scrollElementIntoView=e}),66);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticMarkThreadReadV2"),a.threadKey,a.readWatermarkTimestampMs);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSReadReceiptSettingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});i.default=e}),66);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var t=(s||(s=r("useReStore")))(),n=o("MWPActor.react").useActor(),a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(t.tables.messaging_privacy_settings).getKeyRange(n)},[t,n],i.id+":23");if(a==null)return r("MessengerWebPrivacySettings").read_receipts_disabled===r("LSReadReceiptSettingState").DISABLED;var l=a.readReceiptsDisabled!=null?(e||(e=o("LSIntEnum"))).toNumber(a.readReceiptsDisabled):r("LSReadReceiptSettingState").DEFAULT;return l===r("LSReadReceiptSettingState").DISABLED}l.default=u}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("MWLSThread").useThread(t,function(t){return(e||(e=o("LSIntEnum"))).toNumber(t.readReceiptsDisabledV2)}),a=r("useMWIsReadReceiptsDisabledForUser")();return n!=null&&n!==r("LSReadReceiptSettingState").DEFAULT?n===r("LSReadReceiptSettingState").DISABLED:a}l.default=s}),98);
__d("useMWLSMarkThreadAsRead",["FBLogger","I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","cr:2580","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(t,a){var l,u=(e||(e=r("useReStore")))(),d=(l=o("MWThreadKey.react").useMWThreadKeyMemoized())!=null?l:a;if(d==null)throw r("FBLogger")("messenger_web").mustfixThrow("Tried to get a thread key when there was none");var m=r("MessengerWebUXLogger").useInteractionLogger();return c(function(){m==null||m({eventName:"mark_thread_as_read"}),r("promiseDone")(u.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var a=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(d));if(a!=null){var i=a.lastActivityTimestampMs,l=a.lastReadWatermarkTimestampMs,u=a.threadType;if((s||(s=o("I64"))).gt(i,l)){n("cr:2580")&&t!=null&&n("cr:2580")({threadKey:d,threadType:u},"seen_receipt",t);var c=i;return r("LSOptimisticMarkThreadReadV2StoredProcedure")(r("LSFactory")(e),{readWatermarkTimestampMs:c,threadKey:d})}}});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":54"))},[m,u,d,t])}l.default=d}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSContactUtils","LSIntEnum","MAWContactRelationshipType","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","MessagingFolderTag","Promise","WAJobOrchestratorTypes","promiseDone","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(t,a){var i=(c||(c=r("useReStore")))(),l=r("useMWLSMarkThreadAsRead")(a,t.threadKey),d=r("useMWIsReadReceiptsDisabledForThread")(t.threadKey),m=r("useMWGetOtherUserContact")(t.threadKey,t.threadType,["capabilities","capabilities2","contactViewerRelationship","blockedByViewerStatus"]);return o("Int64Hooks").useCallbackInt64(function(){if((s||(s=o("I64"))).ge(t.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))){l(),r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(i.tables,t.threadKey,"useMAWMarkThreadAsRead",function(a,i){return t.folderName===r("MessagingFolderTag").SPAM||t.folderName===r("MessagingFolderTag").PENDING?(e||(e=n("Promise"))).resolve():o("MAWTimedJob").TimedUIJobStarters.fireAndForget(o("MAWJobDefinitions").jobSerializers.markThreadAsRead(i,m&&o("MAWContactRelationshipType").getContactRelationshipType(m),m?o("LSContactUtils").isContactBlocked(m):!1,m?o("LSContactUtils").isContactRestricted(m):!1,d,{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},[t.folderName,t.authorityLevel,t.threadKey,l,i,m,d])}l.default=d}),98);
__d("ReQLObservable",["SortedAsyncIterable","applyChangesToBPlusTree","asyncToGeneratorRuntime","createBPlusTreeFromSorted","isPromise","promiseDone","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){return o("relay-runtime").Observable.create(function(i){var l=a(t),s=function(t){i.closed||i.next(t)},u,c=[],d=l.subscribe(function(e,t){c.push([e,t])}),m=t.subscribeToCommit(function(){if(!i.closed&&u!=null&&c.length>0){var e=u;r("applyChangesToBPlusTree")(e,c)&&s(Array.from(e.entries()))}}),p=l.iterator(o("SortedAsyncIterable").getOrCreateContext(l)),_=[];return r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){for(;!i.closed;){var t=p.next();if((e||(e=r("isPromise")))(t)&&(t=yield t),t.done)break;_.push(t.value)}if(!i.closed){var n=u=r("createBPlusTreeFromSorted")(_,l.direction);s(r("applyChangesToBPlusTree")(n,c)?Array.from(n.entries()):_)}})()),function(){d(),m()}})}l.create=s}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","Int64Hooks","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","ReQLObservable","UserActivity","asyncToGeneratorRuntime","cr:268","promiseDone","useAsyncReStore","useEmptyFunction","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e=n("cr:268"))!=null?e:r("useEmptyFunction");function d(e,t,n,r){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=yield o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.tables.messages).getKeyRange(t));if(i==null)return!1;var l=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t));if(l==null)return!1;var s=a!==void 0&&a==="ChatTab"?n:!0,c=(u||(u=o("I64"))).gt(i.timestampMs,l.lastActivityTimestampMs)?i.timestampMs:l.lastActivityTimestampMs,d=(u||(u=o("I64"))).gt(c,l.lastReadWatermarkTimestampMs);return r("UserActivity").isOnTab()&&r("UserActivity").isActive()&&s&&d}),m.apply(this,arguments)}function p(e,t){var a=r("useAsyncReStore")(),i=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return o("Int64Hooks").useCallbackInt64(function(){r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield a;if(yield d(n,e,i,l))return t()})())},[a,e,i,l,t])}function _(e,t,a,i){var l=(s||(s=r("useReStore")))();o("Int64Hooks").useEffectInt64(function(){var r=(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=e();if(typeof n!="boolean"&&(n=yield n),n&&!t())return a()});return function(){return r.apply(this,arguments)}})();window.addEventListener("focus",r),document.hasFocus()&&r();var s=o("ReQLObservable").create(l,function(){return o("ReQL").fromTableDescending(l.tables.messages).getKeyRange(i)}).subscribe({next:r});return function(){window.removeEventListener("focus",r),s.unsubscribe()}},[a,e,t,i,l])}function f(e,t,n,r){var o=p(e.threadKey,t);return c(e),_(n,r,o,e.threadKey),o}l.default=f}),98);
__d("useMWPSafelyMarkThreadAsRead",["I64","Int64Hooks","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","ServerTime","cr:886","promiseDone","useAsyncReStore","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useMWPThreadHasSpectraUser"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a,l,s){var u=r("useAsyncReStore")(),c=t.consistentThreadFbid,d=t.threadKey,m=t.threadType,p=r("useMWPThreadHasSpectraUser")(d),_=r("useMAWMarkThreadAsRead")(t),f=n("cr:886")({consistentThreadFbid:c,entryPoint:s,threadKey:d,threadType:m}),g=o("Int64Hooks").useCallbackInt64(function(){if(!p){if(f==null||f(),o("LSMessagingThreadTypeUtil").isArmadilloSecure(m)){_();return}r("promiseDone")(u,function(t){return t.runInTransaction(function(t){return r("LSOptimisticMarkThreadReadV2StoredProcedure")(r("LSFactory")(t),{readWatermarkTimestampMs:(e||(e=o("I64"))).of_float(o("ServerTime").getMillis()),threadKey:d})},"readwrite","ui",void 0,i.id+":67")})}},[u,f,_,p,d,m]);return r("useMWMarkThreadAsReadWhenNewMessagesArrive")(t,g,a,l)}l.default=s}),98);
__d("useMWPMessageListScroll",["MWPVisibleMessageContext.react","MWScrollUtils","Promise","react","requestAnimationFrame","useMWPSafelyMarkThreadAsRead"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.createRef,d=u.useCallback,m=u.useEffect,p=u.useImperativeHandle,_=u.useRef,f=u.useState;function g(e,t,n){var r=e.get(t);return r==null&&(r=n(),e.set(t,r)),r}function h(t,a,i,l,s,u,h,y,C,b){var v=_(null),S=_(!1),R=d(function(){b&&(u==null||S.current||(u(!1),S.current=!0))},[u,b]);m(function(){var e,t,n;if(!(u==null||S.current)){if(l!=null&&!l.hasMoreBefore){u(!0),S.current=!0;return}s&&s((e=(t=v.current)==null?void 0:t.getScrollerMeasurements())!=null?e:void 0,l===i);var r=(n=v.current)==null?void 0:n.doesContentFillScroll;if(r!=null&&r()){u(!1),S.current=!0;return}}},[u,l,s,i]);var L=f(!0),E=L[0],k=L[1],I=(l==null?void 0:l.hasMoreAfter)===!1,T=d(function(){return new(e||(e=n("Promise")))(function(e){var t=v.current;t==null?e(!1):r("requestAnimationFrame")(function(){e(t.isAtBottom()&&I)})})},[I]),D=r("useMWPSafelyMarkThreadAsRead")(C,T,t,a);m(function(){var e,n=(e=v.current)==null?void 0:e.onCloseToBottom;if(n!=null)return n(0,function(e){e&&!t()&&D()})},[D,t]),m(function(){var e,t=(e=v.current)==null?void 0:e.onCloseToBottom;if(t!=null&&h!=null)return t(36,h)},[h]),m(function(){var e,t=(e=v.current)==null?void 0:e.onCloseToBottom;if(t!=null)return t(600,k)},[i==null?void 0:i.minMessageId]);var x=_(new Map),$=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),P=$.setVisibleMessage,N=$.visibleMessage,M=N==null?void 0:N.messageId,w=d(function(e){return g(x.current,e,c)},[]);m(function(){var e;if(M!=null){var t=(e=x.current.get(M))==null?void 0:e.current;t!=null&&o("MWScrollUtils").scrollElementIntoView(t)}},[M]);var A=d(function(){l===i&&v.current!=null&&v.current.scrollToBottom(),P(function(){})},[i,l,P]);return p(y,function(){return{getScrollAreaElement:function(){var e;return(e=v.current)==null?void 0:e.getScrollAreaElement()},jumpToMostRecentMessage:function(){A()},restoreScrollPosition:function(){var e;return(e=v.current)==null?void 0:e.restoreScrollPosition()}}},[A]),[E,v,A,w,R]}l.default=h}),98);
__d("useShallowEqualState",["react","shallowEqual"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(e){var t=c(e),n=t[0],o=t[1],a=u(function(e){if(typeof e=="function"){var t=e;return o(function(e){var n=t(e);return r("shallowEqual")(e,n)?e:n})}return o(function(t){return r("shallowEqual")(t,e)?t:e})},[]);return[n,a]}l.default=d}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","FBLogger","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MAWFetchMoreMessagesWhenEnabled","MWPFetchMessagesPage","MWPFetchMessagesPageV2","MWPFetchMessagesRangeForMessage","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","emptyFunction","gkx","justknobx","promiseDone","react","useMWPMessageListScroll","useReStore","useShallowEqualState"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=u||(u=o("react")),p=u,_=p.startTransition,f=p.useCallback;function g(){}var h=(e=r("MAWFetchMoreMessagesWhenEnabled")==null?void 0:r("MAWFetchMoreMessagesWhenEnabled").useSecureDataStorage)!=null?e:g,y={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},C=(d||(d=o("I64"))).of_string("9999999999999");function b(e){var t=e.isCollapsed,n=e.messageId,r=e.primarySortKey,a=e.secondarySortKey;return o("ReQL").key(r,a,n,t)}function v(e,t){if(!(e==null||t==null))return(d||(d=o("I64"))).compare(t,e.maxTimestampMs)<=0?e:null}function S(e){var t=(s||(s=r("useReStore")))();return o("ReQLSuspense").useFirst(function(){return e==null||(d||(d=o("I64"))).equal(e.minTimestampMs,(d||(d=o("I64"))).zero)?o("ReQL").empty():o("ReQL").fromTableAscending(t.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(e.threadKey).bounds({gte:o("ReQL").key(e.minTimestampMs,e.minMessageId)})},[t,e],i.id+":146")}function R(e){var t=(s||(s=r("useReStore")))();return o("ReQLSuspense").useFirst(function(){return e==null||(d||(d=o("I64"))).equal(e.maxTimestampMs,C)?o("ReQL").empty():o("ReQL").fromTableDescending(t.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey","timestampMs"]).getKeyRange(e.threadKey).bounds({lte:o("ReQL").key(e.maxTimestampMs,e.maxMessageId)})},[t,e],i.id+":172")}function L(e){var t=e.callingSurface,n=e.checkIsThreadManuallySetAsUnread,a=n===void 0?r("emptyFunction").thatReturnsFalse:n,l=e.entryPoint,u=e.headerStyle,p=e.isSufficientContentLoadedAbove,g=e.logScrollerMetadata,L=e.onInitialLoadingCompleted,E=e.onPageLoaded,k=e.onScrollToBottom,I=e.onUserScroll,T=e.pageSize,D=e.ref,x=e.renderFooter,$=e.renderHeader,P=e.renderHeaderContentSpacer,N=e.renderJumpToMostRecentMessageButton,M=e.renderLoadingAnimation,w=e.renderRow,A=e.secondaryThread,F=e.setScrollTopInResetForBottomAnchor,O=F===void 0?!0:F,B=e.shouldPausePageLoadTracking,W=e.thread,q=e.triggerRenderingCompleteOnResize,U=q===void 0?!1:q,V=W.threadKey,H=W.threadType,G=A==null?void 0:A.threadKey,z=A==null?void 0:A.threadType,j=(s||(s=r("useReStore")))(),K=h(),Q=o("Int64Hooks").useCallbackInt64(function(e,t,n){r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"fetch_messages_page_start","AppTiming")}),r("gkx")("239")&&K!=null?r("promiseDone")(r("MWPFetchMessagesPageV2")(j,T,n,e,H,t,z,K).then(function(){r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"fetch_messages_page_end","AppTiming")})})):r("promiseDone")(r("MWPFetchMessagesPage")(j,T,n,e,H,t,z,function(){return r("FBLogger")("messenger_web").mustfix("Secure message fetching used in open thread"),Promise.resolve()}).then(function(){r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"fetch_messages_page_end","AppTiming")})}))},[K,j,T,H,z]),X=o("Int64Hooks").useCallbackInt64(function(e){r("promiseDone")(r("MWPFetchMessagesRangeForMessage")(j,V,e,H))},[j,V,H]),Y=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(j.tables.messages_ranges_v2__generated).getKeyRange(V)},[j,V],i.id+":328"),J=o("ReQLSuspense").useFirst(function(){return G==null?o("ReQL").empty():o("ReQL").fromTableDescending(j.tables.messages_ranges_v2__generated).getKeyRange(G)},[j,G],i.id+":335"),Z=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),ee=Z.visibleMessage,te=ee==null?void 0:ee.messageId,ne=ee==null?void 0:ee.timestamp,re=o("ReQLSuspense").useFirst(function(){return te!=null&&ne!=null?o("ReQL").fromTableAscending(j.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(V,ne,te):o("ReQL").empty()},[j,V,te,ne],i.id+":350"),oe=v(o("ReQLSuspense").useFirst(function(){return ne!=null?o("ReQL").fromTableDescending(j.tables.messages_ranges_v2__generated).getKeyRange(V).bounds({lte:[ne]}):o("ReQL").empty()},[j,ne,V],i.id+":363"),ne),ae=r("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:Y}),ie=ae[0],le=ae[1],se=f(function(e){return _(function(){return le(e)})},[le,_]),ue=ie.displayMessage,ce=ie.displayMessagesRange;o("Int64Hooks").useEffectInt64(function(){te==null||ne==null?se(function(e){return babelHelpers.extends({},e,{displayMessage:void 0,displayMessagesRange:Y})}):oe==null?X(te):oe.minMessageId===te&&oe.hasMoreBefore?Q(o("ReQL").key(oe.threadKey,oe.minTimestampMs,oe.minMessageId),null,"before"):oe.maxMessageId===te&&oe.hasMoreAfter?Q(o("ReQL").key(oe.threadKey,oe.minTimestampMs,oe.minMessageId),null,"after"):re!=null&&se(function(e){return babelHelpers.extends({},e,{displayMessage:re,displayMessagesRange:oe})})},[Y,Q,X,se,re,te,ne,oe]);var de=S(ce),me=R(ce),pe=S(J),_e=r("useMWPMessageListScroll")(a,l,Y,ce,g,L,k,D,W,U),fe=_e[0],ge=_e[1],he=_e[2],ye=_e[3],Ce=_e[4],be=o("Int64Hooks").useMemoInt64(function(){var e=j.tables.messages.index("messageDisplayOrder"),t=o("LSMessagingThreadTypeUtil").isCMSubthread(H),n=j.tables.messages.index("messageSubthreadKey");function a(e,t){var n=e.getKeyRange(V).filter(function(e){var t=e.isCollapsed,n=e.isExclusiveToSubthread,a=e.messageRenderingType;return n!==!0&&!t&&!(d||(d=o("I64"))).equal(a,(d||(d=o("I64"))).of_int32(r("LSMessageRenderingType").HIDDEN))});return G==null?t!=null?o("ReQL").union(o("ReQL").prependKey(t.getKeyRange(V),0),o("ReQL").prependKey(n,1)):o("ReQL").prependKey(n,1):o("ReQL").union(o("ReQL").prependKey(e.getKeyRange(G).filter(function(e){var t=e.isCollapsed;return!t}),0),o("ReQL").prependKey(n,1))}var i=a(o("ReQL").fromTableAscending(e),t?o("ReQL").fromTableAscending(n):void 0),l=a(o("ReQL").fromTableDescending(e),t?o("ReQL").fromTableDescending(n):void 0);return o("ReQLPaginatedList.shared").fromIterables(i,l)},[j,G,V,H]),ve=ce!=null&&(d||(d=o("I64"))).equal(ce.maxTimestampMs,C),Se=ce!=null&&(d||(d=o("I64"))).equal(ce.minTimestampMs,(d||(d=o("I64"))).zero),Re=J!=null&&(d||(d=o("I64"))).equal(J.minTimestampMs,(d||(d=o("I64"))).zero),Le=t!=null?t:"thread_view",Ee=f(function(e,t,n){var a=t.nextItem,i=t.previousItem;return m.jsx(r("CometHideableComponentExperiment.react"),{callingSurface:Le,disableHiding:!0,scrollport:function(){var e;return(e=ge.current)==null?void 0:e.getScrollAreaElement()},unmountXStyle:y.backgroundColor,children:m.jsx(o("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:e.senderId,threadKey:e.threadKey,children:w({domElementRef:ye(e.messageId),message:e,nextMessage:a,prevMessage:i,rowIndexFromBottom:n})})},e.offlineThreadingId)},[ye,w,Le,ge]),ke=(d||(d=o("I64"))).equal(W.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&o("LSMessagingThreadTypeUtil").isCMSubthread(W.threadType);if((ce==null||de==null&&!Se||me==null&&!ve)&&!ke){if((d||(d=o("I64"))).equal(W.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)))return m.jsxs(m.Fragment,{children:[m.jsx(r("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),$!=null?$():null]});var Ie=ce==null?"displayMessagesRangeNull":de==null&&!Se?"noMinMessage":me==null&&!ve?"noMaxMessage":"other";return m.jsxs(m.Fragment,{children:[m.jsx(r("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+Ie,hold:!0}),M!=null?M(!1):null]})}var Te=!ke&&ce!=null?o("ReQL").key(ce.threadKey,ce.minTimestampMs,ce.minMessageId):null,De=J==null?null:o("ReQL").key(J.threadKey,J.minTimestampMs,J.minMessageId),xe=ue==null?"bottom":[1].concat(b(ue)),$e=de==null?pe==null||Re?null:[0].concat(b(pe)):[1].concat(b(de)),Pe=me==null?null:[1].concat(b(me));return m.jsxs(r("Box.react"),{xstyle:y.list,children:[m.jsx(r("BaseHeadingContextWrapper.react"),{children:m.jsx(r("ReQLPaginatedList.react"),{bounds:{gte:$e,lte:Pe},data:be,hasReachedBottom:!ke&&ce!=null?!ce.hasMoreAfter:!0,hasReachedTop:!ke&&ce!=null?J==null?!(ce.hasMoreBefore||A!=null):!(ce.hasMoreBefore||J.hasMoreBefore):!0,headerStyle:u,imperativeRef:ge,initialAnchor:xe,initialRenderComplete:Ce,isSufficientContentLoadedAbove:p,onReachingBottom:!ke&&Te!=null?function(){Q(Te,De,"after")}:r("emptyFunction"),onReachingTop:!ke&&Te!=null?function(){Q(Te,De,"before")}:r("emptyFunction"),onUserScroll:I,pageSize:T,renderFooter:x,renderHeader:$,renderHeaderContentSpacer:P!=null?P:function(){return m.jsx(r("Box.react"),{xstyle:y.spacer})},renderItem:Ee,renderLoadingAnimation:function(t,n){var e=t==="onTop"&&n>r("justknobx")._("2674");return m.jsxs(m.Fragment,{children:[M==null?void 0:M(e),m.jsx(r("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems(Relay)",hold:!e})]})},setScrollTopInResetForBottomAnchor:O,xstyle:y.list})}),N&&m.jsx(r("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!ke&&ce!=null?!fe||ce.hasMoreAfter:!1,children:N(he)})]})}L.displayName=L.name+" [from "+i.id+"]",l.default=L}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo;function m(e,t,n){return t["data-scope"]==="date_break"}function p(e){var t=e.ariaLabel,n=e.children,a=e.hasMessages,i=a===void 0?!0:a,l=e.modal,u=e.onNavigate,p=u===void 0?r("emptyFunction"):u,_=e.setModal,f=e.wrapX,g=f===void 0?!1:f,h=e.wrapY,y=h===void 0?!1:h,C=c(function(e){p(e);var t=e.type;switch(t){case"PAGE_DOWN":case"PAGE_UP":break;default:return}var n=t==="PAGE_DOWN";e.preventDefault();for(var r=e.currentRowIndex+(n?1:-1)|0,o=!1;!o;){var a=e.getCell(r,e.currentCellIndex);if(a==null){var i=e.getCell(n?r-1|0:0,e.currentCellIndex);i!=null&&e.focusCell(i),o=!0}else{var l=a.scopeRef.current,s=l!=null?l.DO_NOT_USE_queryFirstNode(m):null;s==null?r=n?r+1|0:r-1|0:(e.focusCell(a),o=!0)}}},[]),b=d(function(){return i?s.jsx("div",{"aria-label":t,className:"x1gp6l83 x18b5jzi x1alpsbp x148vw1v x1t7ytsu xyumdvf x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:n}):s.jsx("div",{className:"x1gp6l83 x18b5jzi x1alpsbp x148vw1v x1t7ytsu xyumdvf x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",children:n})},[t,n,i]);return s.jsx(o("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{modal:l,setModal:_,children:s.jsx(o("FocusRegion.react").FocusRegion,{recoverFocusQuery:o("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:s.jsx(o("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:l!=="",onNavigate:C,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:y,children:b})})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useRef;function u(){return s(function(){})}l.useStopHoveringRef=u}),98);
__d("useForwardedRef",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e){var t=c(null),n=u(function(n){typeof e=="function"?e(n):e&&(e.current=n),t.current=n},[e]);return[t,n]}l.default=d}),98);
__d("useHandleDoubleClickToLike",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWChatReactionsUtils","MWPActor.react","ReQL","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime","useAsyncReStore","useIGDGlobalReactMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useCallback,m=c.useContext;function p(e,t,n,r){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){if(n!=null&&a!=null&&o("LSMessagingThreadTypeUtil").isOneToOne(a)){var i,l=yield(i=o("ReQL")).firstAsync(i.leftJoin(i.fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(n).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,t)}),i.fromTableAscending(e.tables.contacts,["blockedByViewerStatus"])).map(function(e){var t=e[0],n=e[1];return n}));if(l!=null)return!(s||(s=o("I64"))).equal(l.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))}return!1}),_.apply(this,arguments)}function f(e){var t=o("react-compiler-runtime").c(9),a=r("useAsyncReStore")(),i=o("MWPActor.react").useActor(),l=e.threadKey,s=o("MWPActor.react").useActor(),u=r("useIGDGlobalReactMessage")(e,"reaction_tray"),c=m(o("MAWEditMessageContext.react").Context),d=c.editMessageData,_=d!=null,f;return t[0]!==s||t[1]!==i||t[2]!==a||t[3]!==_||t[4]!==e.messageId||t[5]!==e.threadKey||t[6]!==u||t[7]!==l?(f=function(){r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!_){var t=yield a,n=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(l));if(n){var c=yield p(t,i,l,n.threadType),d=!o("LSThreadBitOffset").has(18,n)||c;if(!d){var m=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.reactions).getKeyRange(e.threadKey,e.messageId,s));(m==null?void 0:m.reaction)!=null?r("promiseDone")(u("","like")):r("promiseDone")(u(o("MWChatReactionsUtils").heartType1,"like"))}}}})())},t[0]=s,t[1]=i,t[2]=a,t[3]=_,t[4]=e.messageId,t[5]=e.threadKey,t[6]=u,t[7]=l,t[8]=f):f=t[8],f}l.default=f}),98);
__d("useIGDMessageListThemeConfig",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={dark:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","chat-edit-message-overlay-color":"rgb(var(--ig-primary-background))","chat-incoming-message-bubble-background-color":"rgb(var(--ig-highlight-background))","chat-incoming-message-text-color":"rgb(var(--ig-primary-text))","chat-outgoing-message-background-gradient":"#3797F0","chat-outgoing-message-bubble-background-color":"#3797F0","mwp-message-list-profile-start-padding":"16px","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},light:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","chat-edit-message-overlay-color":"rgb(var(--ig-primary-background))","chat-incoming-message-bubble-background-color":"rgb(var(--ig-highlight-background))","chat-incoming-message-text-color":"rgb(var(--ig-primary-text))","chat-outgoing-message-background-gradient":"#3797F0","chat-outgoing-message-bubble-background-color":"#3797F0","mwp-message-list-profile-start-padding":"16px","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},type:"VARIABLES"},e[0]=t):t=e[0],t}l.default=u}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t){var n=o("MWPActor.react").useActor(),a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useArray(function(){return t.threadName!=null?o("ReQL").empty():o("ReQL").leftJoin(o("ReQL").fromTableAscending(a.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[a,t.threadKey,t.threadName],i.id+":32");return o("Int64Hooks").useMemoInt64(function(){var e;if(t.threadName!=null)return s._(/*BTDS*/"Messages in conversation titled {name of conversation}",[s._param("name of conversation",t.threadName)]).toString();var r=(e=o("MWPGetThreadTitle").computeThreadTitle(void 0,t.threadType,l,n))!=null?e:"";return s._(/*BTDS*/"Messages in conversation with {participant list}",[s._param("participant list",r)]).toString()},[n,l,t.threadName,t.threadType])}l.default=u}),226);
__d("useMessageAttachment",["ReQL","ReQLSuspense","mwpMessageHasAttachment","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]!==t?(l=r("mwpMessageHasAttachment")(t),n[0]=t,n[1]=l):l=n[1];var s=l,u,c;return n[2]!==a||n[3]!==s||n[4]!==t.messageId||n[5]!==t.threadKey?(u=function(){return s?o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId):o("ReQL").empty()},c=[a,t.threadKey,t.messageId,s],n[2]=a,n[3]=s,n[4]=t.messageId,n[5]=t.threadKey,n[6]=u,n[7]=c):(u=n[6],c=n[7]),o("ReQLSuspense").useFirst(u,c,i.id+":30")}l.default=s}),98);
__d("IGDMessageList.react",["BaseThemeProvider.react","CometErrorBoundary.react","FBLogger","I64","IGDEBRestoreMessageById","IGDEqualityUtils","IGDInstamadilloUtils","IGDMessageErrorBubble.react","IGDMessageRow.react","IGDMessageSeenStatus.react","IGDTypingIndicatorFooter.react","IGDVisibilityAware.react","IGDXMAUtils","Int64Hooks","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWInboxThreadMessagesSpinner.react","MWMessageListLoggingContext","MWPActor.react","MWPBaseMessageList.react","MWPMessageListFocusTable.react","MWPMessageReactions.react","MWV2MessageActionsVisibility.react","MessengerWebUXLogger","PolarisUA","WebUXLoggingSurfaceContextProvider","asyncToGeneratorRuntime","cr:10750","cr:10751","isThreadLevelCutoverEnabled","polarisDebounce","promiseDone","qex","react","react-compiler-runtime","shallowEqual","stylex","useAsyncReStore","useForwardedRef","useHandleDoubleClickToLike","useIGDAutoFitViewport","useIGDMessageListThemeConfig","useIGDTypingIndicatorOnThread","useMWPAriaLabelForMessageListGrid","useMessageAttachment","useStableCallback","useStableValue","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState,g={bottom:500,top:500},h={bottom:100,top:100};function y(t){var a=o("react-compiler-runtime").c(50),i=t.formatText,l=t.isLoggedOutPreview,s=t.loadThreadlineQueries,d=t.modal,m=t.onGetScrollAreaElement,_=t.stopHoveringRef,f=t.thread,y=t.domElementRef,C=t.message,b=t.nextMessage,v=t.prevMessage,S;a[0]!==f.threadType?(S=o("LSMessagingThreadTypeUtil").isGroup(f.threadType),a[0]=f.threadType,a[1]=S):S=a[1];var R=S,L;a[2]!==C?(L=o("IGDInstamadilloUtils").isInstamadilloMessage(C),a[2]=C,a[3]=L):L=a[3];var E=L,k=r("MessengerWebUXLogger").useInteractionLogger(),I=r("useStableCallback")(r("useHandleDoubleClickToLike")(C)),T;a[4]!==I||a[5]!==k?(T=function(){k==null||k({eventName:"igd_double_click_to_like"}),I()},a[4]=I,a[5]=k,a[6]=T):T=a[6];var D=T,x=o("LSThreadBitOffset").has(139,f),$=o("MWPMessageReactions.react").useNonZeroCountReactionsV2(C),P=o("MWPMessageReactions.react").useReactions(C),N=r("useMessageAttachment")(C),M;a[7]!==N?(M=o("IGDXMAUtils").checkIsXMAExpired(N),a[7]=N,a[8]=M):M=a[8];var w=M,A=o("MWPActor.react").useActor(),F;a[9]!==A||a[10]!==C.senderId?(F=(u||(u=o("I64"))).equal(C.senderId,A),a[9]=A,a[10]=C.senderId,a[11]=F):F=a[11];var O=F,B=r("useAsyncReStore")(),W,q;a[12]!==B||a[13]!==E||a[14]!==C.messageId?(W=function(){r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=r("qex")._("954");if(!(!E||!e)){var t=yield B;yield r("IGDEBRestoreMessageById")(t,C.messageId)}})())},q=[B,E,C.messageId],a[12]=B,a[13]=E,a[14]=C.messageId,a[15]=W,a[16]=q):(W=a[15],q=a[16]),p(W,q);var U;a[17]!==O?(U=function(){return c.jsx(r("IGDMessageErrorBubble.react"),{isOutgoing:O})},a[17]=O,a[18]=U):U=a[18];var V=l===!0,H=d===C.messageId,G=x?$:void 0,z;a[19]!==y||a[20]!==i||a[21]!==R||a[22]!==E||a[23]!==w||a[24]!==s||a[25]!==C||a[26]!==b||a[27]!==D||a[28]!==v||a[29]!==P||a[30]!==_||a[31]!==H||a[32]!==G||a[33]!==V||a[34]!==f.threadType?(z=c.jsx(r("IGDMessageRow.react"),{domElementRef:y,formatText:i,hideRowActions:V,isGroupThread:R,isModal:H,isSecureMessage:E,isXMAExpired:w,loadThreadlineQueries:s,message:C,nextMessage:b,onDoubleClickToLike:D,prevMessage:v,reactions:P,reactionsV2:G,stopHoveringRef:_,threadType:f.threadType}),a[19]=y,a[20]=i,a[21]=R,a[22]=E,a[23]=w,a[24]=s,a[25]=C,a[26]=b,a[27]=D,a[28]=v,a[29]=P,a[30]=_,a[31]=H,a[32]=G,a[33]=V,a[34]=f.threadType,a[35]=z):z=a[35];var j;a[36]!==C||a[37]!==b||a[38]!==f?(j=b!=null?null:c.jsx(r("IGDMessageSeenStatus.react"),{message:C,thread:f}),a[36]=C,a[37]=b,a[38]=f,a[39]=j):j=a[39];var K;a[40]!==z||a[41]!==j||a[42]!==U?(K=c.jsxs(r("CometErrorBoundary.react"),{fallback:U,children:[z,j]}),a[40]=z,a[41]=j,a[42]=U,a[43]=K):K=a[43];var Q=K,X=r("useIGDMessageListThemeConfig")(),Y;a[44]!==Q||a[45]!==m?(Y=function(n,a){return c.jsx("div",{className:(e||(e=r("stylex")))(n),style:a,children:c.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view_messages",children:c.jsx(r("IGDVisibilityAware.react"),{root:m,rootMargin:o("PolarisUA").isMobile()?h:g,children:Q})})})},a[44]=Q,a[45]=m,a[46]=Y):Y=a[46];var J;return a[47]!==X||a[48]!==Y?(J=c.jsx(r("BaseThemeProvider.react"),{config:X,children:Y}),a[47]=X,a[48]=Y,a[49]=J):J=a[49],J}function C(e,t,a,i,l,s,u){var d=o("react-compiler-runtime").c(20),m=s===void 0?!1:s,p;d[0]===Symbol.for("react.memo_cache_sentinel")?(p=new WeakMap,d[0]=p):p=d[0];var f=_(p),g;d[1]!==e.capabilities||d[2]!==e.capabilities2||d[3]!==e.capabilities3||d[4]!==e.capabilities4||d[5]!==e.capabilities5||d[6]!==e.consistentThreadFbid||d[7]!==e.folderName||d[8]!==e.threadKey||d[9]!==e.threadSubtype||d[10]!==e.threadType?(g={capabilities:e.capabilities,capabilities2:e.capabilities2,capabilities3:e.capabilities3,capabilities4:e.capabilities4,capabilities5:e.capabilities5,consistentThreadFbid:e.consistentThreadFbid,folderName:e.folderName,threadKey:e.threadKey,threadSubtype:e.threadSubtype,threadType:e.threadType},d[1]=e.capabilities,d[2]=e.capabilities2,d[3]=e.capabilities3,d[4]=e.capabilities4,d[5]=e.capabilities5,d[6]=e.consistentThreadFbid,d[7]=e.folderName,d[8]=e.threadKey,d[9]=e.threadSubtype,d[10]=e.threadType,d[11]=g):g=d[11];var h=o("useStableValue").useStableValue(g,o("IGDEqualityUtils").shallowEqualI64),C;return d[12]!==i||d[13]!==m||d[14]!==u||d[15]!==t||d[16]!==l||d[17]!==a||d[18]!==h?(C=function(o){var e=f.current.get(o.message),s=babelHelpers.extends({},o,{formatText:i,isLoggedOutPreview:m,loadThreadlineQueries:u,modal:t,onGetScrollAreaElement:l,stopHoveringRef:a,thread:h});if(!e||!r("shallowEqual")(s,e.props)){var d,p=c.jsxs(c.Fragment,{children:[n("cr:10750")!=null&&((d=o.prevMessage)==null?void 0:d.isAdminMessage)!==!0&&c.jsx(n("cr:10750"),{message:o.message,prevMessage:o.prevMessage}),c.jsx(y,babelHelpers.extends({},s))]});f.current.set(o.message,{props:s,row:p})}var _=f.current.get(o.message);if(!_)throw r("FBLogger")("ig_web").mustfixThrow("memoizedRow is null/undefined. This should never happen.");return _.row},d[12]=i,d[13]=m,d[14]=u,d[15]=t,d[16]=l,d[17]=a,d[18]=h,d[19]=C):C=d[19],C}function b(e){var t=e.scrollTop;return t>100}function v(e){var t=o("react-compiler-runtime").c(27),a=e.formatText,i=e.isLoggedOutPreview,l=e.loadThreadlineQueries,s=e.pageSize,u=e.ref,d=e.renderHeader,m=e.thread,_=a===void 0?!1:a,g=i===void 0?!1:i,h=r("useForwardedRef")(u),y=h[0],v=h[1],R=r("isThreadLevelCutoverEnabled")(),L=o("MAWThreadCutover").useIsCutoverSecureThread(m.threadKey),E=o("MAWThreadCutover").useCutoverOpenThread(m.threadKey),k=f(!1),I=k[0],T=k[1],D;t[0]===Symbol.for("react.memo_cache_sentinel")?(D=function(){var e=function(){T(document.activeElement!=null)},t=r("polarisDebounce")(e,1e3);return o("PolarisUA").isMobile()&&window.addEventListener("resize",t),(function(){o("PolarisUA").isMobile()&&window.removeEventListener("resize",t)})},t[0]=D):D=t[0];var x;t[1]!==I?(x=[I],t[1]=I,t[2]=x):x=t[2],p(D,x);var $=r("useMWPAriaLabelForMessageListGrid")(m),P=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),N=f(""),M=N[0],w=N[1],A;t[3]!==y?(A=function(){var e,t=(e=y.current)==null?void 0:e.getScrollAreaElement();return t instanceof HTMLElement?t:null},t[3]=y,t[4]=A):A=t[4];var F=A,O=C(m,M,P,_,F,g,l),B=r("useIGDTypingIndicatorOnThread")(m.threadKey),W=B.numberOfTypings,q,U;t[5]!==W||t[6]!==m.threadKey||t[7]!==m.threadType?(q=function(t){return c.jsxs(c.Fragment,{children:[n("cr:10751")!=null&&c.jsx(n("cr:10751"),{lastItem:t!=null?t:void 0,threadKey:m.threadKey}),W>0?c.jsx(r("IGDTypingIndicatorFooter.react"),{threadKey:m.threadKey,threadType:m.threadType}):null]})},U=[m.threadKey,m.threadType,W],t[5]=W,t[6]=m.threadKey,t[7]=m.threadType,t[8]=q,t[9]=U):(q=t[8],U=t[9]);var V=o("Int64Hooks").useCallbackInt64(q,U);if(R&&L&&E==null){var H;return t[10]===Symbol.for("react.memo_cache_sentinel")?(H=c.jsx(r("MWInboxThreadMessagesSpinner.react"),{}),t[10]=H):H=t[10],H}var G;t[11]===Symbol.for("react.memo_cache_sentinel")?(G=r("uuidv4")(),t[11]=G):G=t[11];var z;t[12]!==I?(z=o("useIGDAutoFitViewport").checkIGDAutoFitViewportEligibility()?void 0:function(){if(o("PolarisUA").isMobile()&&I){var e;(e=document.activeElement)==null||e.blur()}},t[12]=I,t[13]=z):z=t[13];var j;t[14]!==E||t[15]!==s||t[16]!==V||t[17]!==d||t[18]!==O||t[19]!==v||t[20]!==z||t[21]!==m?(j=c.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:c.jsx(o("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:G,children:c.jsx(r("MWPBaseMessageList.react"),{isSufficientContentLoadedAbove:b,onUserScroll:z,pageSize:s,ref:v,renderFooter:V,renderHeader:d,renderLoadingAnimation:S,renderRow:O,secondaryThread:E,thread:m})})}),t[14]=E,t[15]=s,t[16]=V,t[17]=d,t[18]=O,t[19]=v,t[20]=z,t[21]=m,t[22]=j):j=t[22];var K;return t[23]!==$||t[24]!==M||t[25]!==j?(K=c.jsx(r("MWPMessageListFocusTable.react"),{ariaLabel:$,modal:M,setModal:w,children:j}),t[23]=$,t[24]=M,t[25]=j,t[26]=K):K=t[26],K}function S(){return c.jsx(r("MWInboxThreadMessagesSpinner.react"),{delayMs:200})}S.displayName=S.name+" [from "+i.id+"]",l.default=v}),98);
__d("IGDMessageListAnchorMessageOffMsysContextProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useMemo,_=u.useState,f=c({anchor:"bottom",anchorMessageId:null,clearAnchorMessage:function(){},setAnchorMessage:function(){}});function g(e){var t=o("react-compiler-runtime").c(8),n=e.children,r=_("bottom"),a=r[0],i=r[1],l=_(null),u=l[0],c=l[1],d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=function(t){i("anchor"),c(t)},t[0]=d):d=t[0];var m=d,p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p=function(){i("bottom"),c(null)},t[1]=p):p=t[1];var g=p,h;t[2]!==a||t[3]!==u?(h={anchor:a,anchorMessageId:u,clearAnchorMessage:g,setAnchorMessage:m},t[2]=a,t[3]=u,t[4]=h):h=t[4];var y=h,C;return t[5]!==n||t[6]!==y?(C=s.jsx(f.Provider,{value:y,children:n}),t[5]=n,t[6]=y,t[7]=C):C=t[7],C}function h(){return m(f)}l.IGDMessageListAnchorMessageOffMsysContextProvider=g,l.useIGDMessageListAnchorMessageOffMsysContext=h}),98);
__d("IGDMessageListScrollAreaOffMsysContextProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({scrollAreaRef:null});function f(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=p(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={scrollAreaRef:r},t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=s.jsx(_.Provider,{value:i,children:n}),t[1]=n,t[2]=l):l=t[2],l}function g(){return d(_)}l.IGDMessageListScrollAreaOffMsysContextProvider=f,l.useIGDMessageListScrollAreaOffMsysContext=g}),98);
__d("IGDSFillOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M9 14H2a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1Zm12.999-6H16V2a1 1 0 0 0-2 0v7a1 1 0 0 0 1 1h6.999a1 1 0 0 0 0-2Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDNavigateBackToChatTabsButton.react",["fbt","IGDNavigation","IGDSFillOutline24Icon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useCallback;function m(e){var t=o("react-compiler-runtime").c(16),n=e["data-testid"],a=e.source,i=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l=r("MessengerWebUXLogger").useInteractionLogger(),u;t[0]!==a?(u={source:a},t[0]=a,t[1]=u):u=t[1];var d;t[2]!==i||t[3]!==u?(d={eventName:"igd_navigate_back_to_chat_tabs",extraData:u,flowInstanceId:i},t[2]=i,t[3]=u,t[4]=d):d=t[4];var m=r("MessengerWebUXLogger").useImpressionLoggerRef(d),p=r("useRoutePassthroughProps")(),_=o("IGDNavigation").useIGDNavigation(),f=p==null?void 0:p.entryPointUrl,g;t[5]!==f||t[6]!==i||t[7]!==l||t[8]!==_||t[9]!==a?(g=function(){l==null||l({eventName:"igd_navigate_back_to_chat_tabs_clicked",extraData:{source:a},flowInstanceId:i}),f!=null&&_.goToPageWithUrl(String(f))},t[5]=f,t[6]=i,t[7]=l,t[8]=_,t[9]=a,t[10]=g):g=t[10];var h=g,y;t[11]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx(r("IGDSFillOutline24Icon.react"),{alt:s._(/*BTDS*/"Go back"),color:"ig-primary-text"}),t[11]=y):y=t[11];var C;return t[12]!==m||t[13]!==h||t[14]!==n?(C=c.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,innerRef:m,onClick:h,children:y}),t[12]=m,t[13]=h,t[14]=n,t[15]=C):C=t[15],C}l.default=m}),226);
__d("IGDNullStateGenAILearnMoreButton.react",["fbt","IGDSText.react","JSResourceForInteraction","PolarisFastLink.react","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={learnMore:{marginInlineStart:"xdwrcjd",$$css:!0}};function d(){var e=o("react-compiler-runtime").c(6),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("IGDThreadGenAIEducationalModal.react").__setRef("IGDNullStateGenAILearnMoreButton.react"),e[0]=t):t=e[0];var n=r("useIGDSLazyDialog")(t),a=n[0],i;e[1]!==a?(i=function(){return a({})},e[1]=a,e[2]=i):i=e[2];var l;e[3]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDSText.react"),{color:"link",children:s._(/*BTDS*/"Learn more")}),e[3]=l):l=e[3];var d;return e[4]!==i?(d=u.jsx(r("PolarisFastLink.react"),{onClick:i,xstyle:c.learnMore,children:l}),e[4]=i,e[5]=d):d=e[5],d}l.default=d}),226);
__d("LSNullstateDescriptionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});i.default=e}),66);
__d("IGDNullStateDescription.react",["I64","IGDInboxGenAIStarIcon.react","IGDNullStateGenAILearnMoreButton.react","IGDSBox.react","IGDSText.react","LSIntEnum","LSNullstateDescriptionType","cr:2941","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d={nullStateContainer:{paddingTop:"xz9dl7a",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(16),a=e.descriptionText,i=e.descriptionType,l=e.threadType,m;t[0]!==l?(m=(s||(s=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(201)),t[0]=l,t[1]=m):m=t[1];var p=m,_;t[2]!==i?(_=(s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("LSNullstateDescriptionType").SUBTEXT)),t[2]=i,t[3]=_):_=t[3];var f=_,g;t[4]!==i?(g=(s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("LSNullstateDescriptionType").DEFAULT)),t[4]=i,t[5]=g):g=t[5];var h=g,y=p&&f,C=p&&h,b;t[6]!==a||t[7]!==p||t[8]!==f||t[9]!==y?(b=p&&f&&n("cr:2941")!=null?c.jsx(n("cr:2941"),{}):c.jsxs(r("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:[a,y?c.jsx(r("IGDNullStateGenAILearnMoreButton.react"),{}):null]}),t[6]=a,t[7]=p,t[8]=f,t[9]=y,t[10]=b):b=t[10];var v;t[11]!==C?(v=C?c.jsx(r("IGDInboxGenAIStarIcon.react"),{}):null,t[11]=C,t[12]=v):v=t[12];var S;return t[13]!==b||t[14]!==v?(S=c.jsxs(r("IGDSBox.react"),{direction:"row",justifyContent:"center",xstyle:d.nullStateContainer,children:[b,v]}),t[13]=b,t[14]=v,t[15]=S):S=t[15],S}l.default=m}),98);
__d("IGDPresenceUnifiedTextForThreadWrapper.react",["IGDPresenceUnifiedTextForThread.react","IGDSBox.react","IGDSText.react","MWVerticalRhythm","react","react-compiler-runtime","usePresenceUnifiedThreadPresenceState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.isMobile,a=e.thread,i=r("usePresenceUnifiedThreadPresenceState")(a),l;t[0]!==n?(l=!n&&s.jsx(r("MWVerticalRhythm"),{height:4}),t[0]=n,t[1]=l):l=t[1];var u;t[2]!==i?(u=s.jsx(r("IGDSBox.react"),{marginTop:1,children:s.jsx(r("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",weight:"normal",children:s.jsx(r("IGDPresenceUnifiedTextForThread.react"),{threadPresenceState:i})})}),t[2]=i,t[3]=u):u=t[3];var c;return t[4]!==l||t[5]!==u?(c=s.jsxs(s.Fragment,{children:[l,u]}),t[4]=l,t[5]=u,t[6]=c):c=t[6],c}l.default=u}),98);
__d("IGDProfileLinkOrFragment.react",["IGDThreadListNewMessageLoggingDataContext","LSMessagingThreadTypeUtil","MWPThreadCapabilitiesContext","MessengerWebUXLogger","PolarisFastLink.react","PolarisLinkBuilder","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={threadTextWidth:{display:"xjp7ctv",width:"xeq5yr9",$$css:!0}};function d(t){var n,a=o("react-compiler-runtime").c(24),l=t.children,s=t.thread,d=(e||(e=r("useReStore")))(),p=s.threadKey,_=s.threadType,f;a[0]!==d.tables.mi_act_mapping_table||a[1]!==p?(f=function(){return o("ReQL").fromTableAscending(d.tables.mi_act_mapping_table,["jid"]).getKeyRange(p).map(m)},a[0]=d.tables.mi_act_mapping_table,a[1]=p,a[2]=f):f=a[2];var g;a[3]!==d||a[4]!==p?(g=[d,p],a[3]=d,a[4]=p,a[5]=g):g=a[5];var h=o("ReQLSuspense").useFirst(f,g,i.id+":43"),y=h!=null?h:p,C;a[6]!==d.tables.contacts||a[7]!==y?(C=function(){return o("ReQL").fromTableAscending(d.tables.contacts,["secondaryName"]).getKeyRange(y)},a[6]=d.tables.contacts,a[7]=y,a[8]=C):C=a[8];var b;a[9]!==d||a[10]!==y?(b=[d,y],a[9]=d,a[10]=y,a[11]=b):b=a[11];var v=o("ReQLSuspense").useFirst(C,b,i.id+":51"),S=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),R=S.hasLSThreadBitOffset,L;a[12]!==R||a[13]!==_?(L=o("LSMessagingThreadTypeUtil").isArmadilloSecure(_)||R(41),a[12]=R,a[13]=_,a[14]=L):L=a[14];var E=L,k=(n=v==null?void 0:v.secondaryName)!=null?n:"",I;a[15]!==k?(I=o("PolarisLinkBuilder").buildUserLink(k),a[15]=k,a[16]=I):I=a[16];var T=I,D=r("MessengerWebUXLogger").useInteractionLogger(),x=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),$;return a[17]!==E||a[18]!==l||a[19]!==(v==null?void 0:v.secondaryName)||a[20]!==x||a[21]!==D||a[22]!==T?($=E&&(v==null?void 0:v.secondaryName)!=null?u.jsx(r("PolarisFastLink.react"),{canTabFocus:!0,href:T,onClick:function(){D==null||D({eventName:"open_profile",flowInstanceId:x})},xstyle:c.threadTextWidth,children:l}):u.jsx(u.Fragment,{children:l}),a[17]=E,a[18]=l,a[19]=v==null?void 0:v.secondaryName,a[20]=x,a[21]=D,a[22]=T,a[23]=$):$=a[23],$}function m(e){return e.jid}l.default=d}),98);
__d("MWPIsContextBannerDisabled",["LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("LSThreadBitOffset").has(47,e)}l.isContextBannerDisabled=e}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=e.renderNullStateDescription,a=e.renderThreadPicture,i=e.renderThreadTitle,l=e.thread,u=l.nullstateDescriptionText1,c=l.nullstateDescriptionText2,d=l.nullstateDescriptionText3,m=l.nullstateDescriptionType1,p=l.nullstateDescriptionType2,_=l.nullstateDescriptionType3;return o("MWPIsContextBannerDisabled").isContextBannerDisabled(l)?null:s.jsxs(s.Fragment,{children:[a==null?void 0:a(l),i==null?void 0:i(s.jsx(r("LSThreadTitle.react"),{thread:l})),u!=null&&m!=null&&(t=n==null?void 0:n(u,m))!=null?t:null,c!=null&&p!=null?n==null?void 0:n(c,p):null,d!=null&&_!=null?n==null?void 0:n(d,_):null]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("getMWV2OtherUser",["FBLogger","I64","LSMessagingThreadTypeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){if(o("LSMessagingThreadTypeUtil").isOneToOne(t)){if(n.length===1){var i=n[0],l=i[0],s=i[1];return s!=null?[l,s]:void 0}var u=n.filter(function(t){var n=t[0];return!(e||(e=o("I64"))).equal(n.contactId,a)});if(u.length===0){r("FBLogger")("messenger_web").mustfix('No participants in thread, {threadType: "%d", participantsAndContacts: %d, hasActor: %b}',(e||(e=o("I64"))).to_int32(t),n.length,n.some(function(t){var n=t[0];return(e||(e=o("I64"))).equal(n.contactId,a)}));return}var c=u[0],d=c[0],m=c[1];if(m!=null)return[d,m]}}l.default=s}),98);
__d("getOtherUserForPartnershipThread",["FBLogger","I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){if(t.length===1){var a=t[0],i=a[0],l=a[1];return l!=null?[i,l]:void 0}var s=t.filter(function(t){var r=t[0];return!(e||(e=o("I64"))).equal(r.contactId,n)});if(s.length===0){r("FBLogger")("messenger_web").mustfix("No participants in partnership thread, {participantsAndContacts: %d, hasActor: %b}",t.length,t.some(function(t){var r=t[0];return(e||(e=o("I64"))).equal(r.contactId,n)}));return}var u=s[0],c=u[0],d=u[1];if(d!=null)return[c,d]}l.default=s}),98);
__d("useMWV2OtherUser",["MWPActor.react","getMWV2OtherUser","getOtherUserForPartnershipThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=o("MWPActor.react").useActor();return n===!0?r("getOtherUserForPartnershipThread")(t,a):r("getMWV2OtherUser")(e,t,a)}l.default=e}),98);
__d("IGDThreadContextBanner.react",["fbt","CometPlaceholder.react","IGDAvatar.react","IGDNullStateDescription.react","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSVerifiedBadge.react","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerificationBadge.react","MWPThreadContextBanner.react","MWVerticalRhythm","PolarisLinkBuilder","ReQL","ReQLSuspense","react","react-compiler-runtime","useIsChatTabsDisplay","useMWV2OtherUser","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(e){var t=o("react-compiler-runtime").c(11),n=e.isPartnershipThread,a=e.participantsAndContacts,i=e.thread,l=i.threadType,u=r("useMWV2OtherUser")(l,a,n),d;t[0]!==l?(d=o("LSMessagingThreadTypeUtil").isOneToOne(l),t[0]=l,t[1]=d):d=t[1];var m=d,p;if(t[2]!==u){var _;p=u!=null?o("PolarisLinkBuilder").buildUserLink((_=u[1].secondaryName)!=null?_:""):void 0,t[2]=u,t[3]=p}else p=t[3];var f=p,g;t[4]!==i?(g=o("LSThreadBitOffset").has(41,i),t[4]=i,t[5]=g):g=t[5];var h=g,y;return t[6]!==h||t[7]!==n||t[8]!==m||t[9]!==f?(y=(h&&m||n)&&f!=null?c.jsx("div",{className:"x1gan7if x1p5oq8j",children:c.jsx(r("IGDSButton.react"),{display:"block",href:f,label:s._(/*BTDS*/"View profile"),role:"link",variant:"secondary"})}):c.jsx(r("MWVerticalRhythm"),{height:32}),t[6]=h,t[7]=n,t[8]=m,t[9]=f,t[10]=y):y=t[10],y}function m(e){var t=o("react-compiler-runtime").c(9),n=e.thread,a=e.threadTitle,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x9f619 x1onr9mi x1pic42t xh8yej3"},t[0]=l):l=t[0];var s;t[1]!==a?(s=c.jsx(r("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),t[1]=a,t[2]=s):s=t[2];var u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(r("IGDSVerifiedBadge.react"),{size:"large"}),t[3]=u):u=t[3];var d;t[4]!==n.threadKey?(d=c.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:c.jsx(r("LSVerificationBadge.react"),{icon:u,threadKey:n.threadKey})}),t[4]=n.threadKey,t[5]=d):d=t[5];var m;return t[6]!==s||t[7]!==d?(m=c.jsx("div",babelHelpers.extends({},l,{children:c.jsxs(r("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[s,d]})})),t[6]=s,t[7]=d,t[8]=m):m=t[8],m}function p(t){var n=o("react-compiler-runtime").c(28),a=t.thread,l=a.threadKey,s=a.threadSubtype,u=a.threadType,p=(e||(e=r("useReStore")))(),_;n[0]!==s?(_=o("LSMessagingThreadTypeUtil").isPartnership(s),n[0]=s,n[1]=_):_=n[1];var f=_,g=r("useIsChatTabsDisplay")(),h;n[2]!==p.tables.contacts||n[3]!==p.tables.participants||n[4]!==l?(h=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(p.tables.participants).getKeyRange(l),o("ReQL").fromTableAscending(p.tables.contacts))},n[2]=p.tables.contacts,n[3]=p.tables.participants,n[4]=l,n[5]=h):h=n[5];var y;n[6]!==p||n[7]!==l?(y=[p,l],n[6]=p,n[7]=l,n[8]=y):y=n[8];var C=o("ReQLSuspense").useArray(h,y,i.id+":162"),b;n[9]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 xdt5ytf x2b8uid"},n[9]=b):b=n[9];var v;n[10]!==u?(v=function(t,n){return c.jsx(r("IGDNullStateDescription.react"),{descriptionText:t,descriptionType:n,threadType:u})},n[10]=u,n[11]=v):v=n[11];var S;n[12]!==g?(S=function(t){return c.jsx("div",{className:"xyamay9 x1l90r2v",children:c.jsx(r("IGDAvatar.react"),{groupThreadSize:g?"XL":"XXL",size:g?"largeXL":"XXL",thread:t})})},n[12]=g,n[13]=S):S=n[13];var R;n[14]!==a?(R=function(t){return c.jsx(m,{thread:a,threadTitle:t})},n[14]=a,n[15]=R):R=n[15];var L;n[16]!==v||n[17]!==S||n[18]!==R||n[19]!==a?(L=c.jsx(r("MWPThreadContextBanner.react"),{renderNullStateDescription:v,renderThreadPicture:S,renderThreadTitle:R,thread:a}),n[16]=v,n[17]=S,n[18]=R,n[19]=a,n[20]=L):L=n[20];var E;n[21]!==f||n[22]!==C||n[23]!==a?(E=C.length>0&&c.jsx(d,{isPartnershipThread:f,participantsAndContacts:C,thread:a}),n[21]=f,n[22]=C,n[23]=a,n[24]=E):E=n[24];var k;return n[25]!==L||n[26]!==E?(k=c.jsxs("div",babelHelpers.extends({},b,{children:[L,E]})),n[25]=L,n[26]=E,n[27]=k):k=n[27],k}l.default=p}),226);
__d("IGDThreadContextBannerWithKeyboardFocus.react",["fbt","IGDThreadContextBanner.react","MWPMessageListColumn.react","MWPMessageListFocusableTableRow.react","MWV2MessageListIsRowModalContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.startTransition,m=c.useCallback,p=c.useState,_="igdcontextbanner";function f(e){var t=o("react-compiler-runtime").c(13),n=e.thread,a=p(!1),i=a[0],l=a[1],c=p(!1),m=c[0],f=c[1],g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=function(t){return d(function(){return l(t)})},t[0]=g):g=t[0];var h=g,y=o("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),C=y.modal,b=C===_,v;t[1]===Symbol.for("react.memo_cache_sentinel")?(v=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),t[1]=v):v=t[1];var S;t[2]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"Conversation details"),t[2]=S):S=t[2];var R;t[3]!==n?(R=u.jsx(r("IGDThreadContextBanner.react"),{thread:n}),t[3]=n,t[4]=R):R=t[4];var L;t[5]!==m||t[6]!==i||t[7]!==b||t[8]!==R?(L=u.jsx(r("MWPMessageListFocusableTableRow.react"),{accessibilityDialogTitleText:S,checkIfContentsAreTabbable:!0,focusCellOnRender:!1,isDialogOpened:m,isFocused:i,isModal:b,nameForModality:_,setFocused:h,setIsDialogOpened:f,showButtonInsideRow:!0,children:R}),t[5]=m,t[6]=i,t[7]=b,t[8]=R,t[9]=L):L=t[9];var E;t[10]===Symbol.for("react.memo_cache_sentinel")?(E=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}),t[10]=E):E=t[10];var k;return t[11]!==L?(k=u.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[v,L,E]}),t[11]=L,t[12]=k):k=t[12],k}l.default=f}),226);
__d("IGDThreadDetailMainViewLayout.react",["IGDInboxInfoContextProvider","IGDSBox.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={main:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},mainHidden:{visibility:"xlshs6z",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=u(o("IGDInboxInfoContextProvider").IGDInboxInfoContext),i=a.shouldShowInfo,l;t[0]!==i?(l=o("PolarisUA").isMobile()&&i,t[0]=i,t[1]=l):l=t[1];var d=!l,m=!d&&c.mainHidden,p;t[2]!==m?(p=[c.main,m],t[2]=m,t[3]=p):p=t[3];var _;return t[4]!==n||t[5]!==p?(_=s.jsx(r("IGDSBox.react"),{flex:"grow",xstyle:p,children:n}),t[4]=n,t[5]=p,t[6]=_):_=t[6],_}l.default=d}),98);
__d("IGDThreadDetailMainView_SlideThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDThreadDetailMainView_SlideThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerForCannes_Slide"}],type:"SlideThread",abstractKey:null};a.exports=e}),null);
__d("useIGDMessageListJumpToMostRecentMessageOffMsys",["IGDMessageListAnchorMessageOffMsysContextProvider.react","IGDMessageListScrollAreaOffMsysContextProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(4),t=o("IGDMessageListScrollAreaOffMsysContextProvider.react").useIGDMessageListScrollAreaOffMsysContext(),n=t.scrollAreaRef,r=o("IGDMessageListAnchorMessageOffMsysContextProvider.react").useIGDMessageListAnchorMessageOffMsysContext(),a=r.anchorMessageId,i=r.clearAnchorMessage,l;e[0]!==a||e[1]!==i||e[2]!==n?(l=function(){var e=n==null?void 0:n.current;e!=null&&(a!=null&&i(),e.scrollTo(0,0))},e[0]=a,e[1]=i,e[2]=n,e[3]=l):l=e[3];var s=l;return s}l.default=u}),98);
__d("IGDThreadDetailMainView.react",["CometErrorBoundary.react","CometPageletWithDiv.react","CometPlaceholder.react","CometRelay","IGDComposerCommonPlaceholder.react","IGDComposerForCannes.react","IGDConnectionStatusCardOffMsys.react","IGDInboxHeaderOffMsysPlaceholder.react","IGDOffMsysComposerUtils","IGDReplyContext.react","IGDThreadDetailMainViewLayout.react","IGDThreadDetailMainView_SlideThread.graphql","LSThreadBitOffset","MWPReplyContext.react","MWV2FileDropzone.react","PolarisSuspenseWithErrorBoundary.react","justknobx","react","react-compiler-runtime","useIGDMessageListJumpToMostRecentMessageOffMsys","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext;function p(t){var a=o("react-compiler-runtime").c(26),l=t.featureLimitsQueryRef,s=t.inboxHeader,c=t.isOptimisticThread,d=t.messageList,p=t.messageListRef,f=t.slideThreadRef,g=t.thread,h=c===void 0?!1:c,y=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDThreadDetailMainView_SlideThread.graphql"),f),C=r("useIGDMessageListJumpToMostRecentMessageOffMsys")(),b;a[0]!==C||a[1]!==p?(b=function(){var e;(e=p.current)==null||e.jumpToMostRecentMessage(),C()},a[0]=C,a[1]=p,a[2]=b):b=a[2];var v=b,S=m(o("MWPReplyContext.react").MWPReplyContext),R=S.reply,L=o("IGDReplyContext.react").useIGDReplyContext(),E=r("useShouldShowTextOnlyComposerForInvite")(g.threadKey,g.threadType),k;a[3]===Symbol.for("react.memo_cache_sentinel")?(k=r("justknobx")._("4855"),a[3]=k):k=a[3];var I=k,T;a[4]===Symbol.for("react.memo_cache_sentinel")?(T=o("IGDOffMsysComposerUtils").enableIGDOffMsysComposer()?u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:78,showSpinner:!0}):u.jsx(r("IGDComposerCommonPlaceholder.react"),{height:128}),a[4]=T):T=a[4];var D;if(a[5]!==v||a[6]!==l||a[7]!==h||a[8]!==y||a[9]!==g){var x=u.jsx(r("PolarisSuspenseWithErrorBoundary.react"),{loadingRenderer:T,name:i.id,children:u.jsx(r("IGDComposerForCannes.react"),{afterSendMessage:v,featureLimitsQueryRef:l,isOptimisticThread:h,slideThreadRef:y,thread:g})});D=I?u.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"IGDComposerForCannes",children:x}):x,a[5]=v,a[6]=l,a[7]=h,a[8]=y,a[9]=g,a[10]=D}else D=a[10];var $=D,P;a[11]===Symbol.for("react.memo_cache_sentinel")?(P=u.jsx(r("IGDInboxHeaderOffMsysPlaceholder.react"),{}),a[11]=P):P=a[11];var N;a[12]!==s?(N=u.jsx(r("CometPlaceholder.react"),{fallback:P,name:i.id,children:u.jsx(r("CometErrorBoundary.react"),{fallback:_,children:s})}),a[12]=s,a[13]=N):N=a[13];var M;a[14]===Symbol.for("react.memo_cache_sentinel")?(M=u.jsx(r("IGDConnectionStatusCardOffMsys.react"),{}),a[14]=M):M=a[14];var w=E||R!=null||L!=null,A;a[15]!==g?(A=o("LSThreadBitOffset").has(56,g),a[15]=g,a[16]=A):A=a[16];var F=!A,O;a[17]!==$||a[18]!==d||a[19]!==F||a[20]!==w||a[21]!==g?(O=u.jsxs(o("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:w,isMediaOnly:F,thread:g,children:[d,$]}),a[17]=$,a[18]=d,a[19]=F,a[20]=w,a[21]=g,a[22]=O):O=a[22];var B;return a[23]!==O||a[24]!==N?(B=u.jsxs(r("IGDThreadDetailMainViewLayout.react"),{children:[N,M,O]}),a[23]=O,a[24]=N,a[25]=B):B=a[25],B}function _(){return u.jsx("span",{})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("IGDThreadHeaderGenAISubtitle.react",["fbt","IGDInboxGenAIStarIcon.react","IGDSBox.react","IGDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(7),n=e.nullstateDescriptionText,a;t[0]!==n?(a=n!=null?n:s._(/*BTDS*/"AI"),t[0]=n,t[1]=a):a=t[1];var i;t[2]!==a?(i=u.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a}),t[2]=a,t[3]=i):i=t[3];var l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDInboxGenAIStarIcon.react"),{}),t[4]=l):l=t[4];var c;return t[5]!==i?(c=u.jsxs(r("IGDSBox.react"),{alignSelf:"start",direction:"row",marginTop:1,children:[i,l]}),t[5]=i,t[6]=c):c=t[6],c}l.default=c}),226);
__d("IGDThreadHeaderTooltipWrapper.react",["IGDLSThreadHeaderTooltipWrapper.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.thread,i=a.threadName;if(i==null){var l;return t[0]!==n||t[1]!==a?(l=s.jsx(r("IGDLSThreadHeaderTooltipWrapper.react"),{children:n,thread:a}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}var u;return t[3]!==n||t[4]!==i?(u=s.jsx("span",{title:i,children:n}),t[3]=n,t[4]=i,t[5]=u):u=t[5],u}l.default=u}),98);
__d("IGDThreadSubTitle.react",["I64","IGDBroadcastChannelThreadHeader.react","IGDPresenceUnifiedTextForThreadWrapper.react","IGDSText.react","IGDThreadHeaderGenAISubtitle.react","LSIntEnum","MWCMThreadTypes.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(11),n=e.isMobile,a=e.thread,i=a.threadSubtype!=null?o("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype):!1,l=(s||(s=o("I64"))).equal(a.threadType,(u||(u=o("LSIntEnum"))).ofNumber(201));if(i){var d;t[0]!==a.memberCount?(d=a.memberCount!=null?(s||(s=o("I64"))).to_int32(a.memberCount):0,t[0]=a.memberCount,t[1]=d):d=t[1];var m=d,p;return t[2]!==n||t[3]!==m||t[4]!==a?(p=c.jsx(r("IGDBroadcastChannelThreadHeader.react"),{isMobile:n,memberCount:m,pauseThreadTimestamp:a.pauseThreadTimestamp,thread:a}),t[2]=n,t[3]=m,t[4]=a,t[5]=p):p=t[5],p}if(l){var _;return t[6]!==a.nullstateDescriptionText1?(_=c.jsx(r("IGDThreadHeaderGenAISubtitle.react"),{nullstateDescriptionText:a.nullstateDescriptionText1}),t[6]=a.nullstateDescriptionText1,t[7]=_):_=t[7],_}var f;return t[8]!==n||t[9]!==a?(f=c.jsx(r("IGDSText.react"),{color:"secondaryText",children:c.jsx(r("IGDPresenceUnifiedTextForThreadWrapper.react"),{isMobile:n,thread:a})}),t[8]=n,t[9]=a,t[10]=f):f=t[10],f}l.default=d}),98);
__d("IGDThreadTitleAndPresence.react",["IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","IGDThreadHeaderTooltipWrapper.react","IGDThreadSubTitle.react","LSThreadTitle.react","LSVerificationBadge.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={threadTextWidth:{maxWidth:"x193iq5w",width:"xeq5yr9",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(18),n=e.isMobile,a=e.thread,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],t[0]=i):i=t[0];var l;t[1]!==a?(l=s.jsx(r("LSThreadTitle.react"),{thread:a,transforms:i}),t[1]=a,t[2]=l):l=t[2];var c;t[3]!==l||t[4]!==a?(c=s.jsx(r("IGDSText.react"),{color:"primaryText",elementType:"h2",maxLines:1,size:"label",weight:"semibold",children:s.jsx(r("IGDThreadHeaderTooltipWrapper.react"),{thread:a,children:l})}),t[3]=l,t[4]=a,t[5]=c):c=t[5];var d;t[6]===Symbol.for("react.memo_cache_sentinel")?(d=s.jsx(r("IGDSVerifiedBadge.react"),{size:"small"}),t[6]=d):d=t[6];var m;t[7]!==a.threadKey?(m=s.jsx(r("LSVerificationBadge.react"),{icon:d,threadKey:a.threadKey}),t[7]=a.threadKey,t[8]=m):m=t[8];var p;t[9]!==c||t[10]!==m?(p=s.jsxs(r("IGDSBox.react"),{alignItems:"end",direction:"row",children:[c,m]}),t[9]=c,t[10]=m,t[11]=p):p=t[11];var _;t[12]!==n||t[13]!==a?(_=s.jsx(r("IGDThreadSubTitle.react"),{isMobile:n,thread:a}),t[12]=n,t[13]=a,t[14]=_):_=t[14];var f;return t[15]!==p||t[16]!==_?(f=s.jsxs(r("IGDSBox.react"),{direction:"column",xstyle:u.threadTextWidth,children:[p,_]}),t[15]=p,t[16]=_,t[17]=f):f=t[17],f}l.default=c}),98);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.senderUnsendNUXEnabled;return s.jsxs(s.Fragment,{children:[n("cr:2884")==null?null:s.jsx(n("cr:2884"),{}),n("cr:4186")!=null&&t?s.jsx(n("cr:4186"),{}):null]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("usePresenceUnifiedIsThreadActive",["FBLogger","I64","Int64Hooks","MWPActor.react","PresenceCommonPresenceCommonTypes","ReQL","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useState;function m(e){var t=r("useAsyncReStore")(),a=o("MWPActor.react").useActor(),i=o("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),l=o("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext(),u=d(!1),m=u[0],p=u[1],_=o("Int64Hooks").useCallbackInt64(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield t;return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.participants,["contactId"]).getKeyRange(e).filter(function(e){var t=e.contactId;return!(s||(s=o("I64"))).equal(t,a)}).map(function(e){var t=e.contactId;return(s||(s=o("I64"))).to_string(t)}))}),[a,t,e]);return c(function(){var e=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield _();l==null||l.addAdditionalContacts(e)});return function(){return e.apply(this,arguments)}})();r("promiseDone")(e())},[]),c(function(){var e=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(l==null){r("FBLogger")("messenger_presence_web").warn("usePresenceUnifiedIsThreadActive must have a backing PresenceUnifiedClient");return}var e=yield _(),t=e.some(function(e){var t;return((t=i.get(e))==null?void 0:t.presenceStatus)===o("PresenceCommonPresenceCommonTypes").PresenceStatus.Active});p(t)});return function(){return e.apply(this,arguments)}})();r("promiseDone")(e())},[_,l,i]),m}l.default=m}),98);